(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[233],{435(Ee,s,y){"use strict";Ee.exports=y(371)},371(Ee,s,y){"use strict";var u=this&&this.__createBinding||(Object.create?function(P,g,A,b){void 0===b&&(b=A);var w=Object.getOwnPropertyDescriptor(g,A);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[A]}}),Object.defineProperty(P,b,w)}:function(P,g,A,b){void 0===b&&(b=A),P[b]=g[A]}),L=this&&this.__exportStar||function(P,g){for(var A in P)"default"!==A&&!Object.prototype.hasOwnProperty.call(g,A)&&u(g,P,A)};Object.defineProperty(s,"__esModule",{value:!0}),s.createMessageConnection=s.BrowserMessageWriter=s.BrowserMessageReader=void 0,y(6915).default.install();const m=y(5309);L(y(5309),s),s.BrowserMessageReader=class f extends m.AbstractMessageReader{constructor(g){super(),this._onData=new m.Emitter,this._messageListener=A=>{this._onData.fire(A.data)},g.addEventListener("error",A=>this.fireError(A)),g.onmessage=this._messageListener}listen(g){return this._onData.event(g)}},s.BrowserMessageWriter=class v extends m.AbstractMessageWriter{constructor(g){super(),this.port=g,this.errorCount=0,g.addEventListener("error",A=>this.fireError(A))}write(g){try{return this.port.postMessage(g),Promise.resolve()}catch(A){return this.handleError(A,g),Promise.reject(A)}}handleError(g,A){this.errorCount++,this.fireError(g,A,this.errorCount)}end(){}},s.createMessageConnection=function D(P,g,A,b){return void 0===A&&(A=m.NullLogger),m.ConnectionStrategy.is(b)&&(b={connectionStrategy:b}),(0,m.createMessageConnection)(P,g,A,b)}},6915(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const u=y(5309);class L extends u.AbstractMessageBuffer{constructor(g="utf-8"){super(g),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return L.emptyBuffer}fromString(g,A){return(new TextEncoder).encode(g)}toString(g,A){return"ascii"===A?this.asciiDecoder.decode(g):new TextDecoder(A).decode(g)}asNative(g,A){return void 0===A?g:g.slice(0,A)}allocNative(g){return new Uint8Array(g)}}L.emptyBuffer=new Uint8Array(0);class ${constructor(g){this.socket=g,this._onData=new u.Emitter,this._messageListener=A=>{A.data.arrayBuffer().then(w=>{this._onData.fire(new Uint8Array(w))},()=>{(0,u.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(g){return this.socket.addEventListener("close",g),u.Disposable.create(()=>this.socket.removeEventListener("close",g))}onError(g){return this.socket.addEventListener("error",g),u.Disposable.create(()=>this.socket.removeEventListener("error",g))}onEnd(g){return this.socket.addEventListener("end",g),u.Disposable.create(()=>this.socket.removeEventListener("end",g))}onData(g){return this._onData.event(g)}}class m{constructor(g){this.socket=g}onClose(g){return this.socket.addEventListener("close",g),u.Disposable.create(()=>this.socket.removeEventListener("close",g))}onError(g){return this.socket.addEventListener("error",g),u.Disposable.create(()=>this.socket.removeEventListener("error",g))}onEnd(g){return this.socket.addEventListener("end",g),u.Disposable.create(()=>this.socket.removeEventListener("end",g))}write(g,A){if("string"==typeof g){if(void 0!==A&&"utf-8"!==A)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${A}`);this.socket.send(g)}else this.socket.send(g);return Promise.resolve()}end(){this.socket.close()}}const f=new TextEncoder,v=Object.freeze({messageBuffer:Object.freeze({create:P=>new L(P)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(P,g)=>{if("utf-8"!==g.charset)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${g.charset}`);return Promise.resolve(f.encode(JSON.stringify(P,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(P,g)=>{if(!(P instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(g.charset).decode(P)))}})}),stream:Object.freeze({asReadableStream:P=>new $(P),asWritableStream:P=>new m(P)}),console,timer:Object.freeze({setTimeout(P,g,...A){const b=setTimeout(P,g,...A);return{dispose:()=>clearTimeout(b)}},setImmediate(P,...g){const A=setTimeout(P,0,...g);return{dispose:()=>clearTimeout(A)}},setInterval(P,g,...A){const b=setInterval(P,g,...A);return{dispose:()=>clearInterval(b)}}})});function D(){return v}(D||(D={})).install=function g(){u.RAL.install(v)},s.default=D},5309(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ProgressType=s.ProgressToken=s.createMessageConnection=s.NullLogger=s.ConnectionOptions=s.ConnectionStrategy=s.AbstractMessageBuffer=s.WriteableStreamMessageWriter=s.AbstractMessageWriter=s.MessageWriter=s.ReadableStreamMessageReader=s.AbstractMessageReader=s.MessageReader=s.SharedArrayReceiverStrategy=s.SharedArraySenderStrategy=s.CancellationToken=s.CancellationTokenSource=s.Emitter=s.Event=s.Disposable=s.LRUCache=s.Touch=s.LinkedMap=s.ParameterStructures=s.NotificationType9=s.NotificationType8=s.NotificationType7=s.NotificationType6=s.NotificationType5=s.NotificationType4=s.NotificationType3=s.NotificationType2=s.NotificationType1=s.NotificationType0=s.NotificationType=s.ErrorCodes=s.ResponseError=s.RequestType9=s.RequestType8=s.RequestType7=s.RequestType6=s.RequestType5=s.RequestType4=s.RequestType3=s.RequestType2=s.RequestType1=s.RequestType0=s.RequestType=s.Message=s.RAL=void 0,s.MessageStrategy=s.CancellationStrategy=s.CancellationSenderStrategy=s.CancellationReceiverStrategy=s.ConnectionError=s.ConnectionErrors=s.LogTraceNotification=s.SetTraceNotification=s.TraceFormat=s.TraceValues=s.Trace=void 0;const u=y(8981);Object.defineProperty(s,"Message",{enumerable:!0,get:function(){return u.Message}}),Object.defineProperty(s,"RequestType",{enumerable:!0,get:function(){return u.RequestType}}),Object.defineProperty(s,"RequestType0",{enumerable:!0,get:function(){return u.RequestType0}}),Object.defineProperty(s,"RequestType1",{enumerable:!0,get:function(){return u.RequestType1}}),Object.defineProperty(s,"RequestType2",{enumerable:!0,get:function(){return u.RequestType2}}),Object.defineProperty(s,"RequestType3",{enumerable:!0,get:function(){return u.RequestType3}}),Object.defineProperty(s,"RequestType4",{enumerable:!0,get:function(){return u.RequestType4}}),Object.defineProperty(s,"RequestType5",{enumerable:!0,get:function(){return u.RequestType5}}),Object.defineProperty(s,"RequestType6",{enumerable:!0,get:function(){return u.RequestType6}}),Object.defineProperty(s,"RequestType7",{enumerable:!0,get:function(){return u.RequestType7}}),Object.defineProperty(s,"RequestType8",{enumerable:!0,get:function(){return u.RequestType8}}),Object.defineProperty(s,"RequestType9",{enumerable:!0,get:function(){return u.RequestType9}}),Object.defineProperty(s,"ResponseError",{enumerable:!0,get:function(){return u.ResponseError}}),Object.defineProperty(s,"ErrorCodes",{enumerable:!0,get:function(){return u.ErrorCodes}}),Object.defineProperty(s,"NotificationType",{enumerable:!0,get:function(){return u.NotificationType}}),Object.defineProperty(s,"NotificationType0",{enumerable:!0,get:function(){return u.NotificationType0}}),Object.defineProperty(s,"NotificationType1",{enumerable:!0,get:function(){return u.NotificationType1}}),Object.defineProperty(s,"NotificationType2",{enumerable:!0,get:function(){return u.NotificationType2}}),Object.defineProperty(s,"NotificationType3",{enumerable:!0,get:function(){return u.NotificationType3}}),Object.defineProperty(s,"NotificationType4",{enumerable:!0,get:function(){return u.NotificationType4}}),Object.defineProperty(s,"NotificationType5",{enumerable:!0,get:function(){return u.NotificationType5}}),Object.defineProperty(s,"NotificationType6",{enumerable:!0,get:function(){return u.NotificationType6}}),Object.defineProperty(s,"NotificationType7",{enumerable:!0,get:function(){return u.NotificationType7}}),Object.defineProperty(s,"NotificationType8",{enumerable:!0,get:function(){return u.NotificationType8}}),Object.defineProperty(s,"NotificationType9",{enumerable:!0,get:function(){return u.NotificationType9}}),Object.defineProperty(s,"ParameterStructures",{enumerable:!0,get:function(){return u.ParameterStructures}});const L=y(1772);Object.defineProperty(s,"LinkedMap",{enumerable:!0,get:function(){return L.LinkedMap}}),Object.defineProperty(s,"LRUCache",{enumerable:!0,get:function(){return L.LRUCache}}),Object.defineProperty(s,"Touch",{enumerable:!0,get:function(){return L.Touch}});const $=y(9175);Object.defineProperty(s,"Disposable",{enumerable:!0,get:function(){return $.Disposable}});const m=y(2240);Object.defineProperty(s,"Event",{enumerable:!0,get:function(){return m.Event}}),Object.defineProperty(s,"Emitter",{enumerable:!0,get:function(){return m.Emitter}});const f=y(3302);Object.defineProperty(s,"CancellationTokenSource",{enumerable:!0,get:function(){return f.CancellationTokenSource}}),Object.defineProperty(s,"CancellationToken",{enumerable:!0,get:function(){return f.CancellationToken}});const v=y(3976);Object.defineProperty(s,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return v.SharedArraySenderStrategy}}),Object.defineProperty(s,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return v.SharedArrayReceiverStrategy}});const D=y(945);Object.defineProperty(s,"MessageReader",{enumerable:!0,get:function(){return D.MessageReader}}),Object.defineProperty(s,"AbstractMessageReader",{enumerable:!0,get:function(){return D.AbstractMessageReader}}),Object.defineProperty(s,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return D.ReadableStreamMessageReader}});const P=y(7757);Object.defineProperty(s,"MessageWriter",{enumerable:!0,get:function(){return P.MessageWriter}}),Object.defineProperty(s,"AbstractMessageWriter",{enumerable:!0,get:function(){return P.AbstractMessageWriter}}),Object.defineProperty(s,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return P.WriteableStreamMessageWriter}});const g=y(3032);Object.defineProperty(s,"AbstractMessageBuffer",{enumerable:!0,get:function(){return g.AbstractMessageBuffer}});const A=y(6909);Object.defineProperty(s,"ConnectionStrategy",{enumerable:!0,get:function(){return A.ConnectionStrategy}}),Object.defineProperty(s,"ConnectionOptions",{enumerable:!0,get:function(){return A.ConnectionOptions}}),Object.defineProperty(s,"NullLogger",{enumerable:!0,get:function(){return A.NullLogger}}),Object.defineProperty(s,"createMessageConnection",{enumerable:!0,get:function(){return A.createMessageConnection}}),Object.defineProperty(s,"ProgressToken",{enumerable:!0,get:function(){return A.ProgressToken}}),Object.defineProperty(s,"ProgressType",{enumerable:!0,get:function(){return A.ProgressType}}),Object.defineProperty(s,"Trace",{enumerable:!0,get:function(){return A.Trace}}),Object.defineProperty(s,"TraceValues",{enumerable:!0,get:function(){return A.TraceValues}}),Object.defineProperty(s,"TraceFormat",{enumerable:!0,get:function(){return A.TraceFormat}}),Object.defineProperty(s,"SetTraceNotification",{enumerable:!0,get:function(){return A.SetTraceNotification}}),Object.defineProperty(s,"LogTraceNotification",{enumerable:!0,get:function(){return A.LogTraceNotification}}),Object.defineProperty(s,"ConnectionErrors",{enumerable:!0,get:function(){return A.ConnectionErrors}}),Object.defineProperty(s,"ConnectionError",{enumerable:!0,get:function(){return A.ConnectionError}}),Object.defineProperty(s,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return A.CancellationReceiverStrategy}}),Object.defineProperty(s,"CancellationSenderStrategy",{enumerable:!0,get:function(){return A.CancellationSenderStrategy}}),Object.defineProperty(s,"CancellationStrategy",{enumerable:!0,get:function(){return A.CancellationStrategy}}),Object.defineProperty(s,"MessageStrategy",{enumerable:!0,get:function(){return A.MessageStrategy}});const b=y(362);s.RAL=b.default},3302(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CancellationTokenSource=s.CancellationToken=void 0;const u=y(362),L=y(4221),$=y(2240);var m,P;(P=m||(s.CancellationToken=m={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$.Event.None}),P.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$.Event.None}),P.is=function g(A){const b=A;return b&&(b===P.None||b===P.Cancelled||L.boolean(b.isCancellationRequested)&&!!b.onCancellationRequested)};const f=Object.freeze(function(P,g){const A=(0,u.default)().timer.setTimeout(P.bind(g),0);return{dispose(){A.dispose()}}});class v{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?f:(this._emitter||(this._emitter=new $.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}s.CancellationTokenSource=class D{get token(){return this._token||(this._token=new v),this._token}cancel(){this._token?this._token.cancel():this._token=m.Cancelled}dispose(){this._token?this._token instanceof v&&this._token.dispose():this._token=m.None}}},6909(Ee,s,y){"use strict";var u=y(5386).default;Object.defineProperty(s,"__esModule",{value:!0}),s.createMessageConnection=s.ConnectionOptions=s.MessageStrategy=s.CancellationStrategy=s.CancellationSenderStrategy=s.CancellationReceiverStrategy=s.RequestCancellationReceiverStrategy=s.IdCancellationReceiverStrategy=s.ConnectionStrategy=s.ConnectionError=s.ConnectionErrors=s.LogTraceNotification=s.SetTraceNotification=s.TraceFormat=s.TraceValues=s.Trace=s.NullLogger=s.ProgressType=s.ProgressToken=void 0;const L=y(362),$=y(4221),m=y(8981),f=y(1772),v=y(2240),D=y(3302);var P,g,A,w;(P||(P={})).type=new m.NotificationType("$/cancelRequest"),(g||(s.ProgressToken=g={})).is=function K(W){return"string"==typeof W||"number"==typeof W},function(F){F.type=new m.NotificationType("$/progress")}(A||(A={})),s.ProgressType=class b{constructor(){}},function(F){F.is=function K(W){return $.func(W)}}(w||(w={})),s.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var _=function(F){return F[F.Off=0]="Off",F[F.Messages=1]="Messages",F[F.Compact=2]="Compact",F[F.Verbose=3]="Verbose",F}(_||(s.Trace=_={})),I=function(F){return F.Off="off",F.Messages="messages",F.Compact="compact",F.Verbose="verbose",F}(I||(s.TraceValues=I={}));!function(F){F.fromString=function K(J){if(!$.string(J))return F.Off;switch(J=J.toLowerCase()){case"off":default:return F.Off;case"messages":return F.Messages;case"compact":return F.Compact;case"verbose":return F.Verbose}},F.toString=function W(J){switch(J){case F.Off:return"off";case F.Messages:return"messages";case F.Compact:return"compact";case F.Verbose:return"verbose";default:return"off"}}}(_||(s.Trace=_={}));var N,Z,j=function(F){return F.Text="text",F.JSON="json",F}(j||(s.TraceFormat=j={}));!function(F){F.fromString=function K(W){return $.string(W)&&"json"===(W=W.toLowerCase())?F.JSON:F.Text}}(j||(s.TraceFormat=j={})),function(F){F.type=new m.NotificationType("$/setTrace")}(N||(s.SetTraceNotification=N={})),function(F){F.type=new m.NotificationType("$/logTrace")}(Z||(s.LogTraceNotification=Z={}));var Y,de,Re,ue,Ge,Le,Je,Qe,re=function(F){return F[F.Closed=1]="Closed",F[F.Disposed=2]="Disposed",F[F.AlreadyListening=3]="AlreadyListening",F}(re||(s.ConnectionErrors=re={}));class te extends Error{constructor(K,W){super(W),this.code=K,Object.setPrototypeOf(this,te.prototype)}}s.ConnectionError=te,function(F){F.is=function K(W){return W&&$.func(W.cancelUndispatched)}}(Y||(s.ConnectionStrategy=Y={})),function(F){F.is=function K(W){const J=W;return J&&(void 0===J.kind||"id"===J.kind)&&$.func(J.createCancellationTokenSource)&&(void 0===J.dispose||$.func(J.dispose))}}(de||(s.IdCancellationReceiverStrategy=de={})),function(F){F.is=function K(W){const J=W;return J&&"request"===J.kind&&$.func(J.createCancellationTokenSource)&&(void 0===J.dispose||$.func(J.dispose))}}(Re||(s.RequestCancellationReceiverStrategy=Re={})),function(F){F.Message=Object.freeze({createCancellationTokenSource:W=>new D.CancellationTokenSource}),F.is=function K(W){return de.is(W)||Re.is(W)}}(ue||(s.CancellationReceiverStrategy=ue={})),function(F){F.Message=Object.freeze({sendCancellation:(W,J)=>W.sendNotification(P.type,{id:J}),cleanup(W){}}),F.is=function K(W){const J=W;return J&&$.func(J.sendCancellation)&&$.func(J.cleanup)}}(Ge||(s.CancellationSenderStrategy=Ge={})),function(F){F.Message=Object.freeze({receiver:ue.Message,sender:Ge.Message}),F.is=function K(W){const J=W;return J&&ue.is(J.receiver)&&Ge.is(J.sender)}}(Le||(s.CancellationStrategy=Le={})),function(F){F.is=function K(W){return W&&$.func(W.handleMessage)}}(Je||(s.MessageStrategy=Je={})),function(F){F.is=function K(W){const J=W;return J&&(Le.is(J.cancellationStrategy)||Y.is(J.connectionStrategy)||Je.is(J.messageStrategy))}}(Qe||(s.ConnectionOptions=Qe={}));var et=function(F){return F[F.New=1]="New",F[F.Listening=2]="Listening",F[F.Closed=3]="Closed",F[F.Disposed=4]="Disposed",F}(et||{});s.createMessageConnection=function V(F,K,W,J){const ie=void 0!==W?W:s.NullLogger;let X=0,oe=0,le=0;const Ce="2.0";let pe;const ye=new Map;let Me;const Oe=new Map,Fe=new Map;let We,Pe,ze=new f.LinkedMap,De=new Map,Be=new Set,x=new Map,ne=_.Off,me=j.Text,ve=et.New;const ut=new v.Emitter,nt=new v.Emitter,Rt=new v.Emitter,Pt=new v.Emitter,wt=new v.Emitter,yt=J&&J.cancellationStrategy?J.cancellationStrategy:Le.Message;function $t(O){if(null===O)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+O.toString()}function Ut(O){}function Tt(){return ve===et.Listening}function Ct(){return ve===et.Closed}function Gt(){return ve===et.Disposed}function lt(){(ve===et.New||ve===et.Listening)&&(ve=et.Closed,nt.fire(void 0))}function zt(){We||0===ze.size||(We=(0,L.default)().timer.setImmediate(()=>{We=void 0,function Kt(){if(0===ze.size)return;const O=ze.shift();try{const se=J?.messageStrategy;Je.is(se)?se.handleMessage(O,Bt):Bt(O)}finally{zt()}}()}))}function Bt(O){m.Message.isRequest(O)?function Yt(O){if(Gt())return;function se(xe,He,qe){const _e={jsonrpc:Ce,id:O.id};xe instanceof m.ResponseError?_e.error=xe.toJson():_e.result=void 0===xe?null:xe,pt(_e,He,qe),K.write(_e).catch(()=>ie.error("Sending response failed."))}function Te(xe,He,qe){const _e={jsonrpc:Ce,id:O.id,error:xe.toJson()};pt(_e,He,qe),K.write(_e).catch(()=>ie.error("Sending response failed."))}!function Xt(O){if(ne!==_.Off&&Pe)if(me===j.Text){let se;(ne===_.Verbose||ne===_.Compact)&&O.params&&(se=`Params: ${It(O.params)}\n\n`),Pe.log(`Received request '${O.method} - (${O.id})'.`,se)}else q("receive-request",O)}(O);const we=ye.get(O.method);let Xe,it;we&&(Xe=we.type,it=we.handler);const ke=Date.now();if(it||pe){const xe=O.id??String(Date.now()),He=de.is(yt.receiver)?yt.receiver.createCancellationTokenSource(xe):yt.receiver.createCancellationTokenSource(O);null!==O.id&&Be.has(O.id)&&He.cancel(),null!==O.id&&x.set(xe,He);try{let qe;if(it)if(void 0===O.params){if(void 0!==Xe&&0!==Xe.numberOfParams)return void Te(new m.ResponseError(m.ErrorCodes.InvalidParams,`Request ${O.method} defines ${Xe.numberOfParams} params but received none.`),O.method,ke);qe=it(He.token)}else if(Array.isArray(O.params)){if(void 0!==Xe&&Xe.parameterStructures===m.ParameterStructures.byName)return void Te(new m.ResponseError(m.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by name but received parameters by position`),O.method,ke);qe=it(...O.params,He.token)}else{if(void 0!==Xe&&Xe.parameterStructures===m.ParameterStructures.byPosition)return void Te(new m.ResponseError(m.ErrorCodes.InvalidParams,`Request ${O.method} defines parameters by position but received parameters by name`),O.method,ke);qe=it(O.params,He.token)}else pe&&(qe=pe(O.method,O.params,He.token));qe?qe.then?qe.then(ce=>{x.delete(xe),se(ce,O.method,ke)},ce=>{x.delete(xe),ce instanceof m.ResponseError?Te(ce,O.method,ke):ce&&$.string(ce.message)?Te(new m.ResponseError(m.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${ce.message}`),O.method,ke):Te(new m.ResponseError(m.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,ke)}):(x.delete(xe),se(qe,O.method,ke)):(x.delete(xe),function Se(xe,He,qe){void 0===xe&&(xe=null);const _e={jsonrpc:Ce,id:O.id,result:xe};pt(_e,He,qe),K.write(_e).catch(()=>ie.error("Sending response failed."))}(qe,O.method,ke))}catch(qe){x.delete(xe),qe instanceof m.ResponseError?se(qe,O.method,ke):qe&&$.string(qe.message)?Te(new m.ResponseError(m.ErrorCodes.InternalError,`Request ${O.method} failed with message: ${qe.message}`),O.method,ke):Te(new m.ResponseError(m.ErrorCodes.InternalError,`Request ${O.method} failed unexpectedly without providing any details.`),O.method,ke)}}else Te(new m.ResponseError(m.ErrorCodes.MethodNotFound,`Unhandled method ${O.method}`),O.method,ke)}(O):m.Message.isNotification(O)?function qt(O){if(Gt())return;let se,Te;if(O.method===P.type.method)return Be.delete(O.params.id),void ft(O);{const Se=Oe.get(O.method);Se&&(Te=Se.handler,se=Se.type)}if(Te||Me)try{if(ft(O),Te)if(void 0===O.params)void 0!==se&&0!==se.numberOfParams&&se.parameterStructures!==m.ParameterStructures.byName&&ie.error(`Notification ${O.method} defines ${se.numberOfParams} params but received none.`),Te();else if(Array.isArray(O.params)){const Se=O.params;O.method===A.type.method&&2===Se.length&&g.is(Se[0])?Te({token:Se[0],value:Se[1]}):(void 0!==se&&(se.parameterStructures===m.ParameterStructures.byName&&ie.error(`Notification ${O.method} defines parameters by name but received parameters by position`),se.numberOfParams!==O.params.length&&ie.error(`Notification ${O.method} defines ${se.numberOfParams} params but received ${Se.length} arguments`)),Te(...Se))}else void 0!==se&&se.parameterStructures===m.ParameterStructures.byPosition&&ie.error(`Notification ${O.method} defines parameters by position but received parameters by name`),Te(O.params);else Me&&Me(O.method,O.params)}catch(Se){ie.error(Se.message?`Notification handler '${O.method}' failed with message: ${Se.message}`:`Notification handler '${O.method}' failed unexpectedly.`)}else Rt.fire(O)}(O):m.Message.isResponse(O)?function Nt(O){if(!Gt())if(null===O.id)ie.error(O.error?`Received response message without id: Error is: \n${JSON.stringify(O.error,void 0,4)}`:"Received response message without id. No further error information provided.");else{const se=O.id,Te=De.get(se);if(function Mt(O,se){if(ne!==_.Off&&Pe)if(me===j.Text){let Te;if((ne===_.Verbose||ne===_.Compact)&&(O.error&&O.error.data?Te=`Error data: ${It(O.error.data)}\n\n`:O.result?Te=`Result: ${It(O.result)}\n\n`:void 0===O.error&&(Te="No result returned.\n\n")),se){const Se=O.error?` Request failed: ${O.error.message} (${O.error.code}).`:"";Pe.log(`Received response '${se.method} - (${O.id})' in ${Date.now()-se.timerStart}ms.${Se}`,Te)}else Pe.log(`Received response ${O.id} without active response promise.`,Te)}else q("receive-response",O)}(O,Te),void 0!==Te){De.delete(se);try{if(O.error){const Se=O.error;Te.reject(new m.ResponseError(Se.code,Se.message,Se.data))}else{if(void 0===O.result)throw new Error("Should never happen.");Te.resolve(O.result)}}catch(Se){ie.error(Se.message?`Response handler '${Te.method}' failed with message: ${Se.message}`:`Response handler '${Te.method}' failed unexpectedly.`)}}}}(O):function At(O){if(!O)return void ie.error("Received empty message.");ie.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(O,null,4)}`);const se=O;if($.string(se.id)||$.number(se.id)){const Se=De.get(se.id);Se&&Se.reject(new Error("The received response has neither a result nor an error property."))}}(O)}F.onClose(lt),F.onError(function tn(O){ut.fire([O,void 0,void 0])}),K.onClose(lt),K.onError(function _t(O){ut.fire(O)});const dt=O=>{try{if(m.Message.isNotification(O)&&O.method===P.type.method){const se=O.params.id,Te=$t(se),Se=ze.get(Te);if(m.Message.isRequest(Se)){const Xe=J?.connectionStrategy,it=Xe&&Xe.cancelUndispatched?Xe.cancelUndispatched(Se,Ut):void 0;if(it&&(void 0!==it.error||void 0!==it.result))return ze.delete(Te),x.delete(se),it.id=Se.id,pt(it,O.method,Date.now()),void K.write(it).catch(()=>ie.error("Sending response for canceled message failed."))}const we=x.get(se);if(void 0!==we)return we.cancel(),void ft(O);Be.add(se)}!function Wt(O,se){m.Message.isRequest(se)?O.set($t(se.id),se):m.Message.isResponse(se)?O.set(function at(O){return null===O?"res-unknown-"+(++le).toString():"res-"+O.toString()}(se.id),se):O.set(function Dt(){return"not-"+(++oe).toString()}(),se)}(ze,O)}finally{zt()}};function It(O){if(null!=O)switch(ne){case _.Verbose:return JSON.stringify(O,null,4);case _.Compact:return JSON.stringify(O);default:return}}function pt(O,se,Te){if(ne!==_.Off&&Pe)if(me===j.Text){let Se;(ne===_.Verbose||ne===_.Compact)&&(O.error&&O.error.data?Se=`Error data: ${It(O.error.data)}\n\n`:O.result?Se=`Result: ${It(O.result)}\n\n`:void 0===O.error&&(Se="No result returned.\n\n")),Pe.log(`Sending response '${se} - (${O.id})'. Processing request took ${Date.now()-Te}ms`,Se)}else q("send-response",O)}function ft(O){if(ne!==_.Off&&Pe&&O.method!==Z.type.method)if(me===j.Text){let se;(ne===_.Verbose||ne===_.Compact)&&(se=O.params?`Params: ${It(O.params)}\n\n`:"No parameters provided.\n\n"),Pe.log(`Received notification '${O.method}'.`,se)}else q("receive-notification",O)}function q(O,se){if(!Pe||ne===_.Off)return;const Te={isLSPMessage:!0,type:O,message:se,timestamp:Date.now()};Pe.log(Te)}function E(){if(Ct())throw new te(re.Closed,"Connection is closed.");if(Gt())throw new te(re.Disposed,"Connection is disposed.")}function k(O){return void 0===O?null:O}function T(O){if(null!==O)return O}function h(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}function Q(O,se){switch(O){case m.ParameterStructures.auto:return h(se)?T(se):[k(se)];case m.ParameterStructures.byName:if(!h(se))throw new Error("Received parameters by name but param is not an object literal.");return T(se);case m.ParameterStructures.byPosition:return[k(se)];default:throw new Error(`Unknown parameter structure ${O.toString()}`)}}function ge(O,se){let Te;const Se=O.numberOfParams;switch(Se){case 0:Te=void 0;break;case 1:Te=Q(O.parameterStructures,se[0]);break;default:Te=[];for(let we=0;we<se.length&&we<Se;we++)Te.push(k(se[we]));if(se.length<Se)for(let we=se.length;we<Se;we++)Te.push(null)}return Te}const Ne={sendNotification:(O,...se)=>{let Te,Se;if(E(),$.string(O)){Te=O;const Xe=se[0];let it=0,ke=m.ParameterStructures.auto;m.ParameterStructures.is(Xe)&&(it=1,ke=Xe);let xe=se.length;const He=xe-it;switch(He){case 0:Se=void 0;break;case 1:Se=Q(ke,se[it]);break;default:if(ke===m.ParameterStructures.byName)throw new Error(`Received ${He} parameters for 'by Name' notification parameter structure.`);Se=se.slice(it,xe).map(qe=>k(qe))}}else Te=O.method,Se=ge(O,se);const we={jsonrpc:Ce,method:Te,params:Se};return function Vt(O){if(ne!==_.Off&&Pe)if(me===j.Text){let se;(ne===_.Verbose||ne===_.Compact)&&(se=O.params?`Params: ${It(O.params)}\n\n`:"No parameters provided.\n\n"),Pe.log(`Sending notification '${O.method}'.`,se)}else q("send-notification",O)}(we),K.write(we).catch(Xe=>{throw ie.error("Sending notification failed."),Xe})},onNotification:(O,se)=>{let Te;return E(),$.func(O)?Me=O:se&&($.string(O)?(Te=O,Oe.set(O,{type:void 0,handler:se})):(Te=O.method,Oe.set(O.method,{type:O,handler:se}))),{dispose:()=>{void 0!==Te?Oe.delete(Te):Me=void 0}}},onProgress:(O,se,Te)=>{if(Fe.has(se))throw new Error(`Progress handler for token ${se} already registered`);return Fe.set(se,Te),{dispose:()=>{Fe.delete(se)}}},sendProgress:(O,se,Te)=>Ne.sendNotification(A.type,{token:se,value:Te}),onUnhandledProgress:Pt.event,sendRequest:(O,...se)=>{let Te,Se,we;if(E(),function B(){if(!Tt())throw new Error("Call listen() first.")}(),$.string(O)){Te=O;const xe=se[0],He=se[se.length-1];let qe=0,_e=m.ParameterStructures.auto;m.ParameterStructures.is(xe)&&(qe=1,_e=xe);let ce=se.length;D.CancellationToken.is(He)&&(ce-=1,we=He);const xt=ce-qe;switch(xt){case 0:Se=void 0;break;case 1:Se=Q(_e,se[qe]);break;default:if(_e===m.ParameterStructures.byName)throw new Error(`Received ${xt} parameters for 'by Name' request parameter structure.`);Se=se.slice(qe,ce).map(kt=>k(kt))}}else{const xe=se;Te=O.method,Se=ge(O,xe);const He=O.numberOfParams;we=D.CancellationToken.is(xe[He])?xe[He]:void 0}const Xe=X++;let it;we&&(it=we.onCancellationRequested(()=>{const xe=yt.sender.sendCancellation(Ne,Xe);return void 0===xe?(ie.log(`Received no promise from cancellation strategy when cancelling id ${Xe}`),Promise.resolve()):xe.catch(()=>{ie.log(`Sending cancellation messages for id ${Xe} failed`)})}));const ke={jsonrpc:Ce,id:Xe,method:Te,params:Se};return function Ot(O){if(ne!==_.Off&&Pe)if(me===j.Text){let se;(ne===_.Verbose||ne===_.Compact)&&O.params&&(se=`Params: ${It(O.params)}\n\n`),Pe.log(`Sending request '${O.method} - (${O.id})'.`,se)}else q("send-request",O)}(ke),"function"==typeof yt.sender.enableCancellation&&yt.sender.enableCancellation(ke),new Promise(function(){var xe=u(function*(He,qe){const xt={method:Te,timerStart:Date.now(),resolve:kt=>{He(kt),yt.sender.cleanup(Xe),it?.dispose()},reject:kt=>{qe(kt),yt.sender.cleanup(Xe),it?.dispose()}};try{yield K.write(ke),De.set(Xe,xt)}catch(kt){throw ie.error("Sending request failed."),xt.reject(new m.ResponseError(m.ErrorCodes.MessageWriteError,kt.message?kt.message:"Unknown reason")),kt}});return function(He,qe){return xe.apply(this,arguments)}}())},onRequest:(O,se)=>{E();let Te=null;return w.is(O)?(Te=void 0,pe=O):$.string(O)?(Te=null,void 0!==se&&(Te=O,ye.set(O,{handler:se,type:void 0}))):void 0!==se&&(Te=O.method,ye.set(O.method,{type:O,handler:se})),{dispose:()=>{null!==Te&&(void 0!==Te?ye.delete(Te):pe=void 0)}}},hasPendingResponse:()=>De.size>0,trace:(O=u(function*(se,Te,Se){let we=!1,Xe=j.Text;void 0!==Se&&($.boolean(Se)?we=Se:(we=Se.sendNotification||!1,Xe=Se.traceFormat||j.Text)),ne=se,me=Xe,Pe=ne===_.Off?void 0:Te,we&&!Ct()&&!Gt()&&(yield Ne.sendNotification(N.type,{value:_.toString(se)}))}),function(Te,Se,we){return O.apply(this,arguments)}),onError:ut.event,onClose:nt.event,onUnhandledNotification:Rt.event,onDispose:wt.event,end:()=>{K.end()},dispose:()=>{if(Gt())return;ve=et.Disposed,wt.fire(void 0);const O=new m.ResponseError(m.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const se of De.values())se.reject(O);De=new Map,x=new Map,Be=new Set,ze=new f.LinkedMap,$.func(K.dispose)&&K.dispose(),$.func(F.dispose)&&F.dispose()},listen:()=>{E(),function G(){if(Tt())throw new te(re.AlreadyListening,"Connection is already listening")}(),ve=et.Listening,F.listen(dt)},inspect:()=>{(0,L.default)().console.log("inspect")}};var O;return Ne.onNotification(Z.type,O=>{ne!==_.Off&&Pe&&Pe.log(O.message,ne===_.Verbose||ne===_.Compact?O.verbose:void 0)}),Ne.onNotification(A.type,O=>{const se=Fe.get(O.token);se?se(O.value):Pt.fire(O)}),Ne}},9175(Ee,s){"use strict";var y;Object.defineProperty(s,"__esModule",{value:!0}),s.Disposable=void 0,(y||(s.Disposable=y={})).create=function L($){return{dispose:$}}},2240(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Emitter=s.Event=void 0;const u=y(362);var L;!function(f){const v={dispose(){}};f.None=function(){return v}}(L||(s.Event=L={}));class ${add(v,D=null,P){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(v),this._contexts.push(D),Array.isArray(P)&&P.push({dispose:()=>this.remove(v,D)})}remove(v,D=null){if(!this._callbacks)return;let P=!1;for(let g=0,A=this._callbacks.length;g<A;g++)if(this._callbacks[g]===v){if(this._contexts[g]===D)return this._callbacks.splice(g,1),void this._contexts.splice(g,1);P=!0}if(P)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...v){if(!this._callbacks)return[];const D=[],P=this._callbacks.slice(0),g=this._contexts.slice(0);for(let A=0,b=P.length;A<b;A++)try{D.push(P[A].apply(g[A],v))}catch(w){(0,u.default)().console.error(w)}return D}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class m{constructor(v){this._options=v}get event(){return this._event||(this._event=(v,D,P)=>{this._callbacks||(this._callbacks=new $),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(v,D);const g={dispose:()=>{this._callbacks&&(this._callbacks.remove(v,D),g.dispose=m._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(P)&&P.push(g),g}),this._event}fire(v){this._callbacks&&this._callbacks.invoke.call(this._callbacks,v)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}s.Emitter=m,m._noop=function(){}},4221(Ee,s){"use strict";function u(D){return"string"==typeof D||D instanceof String}function f(D){return Array.isArray(D)}Object.defineProperty(s,"__esModule",{value:!0}),s.stringArray=s.array=s.func=s.error=s.number=s.string=s.boolean=void 0,s.boolean=function y(D){return!0===D||!1===D},s.string=u,s.number=function L(D){return"number"==typeof D||D instanceof Number},s.error=function $(D){return D instanceof Error},s.func=function m(D){return"function"==typeof D},s.array=f,s.stringArray=function v(D){return f(D)&&D.every(P=>u(P))}},1772(Ee,s){"use strict";var y,u,m;Object.defineProperty(s,"__esModule",{value:!0}),s.LRUCache=s.LinkedMap=s.Touch=void 0,(m=u||(s.Touch=u={})).None=0,m.First=1,m.AsOld=m.First,m.Last=2,m.AsNew=m.Last;class L{constructor(){this[y]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(f){return this._map.has(f)}get(f,v=u.None){const D=this._map.get(f);if(D)return v!==u.None&&this.touch(D,v),D.value}set(f,v,D=u.None){let P=this._map.get(f);if(P)P.value=v,D!==u.None&&this.touch(P,D);else{switch(P={key:f,value:v,next:void 0,previous:void 0},D){case u.None:this.addItemLast(P);break;case u.First:this.addItemFirst(P);break;default:this.addItemLast(P)}this._map.set(f,P),this._size++}return this}delete(f){return!!this.remove(f)}remove(f){const v=this._map.get(f);if(v)return this._map.delete(f),this.removeItem(v),this._size--,v.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const f=this._head;return this._map.delete(f.key),this.removeItem(f),this._size--,f.value}forEach(f,v){const D=this._state;let P=this._head;for(;P;){if(v?f.bind(v)(P.value,P.key,this):f(P.value,P.key,this),this._state!==D)throw new Error("LinkedMap got modified during iteration.");P=P.next}}keys(){const f=this._state;let v=this._head;const D={[Symbol.iterator]:()=>D,next:()=>{if(this._state!==f)throw new Error("LinkedMap got modified during iteration.");if(v){const P={value:v.key,done:!1};return v=v.next,P}return{value:void 0,done:!0}}};return D}values(){const f=this._state;let v=this._head;const D={[Symbol.iterator]:()=>D,next:()=>{if(this._state!==f)throw new Error("LinkedMap got modified during iteration.");if(v){const P={value:v.value,done:!1};return v=v.next,P}return{value:void 0,done:!0}}};return D}entries(){const f=this._state;let v=this._head;const D={[Symbol.iterator]:()=>D,next:()=>{if(this._state!==f)throw new Error("LinkedMap got modified during iteration.");if(v){const P={value:[v.key,v.value],done:!1};return v=v.next,P}return{value:void 0,done:!0}}};return D}[(y=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(f){if(f>=this.size)return;if(0===f)return void this.clear();let v=this._head,D=this.size;for(;v&&D>f;)this._map.delete(v.key),v=v.next,D--;this._head=v,this._size=D,v&&(v.previous=void 0),this._state++}addItemFirst(f){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");f.next=this._head,this._head.previous=f}else this._tail=f;this._head=f,this._state++}addItemLast(f){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");f.previous=this._tail,this._tail.next=f}else this._head=f;this._tail=f,this._state++}removeItem(f){if(f===this._head&&f===this._tail)this._head=void 0,this._tail=void 0;else if(f===this._head){if(!f.next)throw new Error("Invalid list");f.next.previous=void 0,this._head=f.next}else if(f===this._tail){if(!f.previous)throw new Error("Invalid list");f.previous.next=void 0,this._tail=f.previous}else{const v=f.next,D=f.previous;if(!v||!D)throw new Error("Invalid list");v.previous=D,D.next=v}f.next=void 0,f.previous=void 0,this._state++}touch(f,v){if(!this._head||!this._tail)throw new Error("Invalid list");if(v===u.First||v===u.Last)if(v===u.First){if(f===this._head)return;const D=f.next,P=f.previous;f===this._tail?(P.next=void 0,this._tail=P):(D.previous=P,P.next=D),f.previous=void 0,f.next=this._head,this._head.previous=f,this._head=f,this._state++}else if(v===u.Last){if(f===this._tail)return;const D=f.next,P=f.previous;f===this._head?(D.previous=void 0,this._head=D):(D.previous=P,P.next=D),f.next=void 0,f.previous=this._tail,this._tail.next=f,this._tail=f,this._state++}}toJSON(){const f=[];return this.forEach((v,D)=>{f.push([D,v])}),f}fromJSON(f){this.clear();for(const[v,D]of f)this.set(v,D)}}s.LinkedMap=L,s.LRUCache=class $ extends L{constructor(f,v=1){super(),this._limit=f,this._ratio=Math.min(Math.max(0,v),1)}get limit(){return this._limit}set limit(f){this._limit=f,this.checkTrim()}get ratio(){return this._ratio}set ratio(f){this._ratio=Math.min(Math.max(0,f),1),this.checkTrim()}get(f,v=u.AsNew){return super.get(f,v)}peek(f){return super.get(f,u.None)}set(f,v){return super.set(f,v,u.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},3032(Ee,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.AbstractMessageBuffer=void 0,s.AbstractMessageBuffer=class ${constructor(f="utf-8"){this._encoding=f,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(f){const v="string"==typeof f?this.fromString(f,this._encoding):f;this._chunks.push(v),this._totalLength+=v.byteLength}tryReadHeaders(f=!1){if(0===this._chunks.length)return;let v=0,D=0,P=0,g=0;e:for(;D<this._chunks.length;){const _=this._chunks[D];for(P=0;P<_.length;){switch(_[P]){case 13:switch(v){case 0:v=1;break;case 2:v=3;break;default:v=0}break;case 10:switch(v){case 1:v=2;break;case 3:v=4,P++;break e;default:v=0}break;default:v=0}P++}g+=_.byteLength,D++}if(4!==v)return;const A=this._read(g+P),b=new Map,w=this.toString(A,"ascii").split("\r\n");if(w.length<2)return b;for(let _=0;_<w.length-2;_++){const I=w[_],j=I.indexOf(":");if(-1===j)throw new Error(`Message header must separate key and value using ':'\n${I}`);const N=I.substr(0,j),Z=I.substr(j+1).trim();b.set(f?N.toLowerCase():N,Z)}return b}tryReadBody(f){if(!(this._totalLength<f))return this._read(f)}get numberOfBytes(){return this._totalLength}_read(f){if(0===f)return this.emptyBuffer();if(f>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===f){const g=this._chunks[0];return this._chunks.shift(),this._totalLength-=f,this.asNative(g)}if(this._chunks[0].byteLength>f){const g=this._chunks[0],A=this.asNative(g,f);return this._chunks[0]=g.slice(f),this._totalLength-=f,A}const v=this.allocNative(f);let D=0;for(;f>0;){const g=this._chunks[0];if(g.byteLength>f){const A=g.slice(0,f);v.set(A,D),D+=f,this._chunks[0]=g.slice(f),this._totalLength-=f,f-=f}else v.set(g,D),D+=g.byteLength,this._chunks.shift(),this._totalLength-=g.byteLength,f-=g.byteLength}return v}}},945(Ee,s,y){"use strict";var u=y(5386).default;Object.defineProperty(s,"__esModule",{value:!0}),s.ReadableStreamMessageReader=s.AbstractMessageReader=s.MessageReader=void 0;const L=y(362),$=y(4221),m=y(2240),f=y(3631);var v,P;(v||(s.MessageReader=v={})).is=function b(w){let _=w;return _&&$.func(_.listen)&&$.func(_.dispose)&&$.func(_.onError)&&$.func(_.onClose)&&$.func(_.onPartialMessage)};class D{constructor(){this.errorEmitter=new m.Emitter,this.closeEmitter=new m.Emitter,this.partialMessageEmitter=new m.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(b){this.errorEmitter.fire(this.asError(b))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(b){this.partialMessageEmitter.fire(b)}asError(b){return b instanceof Error?b:new Error(`Reader received error. Reason: ${$.string(b.message)?b.message:"unknown"}`)}}s.AbstractMessageReader=D,(P||(P={})).fromOptions=function b(w){let _,j;const N=new Map;let Z;const re=new Map;if(void 0===w||"string"==typeof w)_=w??"utf-8";else{if(_=w.charset??"utf-8",void 0!==w.contentDecoder&&(j=w.contentDecoder,N.set(j.name,j)),void 0!==w.contentDecoders)for(const te of w.contentDecoders)N.set(te.name,te);if(void 0!==w.contentTypeDecoder&&(Z=w.contentTypeDecoder,re.set(Z.name,Z)),void 0!==w.contentTypeDecoders)for(const te of w.contentTypeDecoders)re.set(te.name,te)}return void 0===Z&&(Z=(0,L.default)().applicationJson.decoder,re.set(Z.name,Z)),{charset:_,contentDecoder:j,contentDecoders:N,contentTypeDecoder:Z,contentTypeDecoders:re}},s.ReadableStreamMessageReader=class g extends D{constructor(b,w){super(),this.readable=b,this.options=P.fromOptions(w),this.buffer=(0,L.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new f.Semaphore(1)}set partialMessageTimeout(b){this._partialMessageTimeout=b}get partialMessageTimeout(){return this._partialMessageTimeout}listen(b){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=b;const w=this.readable.onData(_=>{this.onData(_)});return this.readable.onError(_=>this.fireError(_)),this.readable.onClose(()=>this.fireClose()),w}onData(b){var w=this;try{for(this.buffer.append(b);;){if(-1===this.nextMessageLength){const I=this.buffer.tryReadHeaders(!0);if(!I)return;const j=I.get("content-length");if(!j)return void this.fireError(new Error(`Header must provide a Content-Length property.\n${JSON.stringify(Object.fromEntries(I))}`));const N=parseInt(j);if(isNaN(N))return void this.fireError(new Error(`Content-Length value must be a number. Got ${j}`));this.nextMessageLength=N}const _=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===_)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(u(function*(){const I=void 0!==w.options.contentDecoder?yield w.options.contentDecoder.decode(_):_,j=yield w.options.contentTypeDecoder.decode(I,w.options);w.callback(j)})).catch(I=>{this.fireError(I)})}}catch(_){this.fireError(_)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,L.default)().timer.setTimeout((b,w)=>{this.partialMessageTimer=void 0,b===this.messageToken&&(this.firePartialMessage({messageToken:b,waitingTime:w}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},7757(Ee,s,y){"use strict";var u=y(5386).default;Object.defineProperty(s,"__esModule",{value:!0}),s.WriteableStreamMessageWriter=s.AbstractMessageWriter=s.MessageWriter=void 0;const L=y(362),$=y(4221),m=y(3631),f=y(2240);var P,A;(P||(s.MessageWriter=P={})).is=function _(I){let j=I;return j&&$.func(j.dispose)&&$.func(j.onClose)&&$.func(j.onError)&&$.func(j.write)};class g{constructor(){this.errorEmitter=new f.Emitter,this.closeEmitter=new f.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(_,I,j){this.errorEmitter.fire([this.asError(_),I,j])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(_){return _ instanceof Error?_:new Error(`Writer received error. Reason: ${$.string(_.message)?_.message:"unknown"}`)}}s.AbstractMessageWriter=g,(A||(A={})).fromOptions=function _(I){return void 0===I||"string"==typeof I?{charset:I??"utf-8",contentTypeEncoder:(0,L.default)().applicationJson.encoder}:{charset:I.charset??"utf-8",contentEncoder:I.contentEncoder,contentTypeEncoder:I.contentTypeEncoder??(0,L.default)().applicationJson.encoder}},s.WriteableStreamMessageWriter=class b extends g{constructor(_,I){super(),this.writable=_,this.options=A.fromOptions(I),this.errorCount=0,this.writeSemaphore=new m.Semaphore(1),this.writable.onError(j=>this.fireError(j)),this.writable.onClose(()=>this.fireClose())}write(_){var I=this;return u(function*(){return I.writeSemaphore.lock(u(function*(){return I.options.contentTypeEncoder.encode(_,I.options).then(N=>void 0!==I.options.contentEncoder?I.options.contentEncoder.encode(N):N).then(N=>{const Z=[];return Z.push("Content-Length: ",N.byteLength.toString(),"\r\n"),Z.push("\r\n"),I.doWrite(_,Z,N)},N=>{throw I.fireError(N),N})}))})()}doWrite(_,I,j){var N=this;return u(function*(){try{return yield N.writable.write(I.join(""),"ascii"),N.writable.write(j)}catch(Z){return N.handleError(Z,_),Promise.reject(Z)}})()}handleError(_,I){this.errorCount++,this.fireError(_,I,this.errorCount)}end(){this.writable.end()}}},8981(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Message=s.NotificationType9=s.NotificationType8=s.NotificationType7=s.NotificationType6=s.NotificationType5=s.NotificationType4=s.NotificationType3=s.NotificationType2=s.NotificationType1=s.NotificationType0=s.NotificationType=s.RequestType9=s.RequestType8=s.RequestType7=s.RequestType6=s.RequestType5=s.RequestType4=s.RequestType3=s.RequestType2=s.RequestType1=s.RequestType=s.RequestType0=s.AbstractMessageSignature=s.ParameterStructures=s.ResponseError=s.ErrorCodes=void 0;const u=y(4221);var et,V,L=function(V){return V.ParseError=-32700,V.InvalidRequest=-32600,V.MethodNotFound=-32601,V.InvalidParams=-32602,V.InternalError=-32603,V.jsonrpcReservedErrorRangeStart=-32099,V.serverErrorStart=-32099,V.MessageWriteError=-32099,V.MessageReadError=-32098,V.PendingResponseRejected=-32097,V.ConnectionInactive=-32096,V.ServerNotInitialized=-32002,V.UnknownErrorCode=-32001,V.jsonrpcReservedErrorRangeEnd=-32e3,V.serverErrorEnd=-32e3,V}(L||(s.ErrorCodes=L={}));class $ extends Error{constructor(F,K,W){super(K),this.code=u.number(F)?F:L.UnknownErrorCode,this.data=W,Object.setPrototypeOf(this,$.prototype)}toJson(){const F={code:this.code,message:this.message};return void 0!==this.data&&(F.data=this.data),F}}s.ResponseError=$;class m{constructor(F){this.kind=F}static is(F){return F===m.auto||F===m.byName||F===m.byPosition}toString(){return this.kind}}s.ParameterStructures=m,m.auto=new m("auto"),m.byPosition=new m("byPosition"),m.byName=new m("byName");class f{constructor(F,K){this.method=F,this.numberOfParams=K}get parameterStructures(){return m.auto}}s.AbstractMessageSignature=f,s.RequestType0=class v extends f{constructor(F){super(F,0)}},s.RequestType=class D extends f{constructor(F,K=m.auto){super(F,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},s.RequestType1=class P extends f{constructor(F,K=m.auto){super(F,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},s.RequestType2=class g extends f{constructor(F){super(F,2)}},s.RequestType3=class A extends f{constructor(F){super(F,3)}},s.RequestType4=class b extends f{constructor(F){super(F,4)}},s.RequestType5=class w extends f{constructor(F){super(F,5)}},s.RequestType6=class _ extends f{constructor(F){super(F,6)}},s.RequestType7=class I extends f{constructor(F){super(F,7)}},s.RequestType8=class j extends f{constructor(F){super(F,8)}},s.RequestType9=class N extends f{constructor(F){super(F,9)}},s.NotificationType=class Z extends f{constructor(F,K=m.auto){super(F,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},s.NotificationType0=class re extends f{constructor(F){super(F,0)}},s.NotificationType1=class te extends f{constructor(F,K=m.auto){super(F,1),this._parameterStructures=K}get parameterStructures(){return this._parameterStructures}},s.NotificationType2=class Y extends f{constructor(F){super(F,2)}},s.NotificationType3=class de extends f{constructor(F){super(F,3)}},s.NotificationType4=class Re extends f{constructor(F){super(F,4)}},s.NotificationType5=class ue extends f{constructor(F){super(F,5)}},s.NotificationType6=class Ge extends f{constructor(F){super(F,6)}},s.NotificationType7=class Le extends f{constructor(F){super(F,7)}},s.NotificationType8=class Je extends f{constructor(F){super(F,8)}},s.NotificationType9=class Qe extends f{constructor(F){super(F,9)}},(V=et||(s.Message=et={})).isRequest=function F(J){const ie=J;return ie&&u.string(ie.method)&&(u.string(ie.id)||u.number(ie.id))},V.isNotification=function K(J){return J&&u.string(J.method)&&void 0===J.id},V.isResponse=function W(J){const ie=J;return ie&&(void 0!==ie.result||!!ie.error)&&(u.string(ie.id)||u.number(ie.id)||null===ie.id)}},362(Ee,s){"use strict";let y;function u(){if(void 0===y)throw new Error("No runtime abstraction layer installed");return y}Object.defineProperty(s,"__esModule",{value:!0}),(u||(u={})).install=function $(m){if(void 0===m)throw new Error("No runtime abstraction layer provided");y=m},s.default=u},3631(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.Semaphore=void 0;const u=y(362);s.Semaphore=class L{constructor(m=1){if(m<=0)throw new Error("Capacity must be greater than 0");this._capacity=m,this._active=0,this._waiting=[]}lock(m){return new Promise((f,v)=>{this._waiting.push({thunk:m,resolve:f,reject:v}),this.runNext()})}get active(){return this._active}runNext(){0===this._waiting.length||this._active===this._capacity||(0,u.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const m=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const f=m.thunk();f instanceof Promise?f.then(v=>{this._active--,m.resolve(v),this.runNext()},v=>{this._active--,m.reject(v),this.runNext()}):(this._active--,m.resolve(f),this.runNext())}catch(f){this._active--,m.reject(f),this.runNext()}}}},3976(Ee,s,y){"use strict";var u=y(5386).default;Object.defineProperty(s,"__esModule",{value:!0}),s.SharedArrayReceiverStrategy=s.SharedArraySenderStrategy=void 0;const L=y(3302);var $=function(P){return P.Continue=0,P.Cancelled=1,P}($||{});s.SharedArraySenderStrategy=class m{constructor(){this.buffers=new Map}enableCancellation(g){if(null===g.id)return;const A=new SharedArrayBuffer(4);new Int32Array(A,0,1)[0]=$.Continue,this.buffers.set(g.id,A),g.$cancellationData=A}sendCancellation(g,A){var b=this;return u(function*(){const w=b.buffers.get(A);if(void 0===w)return;const _=new Int32Array(w,0,1);Atomics.store(_,0,$.Cancelled)})()}cleanup(g){this.buffers.delete(g)}dispose(){this.buffers.clear()}};class f{constructor(g){this.data=new Int32Array(g,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===$.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class v{constructor(g){this.token=new f(g)}cancel(){}dispose(){}}s.SharedArrayReceiverStrategy=class D{constructor(){this.kind="request"}createCancellationTokenSource(g){const A=g.$cancellationData;return void 0===A?new L.CancellationTokenSource:new v(A)}}},7031(Ee,s,y){"use strict";var u=this&&this.__createBinding||(Object.create?function(f,v,D,P){void 0===P&&(P=D);var g=Object.getOwnPropertyDescriptor(v,D);(!g||("get"in g?!v.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return v[D]}}),Object.defineProperty(f,P,g)}:function(f,v,D,P){void 0===P&&(P=D),f[P]=v[D]}),L=this&&this.__exportStar||function(f,v){for(var D in f)"default"!==D&&!Object.prototype.hasOwnProperty.call(v,D)&&u(v,f,D)};Object.defineProperty(s,"__esModule",{value:!0}),s.createProtocolConnection=void 0;const $=y(435);L(y(435),s),L(y(9122),s),s.createProtocolConnection=function m(f,v,D,P){return(0,$.createMessageConnection)(f,v,D,P)}},9122(Ee,s,y){"use strict";var u=this&&this.__createBinding||(Object.create?function(f,v,D,P){void 0===P&&(P=D);var g=Object.getOwnPropertyDescriptor(v,D);(!g||("get"in g?!v.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return v[D]}}),Object.defineProperty(f,P,g)}:function(f,v,D,P){void 0===P&&(P=D),f[P]=v[D]}),L=this&&this.__exportStar||function(f,v){for(var D in f)"default"!==D&&!Object.prototype.hasOwnProperty.call(v,D)&&u(v,f,D)};Object.defineProperty(s,"__esModule",{value:!0}),s.LSPErrorCodes=s.createProtocolConnection=void 0,L(y(371),s),L(y(3057),s),L(y(9856),s),L(y(8748),s);var $=y(736);Object.defineProperty(s,"createProtocolConnection",{enumerable:!0,get:function(){return $.createProtocolConnection}});var m=function(f){return f.lspReservedErrorRangeStart=-32899,f.RequestFailed=-32803,f.ServerCancelled=-32802,f.ContentModified=-32801,f.RequestCancelled=-32800,f.lspReservedErrorRangeEnd=-32800,f}(m||(s.LSPErrorCodes=m={}))},736(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.createProtocolConnection=void 0;const u=y(371);s.createProtocolConnection=function L($,m,f,v){return u.ConnectionStrategy.is(v)&&(v={connectionStrategy:v}),(0,u.createMessageConnection)($,m,f,v)}},9856(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ProtocolNotificationType=s.ProtocolNotificationType0=s.ProtocolRequestType=s.ProtocolRequestType0=s.RegistrationType=s.MessageDirection=void 0;const u=y(371);var L=function(P){return P.clientToServer="clientToServer",P.serverToClient="serverToClient",P.both="both",P}(L||(s.MessageDirection=L={}));s.RegistrationType=class ${constructor(g){this.method=g}},s.ProtocolRequestType0=class m extends u.RequestType0{constructor(g){super(g)}},s.ProtocolRequestType=class f extends u.RequestType{constructor(g){super(g,u.ParameterStructures.byName)}},s.ProtocolNotificationType0=class v extends u.NotificationType0{constructor(g){super(g)}},s.ProtocolNotificationType=class D extends u.NotificationType{constructor(g){super(g,u.ParameterStructures.byName)}}},2769(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.CallHierarchyOutgoingCallsRequest=s.CallHierarchyIncomingCallsRequest=s.CallHierarchyPrepareRequest=void 0;const u=y(9856);var L,f,$,m;(f=L||(s.CallHierarchyPrepareRequest=L={})).method="textDocument/prepareCallHierarchy",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method),function(f){f.method="callHierarchy/incomingCalls",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method)}($||(s.CallHierarchyIncomingCallsRequest=$={})),function(f){f.method="callHierarchy/outgoingCalls",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method)}(m||(s.CallHierarchyOutgoingCallsRequest=m={}))},4860(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ColorPresentationRequest=s.DocumentColorRequest=void 0;const u=y(9856);var L,m,$;(m=L||(s.DocumentColorRequest=L={})).method="textDocument/documentColor",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method),function(m){m.method="textDocument/colorPresentation",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method)}($||(s.ColorPresentationRequest=$={}))},9832(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ConfigurationRequest=void 0;const u=y(9856);var L,$;($=L||(s.ConfigurationRequest=L={})).method="workspace/configuration",$.messageDirection=u.MessageDirection.serverToClient,$.type=new u.ProtocolRequestType($.method)},7358(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.DeclarationRequest=void 0;const u=y(9856);var $,m;(m=$||(s.DeclarationRequest=$={})).method="textDocument/declaration",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method)},2071(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.DiagnosticRefreshRequest=s.WorkspaceDiagnosticRequest=s.DocumentDiagnosticRequest=s.DocumentDiagnosticReportKind=s.DiagnosticServerCancellationData=void 0;const u=y(371),L=y(8386),$=y(9856);var m;(m||(s.DiagnosticServerCancellationData=m={})).is=function A(b){return b&&L.boolean(b.retriggerRequest)};var v,D,P,g,f=function(g){return g.Full="full",g.Unchanged="unchanged",g}(f||(s.DocumentDiagnosticReportKind=f={}));(g=v||(s.DocumentDiagnosticRequest=v={})).method="textDocument/diagnostic",g.messageDirection=$.MessageDirection.clientToServer,g.type=new $.ProtocolRequestType(g.method),g.partialResult=new u.ProgressType,function(g){g.method="workspace/diagnostic",g.messageDirection=$.MessageDirection.clientToServer,g.type=new $.ProtocolRequestType(g.method),g.partialResult=new u.ProgressType}(D||(s.WorkspaceDiagnosticRequest=D={})),function(g){g.method="workspace/diagnostic/refresh",g.messageDirection=$.MessageDirection.serverToClient,g.type=new $.ProtocolRequestType0(g.method)}(P||(s.DiagnosticRefreshRequest=P={}))},8692(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WillDeleteFilesRequest=s.DidDeleteFilesNotification=s.DidRenameFilesNotification=s.WillRenameFilesRequest=s.DidCreateFilesNotification=s.WillCreateFilesRequest=s.FileOperationPatternKind=void 0;const u=y(9856);var $,g,m,f,v,D,P,L=function(g){return g.file="file",g.folder="folder",g}(L||(s.FileOperationPatternKind=L={}));(g=$||(s.WillCreateFilesRequest=$={})).method="workspace/willCreateFiles",g.messageDirection=u.MessageDirection.clientToServer,g.type=new u.ProtocolRequestType(g.method),function(g){g.method="workspace/didCreateFiles",g.messageDirection=u.MessageDirection.clientToServer,g.type=new u.ProtocolNotificationType(g.method)}(m||(s.DidCreateFilesNotification=m={})),function(g){g.method="workspace/willRenameFiles",g.messageDirection=u.MessageDirection.clientToServer,g.type=new u.ProtocolRequestType(g.method)}(f||(s.WillRenameFilesRequest=f={})),function(g){g.method="workspace/didRenameFiles",g.messageDirection=u.MessageDirection.clientToServer,g.type=new u.ProtocolNotificationType(g.method)}(v||(s.DidRenameFilesNotification=v={})),function(g){g.method="workspace/didDeleteFiles",g.messageDirection=u.MessageDirection.clientToServer,g.type=new u.ProtocolNotificationType(g.method)}(D||(s.DidDeleteFilesNotification=D={})),function(g){g.method="workspace/willDeleteFiles",g.messageDirection=u.MessageDirection.clientToServer,g.type=new u.ProtocolRequestType(g.method)}(P||(s.WillDeleteFilesRequest=P={}))},6278(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.FoldingRangeRefreshRequest=s.FoldingRangeRequest=void 0;const u=y(9856);var L,m,$;(m=L||(s.FoldingRangeRequest=L={})).method="textDocument/foldingRange",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method),function(m){m.method="workspace/foldingRange/refresh",m.messageDirection=u.MessageDirection.serverToClient,m.type=new u.ProtocolRequestType0(m.method)}($||(s.FoldingRangeRefreshRequest=$={}))},9722(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ImplementationRequest=void 0;const u=y(9856);var $,m;(m=$||(s.ImplementationRequest=$={})).method="textDocument/implementation",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method)},5332(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.InlayHintRefreshRequest=s.InlayHintResolveRequest=s.InlayHintRequest=void 0;const u=y(9856);var L,f,$,m;(f=L||(s.InlayHintRequest=L={})).method="textDocument/inlayHint",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method),function(f){f.method="inlayHint/resolve",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method)}($||(s.InlayHintResolveRequest=$={})),function(f){f.method="workspace/inlayHint/refresh",f.messageDirection=u.MessageDirection.serverToClient,f.type=new u.ProtocolRequestType0(f.method)}(m||(s.InlayHintRefreshRequest=m={}))},6311(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.InlineCompletionRequest=void 0;const u=y(9856);var L,$;($=L||(s.InlineCompletionRequest=L={})).method="textDocument/inlineCompletion",$.messageDirection=u.MessageDirection.clientToServer,$.type=new u.ProtocolRequestType($.method)},2048(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.InlineValueRefreshRequest=s.InlineValueRequest=void 0;const u=y(9856);var L,m,$;(m=L||(s.InlineValueRequest=L={})).method="textDocument/inlineValue",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method),function(m){m.method="workspace/inlineValue/refresh",m.messageDirection=u.MessageDirection.serverToClient,m.type=new u.ProtocolRequestType0(m.method)}($||(s.InlineValueRefreshRequest=$={}))},8748(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WorkspaceSymbolRequest=s.CodeActionResolveRequest=s.CodeActionRequest=s.DocumentSymbolRequest=s.DocumentHighlightRequest=s.ReferencesRequest=s.DefinitionRequest=s.SignatureHelpRequest=s.SignatureHelpTriggerKind=s.HoverRequest=s.CompletionResolveRequest=s.CompletionRequest=s.CompletionTriggerKind=s.PublishDiagnosticsNotification=s.WatchKind=s.RelativePattern=s.FileChangeType=s.DidChangeWatchedFilesNotification=s.WillSaveTextDocumentWaitUntilRequest=s.WillSaveTextDocumentNotification=s.TextDocumentSaveReason=s.DidSaveTextDocumentNotification=s.DidCloseTextDocumentNotification=s.DidChangeTextDocumentNotification=s.TextDocumentContentChangeEvent=s.DidOpenTextDocumentNotification=s.TextDocumentSyncKind=s.TelemetryEventNotification=s.LogMessageNotification=s.ShowMessageRequest=s.ShowMessageNotification=s.MessageType=s.DidChangeConfigurationNotification=s.ExitNotification=s.ShutdownRequest=s.InitializedNotification=s.InitializeErrorCodes=s.InitializeRequest=s.WorkDoneProgressOptions=s.TextDocumentRegistrationOptions=s.StaticRegistrationOptions=s.PositionEncodingKind=s.FailureHandlingKind=s.ResourceOperationKind=s.UnregistrationRequest=s.RegistrationRequest=s.DocumentSelector=s.NotebookCellTextDocumentFilter=s.NotebookDocumentFilter=s.TextDocumentFilter=void 0,s.MonikerRequest=s.MonikerKind=s.UniquenessLevel=s.WillDeleteFilesRequest=s.DidDeleteFilesNotification=s.WillRenameFilesRequest=s.DidRenameFilesNotification=s.WillCreateFilesRequest=s.DidCreateFilesNotification=s.FileOperationPatternKind=s.LinkedEditingRangeRequest=s.ShowDocumentRequest=s.SemanticTokensRegistrationType=s.SemanticTokensRefreshRequest=s.SemanticTokensRangeRequest=s.SemanticTokensDeltaRequest=s.SemanticTokensRequest=s.TokenFormat=s.CallHierarchyPrepareRequest=s.CallHierarchyOutgoingCallsRequest=s.CallHierarchyIncomingCallsRequest=s.WorkDoneProgressCancelNotification=s.WorkDoneProgressCreateRequest=s.WorkDoneProgress=s.SelectionRangeRequest=s.DeclarationRequest=s.FoldingRangeRefreshRequest=s.FoldingRangeRequest=s.ColorPresentationRequest=s.DocumentColorRequest=s.ConfigurationRequest=s.DidChangeWorkspaceFoldersNotification=s.WorkspaceFoldersRequest=s.TypeDefinitionRequest=s.ImplementationRequest=s.ApplyWorkspaceEditRequest=s.ExecuteCommandRequest=s.PrepareRenameRequest=s.RenameRequest=s.PrepareSupportDefaultBehavior=s.DocumentOnTypeFormattingRequest=s.DocumentRangesFormattingRequest=s.DocumentRangeFormattingRequest=s.DocumentFormattingRequest=s.DocumentLinkResolveRequest=s.DocumentLinkRequest=s.CodeLensRefreshRequest=s.CodeLensResolveRequest=s.CodeLensRequest=s.WorkspaceSymbolResolveRequest=void 0,s.InlineCompletionRequest=s.DidCloseNotebookDocumentNotification=s.DidSaveNotebookDocumentNotification=s.DidChangeNotebookDocumentNotification=s.NotebookCellArrayChange=s.DidOpenNotebookDocumentNotification=s.NotebookDocumentSyncRegistrationType=s.NotebookDocument=s.NotebookCell=s.ExecutionSummary=s.NotebookCellKind=s.DiagnosticRefreshRequest=s.WorkspaceDiagnosticRequest=s.DocumentDiagnosticRequest=s.DocumentDiagnosticReportKind=s.DiagnosticServerCancellationData=s.InlayHintRefreshRequest=s.InlayHintResolveRequest=s.InlayHintRequest=s.InlineValueRefreshRequest=s.InlineValueRequest=s.TypeHierarchySupertypesRequest=s.TypeHierarchySubtypesRequest=s.TypeHierarchyPrepareRequest=void 0;const u=y(9856),L=y(3057),$=y(8386),m=y(9722);Object.defineProperty(s,"ImplementationRequest",{enumerable:!0,get:function(){return m.ImplementationRequest}});const f=y(7721);Object.defineProperty(s,"TypeDefinitionRequest",{enumerable:!0,get:function(){return f.TypeDefinitionRequest}});const v=y(4747);Object.defineProperty(s,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return v.WorkspaceFoldersRequest}}),Object.defineProperty(s,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return v.DidChangeWorkspaceFoldersNotification}});const D=y(9832);Object.defineProperty(s,"ConfigurationRequest",{enumerable:!0,get:function(){return D.ConfigurationRequest}});const P=y(4860);Object.defineProperty(s,"DocumentColorRequest",{enumerable:!0,get:function(){return P.DocumentColorRequest}}),Object.defineProperty(s,"ColorPresentationRequest",{enumerable:!0,get:function(){return P.ColorPresentationRequest}});const g=y(6278);Object.defineProperty(s,"FoldingRangeRequest",{enumerable:!0,get:function(){return g.FoldingRangeRequest}}),Object.defineProperty(s,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return g.FoldingRangeRefreshRequest}});const A=y(7358);Object.defineProperty(s,"DeclarationRequest",{enumerable:!0,get:function(){return A.DeclarationRequest}});const b=y(2443);Object.defineProperty(s,"SelectionRangeRequest",{enumerable:!0,get:function(){return b.SelectionRangeRequest}});const w=y(2539);Object.defineProperty(s,"WorkDoneProgress",{enumerable:!0,get:function(){return w.WorkDoneProgress}}),Object.defineProperty(s,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return w.WorkDoneProgressCreateRequest}}),Object.defineProperty(s,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return w.WorkDoneProgressCancelNotification}});const _=y(2769);Object.defineProperty(s,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return _.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(s,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return _.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(s,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.CallHierarchyPrepareRequest}});const I=y(9586);Object.defineProperty(s,"TokenFormat",{enumerable:!0,get:function(){return I.TokenFormat}}),Object.defineProperty(s,"SemanticTokensRequest",{enumerable:!0,get:function(){return I.SemanticTokensRequest}}),Object.defineProperty(s,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return I.SemanticTokensDeltaRequest}}),Object.defineProperty(s,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return I.SemanticTokensRangeRequest}}),Object.defineProperty(s,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return I.SemanticTokensRefreshRequest}}),Object.defineProperty(s,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return I.SemanticTokensRegistrationType}});const j=y(9912);Object.defineProperty(s,"ShowDocumentRequest",{enumerable:!0,get:function(){return j.ShowDocumentRequest}});const N=y(8728);Object.defineProperty(s,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return N.LinkedEditingRangeRequest}});const Z=y(8692);Object.defineProperty(s,"FileOperationPatternKind",{enumerable:!0,get:function(){return Z.FileOperationPatternKind}}),Object.defineProperty(s,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Z.DidCreateFilesNotification}}),Object.defineProperty(s,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Z.WillCreateFilesRequest}}),Object.defineProperty(s,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Z.DidRenameFilesNotification}}),Object.defineProperty(s,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Z.WillRenameFilesRequest}}),Object.defineProperty(s,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Z.DidDeleteFilesNotification}}),Object.defineProperty(s,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Z.WillDeleteFilesRequest}});const re=y(6979);Object.defineProperty(s,"UniquenessLevel",{enumerable:!0,get:function(){return re.UniquenessLevel}}),Object.defineProperty(s,"MonikerKind",{enumerable:!0,get:function(){return re.MonikerKind}}),Object.defineProperty(s,"MonikerRequest",{enumerable:!0,get:function(){return re.MonikerRequest}});const te=y(313);Object.defineProperty(s,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return te.TypeHierarchyPrepareRequest}}),Object.defineProperty(s,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return te.TypeHierarchySubtypesRequest}}),Object.defineProperty(s,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return te.TypeHierarchySupertypesRequest}});const Y=y(2048);Object.defineProperty(s,"InlineValueRequest",{enumerable:!0,get:function(){return Y.InlineValueRequest}}),Object.defineProperty(s,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Y.InlineValueRefreshRequest}});const de=y(5332);Object.defineProperty(s,"InlayHintRequest",{enumerable:!0,get:function(){return de.InlayHintRequest}}),Object.defineProperty(s,"InlayHintResolveRequest",{enumerable:!0,get:function(){return de.InlayHintResolveRequest}}),Object.defineProperty(s,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return de.InlayHintRefreshRequest}});const Re=y(2071);Object.defineProperty(s,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Re.DiagnosticServerCancellationData}}),Object.defineProperty(s,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Re.DocumentDiagnosticReportKind}}),Object.defineProperty(s,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Re.DocumentDiagnosticRequest}}),Object.defineProperty(s,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Re.WorkspaceDiagnosticRequest}}),Object.defineProperty(s,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Re.DiagnosticRefreshRequest}});const ue=y(6745);Object.defineProperty(s,"NotebookCellKind",{enumerable:!0,get:function(){return ue.NotebookCellKind}}),Object.defineProperty(s,"ExecutionSummary",{enumerable:!0,get:function(){return ue.ExecutionSummary}}),Object.defineProperty(s,"NotebookCell",{enumerable:!0,get:function(){return ue.NotebookCell}}),Object.defineProperty(s,"NotebookDocument",{enumerable:!0,get:function(){return ue.NotebookDocument}}),Object.defineProperty(s,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ue.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(s,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidOpenNotebookDocumentNotification}}),Object.defineProperty(s,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ue.NotebookCellArrayChange}}),Object.defineProperty(s,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidChangeNotebookDocumentNotification}}),Object.defineProperty(s,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidSaveNotebookDocumentNotification}}),Object.defineProperty(s,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidCloseNotebookDocumentNotification}});const Ge=y(6311);var Je,Qe,et,V,F,K;Object.defineProperty(s,"InlineCompletionRequest",{enumerable:!0,get:function(){return Ge.InlineCompletionRequest}}),(Je||(s.TextDocumentFilter=Je={})).is=function Q(ge){const Ne=ge;return $.string(Ne)||$.string(Ne.language)||$.string(Ne.scheme)||$.string(Ne.pattern)},(Qe||(s.NotebookDocumentFilter=Qe={})).is=function Q(ge){const Ne=ge;return $.objectLiteral(Ne)&&($.string(Ne.notebookType)||$.string(Ne.scheme)||$.string(Ne.pattern))},function(h){h.is=function Q(ge){const Ne=ge;return $.objectLiteral(Ne)&&($.string(Ne.notebook)||Qe.is(Ne.notebook))&&(void 0===Ne.language||$.string(Ne.language))}}(et||(s.NotebookCellTextDocumentFilter=et={})),function(h){h.is=function Q(ge){if(!Array.isArray(ge))return!1;for(let Ne of ge)if(!$.string(Ne)&&!Je.is(Ne)&&!et.is(Ne))return!1;return!0}}(V||(s.DocumentSelector=V={})),function(h){h.method="client/registerCapability",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolRequestType(h.method)}(F||(s.RegistrationRequest=F={})),function(h){h.method="client/unregisterCapability",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolRequestType(h.method)}(K||(s.UnregistrationRequest=K={}));var X,oe,le,Ce,W=function(h){return h.Create="create",h.Rename="rename",h.Delete="delete",h}(W||(s.ResourceOperationKind=W={})),J=function(h){return h.Abort="abort",h.Transactional="transactional",h.TextOnlyTransactional="textOnlyTransactional",h.Undo="undo",h}(J||(s.FailureHandlingKind=J={})),ie=function(h){return h.UTF8="utf-8",h.UTF16="utf-16",h.UTF32="utf-32",h}(ie||(s.PositionEncodingKind=ie={}));!function(h){h.hasId=function Q(ge){const Ne=ge;return Ne&&$.string(Ne.id)&&Ne.id.length>0}}(X||(s.StaticRegistrationOptions=X={})),function(h){h.is=function Q(ge){return ge&&(null===ge.documentSelector||V.is(ge.documentSelector))}}(oe||(s.TextDocumentRegistrationOptions=oe={})),function(h){h.is=function Q(Ne){const O=Ne;return $.objectLiteral(O)&&(void 0===O.workDoneProgress||$.boolean(O.workDoneProgress))},h.hasWorkDoneProgress=function ge(Ne){return Ne&&$.boolean(Ne.workDoneProgress)}}(le||(s.WorkDoneProgressOptions=le={})),function(h){h.method="initialize",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Ce||(s.InitializeRequest=Ce={}));var ye,Me,Oe,Fe,pe=function(h){return h.unknownProtocolVersion=1,h}(pe||(s.InitializeErrorCodes=pe={}));!function(h){h.method="initialized",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(ye||(s.InitializedNotification=ye={})),function(h){h.method="shutdown",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType0(h.method)}(Me||(s.ShutdownRequest=Me={})),function(h){h.method="exit",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType0(h.method)}(Oe||(s.ExitNotification=Oe={})),function(h){h.method="workspace/didChangeConfiguration",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(Fe||(s.DidChangeConfigurationNotification=Fe={}));var ze,De,Be,x,We=function(h){return h.Error=1,h.Warning=2,h.Info=3,h.Log=4,h.Debug=5,h}(We||(s.MessageType=We={}));!function(h){h.method="window/showMessage",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolNotificationType(h.method)}(ze||(s.ShowMessageNotification=ze={})),function(h){h.method="window/showMessageRequest",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolRequestType(h.method)}(De||(s.ShowMessageRequest=De={})),function(h){h.method="window/logMessage",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolNotificationType(h.method)}(Be||(s.LogMessageNotification=Be={})),function(h){h.method="telemetry/event",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolNotificationType(h.method)}(x||(s.TelemetryEventNotification=x={}));var me,Pe,ve,ut,nt,ne=function(h){return h.None=0,h.Full=1,h.Incremental=2,h}(ne||(s.TextDocumentSyncKind=ne={}));!function(h){h.method="textDocument/didOpen",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(me||(s.DidOpenTextDocumentNotification=me={})),function(h){h.isIncremental=function Q(Ne){return null!=Ne&&"string"==typeof Ne.text&&void 0!==Ne.range&&(void 0===Ne.rangeLength||"number"==typeof Ne.rangeLength)},h.isFull=function ge(Ne){return null!=Ne&&"string"==typeof Ne.text&&void 0===Ne.range&&void 0===Ne.rangeLength}}(Pe||(s.TextDocumentContentChangeEvent=Pe={})),function(h){h.method="textDocument/didChange",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(ve||(s.DidChangeTextDocumentNotification=ve={})),function(h){h.method="textDocument/didClose",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(ut||(s.DidCloseTextDocumentNotification=ut={})),function(h){h.method="textDocument/didSave",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(nt||(s.DidSaveTextDocumentNotification=nt={}));var Pt,wt,yt,Rt=function(h){return h.Manual=1,h.AfterDelay=2,h.FocusOut=3,h}(Rt||(s.TextDocumentSaveReason=Rt={}));!function(h){h.method="textDocument/willSave",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(Pt||(s.WillSaveTextDocumentNotification=Pt={})),function(h){h.method="textDocument/willSaveWaitUntil",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(wt||(s.WillSaveTextDocumentWaitUntilRequest=wt={})),function(h){h.method="workspace/didChangeWatchedFiles",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolNotificationType(h.method)}(yt||(s.DidChangeWatchedFilesNotification=yt={}));var at,$t=function(h){return h.Created=1,h.Changed=2,h.Deleted=3,h}($t||(s.FileChangeType=$t={}));!function(h){h.is=function Q(ge){const Ne=ge;return $.objectLiteral(Ne)&&(L.URI.is(Ne.baseUri)||L.WorkspaceFolder.is(Ne.baseUri))&&$.string(Ne.pattern)}}(at||(s.RelativePattern=at={}));var Wt,Dt=function(h){return h.Create=1,h.Change=2,h.Delete=4,h}(Dt||(s.WatchKind=Dt={}));!function(h){h.method="textDocument/publishDiagnostics",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolNotificationType(h.method)}(Wt||(s.PublishDiagnosticsNotification=Wt={}));var Tt,Ct,Gt,Ut=function(h){return h.Invoked=1,h.TriggerCharacter=2,h.TriggerForIncompleteCompletions=3,h}(Ut||(s.CompletionTriggerKind=Ut={}));!function(h){h.method="textDocument/completion",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Tt||(s.CompletionRequest=Tt={})),function(h){h.method="completionItem/resolve",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Ct||(s.CompletionResolveRequest=Ct={})),function(h){h.method="textDocument/hover",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Gt||(s.HoverRequest=Gt={}));var tn,_t,zt,Bt,Kt,dt,Yt,Nt,qt,At,It,Ot,Vt,pt,Xt,ft,Mt,q,lt=function(h){return h.Invoked=1,h.TriggerCharacter=2,h.ContentChange=3,h}(lt||(s.SignatureHelpTriggerKind=lt={}));!function(h){h.method="textDocument/signatureHelp",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(tn||(s.SignatureHelpRequest=tn={})),function(h){h.method="textDocument/definition",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(_t||(s.DefinitionRequest=_t={})),function(h){h.method="textDocument/references",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(zt||(s.ReferencesRequest=zt={})),function(h){h.method="textDocument/documentHighlight",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Bt||(s.DocumentHighlightRequest=Bt={})),function(h){h.method="textDocument/documentSymbol",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Kt||(s.DocumentSymbolRequest=Kt={})),function(h){h.method="textDocument/codeAction",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(dt||(s.CodeActionRequest=dt={})),function(h){h.method="codeAction/resolve",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Yt||(s.CodeActionResolveRequest=Yt={})),function(h){h.method="workspace/symbol",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Nt||(s.WorkspaceSymbolRequest=Nt={})),function(h){h.method="workspaceSymbol/resolve",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(qt||(s.WorkspaceSymbolResolveRequest=qt={})),function(h){h.method="textDocument/codeLens",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(At||(s.CodeLensRequest=At={})),function(h){h.method="codeLens/resolve",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(It||(s.CodeLensResolveRequest=It={})),function(h){h.method="workspace/codeLens/refresh",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolRequestType0(h.method)}(Ot||(s.CodeLensRefreshRequest=Ot={})),function(h){h.method="textDocument/documentLink",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Vt||(s.DocumentLinkRequest=Vt={})),function(h){h.method="documentLink/resolve",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(pt||(s.DocumentLinkResolveRequest=pt={})),function(h){h.method="textDocument/formatting",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Xt||(s.DocumentFormattingRequest=Xt={})),function(h){h.method="textDocument/rangeFormatting",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(ft||(s.DocumentRangeFormattingRequest=ft={})),function(h){h.method="textDocument/rangesFormatting",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(Mt||(s.DocumentRangesFormattingRequest=Mt={})),function(h){h.method="textDocument/onTypeFormatting",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(q||(s.DocumentOnTypeFormattingRequest=q={}));var G,B,k,T,E=function(h){return h.Identifier=1,h}(E||(s.PrepareSupportDefaultBehavior=E={}));!function(h){h.method="textDocument/rename",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(G||(s.RenameRequest=G={})),function(h){h.method="textDocument/prepareRename",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(B||(s.PrepareRenameRequest=B={})),function(h){h.method="workspace/executeCommand",h.messageDirection=u.MessageDirection.clientToServer,h.type=new u.ProtocolRequestType(h.method)}(k||(s.ExecuteCommandRequest=k={})),function(h){h.method="workspace/applyEdit",h.messageDirection=u.MessageDirection.serverToClient,h.type=new u.ProtocolRequestType("workspace/applyEdit")}(T||(s.ApplyWorkspaceEditRequest=T={}))},8728(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.LinkedEditingRangeRequest=void 0;const u=y(9856);var L,$;($=L||(s.LinkedEditingRangeRequest=L={})).method="textDocument/linkedEditingRange",$.messageDirection=u.MessageDirection.clientToServer,$.type=new u.ProtocolRequestType($.method)},6979(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.MonikerRequest=s.MonikerKind=s.UniquenessLevel=void 0;const u=y(9856);var m,f,L=function(f){return f.document="document",f.project="project",f.group="group",f.scheme="scheme",f.global="global",f}(L||(s.UniquenessLevel=L={})),$=function(f){return f.$import="import",f.$export="export",f.local="local",f}($||(s.MonikerKind=$={}));(f=m||(s.MonikerRequest=m={})).method="textDocument/moniker",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method)},6745(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.DidCloseNotebookDocumentNotification=s.DidSaveNotebookDocumentNotification=s.DidChangeNotebookDocumentNotification=s.NotebookCellArrayChange=s.DidOpenNotebookDocumentNotification=s.NotebookDocumentSyncRegistrationType=s.NotebookDocument=s.NotebookCell=s.ExecutionSummary=s.NotebookCellKind=void 0;const u=y(3057),L=y(8386),$=y(9856);var m,I,f,v,D,P,g,A,b,w,_;(I=m||(s.NotebookCellKind=m={})).Markup=1,I.Code=2,I.is=function j(N){return 1===N||2===N},function(I){I.create=function j(re,te){const Y={executionOrder:re};return(!0===te||!1===te)&&(Y.success=te),Y},I.is=function N(re){const te=re;return L.objectLiteral(te)&&u.uinteger.is(te.executionOrder)&&(void 0===te.success||L.boolean(te.success))},I.equals=function Z(re,te){return re===te||null!=re&&null!=te&&re.executionOrder===te.executionOrder&&re.success===te.success}}(f||(s.ExecutionSummary=f={})),function(I){function re(te,Y){if(te===Y)return!0;if(null==te||null==Y||typeof te!=typeof Y||"object"!=typeof te)return!1;const de=Array.isArray(te),Re=Array.isArray(Y);if(de!==Re)return!1;if(de&&Re){if(te.length!==Y.length)return!1;for(let ue=0;ue<te.length;ue++)if(!re(te[ue],Y[ue]))return!1}if(L.objectLiteral(te)&&L.objectLiteral(Y)){const ue=Object.keys(te),Ge=Object.keys(Y);if(ue.length!==Ge.length||(ue.sort(),Ge.sort(),!re(ue,Ge)))return!1;for(let Le=0;Le<ue.length;Le++){const Je=ue[Le];if(!re(te[Je],Y[Je]))return!1}}return!0}I.create=function j(te,Y){return{kind:te,document:Y}},I.is=function N(te){const Y=te;return L.objectLiteral(Y)&&m.is(Y.kind)&&u.DocumentUri.is(Y.document)&&(void 0===Y.metadata||L.objectLiteral(Y.metadata))},I.diff=function Z(te,Y){const de=new Set;return te.document!==Y.document&&de.add("document"),te.kind!==Y.kind&&de.add("kind"),te.executionSummary!==Y.executionSummary&&de.add("executionSummary"),(void 0!==te.metadata||void 0!==Y.metadata)&&!re(te.metadata,Y.metadata)&&de.add("metadata"),(void 0!==te.executionSummary||void 0!==Y.executionSummary)&&!f.equals(te.executionSummary,Y.executionSummary)&&de.add("executionSummary"),de}}(v||(s.NotebookCell=v={})),function(I){I.create=function j(Z,re,te,Y){return{uri:Z,notebookType:re,version:te,cells:Y}},I.is=function N(Z){const re=Z;return L.objectLiteral(re)&&L.string(re.uri)&&u.integer.is(re.version)&&L.typedArray(re.cells,v.is)}}(D||(s.NotebookDocument=D={})),function(I){I.method="notebookDocument/sync",I.messageDirection=$.MessageDirection.clientToServer,I.type=new $.RegistrationType(I.method)}(P||(s.NotebookDocumentSyncRegistrationType=P={})),function(I){I.method="notebookDocument/didOpen",I.messageDirection=$.MessageDirection.clientToServer,I.type=new $.ProtocolNotificationType(I.method),I.registrationMethod=P.method}(g||(s.DidOpenNotebookDocumentNotification=g={})),function(I){I.is=function j(Z){const re=Z;return L.objectLiteral(re)&&u.uinteger.is(re.start)&&u.uinteger.is(re.deleteCount)&&(void 0===re.cells||L.typedArray(re.cells,v.is))},I.create=function N(Z,re,te){const Y={start:Z,deleteCount:re};return void 0!==te&&(Y.cells=te),Y}}(A||(s.NotebookCellArrayChange=A={})),function(I){I.method="notebookDocument/didChange",I.messageDirection=$.MessageDirection.clientToServer,I.type=new $.ProtocolNotificationType(I.method),I.registrationMethod=P.method}(b||(s.DidChangeNotebookDocumentNotification=b={})),function(I){I.method="notebookDocument/didSave",I.messageDirection=$.MessageDirection.clientToServer,I.type=new $.ProtocolNotificationType(I.method),I.registrationMethod=P.method}(w||(s.DidSaveNotebookDocumentNotification=w={})),function(I){I.method="notebookDocument/didClose",I.messageDirection=$.MessageDirection.clientToServer,I.type=new $.ProtocolNotificationType(I.method),I.registrationMethod=P.method}(_||(s.DidCloseNotebookDocumentNotification=_={}))},2539(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WorkDoneProgressCancelNotification=s.WorkDoneProgressCreateRequest=s.WorkDoneProgress=void 0;const u=y(371),L=y(9856);var $,v,m,f;(v=$||(s.WorkDoneProgress=$={})).type=new u.ProgressType,v.is=function D(P){return P===v.type},function(v){v.method="window/workDoneProgress/create",v.messageDirection=L.MessageDirection.serverToClient,v.type=new L.ProtocolRequestType(v.method)}(m||(s.WorkDoneProgressCreateRequest=m={})),function(v){v.method="window/workDoneProgress/cancel",v.messageDirection=L.MessageDirection.clientToServer,v.type=new L.ProtocolNotificationType(v.method)}(f||(s.WorkDoneProgressCancelNotification=f={}))},2443(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionRangeRequest=void 0;const u=y(9856);var L,$;($=L||(s.SelectionRangeRequest=L={})).method="textDocument/selectionRange",$.messageDirection=u.MessageDirection.clientToServer,$.type=new u.ProtocolRequestType($.method)},9586(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.SemanticTokensRefreshRequest=s.SemanticTokensRangeRequest=s.SemanticTokensDeltaRequest=s.SemanticTokensRequest=s.SemanticTokensRegistrationType=s.TokenFormat=void 0;const u=y(9856);var $,P,m,f,v,D,L=function(P){return P.Relative="relative",P}(L||(s.TokenFormat=L={}));(P=$||(s.SemanticTokensRegistrationType=$={})).method="textDocument/semanticTokens",P.type=new u.RegistrationType(P.method),function(P){P.method="textDocument/semanticTokens/full",P.messageDirection=u.MessageDirection.clientToServer,P.type=new u.ProtocolRequestType(P.method),P.registrationMethod=$.method}(m||(s.SemanticTokensRequest=m={})),function(P){P.method="textDocument/semanticTokens/full/delta",P.messageDirection=u.MessageDirection.clientToServer,P.type=new u.ProtocolRequestType(P.method),P.registrationMethod=$.method}(f||(s.SemanticTokensDeltaRequest=f={})),function(P){P.method="textDocument/semanticTokens/range",P.messageDirection=u.MessageDirection.clientToServer,P.type=new u.ProtocolRequestType(P.method),P.registrationMethod=$.method}(v||(s.SemanticTokensRangeRequest=v={})),function(P){P.method="workspace/semanticTokens/refresh",P.messageDirection=u.MessageDirection.serverToClient,P.type=new u.ProtocolRequestType0(P.method)}(D||(s.SemanticTokensRefreshRequest=D={}))},9912(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.ShowDocumentRequest=void 0;const u=y(9856);var L,$;($=L||(s.ShowDocumentRequest=L={})).method="window/showDocument",$.messageDirection=u.MessageDirection.serverToClient,$.type=new u.ProtocolRequestType($.method)},7721(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.TypeDefinitionRequest=void 0;const u=y(9856);var $,m;(m=$||(s.TypeDefinitionRequest=$={})).method="textDocument/typeDefinition",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolRequestType(m.method)},313(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.TypeHierarchySubtypesRequest=s.TypeHierarchySupertypesRequest=s.TypeHierarchyPrepareRequest=void 0;const u=y(9856);var L,f,$,m;(f=L||(s.TypeHierarchyPrepareRequest=L={})).method="textDocument/prepareTypeHierarchy",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method),function(f){f.method="typeHierarchy/supertypes",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method)}($||(s.TypeHierarchySupertypesRequest=$={})),function(f){f.method="typeHierarchy/subtypes",f.messageDirection=u.MessageDirection.clientToServer,f.type=new u.ProtocolRequestType(f.method)}(m||(s.TypeHierarchySubtypesRequest=m={}))},4747(Ee,s,y){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.DidChangeWorkspaceFoldersNotification=s.WorkspaceFoldersRequest=void 0;const u=y(9856);var L,m,$;(m=L||(s.WorkspaceFoldersRequest=L={})).method="workspace/workspaceFolders",m.messageDirection=u.MessageDirection.serverToClient,m.type=new u.ProtocolRequestType0(m.method),function(m){m.method="workspace/didChangeWorkspaceFolders",m.messageDirection=u.MessageDirection.clientToServer,m.type=new u.ProtocolNotificationType(m.method)}($||(s.DidChangeWorkspaceFoldersNotification=$={}))},8386(Ee,s){"use strict";function u(g){return"string"==typeof g||g instanceof String}function f(g){return Array.isArray(g)}Object.defineProperty(s,"__esModule",{value:!0}),s.objectLiteral=s.typedArray=s.stringArray=s.array=s.func=s.error=s.number=s.string=s.boolean=void 0,s.boolean=function y(g){return!0===g||!1===g},s.string=u,s.number=function L(g){return"number"==typeof g||g instanceof Number},s.error=function $(g){return g instanceof Error},s.func=function m(g){return"function"==typeof g},s.array=f,s.stringArray=function v(g){return f(g)&&g.every(A=>u(A))},s.typedArray=function D(g,A){return Array.isArray(g)&&g.every(A)},s.objectLiteral=function P(g){return null!==g&&"object"==typeof g}},5386(Ee){function s(u,L,$,m,f,v,D){try{var P=u[v](D),g=P.value}catch(A){return void $(A)}P.done?L(g):Promise.resolve(g).then(m,f)}Ee.exports=function y(u){return function(){var L=this,$=arguments;return new Promise(function(m,f){var v=u.apply(L,$);function D(g){s(v,m,f,D,P,"next",g)}function P(g){s(v,m,f,D,P,"throw",g)}D(void 0)})}},Ee.exports.__esModule=!0,Ee.exports.default=Ee.exports},2909(Ee,s,y){"use strict";function u(j){return j.charCodeAt(0)}function L(j,N){Array.isArray(j)?j.forEach(function(Z){N.push(Z)}):N.push(j)}function $(j,N){if(!0===j[N])throw"duplicate flag "+N;j[N]=!0}function m(j){if(void 0===j)throw Error("Internal Error - Should never get here!");return!0}function f(){throw Error("Internal Error - Should never get here!")}function v(j){return"Character"===j.type}y.d(s,{z:()=>I,H:()=>_});const D=[];for(let j=u("0");j<=u("9");j++)D.push(j);const P=[u("_")].concat(D);for(let j=u("a");j<=u("z");j++)P.push(j);for(let j=u("A");j<=u("Z");j++)P.push(j);const g=[u(" "),u("\f"),u("\n"),u("\r"),u("\t"),u("\v"),u("\t"),u("\xa0"),u("\u1680"),u("\u2000"),u("\u2001"),u("\u2002"),u("\u2003"),u("\u2004"),u("\u2005"),u("\u2006"),u("\u2007"),u("\u2008"),u("\u2009"),u("\u200a"),u("\u2028"),u("\u2029"),u("\u202f"),u("\u205f"),u("\u3000"),u("\ufeff")],A=/[0-9a-fA-F]/,b=/[0-9]/,w=/[1-9]/;class _{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(N){this.idx=N.idx,this.input=N.input,this.groupIdx=N.groupIdx}pattern(N){this.idx=0,this.input=N,this.groupIdx=0,this.consumeChar("/");const Z=this.disjunction();this.consumeChar("/");const re={type:"Flags",loc:{begin:this.idx,end:N.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":$(re,"global");break;case"i":$(re,"ignoreCase");break;case"m":$(re,"multiLine");break;case"u":$(re,"unicode");break;case"y":$(re,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:re,value:Z,loc:this.loc(0)}}disjunction(){const N=[],Z=this.idx;for(N.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),N.push(this.alternative());return{type:"Disjunction",value:N,loc:this.loc(Z)}}alternative(){const N=[],Z=this.idx;for(;this.isTerm();)N.push(this.term());return{type:"Alternative",value:N,loc:this.loc(Z)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const N=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(N)};case"$":return{type:"EndAnchor",loc:this.loc(N)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(N)};case"B":return{type:"NonWordBoundary",loc:this.loc(N)}}throw Error("Invalid Assertion Escape");case"(":let Z;switch(this.consumeChar("?"),this.popChar()){case"=":Z="Lookahead";break;case"!":Z="NegativeLookahead";break;case"<":switch(this.popChar()){case"=":Z="Lookbehind";break;case"!":Z="NegativeLookbehind"}}m(Z);const re=this.disjunction();return this.consumeChar(")"),{type:Z,value:re,loc:this.loc(N)}}return f()}quantifier(N=!1){let Z;const re=this.idx;switch(this.popChar()){case"*":Z={atLeast:0,atMost:1/0};break;case"+":Z={atLeast:1,atMost:1/0};break;case"?":Z={atLeast:0,atMost:1};break;case"{":const te=this.integerIncludingZero();switch(this.popChar()){case"}":Z={atLeast:te,atMost:te};break;case",":let Y;this.isDigit()?(Y=this.integerIncludingZero(),Z={atLeast:te,atMost:Y}):Z={atLeast:te,atMost:1/0},this.consumeChar("}")}if(!0===N&&void 0===Z)return;m(Z)}if((!0!==N||void 0!==Z)&&m(Z))return"?"===this.peekChar(0)?(this.consumeChar("?"),Z.greedy=!1):Z.greedy=!0,Z.type="Quantifier",Z.loc=this.loc(re),Z}atom(){let N;const Z=this.idx;switch(this.peekChar()){case".":N=this.dotAll();break;case"\\":N=this.atomEscape();break;case"[":N=this.characterClass();break;case"(":N=this.group()}return void 0===N&&this.isPatternCharacter()&&(N=this.patternCharacter()),m(N)?(N.loc=this.loc(Z),this.isQuantifier()&&(N.quantifier=this.quantifier()),N):f()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[u("\n"),u("\r"),u("\u2028"),u("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let N,Z=!1;switch(this.popChar()){case"d":N=D;break;case"D":N=D,Z=!0;break;case"s":N=g;break;case"S":N=g,Z=!0;break;case"w":N=P;break;case"W":N=P,Z=!0}return m(N)?{type:"Set",value:N,complement:Z}:f()}controlEscapeAtom(){let N;switch(this.popChar()){case"f":N=u("\f");break;case"n":N=u("\n");break;case"r":N=u("\r");break;case"t":N=u("\t");break;case"v":N=u("\v")}return m(N)?{type:"Character",value:N}:f()}controlLetterEscapeAtom(){this.consumeChar("c");const N=this.popChar();if(!1===/[a-zA-Z]/.test(N))throw Error("Invalid ");return{type:"Character",value:N.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:u("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:u(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:u(this.popChar())}}}characterClass(){const N=[];let Z=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),Z=!0);this.isClassAtom();){const re=this.classAtom();if(v(re)&&this.isRangeDash()){this.consumeChar("-");const Y=this.classAtom();if(v(Y)){if(Y.value<re.value)throw Error("Range out of order in character class");N.push({from:re.value,to:Y.value})}else L(re.value,N),N.push(u("-")),L(Y.value,N)}else L(re.value,N)}return this.consumeChar("]"),{type:"Set",complement:Z,value:N}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:u("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let N=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),N=!1):this.groupIdx++;const Z=this.disjunction();this.consumeChar(")");const re={type:"Group",capturing:N,value:Z};return N&&(re.idx=this.groupIdx),re}positiveInteger(){let N=this.popChar();if(!1===w.test(N))throw Error("Expecting a positive integer");for(;b.test(this.peekChar(0));)N+=this.popChar();return parseInt(N,10)}integerIncludingZero(){let N=this.popChar();if(!1===b.test(N))throw Error("Expecting an integer");for(;b.test(this.peekChar(0));)N+=this.popChar();return parseInt(N,10)}patternCharacter(){const N=this.popChar();switch(N){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:u(N)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return b.test(this.peekChar(0))}isClassAtom(N=0){switch(this.peekChar(N)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2)||"<"===this.peekChar(2)&&("="===this.peekChar(3)||"!"===this.peekChar(3)));default:return!1}}isQuantifier(){const N=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(N)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(N){let Z="";for(let te=0;te<N;te++){const Y=this.popChar();if(!1===A.test(Y))throw Error("Expecting a HexDecimal digits");Z+=Y}return{type:"Character",value:parseInt(Z,16)}}peekChar(N=0){return this.input[this.idx+N]}popChar(){const N=this.peekChar(0);return this.consumeChar(void 0),N}consumeChar(N){if(void 0!==N&&this.input[this.idx]!==N)throw Error("Expected: '"+N+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(N){return{begin:N,end:this.idx}}}class I{visitChildren(N){for(const Z in N){const re=N[Z];N.hasOwnProperty(Z)&&(void 0!==re.type?this.visit(re):Array.isArray(re)&&re.forEach(te=>{this.visit(te)},this))}}visit(N){switch(N.type){case"Pattern":this.visitPattern(N);break;case"Flags":this.visitFlags(N);break;case"Disjunction":this.visitDisjunction(N);break;case"Alternative":this.visitAlternative(N);break;case"StartAnchor":this.visitStartAnchor(N);break;case"EndAnchor":this.visitEndAnchor(N);break;case"WordBoundary":this.visitWordBoundary(N);break;case"NonWordBoundary":this.visitNonWordBoundary(N);break;case"Lookahead":this.visitLookahead(N);break;case"NegativeLookahead":this.visitNegativeLookahead(N);break;case"Lookbehind":this.visitLookbehind(N);break;case"NegativeLookbehind":this.visitNegativeLookbehind(N);break;case"Character":this.visitCharacter(N);break;case"Set":this.visitSet(N);break;case"Group":this.visitGroup(N);break;case"GroupBackReference":this.visitGroupBackReference(N);break;case"Quantifier":this.visitQuantifier(N)}this.visitChildren(N)}visitPattern(N){}visitFlags(N){}visitDisjunction(N){}visitAlternative(N){}visitStartAnchor(N){}visitEndAnchor(N){}visitWordBoundary(N){}visitNonWordBoundary(N){}visitLookahead(N){}visitNegativeLookahead(N){}visitLookbehind(N){}visitNegativeLookbehind(N){}visitCharacter(N){}visitSet(N){}visitGroup(N){}visitGroupBackReference(N){}visitQuantifier(N){}}},7076(Ee,s,y){"use strict";y.d(s,{L:()=>v,b:()=>D});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},v={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new u.Tm,"ValueConverter")}};function D(P=m.D){const g=(0,$.WQ)((0,L.u)(P),u.sr),A=(0,$.WQ)((0,L.t)({shared:g}),u.d$,v);return g.ServiceRegistry.register(A),{shared:g,GitGraph:A}}(0,u.K2)(D,"createGitGraphServices")},9156(Ee,s,y){"use strict";y.d(s,{F:()=>A,d:()=>b});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},v=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,D=class extends u.dg{static{(0,u.K2)(this,"TreemapValueConverter")}runCustomConverter(w,_,I){if("NUMBER2"===w.name)return parseFloat(_.replace(/,/g,""));if("SEPARATOR"===w.name)return _.substring(1,_.length-1);if("STRING2"===w.name)return _.substring(1,_.length-1);if("INDENTATION"===w.name)return _.length;if("ClassDef"===w.name){if("string"!=typeof _)return _;const j=v.exec(_);if(j)return{$type:"ClassDefStatement",className:j[1],styleText:j[2]||void 0}}}};function P(w){const _=w.validation.TreemapValidator,I=w.validation.ValidationRegistry;if(I){const j={Treemap:_.checkSingleRoot.bind(_)};I.register(j,_)}}(0,u.K2)(P,"registerValidationChecks");var g=class{static{(0,u.K2)(this,"TreemapValidator")}checkSingleRoot(w,_){let I;for(const j of w.TreemapRows)j.item&&(void 0===I&&void 0===j.indent?I=0:(void 0===j.indent||void 0!==I&&I>=parseInt(j.indent,10))&&_("error","Multiple root nodes are not allowed in a treemap.",{node:j,property:"item"}))}},A={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new D,"ValueConverter")},validation:{TreemapValidator:(0,u.K2)(()=>new g,"TreemapValidator")}};function b(w=m.D){const _=(0,$.WQ)((0,L.u)(w),u.sr),I=(0,$.WQ)((0,L.t)({shared:_}),u.XE,A);return _.ServiceRegistry.register(I),P(I),{shared:_,Treemap:I}}(0,u.K2)(b,"createTreemapServices")},5553(Ee,s,y){"use strict";y.d(s,{p:()=>v,v:()=>D});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},v={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new u.Tm,"ValueConverter")}};function D(P=m.D){const g=(0,$.WQ)((0,L.u)(P),u.sr),A=(0,$.WQ)((0,L.t)({shared:g}),u.FZ,v);return g.ServiceRegistry.register(A),{shared:g,Info:A}}(0,u.K2)(D,"createInfoServices")},3402(Ee,s,y){"use strict";y.d(s,{B:()=>D,f:()=>P});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},v=class extends u.dg{static{(0,u.K2)(this,"PieValueConverter")}runCustomConverter(g,A,b){if("PIE_SECTION_LABEL"===g.name)return A.replace(/"/g,"").trim()}},D={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new v,"ValueConverter")}};function P(g=m.D){const A=(0,$.WQ)((0,L.u)(g),u.sr),b=(0,$.WQ)((0,L.t)({shared:A}),u.D_,D);return A.ServiceRegistry.register(b),{shared:A,Pie:b}}(0,u.K2)(P,"createPieServices")},7100(Ee,s,y){"use strict";y.d(s,{$:()=>D,T:()=>v});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},v={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new u.Tm,"ValueConverter")}};function D(P=m.D){const g=(0,$.WQ)((0,L.u)(P),u.sr),A=(0,$.WQ)((0,L.t)({shared:g}),u.p5,v);return g.ServiceRegistry.register(A),{shared:g,Packet:A}}(0,u.K2)(D,"createPacketServices")},3050(Ee,s,y){"use strict";y.d(s,{mR:()=>Xe,dg:()=>Se,wV:()=>G,Tm:()=>we,d$:()=>B,FZ:()=>k,sr:()=>E,p5:()=>T,D_:()=>h,Bg:()=>Q,XE:()=>ge,K2:()=>I});var u=y(7449),L=y(8714),$=y(1326),m=y(2917),f=y(7423),v=y(2510);const D={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},P={AstReflection:()=>new m.QX};function A(ke){const xe=function g(){const ke=(0,$.WQ)((0,L.u)(f.D),P),xe=(0,$.WQ)((0,L.t)({shared:ke}),D);return ke.ServiceRegistry.register(xe),xe}(),He=xe.serializer.JsonSerializer.deserialize(ke);return xe.shared.workspace.LangiumDocumentFactory.fromModel(He,v.r.parse(`memory:/${He.name??"grammar"}.langium`)),He}var j,N,Z,re,te,Y,de,b=y(6535),w=y(3460),_=Object.defineProperty,I=(ke,xe)=>_(ke,"name",{value:xe,configurable:!0});(j||(j={})).Terminals={ARROW_DIRECTION:/L|R|T|B/,ARROW_GROUP:/\{group\}/,ARROW_INTO:/<|>/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,ID:/[\w]([-\w]*\w)?/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/,ARCH_ICON:/\([\w-:]+\)/,ARCH_TITLE:/\[[\w ]+\]/},(N||(N={})).Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,INT:/0|[1-9][0-9]*(?!\.)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/,REFERENCE:/\w([-\./\w]*[-\w])?/},(ke=>{ke.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(Z||(Z={})),(ke=>{ke.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,INT:/0|[1-9][0-9]*(?!\.)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(re||(re={})),(ke=>{ke.Terminals={NUMBER_PIE:/(?:-?[0-9]+\.[0-9]+(?!\.))|(?:-?(0|[1-9][0-9]*)(?!\.))/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(te||(te={})),(ke=>{ke.Terminals={GRATICULE:/circle|polygon/,BOOLEAN:/true|false/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,NUMBER:/(?:[0-9]+\.[0-9]+(?!\.))|(?:0|[1-9][0-9]*(?!\.))/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,ID:/[\w]([-\w]*\w)?/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(Y||(Y={})),(ke=>{ke.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,TREEMAP_KEYWORD:/treemap-beta|treemap/,CLASS_DEF:/classDef\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\s+([^;\r\n]*))?(?:;)?/,STYLE_SEPARATOR:/:::/,SEPARATOR:/:/,COMMA:/,/,INDENTATION:/[ \t]{1,}/,WS:/[ \t]+/,ML_COMMENT:/\%\%[^\n]*/,NL:/\r?\n/,ID2:/[a-zA-Z_][a-zA-Z0-9_]*/,NUMBER2:/[0-9_\.\,]+/,STRING2:/"[^"]*"|'[^']*'/}})(de||(de={}));I(function Ge(ke){return Tt.isInstance(ke,"Architecture")},"isArchitecture");I(function Qe(ke){return Tt.isInstance(ke,"Branch")},"isBranch");I(function W(ke){return Tt.isInstance(ke,"Commit")},"isCommit");I(function Ce(ke){return Tt.isInstance(ke,"GitGraph")},"isGitGraph");I(function Me(ke){return Tt.isInstance(ke,"Info")},"isInfo");I(function De(ke){return Tt.isInstance(ke,"Merge")},"isMerge");I(function ne(ke){return Tt.isInstance(ke,"Packet")},"isPacket");I(function Pe(ke){return Tt.isInstance(ke,"PacketBlock")},"isPacketBlock");I(function ut(ke){return Tt.isInstance(ke,"Pie")},"isPie");I(function Rt(ke){return Tt.isInstance(ke,"PieSection")},"isPieSection");I(function Dt(ke){return Tt.isInstance(ke,"Treemap")},"isTreemap");var Ct,lt,_t,Bt,dt,Nt,At,Ut=class extends u.kD{constructor(){super(...arguments),this.types={Architecture:{name:"Architecture",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},edges:{name:"edges",defaultValue:[]},groups:{name:"groups",defaultValue:[]},junctions:{name:"junctions",defaultValue:[]},services:{name:"services",defaultValue:[]},title:{name:"title"}},superTypes:[]},Axis:{name:"Axis",properties:{label:{name:"label"},name:{name:"name"}},superTypes:[]},Branch:{name:"Branch",properties:{name:{name:"name"},order:{name:"order"}},superTypes:["Statement"]},Checkout:{name:"Checkout",properties:{branch:{name:"branch"}},superTypes:["Statement"]},CherryPicking:{name:"CherryPicking",properties:{id:{name:"id"},parent:{name:"parent"},tags:{name:"tags",defaultValue:[]}},superTypes:["Statement"]},ClassDefStatement:{name:"ClassDefStatement",properties:{className:{name:"className"},styleText:{name:"styleText"}},superTypes:[]},Commit:{name:"Commit",properties:{id:{name:"id"},message:{name:"message"},tags:{name:"tags",defaultValue:[]},type:{name:"type"}},superTypes:["Statement"]},Curve:{name:"Curve",properties:{entries:{name:"entries",defaultValue:[]},label:{name:"label"},name:{name:"name"}},superTypes:[]},Direction:{name:"Direction",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},dir:{name:"dir"},statements:{name:"statements",defaultValue:[]},title:{name:"title"}},superTypes:["GitGraph"]},Edge:{name:"Edge",properties:{lhsDir:{name:"lhsDir"},lhsGroup:{name:"lhsGroup",defaultValue:!1},lhsId:{name:"lhsId"},lhsInto:{name:"lhsInto",defaultValue:!1},rhsDir:{name:"rhsDir"},rhsGroup:{name:"rhsGroup",defaultValue:!1},rhsId:{name:"rhsId"},rhsInto:{name:"rhsInto",defaultValue:!1},title:{name:"title"}},superTypes:[]},Entry:{name:"Entry",properties:{axis:{name:"axis",referenceType:"Axis"},value:{name:"value"}},superTypes:[]},GitGraph:{name:"GitGraph",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},statements:{name:"statements",defaultValue:[]},title:{name:"title"}},superTypes:[]},Group:{name:"Group",properties:{icon:{name:"icon"},id:{name:"id"},in:{name:"in"},title:{name:"title"}},superTypes:[]},Info:{name:"Info",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},title:{name:"title"}},superTypes:[]},Item:{name:"Item",properties:{classSelector:{name:"classSelector"},name:{name:"name"}},superTypes:[]},Junction:{name:"Junction",properties:{id:{name:"id"},in:{name:"in"}},superTypes:[]},Leaf:{name:"Leaf",properties:{classSelector:{name:"classSelector"},name:{name:"name"},value:{name:"value"}},superTypes:["Item"]},Merge:{name:"Merge",properties:{branch:{name:"branch"},id:{name:"id"},tags:{name:"tags",defaultValue:[]},type:{name:"type"}},superTypes:["Statement"]},Option:{name:"Option",properties:{name:{name:"name"},value:{name:"value",defaultValue:!1}},superTypes:[]},Packet:{name:"Packet",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},blocks:{name:"blocks",defaultValue:[]},title:{name:"title"}},superTypes:[]},PacketBlock:{name:"PacketBlock",properties:{bits:{name:"bits"},end:{name:"end"},label:{name:"label"},start:{name:"start"}},superTypes:[]},Pie:{name:"Pie",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},sections:{name:"sections",defaultValue:[]},showData:{name:"showData",defaultValue:!1},title:{name:"title"}},superTypes:[]},PieSection:{name:"PieSection",properties:{label:{name:"label"},value:{name:"value"}},superTypes:[]},Radar:{name:"Radar",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},axes:{name:"axes",defaultValue:[]},curves:{name:"curves",defaultValue:[]},options:{name:"options",defaultValue:[]},title:{name:"title"}},superTypes:[]},Section:{name:"Section",properties:{classSelector:{name:"classSelector"},name:{name:"name"}},superTypes:["Item"]},Service:{name:"Service",properties:{icon:{name:"icon"},iconText:{name:"iconText"},id:{name:"id"},in:{name:"in"},title:{name:"title"}},superTypes:[]},Statement:{name:"Statement",properties:{},superTypes:[]},Treemap:{name:"Treemap",properties:{accDescr:{name:"accDescr"},accTitle:{name:"accTitle"},title:{name:"title"},TreemapRows:{name:"TreemapRows",defaultValue:[]}},superTypes:[]},TreemapRow:{name:"TreemapRow",properties:{indent:{name:"indent"},item:{name:"item"}},superTypes:[]}}}static{I(this,"MermaidAstReflection")}},Tt=new Ut,Gt=I(()=>Ct??(Ct=A('{"$type":"Grammar","isDeclared":true,"name":"ArchitectureGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"},"parenthesized":false}],"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"},"parenthesized":false}],"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[],"types":[]}')),"ArchitectureGrammarGrammar"),tn=I(()=>lt??(lt=A('{"$type":"Grammar","isDeclared":true,"name":"GitGraphGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[],"types":[]}')),"GitGraphGrammarGrammar"),zt=I(()=>_t??(_t=A('{"$type":"Grammar","isDeclared":true,"name":"InfoGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}')),"InfoGrammarGrammar"),Kt=I(()=>Bt??(Bt=A('{"$type":"Grammar","isDeclared":true,"name":"PacketGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}')),"PacketGrammarGrammar"),Yt=I(()=>dt??(dt=A('{"$type":"Grammar","isDeclared":true,"name":"PieGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}')),"PieGrammarGrammar"),qt=I(()=>Nt??(Nt=A('{"$type":"Grammar","isDeclared":true,"name":"RadarGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false,"isMulti":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}},"isMulti":false}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"types":[]}')),"RadarGrammarGrammar"),It=I(()=>At??(At=A('{"$type":"Grammar","isDeclared":true,"name":"TreemapGrammar","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@15"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"imports":[],"types":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammarGrammar"),Ot={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Vt={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},pt={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Xt={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ft={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Mt={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},q={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},E={AstReflection:I(()=>new Ut,"AstReflection")},G={Grammar:I(()=>Gt(),"Grammar"),LanguageMetaData:I(()=>Ot,"LanguageMetaData"),parser:{}},B={Grammar:I(()=>tn(),"Grammar"),LanguageMetaData:I(()=>Vt,"LanguageMetaData"),parser:{}},k={Grammar:I(()=>zt(),"Grammar"),LanguageMetaData:I(()=>pt,"LanguageMetaData"),parser:{}},T={Grammar:I(()=>Kt(),"Grammar"),LanguageMetaData:I(()=>Xt,"LanguageMetaData"),parser:{}},h={Grammar:I(()=>Yt(),"Grammar"),LanguageMetaData:I(()=>ft,"LanguageMetaData"),parser:{}},Q={Grammar:I(()=>qt(),"Grammar"),LanguageMetaData:I(()=>Mt,"LanguageMetaData"),parser:{}},ge={Grammar:I(()=>It(),"Grammar"),LanguageMetaData:I(()=>q,"LanguageMetaData"),parser:{}},Te={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Se=class extends b.d{static{I(this,"AbstractMermaidValueConverter")}runConverter(ke,xe,He){let qe=this.runCommonConverter(ke,xe,He);return void 0===qe&&(qe=this.runCustomConverter(ke,xe,He)),void 0===qe?super.runConverter(ke,xe,He):qe}runCommonConverter(ke,xe,He){const qe=Te[ke.name];if(void 0===qe)return;const _e=qe.exec(xe);if(null!==_e){if(void 0!==_e[1])return _e[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==_e[2])return _e[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},we=class extends Se{static{I(this,"CommonValueConverter")}runCustomConverter(ke,xe,He){}},Xe=class extends w.Q{static{I(this,"AbstractMermaidTokenBuilder")}constructor(ke){super(),this.keywords=new Set(ke)}buildKeywordTokens(ke,xe,He){const qe=super.buildKeywordTokens(ke,xe,He);return qe.forEach(_e=>{this.keywords.has(_e.name)&&void 0!==_e.PATTERN&&(_e.PATTERN=new RegExp(_e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),qe}};(class extends Xe{static{I(this,"CommonTokenBuilder")}})},8339(Ee,s,y){"use strict";y.d(s,{f:()=>D,l:()=>v});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},v={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new u.Tm,"ValueConverter")}};function D(P=m.D){const g=(0,$.WQ)((0,L.u)(P),u.sr),A=(0,$.WQ)((0,L.t)({shared:g}),u.Bg,v);return g.ServiceRegistry.register(A),{shared:g,Radar:A}}(0,u.K2)(D,"createRadarServices")},2243(Ee,s,y){"use strict";y.d(s,{S:()=>P,i:()=>D});var u=y(3050),L=y(8714),$=y(1326),m=y(7423),f=class extends u.mR{static{(0,u.K2)(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},v=class extends u.dg{static{(0,u.K2)(this,"ArchitectureValueConverter")}runCustomConverter(g,A,b){return"ARCH_ICON"===g.name?A.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===g.name?A.replace(/["()]/g,""):"ARCH_TITLE"===g.name?A.replace(/[[\]]/g,"").trim():void 0}},D={parser:{TokenBuilder:(0,u.K2)(()=>new f,"TokenBuilder"),ValueConverter:(0,u.K2)(()=>new v,"ValueConverter")}};function P(g=m.D){const A=(0,$.WQ)((0,L.u)(g),u.sr),b=(0,$.WQ)((0,L.t)({shared:A}),u.wV,D);return A.ServiceRegistry.register(b),{shared:A,Architecture:b}}(0,u.K2)(P,"createArchitectureServices")},2233(Ee,s,y){"use strict";y.d(s,{qg:()=>w});var u=y(9204),g=(y(7076),y(5553),y(7100),y(3402),y(2243),y(8339),y(9156),y(3050)),A={},b={info:(0,g.K2)((0,u.A)(function*(){const{createInfoServices:j}=yield y.e(710).then(y.bind(y,4710)),N=j().Info.parser.LangiumParser;A.info=N}),"info"),packet:(0,g.K2)((0,u.A)(function*(){const{createPacketServices:j}=yield y.e(347).then(y.bind(y,3347)),N=j().Packet.parser.LangiumParser;A.packet=N}),"packet"),pie:(0,g.K2)((0,u.A)(function*(){const{createPieServices:j}=yield y.e(821).then(y.bind(y,9821)),N=j().Pie.parser.LangiumParser;A.pie=N}),"pie"),architecture:(0,g.K2)((0,u.A)(function*(){const{createArchitectureServices:j}=yield y.e(903).then(y.bind(y,6903)),N=j().Architecture.parser.LangiumParser;A.architecture=N}),"architecture"),gitGraph:(0,g.K2)((0,u.A)(function*(){const{createGitGraphServices:j}=yield y.e(287).then(y.bind(y,287)),N=j().GitGraph.parser.LangiumParser;A.gitGraph=N}),"gitGraph"),radar:(0,g.K2)((0,u.A)(function*(){const{createRadarServices:j}=yield y.e(93).then(y.bind(y,8093)),N=j().Radar.parser.LangiumParser;A.radar=N}),"radar"),treemap:(0,g.K2)((0,u.A)(function*(){const{createTreemapServices:j}=yield y.e(850).then(y.bind(y,3850)),N=j().Treemap.parser.LangiumParser;A.treemap=N}),"treemap")};function w(j,N){return _.apply(this,arguments)}function _(){return(_=(0,u.A)(function*(j,N){const Z=b[j];if(!Z)throw new Error(`Unknown diagram type: ${j}`);A[j]||(yield Z());const te=A[j].parse(N);if(te.lexerErrors.length>0||te.parserErrors.length>0)throw new I(te);return te.value})).apply(this,arguments)}(0,g.K2)(w,"parse");var I=class extends Error{constructor(j){super(`Parsing failed: ${j.lexerErrors.map(re=>re.message).join("\n")} ${j.parserErrors.map(re=>re.message).join("\n")}`),this.result=j}static{(0,g.K2)(this,"MermaidParseError")}}},8693(Ee,s,y){"use strict";y.d(s,{ak:()=>Pe,mT:()=>Fa,LT:()=>un,jr:()=>Ua,T6:()=>Is,JG:()=>on,wL:()=>Fe,c$:()=>De,Y2:()=>ne,$P:()=>Be,Cy:()=>x,Pp:()=>me,BK:()=>ve,PW:()=>Yr,my:()=>gr,jk:()=>r,Sk:()=>wn,G:()=>ri});var u=y(9412),L=y(7440),$=y(3551),m=y(5644),f=y(7006),v=y(9115);function D(a){function t(){}t.prototype=a;const i=new t;function l(){return typeof i.bar}return l(),l(),a}const g=function P(a,t,i){var l=-1,p=a.length;t<0&&(t=-t>p?0:p+t),(i=i>p?p:i)<0&&(i+=p),p=t>i?0:i-t>>>0,t>>>=0;for(var S=Array(p);++l<p;)S[l]=a[l+t];return S};var A=y(3531);const w=function b(a,t,i){var l=null==a?0:a.length;return l?(t=i||void 0===t?1:(0,A.A)(t),g(a,t<0?0:t,l)):[]};var _=y(8745),I=y(6545),j=y(1893),N=y(5377),Z=y(8200),re=y(9641),te=y(9892),de=Object.prototype.hasOwnProperty;const ue=(0,N.A)(function(a,t){if((0,re.A)(t)||(0,Z.A)(t))(0,j.A)(t,(0,te.A)(t),a);else for(var i in t)de.call(t,i)&&(0,I.A)(a,i,t[i])});var Ge=y(7786),Le=y(6177),Je=y(4995),Qe=y(3147);const V=function et(a,t){if(null==a)return{};var i=(0,Ge.A)((0,Qe.A)(a),function(l){return[l]});return t=(0,Le.A)(t),(0,Je.A)(a,i,function(l,p){return t(l,p[0])})};var F=y(8207),K=y(5528);var X=y(5583),oe=y(4695),le=oe.A&&oe.A.isRegExp;const pe=le?(0,X.A)(le):function J(a){return(0,K.A)(a)&&"[object RegExp]"==(0,F.A)(a)};function ye(a){return function Me(a){return(0,_.A)(a.LABEL)&&""!==a.LABEL}(a)?a.LABEL:a.name}class Oe{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),(0,u.A)(this.definition,i=>{i.accept(t)})}}class Fe extends Oe{constructor(t){super([]),this.idx=1,ue(this,V(t,i=>void 0!==i))}set definition(t){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class We extends Oe{constructor(t){super(t.definition),this.orgText="",ue(this,V(t,i=>void 0!==i))}}class ze extends Oe{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,ue(this,V(t,i=>void 0!==i))}}class De extends Oe{constructor(t){super(t.definition),this.idx=1,ue(this,V(t,i=>void 0!==i))}}class Be extends Oe{constructor(t){super(t.definition),this.idx=1,ue(this,V(t,i=>void 0!==i))}}class x extends Oe{constructor(t){super(t.definition),this.idx=1,ue(this,V(t,i=>void 0!==i))}}class ne extends Oe{constructor(t){super(t.definition),this.idx=1,ue(this,V(t,i=>void 0!==i))}}class me extends Oe{constructor(t){super(t.definition),this.idx=1,ue(this,V(t,i=>void 0!==i))}}class Pe extends Oe{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ue(this,V(t,i=>void 0!==i))}}class ve{constructor(t){this.idx=1,ue(this,V(t,i=>void 0!==i))}accept(t){t.visit(this)}}function nt(a){function t(i){return(0,m.A)(i,nt)}if(a instanceof Fe){const i={type:"NonTerminal",name:a.nonTerminalName,idx:a.idx};return(0,_.A)(a.label)&&(i.label=a.label),i}if(a instanceof ze)return{type:"Alternative",definition:t(a.definition)};if(a instanceof De)return{type:"Option",idx:a.idx,definition:t(a.definition)};if(a instanceof Be)return{type:"RepetitionMandatory",idx:a.idx,definition:t(a.definition)};if(a instanceof x)return{type:"RepetitionMandatoryWithSeparator",idx:a.idx,separator:nt(new ve({terminalType:a.separator})),definition:t(a.definition)};if(a instanceof me)return{type:"RepetitionWithSeparator",idx:a.idx,separator:nt(new ve({terminalType:a.separator})),definition:t(a.definition)};if(a instanceof ne)return{type:"Repetition",idx:a.idx,definition:t(a.definition)};if(a instanceof Pe)return{type:"Alternation",idx:a.idx,definition:t(a.definition)};if(a instanceof ve){const i={type:"Terminal",name:a.terminalType.name,label:ye(a.terminalType),idx:a.idx};(0,_.A)(a.label)&&(i.terminalLabel=a.label);const l=a.terminalType.PATTERN;return a.terminalType.PATTERN&&(i.pattern=pe(l)?l.source:l),i}if(a instanceof We)return{type:"Rule",name:a.name,orgText:a.orgText,definition:t(a.definition)};throw Error("non exhaustive match")}class Rt{visit(t){const i=t;switch(i.constructor){case Fe:return this.visitNonTerminal(i);case ze:return this.visitAlternative(i);case De:return this.visitOption(i);case Be:return this.visitRepetitionMandatory(i);case x:return this.visitRepetitionMandatoryWithSeparator(i);case me:return this.visitRepetitionWithSeparator(i);case ne:return this.visitRepetition(i);case Pe:return this.visitAlternation(i);case ve:return this.visitTerminal(i);case We:return this.visitRule(i);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}var Pt=y(658),wt=y(462);const $t=function yt(a,t){var i;return(0,wt.A)(a,function(l,p,S){return!(i=t(l,p,S))}),!!i};var at=y(9247),Dt=y(1642);const Ut=function Wt(a,t,i){var l=(0,at.A)(a)?Pt.A:$t;return i&&(0,Dt.A)(a,t,i)&&(t=void 0),l(a,(0,Le.A)(t,3))};var Tt=y(7559),Ct=Math.max;const lt=function Gt(a,t,i,l){a=(0,Z.A)(a)?a:(0,L.A)(a),i=i&&!l?(0,A.A)(i):0;var p=a.length;return i<0&&(i=Ct(p+i,0)),(0,_.A)(a)?i<=p&&a.indexOf(t,i)>-1:!!p&&(0,Tt.A)(a,t,i)>-1},_t=function tn(a,t){for(var i=-1,l=null==a?0:a.length;++i<l;)if(!t(a[i],i,a))return!1;return!0},Bt=function zt(a,t){var i=!0;return(0,wt.A)(a,function(l,p,S){return i=!!t(l,p,S)}),i},dt=function Kt(a,t,i){var l=(0,at.A)(a)?_t:Bt;return i&&(0,Dt.A)(a,t,i)&&(t=void 0),l(a,(0,Le.A)(t,3))};function Nt(a,t=[]){return a instanceof De||a instanceof ne||a instanceof me||(a instanceof Pe?Ut(a.definition,l=>Nt(l,t)):!(a instanceof Fe&&lt(t,a))&&a instanceof Oe&&(a instanceof Fe&&t.push(a),dt(a.definition,l=>Nt(l,t))))}function At(a){if(a instanceof Fe)return"SUBRULE";if(a instanceof De)return"OPTION";if(a instanceof Pe)return"OR";if(a instanceof Be)return"AT_LEAST_ONE";if(a instanceof x)return"AT_LEAST_ONE_SEP";if(a instanceof me)return"MANY_SEP";if(a instanceof ne)return"MANY";if(a instanceof ve)return"CONSUME";throw Error("non exhaustive match")}class It{walk(t,i=[]){(0,u.A)(t.definition,(l,p)=>{const S=w(t.definition,p+1);if(l instanceof Fe)this.walkProdRef(l,S,i);else if(l instanceof ve)this.walkTerminal(l,S,i);else if(l instanceof ze)this.walkFlat(l,S,i);else if(l instanceof De)this.walkOption(l,S,i);else if(l instanceof Be)this.walkAtLeastOne(l,S,i);else if(l instanceof x)this.walkAtLeastOneSep(l,S,i);else if(l instanceof me)this.walkManySep(l,S,i);else if(l instanceof ne)this.walkMany(l,S,i);else{if(!(l instanceof Pe))throw Error("non exhaustive match");this.walkOr(l,S,i)}})}walkTerminal(t,i,l){}walkProdRef(t,i,l){}walkFlat(t,i,l){const p=i.concat(l);this.walk(t,p)}walkOption(t,i,l){const p=i.concat(l);this.walk(t,p)}walkAtLeastOne(t,i,l){const p=[new De({definition:t.definition})].concat(i,l);this.walk(t,p)}walkAtLeastOneSep(t,i,l){const p=Ot(t,i,l);this.walk(t,p)}walkMany(t,i,l){const p=[new De({definition:t.definition})].concat(i,l);this.walk(t,p)}walkManySep(t,i,l){const p=Ot(t,i,l);this.walk(t,p)}walkOr(t,i,l){const p=i.concat(l);(0,u.A)(t.definition,S=>{const M=new ze({definition:[S]});this.walk(M,p)})}}function Ot(a,t,i){return[new De({definition:[new ve({terminalType:a.separator})].concat(a.definition)})].concat(t,i)}var Vt=y(8983);const Xt=function pt(a){return a&&a.length?(0,Vt.A)(a):[]};var ft=y(300);function Mt(a){if(a instanceof Fe)return Mt(a.referencedRule);if(a instanceof ve)return function G(a){return[a.terminalType]}(a);if(function Yt(a){return a instanceof ze||a instanceof De||a instanceof ne||a instanceof Be||a instanceof x||a instanceof me||a instanceof ve||a instanceof We}(a))return function q(a){let t=[];const i=a.definition;let S,l=0,p=i.length>l,M=!0;for(;p&&M;)S=i[l],M=Nt(S),t=t.concat(Mt(S)),l+=1,p=i.length>l;return Xt(t)}(a);if(function qt(a){return a instanceof Pe}(a))return function E(a){const t=(0,m.A)(a.definition,i=>Mt(i));return Xt((0,ft.A)(t))}(a);throw Error("non exhaustive match")}const B="_~IN~_";class T extends It{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,i,l){}walkProdRef(t,i,l){const p=function Q(a,t){return a.name+t+B}(t.referencedRule,t.idx)+this.topProd.name,S=i.concat(l),z=Mt(new ze({definition:S}));this.follows[p]=z}}var Ne=y(3130),O=y(2909),se=y(2138),Te=y(4948),Se=y(1708);const xe=function ke(a,t){return((0,at.A)(a)?Te.A:Se.A)(a,function Xe(a){if("function"!=typeof a)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!a.call(this);case 1:return!a.call(this,t[0]);case 2:return!a.call(this,t[0],t[1]);case 3:return!a.call(this,t[0],t[1],t[2])}return!a.apply(this,t)}}((0,Le.A)(t,3)))};var He=y(8104),qe=Math.max;const ce=function _e(a,t,i){var l=null==a?0:a.length;if(!l)return-1;var p=null==i?0:(0,A.A)(i);return p<0&&(p=qe(l+p,0)),(0,Tt.A)(a,t,p)};var xt=y(3360),kt=y(3362),br=y(4902),Ci=y(3307),_n=y(9267),vt=y(4989);var Tn=y(2383),_i=y(3743),Or=y(2031);const nn=(0,_i.A)(function(a,t){return(0,Or.A)(a)?function Si(a,t,i,l){var p=-1,S=Ci.A,M=!0,z=a.length,H=[],ee=t.length;if(!z)return H;i&&(t=(0,Ge.A)(t,(0,X.A)(i))),l?(S=_n.A,M=!1):t.length>=200&&(S=vt.A,M=!1,t=new br.A(t));e:for(;++p<z;){var he=a[p],$e=null==i?he:i(he);if(he=l||0!==he?he:0,M&&$e==$e){for(var Ue=ee;Ue--;)if(t[Ue]===$e)continue e;H.push(he)}else S(t,$e,l)||H.push(he)}return H}(a,(0,Tn.A)(t,1,Or.A,!0)):[]}),xn=function Ii(a){for(var t=-1,i=null==a?0:a.length,l=0,p=[];++t<i;){var S=a[t];S&&(p[l++]=S)}return p},Jt=function ki(a){return a&&a.length?a[0]:void 0};var Rn=y(2724);function tr(a){console&&console.error&&console.error(`Error: ${a}`)}function nr(a){console&&console.warn&&console.warn(`Warning: ${a}`)}let Nn={};const Pi=new O.H;function In(a){const t=a.toString();if(Nn.hasOwnProperty(t))return Nn[t];{const i=Pi.pattern(t);return Nn[t]=i,i}}const Lr="Complement Sets are not supported for first char optimization",Wn='Unable to use "first char" lexer optimizations:\n';function wi(a,t=!1){try{const i=In(a);return rr(i.value,{},i.flags.ignoreCase)}catch(i){if(i.message===Lr)t&&nr(`${Wn}\tUnable to optimize: < ${a.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let l="";t&&(l="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),tr(`${Wn}\n\tFailed parsing: < ${a.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+l)}}return[]}function rr(a,t,i){switch(a.type){case"Disjunction":for(let p=0;p<a.value.length;p++)rr(a.value[p],t,i);break;case"Alternative":const l=a.value;for(let p=0;p<l.length;p++){const S=l[p];switch(S.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const M=S;switch(M.type){case"Character":Ye(M.value,t,i);break;case"Set":if(!0===M.complement)throw Error(Lr);(0,u.A)(M.value,H=>{if("number"==typeof H)Ye(H,t,i);else{const ee=H;if(!0===i)for(let he=ee.from;he<=ee.to;he++)Ye(he,t,i);else{for(let he=ee.from;he<=ee.to&&he<Yn;he++)Ye(he,t,i);if(ee.to>=Yn){const $e=ee.to,Ue=mn(ee.from>=Yn?ee.from:Yn),Ke=mn($e);for(let ct=Ue;ct<=Ke;ct++)t[ct]=ct}}}});break;case"Group":rr(M.value,t,i);break;default:throw Error("Non Exhaustive Match")}const z=void 0!==M.quantifier&&0===M.quantifier.atLeast;if("Group"===M.type&&!1===ir(M)||"Group"!==M.type&&!1===z)break}break;default:throw Error("non exhaustive match!")}return(0,L.A)(t)}function Ye(a,t,i){const l=mn(a);t[l]=l,!0===i&&function St(a,t){const i=String.fromCharCode(a),l=i.toUpperCase();if(l!==i){const p=mn(l.charCodeAt(0));t[p]=p}else{const p=i.toLowerCase();if(p!==i){const S=mn(p.charCodeAt(0));t[S]=S}}}(a,t)}function ot(a,t){return(0,Rn.A)(a.value,i=>{if("number"==typeof i)return lt(t,i);{const l=i;return void 0!==(0,Rn.A)(t,p=>l.from<=p&&p<=l.to)}})}function ir(a){const t=a.quantifier;return!(!t||0!==t.atLeast)||!!a.value&&((0,at.A)(a.value)?dt(a.value,ir):ir(a.value))}class zn extends O.z{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t);case"Lookbehind":return void this.visitLookbehind(t);case"NegativeLookbehind":return void this.visitNegativeLookbehind(t)}super.visitChildren(t)}}visitCharacter(t){lt(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?void 0===ot(t,this.targetCharCodes)&&(this.found=!0):void 0!==ot(t,this.targetCharCodes)&&(this.found=!0)}}function Kn(a,t){if(t instanceof RegExp){const i=In(t),l=new zn(a);return l.visit(i),l.found}return void 0!==(0,Rn.A)(t,i=>lt(a,i.charCodeAt(0)))}const An="PATTERN",Vn="defaultMode",fn="modes";let vn="boolean"==typeof new RegExp("(?:)").sticky;const xr=/[^\\][$]/,Ht=/[^\\[][\^]|^\^/;function Ur(a){return new RegExp(`^(?:${a.source})`,a.ignoreCase?"i":"")}function Pn(a){return new RegExp(`${a.source}`,a.ignoreCase?"iy":"y")}function cr(a){const t=a.PATTERN;if(pe(t))return!1;if((0,He.A)(t))return!0;if((0,f.A)(t,"exec"))return!0;if((0,_.A)(t))return!1;throw Error("non exhaustive match")}function hs(a){return!(!(0,_.A)(a)||1!==a.length)&&a.charCodeAt(0)}const Bi={test:function(a){const t=a.length;for(let i=this.lastIndex;i<t;i++){const l=a.charCodeAt(i);if(10===l)return this.lastIndex=i+1,!0;if(13===l)return this.lastIndex=10===a.charCodeAt(i+1)?i+2:i+1,!0}return!1},lastIndex:0};function ji(a,t){if((0,f.A)(a,"LINE_BREAKS"))return!1;if(pe(a.PATTERN)){try{Kn(t,a.PATTERN)}catch(i){return{issue:bt.IDENTIFY_TERMINATOR,errMsg:i.message}}return!1}if((0,_.A)(a.PATTERN))return!1;if(cr(a))return{issue:bt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Br(a,t){if(t.issue===bt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${a.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===bt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${a.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function jr(a){return(0,m.A)(a,i=>(0,_.A)(i)?i.charCodeAt(0):i)}function Hn(a,t,i){void 0===a[t]?a[t]=[i]:a[t].push(i)}const Yn=256;let qn=[];function mn(a){return a<Yn?a:qn[a]}var ur=y(5618),jt=y(896),En=y(524);function bn(a){const t=(new Date).getTime(),i=a();return{time:(new Date).getTime()-t,value:i}}function Cn(a,t){const i=a.tokenTypeIdx;return i===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[i]}function Xn(a,t){return a.tokenTypeIdx===t.tokenTypeIdx}let Wr=1;const zr={};function Un(a){const t=function dr(a){let t=(0,v.A)(a),i=a,l=!0;for(;l;){i=xn((0,ft.A)((0,m.A)(i,S=>S.CATEGORIES)));const p=nn(i,t);t=t.concat(p),(0,$.A)(p)?l=!1:i=p}return t}(a);(function zi(a){(0,u.A)(a,t=>{Vr(t)||(zr[Wr]=t,t.tokenTypeIdx=Wr++),Hr(t)&&!(0,at.A)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Hr(t)||(t.CATEGORIES=[]),function Vi(a){return(0,f.A)(a,"categoryMatches")}(t)||(t.categoryMatches=[]),function Jn(a){return(0,f.A)(a,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})})})(t),function Ki(a){(0,u.A)(a,t=>{Kr([],t)})}(t),function cn(a){(0,u.A)(a,t=>{t.categoryMatches=[],(0,u.A)(t.categoryMatchesMap,(i,l)=>{t.categoryMatches.push(zr[l].tokenTypeIdx)})})}(t),(0,u.A)(t,i=>{i.isParent=i.categoryMatches.length>0})}function Kr(a,t){(0,u.A)(a,i=>{t.categoryMatchesMap[i.tokenTypeIdx]=!0}),(0,u.A)(t.CATEGORIES,i=>{const l=a.concat(t);lt(l,i)||Kr(l,i)})}function Vr(a){return(0,f.A)(a,"tokenTypeIdx")}function Hr(a){return(0,f.A)(a,"CATEGORIES")}function Gn(a){return(0,f.A)(a,"tokenTypeIdx")}const Yr={buildUnableToPopLexerModeMessage:a=>`Unable to pop Lexer Mode after encountering Token ->${a.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(a,t,i,l,p,S)=>`unexpected character: ->${a.charAt(t)}<- at offset: ${t}, skipped ${i} characters.`};var bt=function(a){return a[a.MISSING_PATTERN=0]="MISSING_PATTERN",a[a.INVALID_PATTERN=1]="INVALID_PATTERN",a[a.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",a[a.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",a[a.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",a[a.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",a[a.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",a[a.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",a[a.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",a[a.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",a[a.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",a[a.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",a[a.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",a[a.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",a[a.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",a[a.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",a[a.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",a[a.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE",a}(bt||{});const Bn={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Yr,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Bn);let on=(()=>{class a{constructor(i,l=Bn){if(this.lexerDefinition=i,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(S,M)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const z=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${z}--\x3e <${S}>`);const{time:H,value:ee}=bn(M),he=H>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&he(`${z}<-- <${S}> time: ${H}ms`),this.traceInitIndent--,ee}return M()},"boolean"==typeof l)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=ue({},Bn,l);const p=this.config.traceInitPerf;!0===p?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof p&&(this.traceInitMaxIdent=p,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let S,M=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Bn.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Bi;else if(this.config.lineTerminatorCharacters===Bn.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(l.safeMode&&l.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,at.A)(i)?S={modes:{defaultMode:(0,v.A)(i)},defaultMode:Vn}:(M=!1,S=(0,v.A)(i))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function Gr(a){const l=[];return(0,f.A)(a,Vn)||l.push({message:"A MultiMode Lexer cannot be initialized without a <"+Vn+"> property in its definition\n",type:bt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,f.A)(a,fn)||l.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:bt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,f.A)(a,fn)&&(0,f.A)(a,Vn)&&!(0,f.A)(a.modes,a.defaultMode)&&l.push({message:`A MultiMode Lexer cannot be initialized with a ${Vn}: <${a.defaultMode}>which does not exist\n`,type:bt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,f.A)(a,fn)&&(0,u.A)(a.modes,(p,S)=>{(0,u.A)(p,(M,z)=>{if((0,Ne.A)(M))l.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${S}> at index: <${z}>\n`,type:bt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,f.A)(M,"LONGER_ALT")){const H=(0,at.A)(M.LONGER_ALT)?M.LONGER_ALT:[M.LONGER_ALT];(0,u.A)(H,ee=>{!(0,Ne.A)(ee)&&!lt(p,ee)&&l.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${ee.name}> on token <${M.name}> outside of mode <${S}>\n`,type:bt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),l}(S))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function Gi(a,t,i){const l=[];let p=!1;const S=xn((0,ft.A)((0,L.A)(a.modes))),M=xe(S,H=>H[An]===on.NA),z=jr(i);return t&&(0,u.A)(M,H=>{const ee=ji(H,z);if(!1!==ee){const $e={message:Br(H,ee),type:ee.issue,tokenType:H};l.push($e)}else(0,f.A)(H,"LINE_BREAKS")?!0===H.LINE_BREAKS&&(p=!0):Kn(z,H.PATTERN)&&(p=!0)}),t&&!p&&l.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:bt.NO_LINE_BREAKS_FLAGS}),l}(S,this.trackStartLines,this.config.lineTerminatorCharacters))})),S.modes=S.modes?S.modes:{},(0,u.A)(S.modes,(H,ee)=>{S.modes[ee]=xe(H,he=>(0,Ne.A)(he))});const z=(0,te.A)(S.modes);if((0,u.A)(S.modes,(H,ee)=>{this.TRACE_INIT(`Mode: <${ee}> processing`,()=>{if(this.modes.push(ee),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function Fn(a,t){let i=[];const l=function or(a){const t=(0,kt.A)(a,p=>!(0,f.A)(p,An)),i=(0,m.A)(t,p=>({message:"Token Type: ->"+p.name+"<- missing static 'PATTERN' property",type:bt.MISSING_PATTERN,tokenTypes:[p]}));return{errors:i,valid:nn(a,t)}}(a);i=i.concat(l.errors);const p=function Mr(a){const t=(0,kt.A)(a,p=>{const S=p[An];return!(pe(S)||(0,He.A)(S)||(0,f.A)(S,"exec")||(0,_.A)(S))}),i=(0,m.A)(t,p=>({message:"Token Type: ->"+p.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:bt.INVALID_PATTERN,tokenTypes:[p]}));return{errors:i,valid:nn(a,t)}}(l.valid),S=p.valid;return i=i.concat(p.errors),i=i.concat(function ar(a){let t=[];const i=(0,kt.A)(a,l=>pe(l[An]));return t=t.concat(function Fr(a){class t extends O.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(S){this.found=!0}}const i=(0,kt.A)(a,p=>{const S=p.PATTERN;try{const M=In(S),z=new t;return z.visit(M),z.found}catch{return xr.test(S.source)}});return(0,m.A)(i,p=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+p.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:bt.EOI_ANCHOR_FOUND,tokenTypes:[p]}))}(i)),t=t.concat(function rn(a){class t extends O.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(S){this.found=!0}}const i=(0,kt.A)(a,p=>{const S=p.PATTERN;try{const M=In(S),z=new t;return z.visit(M),z.found}catch{return Ht.test(S.source)}});return(0,m.A)(i,p=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+p.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:bt.SOI_ANCHOR_FOUND,tokenTypes:[p]}))}(i)),t=t.concat(function Li(a){const t=(0,kt.A)(a,l=>{const p=l[An];return p instanceof RegExp&&(p.multiline||p.global)});return(0,m.A)(t,l=>({message:"Token Type: ->"+l.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:bt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[l]}))}(i)),t=t.concat(function st(a){const t=[];let i=(0,m.A)(a,S=>(0,xt.A)(a,(M,z)=>(S.PATTERN.source===z.PATTERN.source&&!lt(t,z)&&z.PATTERN!==on.NA&&(t.push(z),M.push(z)),M),[]));i=xn(i);const l=(0,kt.A)(i,S=>S.length>1);return(0,m.A)(l,S=>{const M=(0,m.A)(S,H=>H.name);return{message:`The same RegExp pattern ->${Jt(S).PATTERN}<-has been used in all of the following Token Types: ${M.join(", ")} <-`,type:bt.DUPLICATE_PATTERNS_FOUND,tokenTypes:S}})}(i)),t=t.concat(function Oi(a){const t=(0,kt.A)(a,l=>l.PATTERN.test(""));return(0,m.A)(t,l=>({message:"Token Type: ->"+l.name+"<- static 'PATTERN' must not match an empty string",type:bt.EMPTY_MATCH_PATTERN,tokenTypes:[l]}))}(i)),t}(S)),i=i.concat(function Di(a){const t=(0,kt.A)(a,l=>{if(!(0,f.A)(l,"GROUP"))return!1;const p=l.GROUP;return p!==on.SKIPPED&&p!==on.NA&&!(0,_.A)(p)});return(0,m.A)(t,l=>({message:"Token Type: ->"+l.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:bt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[l]}))}(S)),i=i.concat(function Mi(a,t){const i=(0,kt.A)(a,p=>void 0!==p.PUSH_MODE&&!lt(t,p.PUSH_MODE));return(0,m.A)(i,p=>({message:`Token Type: ->${p.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${p.PUSH_MODE}<-which does not exist`,type:bt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[p]}))}(S,t)),i=i.concat(function kn(a){const t=[],i=(0,xt.A)(a,(l,p,S)=>{const M=p.PATTERN;return M===on.NA||((0,_.A)(M)?l.push({str:M,idx:S,tokenType:p}):pe(M)&&function Fi(a){return void 0===(0,Rn.A)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],i=>-1!==a.source.indexOf(i))}(M)&&l.push({str:M.source,idx:S,tokenType:p})),l},[]);return(0,u.A)(a,(l,p)=>{(0,u.A)(i,({str:S,idx:M,tokenType:z})=>{p<M&&function xi(a,t){if(pe(t)){if(function Ui(a){return/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(a.source)}(t))return!1;const i=t.exec(a);return null!==i&&0===i.index}if((0,He.A)(t))return t(a,0,[],{});if((0,f.A)(t,"exec"))return t.exec(a,0,[],{});if("string"==typeof t)return t===a;throw Error("non exhaustive match")}(S,l.PATTERN)&&t.push({message:`Token: ->${z.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${l.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`,type:bt.UNREACHABLE_PATTERN,tokenTypes:[l,z]})})}),t}(S)),i}(H,z))}),(0,$.A)(this.lexerDefinitionErrors)){let he;Un(H),this.TRACE_INIT("analyzeTokenTypes",()=>{he=function sr(a,t){const i=(t=(0,se.A)(t,{useSticky:vn,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(Ve,Ie)=>Ie()})).tracer;let l;i("initCharCodeToOptimizedIndexMap",()=>{!function Wi(){if((0,$.A)(qn)){qn=new Array(65536);for(let a=0;a<65536;a++)qn[a]=a>255?255+~~(a/255):a}}()}),i("Reject Lexer.NA",()=>{l=xe(a,Ve=>Ve[An]===on.NA)});let S,M,z,H,ee,he,$e,Ue,Ke,ct,rt,p=!1;i("Transform Patterns",()=>{p=!1,S=(0,m.A)(l,Ve=>{const Ie=Ve[An];if(pe(Ie)){const tt=Ie.source;return 1!==tt.length||"^"===tt||"$"===tt||"."===tt||Ie.ignoreCase?2!==tt.length||"\\"!==tt[0]||lt(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],tt[1])?t.useSticky?Pn(Ie):Ur(Ie):tt[1]:tt}if((0,He.A)(Ie))return p=!0,{exec:Ie};if("object"==typeof Ie)return p=!0,Ie;if("string"==typeof Ie){if(1===Ie.length)return Ie;{const tt=Ie.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),Ft=new RegExp(tt);return t.useSticky?Pn(Ft):Ur(Ft)}}throw Error("non exhaustive match")})}),i("misc mapping",()=>{M=(0,m.A)(l,Ve=>Ve.tokenTypeIdx),z=(0,m.A)(l,Ve=>{const Ie=Ve.GROUP;if(Ie!==on.SKIPPED){if((0,_.A)(Ie))return Ie;if((0,Ne.A)(Ie))return!1;throw Error("non exhaustive match")}}),H=(0,m.A)(l,Ve=>{const Ie=Ve.LONGER_ALT;if(Ie)return(0,at.A)(Ie)?(0,m.A)(Ie,Ft=>ce(l,Ft)):[ce(l,Ie)]}),ee=(0,m.A)(l,Ve=>Ve.PUSH_MODE),he=(0,m.A)(l,Ve=>(0,f.A)(Ve,"POP_MODE"))}),i("Line Terminator Handling",()=>{const Ve=jr(t.lineTerminatorCharacters);$e=(0,m.A)(l,Ie=>!1),"onlyOffset"!==t.positionTracking&&($e=(0,m.A)(l,Ie=>(0,f.A)(Ie,"LINE_BREAKS")?!!Ie.LINE_BREAKS:!1===ji(Ie,Ve)&&Kn(Ve,Ie.PATTERN)))}),i("Misc Mapping #2",()=>{Ue=(0,m.A)(l,cr),Ke=(0,m.A)(S,hs),ct=(0,xt.A)(l,(Ve,Ie)=>{const tt=Ie.GROUP;return(0,_.A)(tt)&&tt!==on.SKIPPED&&(Ve[tt]=[]),Ve},{}),rt=(0,m.A)(S,(Ve,Ie)=>({pattern:S[Ie],longerAlt:H[Ie],canLineTerminator:$e[Ie],isCustom:Ue[Ie],short:Ke[Ie],group:z[Ie],push:ee[Ie],pop:he[Ie],tokenTypeIdx:M[Ie],tokenType:l[Ie]}))});let mt=!0,Ze=[];return t.safeMode||i("First Char Optimization",()=>{Ze=(0,xt.A)(l,(Ve,Ie,tt)=>{if("string"==typeof Ie.PATTERN){const Et=mn(Ie.PATTERN.charCodeAt(0));Hn(Ve,Et,rt[tt])}else if((0,at.A)(Ie.START_CHARS_HINT)){let Ft;(0,u.A)(Ie.START_CHARS_HINT,Et=>{const $r=mn("string"==typeof Et?Et.charCodeAt(0):Et);Ft!==$r&&(Ft=$r,Hn(Ve,$r,rt[tt]))})}else if(pe(Ie.PATTERN))if(Ie.PATTERN.unicode)mt=!1,t.ensureOptimizations&&tr(`${Wn}\tUnable to analyze < ${Ie.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const Ft=wi(Ie.PATTERN,t.ensureOptimizations);(0,$.A)(Ft)&&(mt=!1),(0,u.A)(Ft,Et=>{Hn(Ve,Et,rt[tt])})}else t.ensureOptimizations&&tr(`${Wn}\tTokenType: <${Ie.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),mt=!1;return Ve},[])}),{emptyGroups:ct,patternIdxToConfig:rt,charCodeToPatternIdxToConfig:Ze,hasCustom:p,canBeOptimized:mt}}(H,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:l.positionTracking,ensureOptimizations:l.ensureOptimizations,safeMode:l.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[ee]=he.patternIdxToConfig,this.charCodeToPatternIdxToConfig[ee]=he.charCodeToPatternIdxToConfig,this.emptyGroups=ue({},this.emptyGroups,he.emptyGroups),this.hasCustom=he.hasCustom||this.hasCustom,this.canModeBeOptimized[ee]=he.canBeOptimized}})}),this.defaultMode=S.defaultMode,!(0,$.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const ee=(0,m.A)(this.lexerDefinitionErrors,he=>he.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+ee)}(0,u.A)(this.lexerDefinitionWarning,H=>{nr(H.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(vn?(this.chopInput=ur.A,this.match=this.matchWithTest):(this.updateLastIndex=jt.A,this.match=this.matchWithExec),M&&(this.handleModes=jt.A),!1===this.trackStartLines&&(this.computeNewColumn=ur.A),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=jt.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const H=(0,xt.A)(this.canModeBeOptimized,(ee,he,$e)=>(!1===he&&ee.push($e),ee),[]);if(l.ensureOptimizations&&!(0,$.A)(H))throw Error(`Lexer Modes: < ${H.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{!function bi(){Nn={}}()}),this.TRACE_INIT("toFastProperties",()=>{D(this)})})}tokenize(i,l=this.defaultMode){if(!(0,$.A)(this.lexerDefinitionErrors)){const S=(0,m.A)(this.lexerDefinitionErrors,M=>M.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+S)}return this.tokenizeInternal(i,l)}tokenizeInternal(i,l){let p,S,M,z,H,ee,he,$e,Ue,Ke,ct,rt,mt,Ve,Ie;const tt=i,Ft=tt.length;let Et=0,Sr=0;const $r=this.hasCustom?0:Math.floor(i.length/10),Zn=new Array($r),us=[];let _r=this.trackStartLines?1:void 0,Ln=this.trackStartLines?1:void 0;const Nr=function lr(a){const t={},i=(0,te.A)(a);return(0,u.A)(i,l=>{if(!(0,at.A)(a[l]))throw Error("non exhaustive match");t[l]=[]}),t}(this.emptyGroups),Xa=this.trackStartLines,ds=this.config.lineTerminatorsPattern;let Ei=0,Dn=[],Ir=[];const kr=[],Fs=[];let Pr;function Us(){return Dn}function Gs(en){const dn=mn(en),er=Ir[dn];return void 0===er?Fs:er}Object.freeze(Fs);const Ja=en=>{if(1===kr.length&&void 0===en.tokenType.PUSH_MODE){const dn=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(en);us.push({offset:en.startOffset,line:en.startLine,column:en.startColumn,length:en.image.length,message:dn})}else{kr.pop();const dn=(0,En.A)(kr);Dn=this.patternIdxToConfig[dn],Ir=this.charCodeToPatternIdxToConfig[dn],Ei=Dn.length,Pr=Ir&&this.canModeBeOptimized[dn]&&!1===this.config.safeMode?Gs:Us}};function Bs(en){kr.push(en),Ir=this.charCodeToPatternIdxToConfig[en],Dn=this.patternIdxToConfig[en],Ei=Dn.length,Ei=Dn.length,Pr=Ir&&this.canModeBeOptimized[en]&&!1===this.config.safeMode?Gs:Us}let hn;Bs.call(this,l);const js=this.config.recoveryEnabled;for(;Et<Ft;){ee=null;const en=tt.charCodeAt(Et),dn=Pr(en),er=dn.length;for(p=0;p<er;p++){hn=dn[p];const ln=hn.pattern;he=null;const Sn=hn.short;if(!1!==Sn?en===Sn&&(ee=ln):!0===hn.isCustom?(Ie=ln.exec(tt,Et,Zn,Nr),null!==Ie?(ee=Ie[0],void 0!==Ie.payload&&(he=Ie.payload)):ee=null):(this.updateLastIndex(ln,Et),ee=this.match(ln,i,Et)),null!==ee){if(H=hn.longerAlt,void 0!==H){const Mn=H.length;for(M=0;M<Mn;M++){const $n=Dn[H[M]],jn=$n.pattern;if($e=null,!0===$n.isCustom?(Ie=jn.exec(tt,Et,Zn,Nr),null!==Ie?(z=Ie[0],void 0!==Ie.payload&&($e=Ie.payload)):z=null):(this.updateLastIndex(jn,Et),z=this.match(jn,i,Et)),z&&z.length>ee.length){ee=z,he=$e,hn=$n;break}}}break}}if(null!==ee){if(Ue=ee.length,Ke=hn.group,void 0!==Ke&&(ct=hn.tokenTypeIdx,rt=this.createTokenInstance(ee,Et,ct,hn.tokenType,_r,Ln,Ue),this.handlePayload(rt,he),!1===Ke?Sr=this.addToken(Zn,Sr,rt):Nr[Ke].push(rt)),i=this.chopInput(i,Ue),Et+=Ue,Ln=this.computeNewColumn(Ln,Ue),!0===Xa&&!0===hn.canLineTerminator){let Sn,Mn,ln=0;ds.lastIndex=0;do{Sn=ds.test(ee),!0===Sn&&(Mn=ds.lastIndex-1,ln++)}while(!0===Sn);0!==ln&&(_r+=ln,Ln=Ue-Mn,this.updateTokenEndLineColumnLocation(rt,Ke,Mn,ln,_r,Ln,Ue))}this.handleModes(hn,Ja,Bs,rt)}else{const ln=Et,Sn=_r,Mn=Ln;let $n=!1===js;for(;!1===$n&&Et<Ft;)for(i=this.chopInput(i,1),Et++,S=0;S<Ei;S++){const jn=Dn[S],fs=jn.pattern,Ws=jn.short;if(!1!==Ws?tt.charCodeAt(Et)===Ws&&($n=!0):!0===jn.isCustom?$n=null!==fs.exec(tt,Et,Zn,Nr):(this.updateLastIndex(fs,Et),$n=null!==fs.exec(i)),!0===$n)break}if(mt=Et-ln,Ln=this.computeNewColumn(Ln,mt),Ve=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(tt,ln,mt,Sn,Mn,(0,En.A)(kr)),us.push({offset:ln,line:Sn,column:Mn,length:mt,message:Ve}),!1===js)break}}return this.hasCustom||(Zn.length=Sr),{tokens:Zn,groups:Nr,errors:us}}handleModes(i,l,p,S){if(!0===i.pop){const M=i.push;l(S),void 0!==M&&p.call(this,M)}else void 0!==i.push&&p.call(this,i.push)}chopInput(i,l){return i.substring(l)}updateLastIndex(i,l){i.lastIndex=l}updateTokenEndLineColumnLocation(i,l,p,S,M,z,H){let ee,he;void 0!==l&&(ee=p===H-1,he=ee?-1:0,1===S&&!0===ee||(i.endLine=M+he,i.endColumn=z-1-he))}computeNewColumn(i,l){return i+l}createOffsetOnlyToken(i,l,p,S){return{image:i,startOffset:l,tokenTypeIdx:p,tokenType:S}}createStartOnlyToken(i,l,p,S,M,z){return{image:i,startOffset:l,startLine:M,startColumn:z,tokenTypeIdx:p,tokenType:S}}createFullToken(i,l,p,S,M,z,H){return{image:i,startOffset:l,endOffset:l+H-1,startLine:M,endLine:M,startColumn:z,endColumn:z+H-1,tokenTypeIdx:p,tokenType:S}}addTokenUsingPush(i,l,p){return i.push(p),l}addTokenUsingMemberAccess(i,l,p){return i[l]=p,++l}handlePayloadNoCustom(i,l){}handlePayloadWithCustom(i,l){null!==l&&(i.payload=l)}matchWithTest(i,l,p){return!0===i.test(l)?l.substring(p,i.lastIndex):null}matchWithExec(i,l){const p=i.exec(l);return null!==p?p[0]:null}}return a.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",a.NA=/NOT_APPLICABLE/,a})();function wn(a){return qr(a)?a.LABEL:a.name}function qr(a){return(0,_.A)(a.LABEL)&&""!==a.LABEL}const fr="categories",hr="push_mode",mr="pop_mode",Zr="longer_alt",ei="line_breaks",ti="start_chars_hint";function ni(a){return function Hi(a){const t=a.pattern,i={};if(i.name=a.name,(0,Ne.A)(t)||(i.PATTERN=t),(0,f.A)(a,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,f.A)(a,fr)&&(i.CATEGORIES=a[fr]),Un([i]),(0,f.A)(a,"label")&&(i.LABEL=a.label),(0,f.A)(a,"group")&&(i.GROUP=a.group),(0,f.A)(a,mr)&&(i.POP_MODE=a[mr]),(0,f.A)(a,hr)&&(i.PUSH_MODE=a[hr]),(0,f.A)(a,Zr)&&(i.LONGER_ALT=a[Zr]),(0,f.A)(a,ei)&&(i.LINE_BREAKS=a[ei]),(0,f.A)(a,ti)&&(i.START_CHARS_HINT=a[ti]),i}(a)}const un=ni({name:"EOF",pattern:on.NA});function pr(a,t,i,l,p,S,M,z){return{image:t,startOffset:i,endOffset:l,startLine:p,endLine:S,startColumn:M,endColumn:z,tokenTypeIdx:a.tokenTypeIdx,tokenType:a}}function ri(a,t){return Cn(a,t)}Un([un]);const gr={buildMismatchTokenMessage:({expected:a,actual:t})=>`Expecting ${qr(a)?`--\x3e ${wn(a)} <--`:`token of type --\x3e ${a.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:a})=>"Redundant input, expecting EOF but found: "+a.image,buildNoViableAltMessage({expectedPathsPerAlt:a,actual:t,customUserDescription:l}){const S="Expecting: ",z="\nbut found: '"+Jt(t).image+"'";if(l)return S+l+z;{const H=(0,xt.A)(a,(Ue,Ke)=>Ue.concat(Ke),[]),ee=(0,m.A)(H,Ue=>`[${(0,m.A)(Ue,Ke=>wn(Ke)).join(", ")}]`);return S+`one of these possible Token sequences:\n${(0,m.A)(ee,(Ue,Ke)=>`  ${Ke+1}. ${Ue}`).join("\n")}`+z}},buildEarlyExitMessage({expectedIterationPaths:a,actual:t,customUserDescription:i}){const p="Expecting: ",M="\nbut found: '"+Jt(t).image+"'";return i?p+i+M:p+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${(0,m.A)(a,ee=>`[${(0,m.A)(ee,he=>wn(he)).join(",")}]`).join(" ,")}>`+M}};Object.freeze(gr);const Yi={buildRuleNotFoundError:(a,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+a.name+"<-"},pn={buildDuplicateFoundError(a,t){const l=a.name,p=Jt(t),S=p.idx,M=At(p),z=function i(he){return he instanceof ve?he.terminalType.name:he instanceof Fe?he.nonTerminalName:""}(p);let ee=`->${M}${S>0?S:""}<- ${z?`with argument: ->${z}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${l}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return ee=ee.replace(/[ \t]+/g," "),ee=ee.replace(/\s\s+/g,"\n"),ee},buildNamespaceConflictError:a=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${a.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(a){const t=(0,m.A)(a.prefixPath,p=>wn(p)).join(", "),i=0===a.alternation.idx?"":a.alternation.idx;return`Ambiguous alternatives: <${a.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${i}> inside <${a.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(a){const t=(0,m.A)(a.prefixPath,p=>wn(p)).join(", "),i=0===a.alternation.idx?"":a.alternation.idx;let l=`Ambiguous Alternatives Detected: <${a.ambiguityIndices.join(" ,")}> in <OR${i}> inside <${a.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return l+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",l},buildEmptyRepetitionError(a){let t=At(a.repetition);return 0!==a.repetition.idx&&(t+=a.repetition.idx),`The repetition <${t}> within Rule <${a.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:a=>"deprecated",buildEmptyAlternationError:a=>`Ambiguous empty alternative: <${a.emptyChoiceIdx+1}> in <OR${a.alternation.idx}> inside <${a.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:a=>`An Alternation cannot have more than 256 alternatives:\n<OR${a.alternation.idx}> inside <${a.topLevelRule.name}> Rule.\n has ${a.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(a){const t=a.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${(0,m.A)(a.leftRecursionPath,S=>S.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:a=>"deprecated",buildDuplicateRuleNameError(a){let t;return t=a.topLevelRule instanceof We?a.topLevelRule.name:a.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${a.grammarName}<-`}};class ii extends Rt{constructor(t,i){super(),this.nameToTopRule=t,this.errMsgProvider=i,this.errors=[]}resolveRefs(){(0,u.A)((0,L.A)(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const i=this.nameToTopRule[t.nonTerminalName];if(i)t.referencedRule=i;else{const l=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:l,type:an.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}var sn=y(785),yr=y(1878);const si=function Tr(a,t,i,l){for(var p=-1,S=null==a?0:a.length;++p<S;){var M=a[p];t(l,M,i(M),a)}return l},Xi=function Rr(a,t,i,l){return(0,wt.A)(a,function(p,S,M){t(l,p,i(p),M)}),l};var oi=Object.prototype.hasOwnProperty;const Zi=function Ji(a,t){return function(i,l){var p=(0,at.A)(i)?si:Xi,S=t?t():{};return p(i,a,(0,Le.A)(l,2),S)}}(function(a,t,i){oi.call(a,i)?a[i].push(t):(0,yr.A)(a,i,[t])}),gn=function li(a,t,i){var l=null==a?0:a.length;return l?(t=i||void 0===t?1:(0,A.A)(t),g(a,0,(t=l-t)<0?0:t)):[]};class ci extends It{constructor(t,i){super(),this.topProd=t,this.path=i,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,v.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,v.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,i=[]){this.found||super.walk(t,i)}walkProdRef(t,i,l){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const p=i.concat(l);this.updateExpectedNext(),this.walk(t.referencedRule,p)}}updateExpectedNext(){(0,$.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class es extends ci{constructor(t,i){super(t,i),this.path=i,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,i,l){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const p=i.concat(l),S=new ze({definition:p});this.possibleTokTypes=Mt(S),this.found=!0}}}class Qn extends It{constructor(t,i){super(),this.topRule=t,this.occurrence=i,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class ps extends Qn{walkMany(t,i,l){if(t.idx===this.occurrence){const p=Jt(i.concat(l));this.result.isEndOfRule=void 0===p,p instanceof ve&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkMany(t,i,l)}}class ts extends Qn{walkManySep(t,i,l){if(t.idx===this.occurrence){const p=Jt(i.concat(l));this.result.isEndOfRule=void 0===p,p instanceof ve&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkManySep(t,i,l)}}class ns extends Qn{walkAtLeastOne(t,i,l){if(t.idx===this.occurrence){const p=Jt(i.concat(l));this.result.isEndOfRule=void 0===p,p instanceof ve&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkAtLeastOne(t,i,l)}}class ui extends Qn{walkAtLeastOneSep(t,i,l){if(t.idx===this.occurrence){const p=Jt(i.concat(l));this.result.isEndOfRule=void 0===p,p instanceof ve&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkAtLeastOneSep(t,i,l)}}function vr(a,t,i=[]){i=(0,v.A)(i);let l=[],p=0;function M(z){const H=vr(function S(z){return z.concat(w(a,p+1))}(z),t,i);return l.concat(H)}for(;i.length<t&&p<a.length;){const z=a[p];if(z instanceof ze)return M(z.definition);if(z instanceof Fe)return M(z.definition);if(z instanceof De)l=M(z.definition);else{if(z instanceof Be)return M(z.definition.concat([new ne({definition:z.definition})]));if(z instanceof x)return M([new ze({definition:z.definition}),new ne({definition:[new ve({terminalType:z.separator})].concat(z.definition)})]);if(z instanceof me){const H=z.definition.concat([new ne({definition:[new ve({terminalType:z.separator})].concat(z.definition)})]);l=M(H)}else if(z instanceof ne){const H=z.definition.concat([new ne({definition:z.definition})]);l=M(H)}else{if(z instanceof Pe)return(0,u.A)(z.definition,H=>{!1===(0,$.A)(H.definition)&&(l=M(H.definition))}),l;if(!(z instanceof ve))throw Error("non exhaustive match");i.push(z.terminalType)}}p++}return l.push({partialPath:i,suffixDef:w(a,p)}),l}function di(a,t,i,l){const p="EXIT_NONE_TERMINAL",S=[p],M="EXIT_ALTERNATIVE";let z=!1;const H=t.length,ee=H-l-1,he=[],$e=[];for($e.push({idx:-1,def:a,ruleStack:[],occurrenceStack:[]});!(0,$.A)($e);){const Ue=$e.pop();if(Ue===M){z&&(0,En.A)($e).idx<=ee&&$e.pop();continue}const Ke=Ue.def,ct=Ue.idx,rt=Ue.ruleStack,mt=Ue.occurrenceStack;if((0,$.A)(Ke))continue;const Ze=Ke[0];if(Ze===p){const Ve={idx:ct,def:w(Ke),ruleStack:gn(rt),occurrenceStack:gn(mt)};$e.push(Ve)}else if(Ze instanceof ve)if(ct<H-1){const Ve=ct+1;if(i(t[Ve],Ze.terminalType)){const tt={idx:Ve,def:w(Ke),ruleStack:rt,occurrenceStack:mt};$e.push(tt)}}else{if(ct!==H-1)throw Error("non exhaustive match");he.push({nextTokenType:Ze.terminalType,nextTokenOccurrence:Ze.idx,ruleStack:rt,occurrenceStack:mt}),z=!0}else if(Ze instanceof Fe){const Ve=(0,v.A)(rt);Ve.push(Ze.nonTerminalName);const Ie=(0,v.A)(mt);Ie.push(Ze.idx);const tt={idx:ct,def:Ze.definition.concat(S,w(Ke)),ruleStack:Ve,occurrenceStack:Ie};$e.push(tt)}else if(Ze instanceof De){const Ve={idx:ct,def:w(Ke),ruleStack:rt,occurrenceStack:mt};$e.push(Ve),$e.push(M);const Ie={idx:ct,def:Ze.definition.concat(w(Ke)),ruleStack:rt,occurrenceStack:mt};$e.push(Ie)}else if(Ze instanceof Be){const Ve=new ne({definition:Ze.definition,idx:Ze.idx}),Ie=Ze.definition.concat([Ve],w(Ke));$e.push({idx:ct,def:Ie,ruleStack:rt,occurrenceStack:mt})}else if(Ze instanceof x){const Ve=new ve({terminalType:Ze.separator}),Ie=new ne({definition:[Ve].concat(Ze.definition),idx:Ze.idx}),tt=Ze.definition.concat([Ie],w(Ke));$e.push({idx:ct,def:tt,ruleStack:rt,occurrenceStack:mt})}else if(Ze instanceof me){const Ve={idx:ct,def:w(Ke),ruleStack:rt,occurrenceStack:mt};$e.push(Ve),$e.push(M);const Ie=new ve({terminalType:Ze.separator}),tt=new ne({definition:[Ie].concat(Ze.definition),idx:Ze.idx}),Ft=Ze.definition.concat([tt],w(Ke));$e.push({idx:ct,def:Ft,ruleStack:rt,occurrenceStack:mt})}else if(Ze instanceof ne){const Ve={idx:ct,def:w(Ke),ruleStack:rt,occurrenceStack:mt};$e.push(Ve),$e.push(M);const Ie=new ne({definition:Ze.definition,idx:Ze.idx}),tt=Ze.definition.concat([Ie],w(Ke));$e.push({idx:ct,def:tt,ruleStack:rt,occurrenceStack:mt})}else if(Ze instanceof Pe)for(let Ve=Ze.definition.length-1;Ve>=0;Ve--){const tt={idx:ct,def:Ze.definition[Ve].definition.concat(w(Ke)),ruleStack:rt,occurrenceStack:mt};$e.push(tt),$e.push(M)}else if(Ze instanceof ze)$e.push({idx:ct,def:Ze.definition.concat(w(Ke)),ruleStack:rt,occurrenceStack:mt});else{if(!(Ze instanceof We))throw Error("non exhaustive match");$e.push(c(Ze,ct,rt,mt))}}return he}function c(a,t,i,l){const p=(0,v.A)(i);p.push(a.name);const S=(0,v.A)(l);return S.push(1),{idx:t,def:a.definition,ruleStack:p,occurrenceStack:S}}var e=function(a){return a[a.OPTION=0]="OPTION",a[a.REPETITION=1]="REPETITION",a[a.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",a[a.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",a[a.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",a[a.ALTERNATION=5]="ALTERNATION",a}(e||{});function n(a){if(a instanceof De||"Option"===a)return e.OPTION;if(a instanceof ne||"Repetition"===a)return e.REPETITION;if(a instanceof Be||"RepetitionMandatory"===a)return e.REPETITION_MANDATORY;if(a instanceof x||"RepetitionMandatoryWithSeparator"===a)return e.REPETITION_MANDATORY_WITH_SEPARATOR;if(a instanceof me||"RepetitionWithSeparator"===a)return e.REPETITION_WITH_SEPARATOR;if(a instanceof Pe||"Alternation"===a)return e.ALTERNATION;throw Error("non exhaustive match")}function r(a){const{occurrence:t,rule:i,prodType:l,maxLookahead:p}=a,S=n(l);return S===e.ALTERNATION?gt(t,i,p):ht(t,i,S,p)}function R(a,t,i,l){const p=a.length,S=dt(a,M=>dt(M,z=>1===z.length));if(t)return function(M){const z=(0,m.A)(M,H=>H.GATE);for(let H=0;H<p;H++){const ee=a[H],he=ee.length,$e=z[H];if(void 0===$e||!1!==$e.call(this))e:for(let Ue=0;Ue<he;Ue++){const Ke=ee[Ue],ct=Ke.length;for(let rt=0;rt<ct;rt++){const mt=this.LA(rt+1);if(!1===i(mt,Ke[rt]))continue e}return H}}};if(S&&!l){const M=(0,m.A)(a,H=>(0,ft.A)(H)),z=(0,xt.A)(M,(H,ee,he)=>((0,u.A)(ee,$e=>{(0,f.A)(H,$e.tokenTypeIdx)||(H[$e.tokenTypeIdx]=he),(0,u.A)($e.categoryMatches,Ue=>{(0,f.A)(H,Ue)||(H[Ue]=he)})}),H),{});return function(){const H=this.LA(1);return z[H.tokenTypeIdx]}}return function(){for(let M=0;M<p;M++){const z=a[M],H=z.length;e:for(let ee=0;ee<H;ee++){const he=z[ee],$e=he.length;for(let Ue=0;Ue<$e;Ue++){const Ke=this.LA(Ue+1);if(!1===i(Ke,he[Ue]))continue e}return M}}}}function C(a,t,i){const l=dt(a,S=>1===S.length),p=a.length;if(l&&!i){const S=(0,ft.A)(a);if(1===S.length&&(0,$.A)(S[0].categoryMatches)){const z=S[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===z}}{const M=(0,xt.A)(S,(z,H,ee)=>(z[H.tokenTypeIdx]=!0,(0,u.A)(H.categoryMatches,he=>{z[he]=!0}),z),[]);return function(){const z=this.LA(1);return!0===M[z.tokenTypeIdx]}}}return function(){e:for(let S=0;S<p;S++){const M=a[S],z=M.length;for(let H=0;H<z;H++){const ee=this.LA(H+1);if(!1===t(ee,M[H]))continue e}return!0}return!1}}class U extends It{constructor(t,i,l){super(),this.topProd=t,this.targetOccurrence=i,this.targetProdType=l}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,i,l,p){return t.idx===this.targetOccurrence&&this.targetProdType===i&&(this.restDef=l.concat(p),!0)}walkOption(t,i,l){this.checkIsTarget(t,e.OPTION,i,l)||super.walkOption(t,i,l)}walkAtLeastOne(t,i,l){this.checkIsTarget(t,e.REPETITION_MANDATORY,i,l)||super.walkOption(t,i,l)}walkAtLeastOneSep(t,i,l){this.checkIsTarget(t,e.REPETITION_MANDATORY_WITH_SEPARATOR,i,l)||super.walkOption(t,i,l)}walkMany(t,i,l){this.checkIsTarget(t,e.REPETITION,i,l)||super.walkOption(t,i,l)}walkManySep(t,i,l){this.checkIsTarget(t,e.REPETITION_WITH_SEPARATOR,i,l)||super.walkOption(t,i,l)}}class ae extends Rt{constructor(t,i,l){super(),this.targetOccurrence=t,this.targetProdType=i,this.targetRef=l,this.result=[]}checkIsTarget(t,i){t.idx===this.targetOccurrence&&this.targetProdType===i&&(void 0===this.targetRef||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,e.OPTION)}visitRepetition(t){this.checkIsTarget(t,e.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,e.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,e.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,e.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,e.ALTERNATION)}}function fe(a){const t=new Array(a);for(let i=0;i<a;i++)t[i]=[];return t}function Ae(a){let t=[""];for(let i=0;i<a.length;i++){const l=a[i],p=[];for(let S=0;S<t.length;S++){const M=t[S];p.push(M+"_"+l.tokenTypeIdx);for(let z=0;z<l.categoryMatches.length;z++)p.push(M+"_"+l.categoryMatches[z])}t=p}return t}function be(a,t,i){for(let l=0;l<a.length;l++){if(l===i)continue;const p=a[l];for(let S=0;S<t.length;S++)if(!0===p[t[S]])return!1}return!0}function je(a,t){const i=(0,m.A)(a,M=>vr([M],1)),l=fe(i.length),p=(0,m.A)(i,M=>{const z={};return(0,u.A)(M,H=>{const ee=Ae(H.partialPath);(0,u.A)(ee,he=>{z[he]=!0})}),z});let S=i;for(let M=1;M<=t;M++){const z=S;S=fe(z.length);for(let H=0;H<z.length;H++){const ee=z[H];for(let he=0;he<ee.length;he++){const $e=ee[he].partialPath,Ue=ee[he].suffixDef,Ke=Ae($e);if(be(p,Ke,H)||(0,$.A)(Ue)||$e.length===t){const rt=l[H];if(!1===Lt(rt,$e)){rt.push($e);for(let mt=0;mt<Ke.length;mt++)p[H][Ke[mt]]=!0}}else{const rt=vr(Ue,M+1,$e);S[H]=S[H].concat(rt),(0,u.A)(rt,mt=>{const Ze=Ae(mt.partialPath);(0,u.A)(Ze,Ve=>{p[H][Ve]=!0})})}}}}return l}function gt(a,t,i,l){const p=new ae(a,e.ALTERNATION,l);return t.accept(p),je(p.result,i)}function ht(a,t,i,l){const p=new ae(a,i);t.accept(p);const S=p.result,z=new U(t,a,i).startWalking();return je([new ze({definition:S}),new ze({definition:z})],l)}function Lt(a,t){e:for(let i=0;i<a.length;i++){const l=a[i];if(l.length===t.length){for(let p=0;p<l.length;p++){const S=t[p],M=l[p];if(0==(S===M||void 0!==M.categoryMatchesMap[S.tokenTypeIdx]))continue e}return!0}}return!1}function gs(a){return dt(a,t=>dt(t,i=>dt(i,l=>(0,$.A)(l.categoryMatches))))}function Hs(a){return`${At(a)}_#_${a.idx}_#_${ys(a)}`}function ys(a){return a instanceof ve?a.terminalType.name:a instanceof Fe?a.nonTerminalName:""}class Ys extends Rt{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Ts(a,t,i,l=[]){const p=[],S=fi(t.definition);if((0,$.A)(S))return[];{const M=a.name;lt(S,a)&&p.push({message:i.buildLeftRecursionError({topLevelRule:a,leftRecursionPath:l}),type:an.LEFT_RECURSION,ruleName:M});const H=nn(S,l.concat([a])),ee=(0,sn.A)(H,he=>{const $e=(0,v.A)(l);return $e.push(he),Ts(a,he,i,$e)});return p.concat(ee)}}function fi(a){let t=[];if((0,$.A)(a))return t;const i=Jt(a);if(i instanceof Fe)t.push(i.referencedRule);else if(i instanceof ze||i instanceof De||i instanceof Be||i instanceof x||i instanceof me||i instanceof ne)t=t.concat(fi(i.definition));else if(i instanceof Pe)t=(0,ft.A)((0,m.A)(i.definition,S=>fi(S.definition)));else if(!(i instanceof ve))throw Error("non exhaustive match");if(Nt(i)&&a.length>1){const S=w(a);return t.concat(fi(S))}return t}class rs extends Rt{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}class Zs extends Rt{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}const Rs="MismatchedTokenException",As="NoViableAltException",vs="EarlyExitException",Es="NotAllInputParsedException",Cs=[Rs,As,vs,Es];function hi(a){return lt(Cs,a.name)}Object.freeze(Cs);class mi extends Error{constructor(t,i){super(t),this.token=i,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Ss extends mi{constructor(t,i,l){super(t,i),this.previousToken=l,this.name=Rs}}class oa extends mi{constructor(t,i,l){super(t,i),this.previousToken=l,this.name=As}}class la extends mi{constructor(t,i){super(t,i),this.name=Es}}class ca extends mi{constructor(t,i,l){super(t,i),this.previousToken=l,this.name=vs}}const is={},$s="InRuleRecoveryException";class ua extends Error{constructor(t){super(t),this.name=$s}}function fa(a,t,i,l,p,S,M){const z=this.getKeyForAutomaticLookahead(l,p);let H=this.firstAfterRepMap[z];if(void 0===H){const Ue=this.getCurrRuleFullName();H=new S(this.getGAstProductions()[Ue],p).startWalking(),this.firstAfterRepMap[z]=H}let ee=H.token,he=H.occurrence;1===this.RULE_STACK.length&&H.isEndOfRule&&void 0===ee&&(ee=un,he=1),void 0!==ee&&void 0!==he&&this.shouldInRepetitionRecoveryBeTried(ee,he,M)&&this.tryInRepetitionRecovery(a,t,i,ee)}function ls(a,t,i){return i|t|a}class Is{constructor(t){var i;this.maxLookahead=null!==(i=t?.maxLookahead)&&void 0!==i?i:yn.maxLookahead}validate(t){const i=this.validateNoLeftRecursion(t.rules);if((0,$.A)(i)){const l=this.validateEmptyOrAlternatives(t.rules),p=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),S=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...i,...l,...p,...S]}return i}validateNoLeftRecursion(t){return(0,sn.A)(t,i=>Ts(i,i,pn))}validateEmptyOrAlternatives(t){return(0,sn.A)(t,i=>function Js(a,t){const i=new rs;return a.accept(i),(0,sn.A)(i.alternations,S=>{const M=gn(S.definition);return(0,sn.A)(M,(z,H)=>{const ee=di([z],[],Cn,1);return(0,$.A)(ee)?[{message:t.buildEmptyAlternationError({topLevelRule:a,alternation:S,emptyChoiceIdx:H}),type:an.NONE_LAST_EMPTY_ALT,ruleName:a.name,occurrence:S.idx,alternative:H+1}]:[]})})}(i,pn))}validateAmbiguousAlternationAlternatives(t,i){return(0,sn.A)(t,l=>function Qs(a,t,i){const l=new rs;a.accept(l);let p=l.alternations;return p=xe(p,M=>!0===M.ignoreAmbiguities),(0,sn.A)(p,M=>{const ee=gt(M.idx,a,M.maxLookahead||t,M),he=function na(a,t,i,l){const p=[],S=(0,xt.A)(a,(z,H,ee)=>(!0===t.definition[ee].ignoreAmbiguities||(0,u.A)(H,he=>{const $e=[ee];(0,u.A)(a,(Ue,Ke)=>{ee!==Ke&&Lt(Ue,he)&&!0!==t.definition[Ke].ignoreAmbiguities&&$e.push(Ke)}),$e.length>1&&!Lt(p,he)&&(p.push(he),z.push({alts:$e,path:he}))}),z),[]);return(0,m.A)(S,z=>{const H=(0,m.A)(z.alts,he=>he+1);return{message:l.buildAlternationAmbiguityError({topLevelRule:i,alternation:t,ambiguityIndices:H,prefixPath:z.path}),type:an.AMBIGUOUS_ALTS,ruleName:i.name,occurrence:t.idx,alternatives:z.alts}})}(ee,M,a,i),$e=function ra(a,t,i,l){const p=(0,xt.A)(a,(M,z,H)=>{const ee=(0,m.A)(z,he=>({idx:H,path:he}));return M.concat(ee)},[]);return xn((0,sn.A)(p,M=>{if(!0===t.definition[M.idx].ignoreAmbiguities)return[];const H=M.idx,ee=M.path,he=(0,kt.A)(p,Ue=>!0!==t.definition[Ue.idx].ignoreAmbiguities&&Ue.idx<H&&function Zt(a,t){return a.length<t.length&&dt(a,(i,l)=>{const p=t[l];return i===p||p.categoryMatchesMap[i.tokenTypeIdx]})}(Ue.path,ee));return(0,m.A)(he,Ue=>{const Ke=[Ue.idx+1,H+1],ct=0===t.idx?"":t.idx;return{message:l.buildAlternationPrefixAmbiguityError({topLevelRule:i,alternation:t,ambiguityIndices:Ke,prefixPath:Ue.path}),type:an.AMBIGUOUS_PREFIX_ALTS,ruleName:i.name,occurrence:ct,alternatives:Ke}})}))}(ee,M,a,i);return he.concat($e)})}(l,i,pn))}validateSomeNonEmptyLookaheadPath(t,i){return function ta(a,t,i){const l=[];return(0,u.A)(a,p=>{const S=new Zs;p.accept(S),(0,u.A)(S.allProductions,z=>{const H=n(z),Ue=ht(z.idx,p,H,z.maxLookahead||t)[0];if((0,$.A)((0,ft.A)(Ue))){const Ke=i.buildEmptyRepetitionError({topLevelRule:p,repetition:z});l.push({message:Ke,type:an.NO_NON_EMPTY_LOOKAHEAD,ruleName:p.name})}})}),l}(t,i,pn)}buildLookaheadForAlternation(t){return function o(a,t,i,l,p,S){const M=gt(a,t,i);return S(M,l,gs(M)?Xn:Cn,p)}(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,R)}buildLookaheadForOptional(t){return function d(a,t,i,l,p,S){const M=ht(a,t,p,i),z=gs(M)?Xn:Cn;return S(M[0],z,l)}(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,n(t.prodType),C)}}const gi=new class ga extends Rt{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function ks(a,t){!0===isNaN(a.startOffset)?(a.startOffset=t.startOffset,a.endOffset=t.endOffset):a.endOffset<t.endOffset&&(a.endOffset=t.endOffset)}function Ps(a,t){!0===isNaN(a.startOffset)?(a.startOffset=t.startOffset,a.startColumn=t.startColumn,a.startLine=t.startLine,a.endOffset=t.endOffset,a.endColumn=t.endColumn,a.endLine=t.endLine):a.endOffset<t.endOffset&&(a.endOffset=t.endOffset,a.endColumn=t.endColumn,a.endLine=t.endLine)}function bs(a,t){Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function va(a,t){const i=(0,te.A)(a),l=i.length;for(let p=0;p<l;p++){const M=a[i[p]],z=M.length;for(let H=0;H<z;H++){const ee=M[H];void 0===ee.tokenTypeIdx&&this[ee.name](ee.children,t)}}}var ws=function(a){return a[a.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",a[a.MISSING_METHOD=1]="MISSING_METHOD",a}(ws||{}),ka=y(3151);const yi={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(yi);const Ls=Math.pow(2,8)-1,Ds=ni({name:"RECORDING_PHASE_TOKEN",pattern:on.NA});Un([Ds]);const Ms=pr(Ds,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ms);const Oa={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function Er(a,t,i,l=!1){Ti(i);const p=(0,En.A)(this.recordingProdStack),S=(0,He.A)(t)?t:t.DEF,M=new a({definition:[],idx:i});return l&&(M.separator=t.SEP),(0,f.A)(t,"MAX_LOOKAHEAD")&&(M.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(M),S.call(this),p.definition.push(M),this.recordingProdStack.pop(),yi}function Da(a,t){Ti(t);const i=(0,En.A)(this.recordingProdStack),l=!1===(0,at.A)(a),p=!1===l?a:a.DEF,S=new Pe({definition:[],idx:t,ignoreAmbiguities:l&&!0===a.IGNORE_AMBIGUITIES});(0,f.A)(a,"MAX_LOOKAHEAD")&&(S.maxLookahead=a.MAX_LOOKAHEAD);const M=Ut(p,z=>(0,He.A)(z.GATE));return S.hasPredicates=M,i.definition.push(S),(0,u.A)(p,z=>{const H=new ze({definition:[]});S.definition.push(H),(0,f.A)(z,"IGNORE_AMBIGUITIES")?H.ignoreAmbiguities=z.IGNORE_AMBIGUITIES:(0,f.A)(z,"GATE")&&(H.ignoreAmbiguities=!0),this.recordingProdStack.push(H),z.ALT.call(this),this.recordingProdStack.pop()}),yi}function xs(a){return 0===a?"":`${a}`}function Ti(a){if(a<0||a>Ls){const t=new Error(`Invalid DSL Method idx value: <${a}>\n\tIdx value must be a none negative value smaller than ${Ls+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const Ri=pr(un,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ri);const yn=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:gr,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Ai=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var an=function(a){return a[a.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",a[a.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",a[a.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",a[a.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",a[a.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",a[a.LEFT_RECURSION=5]="LEFT_RECURSION",a[a.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",a[a.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",a[a.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",a[a.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",a[a.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",a[a.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",a[a.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",a[a.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",a}(an||{});function Fa(a=void 0){return function(){return a}}let cs=(()=>{class a{static performSelfAnalysis(i){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let i;this.selfAnalysisDone=!0;const l=this.className;this.TRACE_INIT("toFastProps",()=>{D(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,u.A)(this.definedRulesNames,S=>{const z=this[S].originalGrammarAction;let H;this.TRACE_INIT(`${S} Rule`,()=>{H=this.topLevelRuleRecord(S,z)}),this.gastProductionsCache[S]=H})}finally{this.disableRecording()}});let p=[];if(this.TRACE_INIT("Grammar Resolving",()=>{p=function sa(a){const t=(0,se.A)(a,{errMsgProvider:Yi}),i={};return(0,u.A)(a.rules,l=>{i[l.name]=l}),function qi(a,t){const i=new ii(a,t);return i.resolveRefs(),i.errors}(i,t.errMsgProvider)}({rules:(0,L.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(p)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,$.A)(p)&&!1===this.skipValidations){const S=function aa(a){return function Ks(a,t,i,l){const p=(0,sn.A)(a,H=>function Vs(a,t){const i=new Ys;a.accept(i);const p=Zi(i.allProductions,Hs),S=V(p,z=>z.length>1);return(0,m.A)((0,L.A)(S),z=>{const H=Jt(z),ee=t.buildDuplicateFoundError(a,z),he=At(H),$e={message:ee,type:an.DUPLICATE_PRODUCTIONS,ruleName:a.name,dslName:he,occurrence:H.idx},Ue=ys(H);return Ue&&($e.parameter=Ue),$e})}(H,i)),S=function ia(a,t,i){const l=[],p=(0,m.A)(t,S=>S.name);return(0,u.A)(a,S=>{const M=S.name;if(lt(p,M)){const z=i.buildNamespaceConflictError(S);l.push({message:z,type:an.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:M})}}),l}(a,t,i),M=(0,sn.A)(a,H=>function ea(a,t){const i=new rs;return a.accept(i),(0,sn.A)(i.alternations,S=>S.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:a,alternation:S}),type:an.TOO_MANY_ALTS,ruleName:a.name,occurrence:S.idx}]:[])}(H,i)),z=(0,sn.A)(a,H=>function qs(a,t,i,l){const p=[];if((0,xt.A)(t,(M,z)=>z.name===a.name?M+1:M,0)>1){const M=l.buildDuplicateRuleNameError({topLevelRule:a,grammarName:i});p.push({message:M,type:an.DUPLICATE_RULE_NAME,ruleName:a.name})}return p}(H,a,l,i));return p.concat(S,M,z)}((a=(0,se.A)(a,{errMsgProvider:pn})).rules,a.tokenTypes,a.errMsgProvider,a.grammarName)}({rules:(0,L.A)(this.gastProductionsCache),tokenTypes:(0,L.A)(this.tokensMap),errMsgProvider:pn,grammarName:l}),M=function zs(a){const t=a.lookaheadStrategy.validate({rules:a.rules,tokenTypes:a.tokenTypes,grammarName:a.grammarName});return(0,m.A)(t,i=>Object.assign({type:an.CUSTOM_LOOKAHEAD_VALIDATION},i))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,L.A)(this.gastProductionsCache),tokenTypes:(0,L.A)(this.tokensMap),grammarName:l});this.definitionErrors=this.definitionErrors.concat(S,M)}}),(0,$.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const S=function h(a){const t={};return(0,u.A)(a,i=>{const l=new T(i).startWalking();ue(t,l)}),t}((0,L.A)(this.gastProductionsCache));this.resyncFollows=S}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var S,M;null===(M=(S=this.lookaheadStrategy).initialize)||void 0===M||M.call(S,{rules:(0,L.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,L.A)(this.gastProductionsCache))})),!a.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,$.A)(this.definitionErrors))throw i=(0,m.A)(this.definitionErrors,S=>S.message),new Error(`Parser Definition Errors detected:\n ${i.join("\n-------------------------------\n")}`)})}constructor(i,l){this.definitionErrors=[],this.selfAnalysisDone=!1;const p=this;if(p.initErrorHandler(l),p.initLexerAdapter(),p.initLooksAhead(l),p.initRecognizerEngine(i,l),p.initRecoverable(l),p.initTreeBuilder(l),p.initContentAssist(),p.initGastRecorder(l),p.initPerformanceTracer(l),(0,f.A)(l,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,f.A)(l,"skipValidations")?l.skipValidations:yn.skipValidations}}return a.DEFER_DEFINITION_ERRORS_HANDLING=!1,a})();!function xa(a,t){t.forEach(i=>{const l=i.prototype;Object.getOwnPropertyNames(l).forEach(p=>{if("constructor"===p)return;const S=Object.getOwnPropertyDescriptor(l,p);S&&(S.get||S.set)?Object.defineProperty(a.prototype,p,S):a.prototype[p]=i.prototype[p]})})}(cs,[class da{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,f.A)(t,"recoveryEnabled")?t.recoveryEnabled:yn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=fa)}getTokenToInsert(t){const i=pr(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return i.isInsertedInRecovery=!0,i}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,i,l,p){const S=this.findReSyncTokenType(),M=this.exportLexerState(),z=[];let H=!1;const ee=this.LA(1);let he=this.LA(1);const $e=()=>{const Ue=this.LA(0),Ke=this.errorMessageProvider.buildMismatchTokenMessage({expected:p,actual:ee,previous:Ue,ruleName:this.getCurrRuleFullName()}),ct=new Ss(Ke,ee,this.LA(0));ct.resyncedTokens=gn(z),this.SAVE_ERROR(ct)};for(;!H;){if(this.tokenMatcher(he,p))return void $e();if(l.call(this))return $e(),void t.apply(this,i);this.tokenMatcher(he,S)?H=!0:(he=this.SKIP_TOKEN(),this.addToResyncTokens(he,z))}this.importLexerState(M)}shouldInRepetitionRecoveryBeTried(t,i,l){return!(!1===l||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,i)))}getFollowsForInRuleRecovery(t,i){const l=this.getCurrentGrammarPath(t,i);return this.getNextPossibleTokenTypes(l)}tryInRuleRecovery(t,i){if(this.canRecoverWithSingleTokenInsertion(t,i))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const l=this.SKIP_TOKEN();return this.consumeToken(),l}throw new ua("sad sad panda")}canPerformInRuleRecovery(t,i){return this.canRecoverWithSingleTokenInsertion(t,i)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,i){if(!this.canTokenTypeBeInsertedInRecovery(t)||(0,$.A)(i))return!1;const l=this.LA(1);return void 0!==(0,Rn.A)(i,S=>this.tokenMatcher(l,S))}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const i=this.getCurrFollowKey(),l=this.getFollowSetFromFollowKey(i);return lt(l,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let i=this.LA(1),l=2;for(;;){const p=(0,Rn.A)(t,S=>ri(i,S));if(void 0!==p)return p;i=this.LA(l),l++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return is;const t=this.getLastExplicitRuleShortName(),i=this.getLastExplicitRuleOccurrenceIndex(),l=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:i,inRule:this.shortRuleNameToFullName(l)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,i=this.RULE_OCCURRENCE_STACK;return(0,m.A)(t,(l,p)=>0===p?is:{ruleName:this.shortRuleNameToFullName(l),idxInCallingRule:i[p],inRule:this.shortRuleNameToFullName(t[p-1])})}flattenFollowSet(){const t=(0,m.A)(this.buildFullFollowKeyStack(),i=>this.getFollowSetFromFollowKey(i));return(0,ft.A)(t)}getFollowSetFromFollowKey(t){return t===is?[un]:this.resyncFollows[t.ruleName+t.idxInCallingRule+B+t.inRule]}addToResyncTokens(t,i){return this.tokenMatcher(t,un)||i.push(t),i}reSyncTo(t){const i=[];let l=this.LA(1);for(;!1===this.tokenMatcher(l,t);)l=this.SKIP_TOKEN(),this.addToResyncTokens(l,i);return gn(i)}attemptInRepetitionRecovery(t,i,l,p,S,M,z){}getCurrentGrammarPath(t,i){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,v.A)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:i}}getHumanReadableRuleStack(){return(0,m.A)(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}},class pa{initLooksAhead(t){this.dynamicTokensEnabled=(0,f.A)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:yn.dynamicTokensEnabled,this.maxLookahead=(0,f.A)(t,"maxLookahead")?t.maxLookahead:yn.maxLookahead,this.lookaheadStrategy=(0,f.A)(t,"lookaheadStrategy")?t.lookaheadStrategy:new Is({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){(0,u.A)(t,i=>{this.TRACE_INIT(`${i.name} Rule Lookahead`,()=>{const{alternation:l,repetition:p,option:S,repetitionMandatory:M,repetitionMandatoryWithSeparator:z,repetitionWithSeparator:H}=function ya(a){gi.reset(),a.accept(gi);const t=gi.dslMethods;return gi.reset(),t}(i);(0,u.A)(l,ee=>{const he=0===ee.idx?"":ee.idx;this.TRACE_INIT(`${At(ee)}${he}`,()=>{const $e=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:ee.idx,rule:i,maxLookahead:ee.maxLookahead||this.maxLookahead,hasPredicates:ee.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),Ue=ls(this.fullRuleNameToShort[i.name],256,ee.idx);this.setLaFuncCache(Ue,$e)})}),(0,u.A)(p,ee=>{this.computeLookaheadFunc(i,ee.idx,768,"Repetition",ee.maxLookahead,At(ee))}),(0,u.A)(S,ee=>{this.computeLookaheadFunc(i,ee.idx,512,"Option",ee.maxLookahead,At(ee))}),(0,u.A)(M,ee=>{this.computeLookaheadFunc(i,ee.idx,1024,"RepetitionMandatory",ee.maxLookahead,At(ee))}),(0,u.A)(z,ee=>{this.computeLookaheadFunc(i,ee.idx,1536,"RepetitionMandatoryWithSeparator",ee.maxLookahead,At(ee))}),(0,u.A)(H,ee=>{this.computeLookaheadFunc(i,ee.idx,1280,"RepetitionWithSeparator",ee.maxLookahead,At(ee))})})})}computeLookaheadFunc(t,i,l,p,S,M){this.TRACE_INIT(`${M}${0===i?"":i}`,()=>{const z=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:i,rule:t,maxLookahead:S||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:p}),H=ls(this.fullRuleNameToShort[t.name],l,i);this.setLaFuncCache(H,z)})}getKeyForAutomaticLookahead(t,i){return ls(this.getLastExplicitRuleShortName(),t,i)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,i){this.lookAheadFuncsCache.set(t,i)}},class _a{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,f.A)(t,"nodeLocationTracking")?t.nodeLocationTracking:yn.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ps,this.setNodeLocationFromNode=Ps,this.cstPostRule=jt.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=jt.A,this.setNodeLocationFromNode=jt.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=ks,this.setNodeLocationFromNode=ks,this.cstPostRule=jt.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=jt.A,this.setNodeLocationFromNode=jt.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=jt.A,this.setNodeLocationFromNode=jt.A,this.cstPostRule=jt.A,this.setInitialNodeLocation=jt.A}else this.cstInvocationStateUpdate=jt.A,this.cstFinallyStateUpdate=jt.A,this.cstPostTerminal=jt.A,this.cstPostNonTerminal=jt.A,this.cstPostRule=jt.A}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const i=this.LA(1);t.location={startOffset:i.startOffset,startLine:i.startLine,startColumn:i.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const i={name:t,children:Object.create(null)};this.setInitialNodeLocation(i),this.CST_STACK.push(i)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const i=this.LA(0),l=t.location;l.startOffset<=i.startOffset?(l.endOffset=i.endOffset,l.endLine=i.endLine,l.endColumn=i.endColumn):(l.startOffset=NaN,l.startLine=NaN,l.startColumn=NaN)}cstPostRuleOnlyOffset(t){const i=this.LA(0),l=t.location;l.startOffset<=i.startOffset?l.endOffset=i.endOffset:l.startOffset=NaN}cstPostTerminal(t,i){const l=this.CST_STACK[this.CST_STACK.length-1];(function Ta(a,t,i){void 0===a.children[i]?a.children[i]=[t]:a.children[i].push(t)})(l,i,t),this.setNodeLocationFromToken(l.location,i)}cstPostNonTerminal(t,i){const l=this.CST_STACK[this.CST_STACK.length-1];(function Ra(a,t,i){void 0===a.children[t]?a.children[t]=[i]:a.children[t].push(i)})(l,i,t),this.setNodeLocationFromNode(l.location,t.location)}getBaseCstVisitorConstructor(){if((0,Ne.A)(this.baseCstVisitorConstructor)){const t=function Ea(a,t){const i=function(){};bs(i,a+"BaseSemantics");const l={visit:function(p,S){if((0,at.A)(p)&&(p=p[0]),!(0,Ne.A)(p))return this[p.name](p.children,S)},validateVisitor:function(){const p=function Sa(a,t){return function $a(a,t){const i=(0,kt.A)(t,p=>!1===(0,He.A)(a[p])),l=(0,m.A)(i,p=>({msg:`Missing visitor method: <${p}> on ${a.constructor.name} CST Visitor.`,type:ws.MISSING_METHOD,methodName:p}));return xn(l)}(a,t)}(this,t);if(!(0,$.A)(p)){const S=(0,m.A)(p,M=>M.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${S.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(i.prototype=l).constructor=i,i._RULE_NAMES=t,i}(this.className,(0,te.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,Ne.A)(this.baseCstVisitorWithDefaultsConstructor)){const t=function Ca(a,t,i){const l=function(){};bs(l,a+"BaseSemanticsWithDefaults");const p=Object.create(i.prototype);return(0,u.A)(t,S=>{p[S]=va}),(l.prototype=p).constructor=l,l}(this.className,(0,te.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class Na{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ri}LA(t){const i=this.currIdx+t;return i<0||this.tokVectorLength<=i?Ri:this.tokVector[i]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class Pa{initRecognizerEngine(t,i){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Xn,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,f.A)(i,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,at.A)(t)){if((0,$.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,at.A)(t))this.tokensMap=(0,xt.A)(t,(S,M)=>(S[M.name]=M,S),{});else if((0,f.A)(t,"modes")&&dt((0,ft.A)((0,L.A)(t.modes)),Gn)){const S=(0,ft.A)((0,L.A)(t.modes)),M=Xt(S);this.tokensMap=(0,xt.A)(M,(z,H)=>(z[H.name]=H,z),{})}else{if(!(0,ka.A)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,v.A)(t)}this.tokensMap.EOF=un;const l=(0,f.A)(t,"modes")?(0,ft.A)((0,L.A)(t.modes)):(0,L.A)(t),p=dt(l,S=>(0,$.A)(S.categoryMatches));this.tokenMatcher=p?Xn:Cn,Un((0,L.A)(this.tokensMap))}defineRule(t,i,l){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const p=(0,f.A)(l,"resyncEnabled")?l.resyncEnabled:Ai.resyncEnabled,S=(0,f.A)(l,"recoveryValueFunc")?l.recoveryValueFunc:Ai.recoveryValueFunc,M=this.ruleShortNameIdx<<12;let z;return this.ruleShortNameIdx++,this.shortRuleNameToFull[M]=t,this.fullRuleNameToShort[t]=M,z=!0===this.outputCst?function(...he){try{this.ruleInvocationStateUpdate(M,t,this.subruleIdx),i.apply(this,he);const $e=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule($e),$e}catch($e){return this.invokeRuleCatch($e,p,S)}finally{this.ruleFinallyStateUpdate()}}:function(...he){try{return this.ruleInvocationStateUpdate(M,t,this.subruleIdx),i.apply(this,he)}catch($e){return this.invokeRuleCatch($e,p,S)}finally{this.ruleFinallyStateUpdate()}},Object.assign(z,{ruleName:t,originalGrammarAction:i})}invokeRuleCatch(t,i,l){const p=1===this.RULE_STACK.length,S=i&&!this.isBackTracking()&&this.recoveryEnabled;if(hi(t)){const M=t;if(S){const z=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(z)){if(M.resyncedTokens=this.reSyncTo(z),this.outputCst){const H=this.CST_STACK[this.CST_STACK.length-1];return H.recoveredNode=!0,H}return l(t)}if(this.outputCst){const H=this.CST_STACK[this.CST_STACK.length-1];H.recoveredNode=!0,M.partialCstResult=H}throw M}if(p)return this.moveToTerminatedState(),l(t);throw M}throw t}optionInternal(t,i){const l=this.getKeyForAutomaticLookahead(512,i);return this.optionInternalLogic(t,i,l)}optionInternalLogic(t,i,l){let S,p=this.getLaFuncFromCache(l);if("function"!=typeof t){S=t.DEF;const M=t.GATE;if(void 0!==M){const z=p;p=()=>M.call(this)&&z.call(this)}}else S=t;if(!0===p.call(this))return S.call(this)}atLeastOneInternal(t,i){const l=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,i,l)}atLeastOneInternalLogic(t,i,l){let S,p=this.getLaFuncFromCache(l);if("function"!=typeof i){S=i.DEF;const M=i.GATE;if(void 0!==M){const z=p;p=()=>M.call(this)&&z.call(this)}}else S=i;if(!0!==p.call(this))throw this.raiseEarlyExitException(t,e.REPETITION_MANDATORY,i.ERR_MSG);{let M=this.doSingleRepetition(S);for(;!0===p.call(this)&&!0===M;)M=this.doSingleRepetition(S)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,i],p,1024,t,ns)}atLeastOneSepFirstInternal(t,i){const l=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,i,l)}atLeastOneSepFirstInternalLogic(t,i,l){const p=i.DEF,S=i.SEP;if(!0!==this.getLaFuncFromCache(l).call(this))throw this.raiseEarlyExitException(t,e.REPETITION_MANDATORY_WITH_SEPARATOR,i.ERR_MSG);{p.call(this);const z=()=>this.tokenMatcher(this.LA(1),S);for(;!0===this.tokenMatcher(this.LA(1),S);)this.CONSUME(S),p.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,S,z,p,ui],z,1536,t,ui)}}manyInternal(t,i){const l=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,i,l)}manyInternalLogic(t,i,l){let S,p=this.getLaFuncFromCache(l);if("function"!=typeof i){S=i.DEF;const z=i.GATE;if(void 0!==z){const H=p;p=()=>z.call(this)&&H.call(this)}}else S=i;let M=!0;for(;!0===p.call(this)&&!0===M;)M=this.doSingleRepetition(S);this.attemptInRepetitionRecovery(this.manyInternal,[t,i],p,768,t,ps,M)}manySepFirstInternal(t,i){const l=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,i,l)}manySepFirstInternalLogic(t,i,l){const p=i.DEF,S=i.SEP;if(!0===this.getLaFuncFromCache(l).call(this)){p.call(this);const z=()=>this.tokenMatcher(this.LA(1),S);for(;!0===this.tokenMatcher(this.LA(1),S);)this.CONSUME(S),p.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,S,z,p,ts],z,1280,t,ts)}}repetitionSepSecondInternal(t,i,l,p,S){for(;l();)this.CONSUME(i),p.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,i,l,p,S],l,1536,t,S)}doSingleRepetition(t){const i=this.getLexerPosition();return t.call(this),this.getLexerPosition()>i}orInternal(t,i){const l=this.getKeyForAutomaticLookahead(256,i),p=(0,at.A)(t)?t:t.DEF,M=this.getLaFuncFromCache(l).call(this,p);if(void 0!==M)return p[M].ALT.call(this);this.raiseNoAltException(i,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),i=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new la(i,t))}}subruleInternal(t,i,l){let p;try{const S=void 0!==l?l.ARGS:void 0;return this.subruleIdx=i,p=t.apply(this,S),this.cstPostNonTerminal(p,void 0!==l&&void 0!==l.LABEL?l.LABEL:t.ruleName),p}catch(S){throw this.subruleInternalError(S,l,t.ruleName)}}subruleInternalError(t,i,l){throw hi(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==i&&void 0!==i.LABEL?i.LABEL:l),delete t.partialCstResult),t}consumeInternal(t,i,l){let p;try{const S=this.LA(1);!0===this.tokenMatcher(S,t)?(this.consumeToken(),p=S):this.consumeInternalError(t,S,l)}catch(S){p=this.consumeInternalRecovery(t,i,S)}return this.cstPostTerminal(void 0!==l&&void 0!==l.LABEL?l.LABEL:t.name,p),p}consumeInternalError(t,i,l){let p;const S=this.LA(0);throw p=void 0!==l&&l.ERR_MSG?l.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:i,previous:S,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Ss(p,i,S))}consumeInternalRecovery(t,i,l){if(!this.recoveryEnabled||"MismatchedTokenException"!==l.name||this.isBackTracking())throw l;{const p=this.getFollowsForInRuleRecovery(t,i);try{return this.tryInRuleRecovery(t,p)}catch(S){throw S.name===$s?l:S}}}saveRecogState(){const t=this.errors,i=(0,v.A)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:i,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,i,l){this.RULE_OCCURRENCE_STACK.push(l),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(i)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),un)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class Ia{ACTION(t){return t.call(this)}consume(t,i,l){return this.consumeInternal(i,t,l)}subrule(t,i,l){return this.subruleInternal(i,t,l)}option(t,i){return this.optionInternal(i,t)}or(t,i){return this.orInternal(i,t)}many(t,i){return this.manyInternal(t,i)}atLeastOne(t,i){return this.atLeastOneInternal(t,i)}CONSUME(t,i){return this.consumeInternal(t,0,i)}CONSUME1(t,i){return this.consumeInternal(t,1,i)}CONSUME2(t,i){return this.consumeInternal(t,2,i)}CONSUME3(t,i){return this.consumeInternal(t,3,i)}CONSUME4(t,i){return this.consumeInternal(t,4,i)}CONSUME5(t,i){return this.consumeInternal(t,5,i)}CONSUME6(t,i){return this.consumeInternal(t,6,i)}CONSUME7(t,i){return this.consumeInternal(t,7,i)}CONSUME8(t,i){return this.consumeInternal(t,8,i)}CONSUME9(t,i){return this.consumeInternal(t,9,i)}SUBRULE(t,i){return this.subruleInternal(t,0,i)}SUBRULE1(t,i){return this.subruleInternal(t,1,i)}SUBRULE2(t,i){return this.subruleInternal(t,2,i)}SUBRULE3(t,i){return this.subruleInternal(t,3,i)}SUBRULE4(t,i){return this.subruleInternal(t,4,i)}SUBRULE5(t,i){return this.subruleInternal(t,5,i)}SUBRULE6(t,i){return this.subruleInternal(t,6,i)}SUBRULE7(t,i){return this.subruleInternal(t,7,i)}SUBRULE8(t,i){return this.subruleInternal(t,8,i)}SUBRULE9(t,i){return this.subruleInternal(t,9,i)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,i,l=Ai){if(lt(this.definedRulesNames,t)){const M={message:pn.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:an.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(M)}this.definedRulesNames.push(t);const p=this.defineRule(t,i,l);return this[t]=p,p}OVERRIDE_RULE(t,i,l=Ai){const p=function Xs(a,t,i){const l=[];let p;return lt(t,a)||(p=`Invalid rule override, rule: ->${a}<- cannot be overridden in the grammar: ->${i}<-as it is not defined in any of the super grammars `,l.push({message:p,type:an.INVALID_RULE_OVERRIDE,ruleName:a})),l}(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(p);const S=this.defineRule(t,i,l);return this[t]=S,S}BACKTRACK(t,i){return function(){this.isBackTrackingStack.push(1);const l=this.saveRecogState();try{return t.apply(this,i),!0}catch(p){if(hi(p))return!1;throw p}finally{this.reloadRecogState(l),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return function ut(a){return(0,m.A)(a,nt)}((0,L.A)(this.gastProductionsCache))}},class ba{initErrorHandler(t){this._errors=[],this.errorMessageProvider=(0,f.A)(t,"errorMessageProvider")?t.errorMessageProvider:yn.errorMessageProvider}SAVE_ERROR(t){if(hi(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,v.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,v.A)(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,i,l){const p=this.getCurrRuleFullName(),z=ht(t,this.getGAstProductions()[p],i,this.maxLookahead)[0],H=[];for(let he=1;he<=this.maxLookahead;he++)H.push(this.LA(he));const ee=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:z,actual:H,previous:this.LA(0),customUserDescription:l,ruleName:p});throw this.SAVE_ERROR(new ca(ee,this.LA(1),this.LA(0)))}raiseNoAltException(t,i){const l=this.getCurrRuleFullName(),S=gt(t,this.getGAstProductions()[l],this.maxLookahead),M=[];for(let ee=1;ee<=this.maxLookahead;ee++)M.push(this.LA(ee));const z=this.LA(0),H=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:S,actual:M,previous:z,customUserDescription:i,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new oa(H,this.LA(1),z))}},class wa{initContentAssist(){}computeContentAssist(t,i){const l=this.gastProductionsCache[t];if((0,Ne.A)(l))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return di([l],i,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const i=Jt(t.ruleStack),p=this.getGAstProductions()[i];return new es(p,t).startWalking()}},class La{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const i=t>0?t:"";this[`CONSUME${i}`]=function(l,p){return this.consumeInternalRecord(l,t,p)},this[`SUBRULE${i}`]=function(l,p){return this.subruleInternalRecord(l,t,p)},this[`OPTION${i}`]=function(l){return this.optionInternalRecord(l,t)},this[`OR${i}`]=function(l){return this.orInternalRecord(l,t)},this[`MANY${i}`]=function(l){this.manyInternalRecord(t,l)},this[`MANY_SEP${i}`]=function(l){this.manySepFirstInternalRecord(t,l)},this[`AT_LEAST_ONE${i}`]=function(l){this.atLeastOneInternalRecord(t,l)},this[`AT_LEAST_ONE_SEP${i}`]=function(l){this.atLeastOneSepFirstInternalRecord(t,l)}}this.consume=function(t,i,l){return this.consumeInternalRecord(i,t,l)},this.subrule=function(t,i,l){return this.subruleInternalRecord(i,t,l)},this.option=function(t,i){return this.optionInternalRecord(i,t)},this.or=function(t,i){return this.orInternalRecord(i,t)},this.many=function(t,i){this.manyInternalRecord(t,i)},this.atLeastOne=function(t,i){this.atLeastOneInternalRecord(t,i)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let i=0;i<10;i++){const l=i>0?i:"";delete t[`CONSUME${l}`],delete t[`SUBRULE${l}`],delete t[`OPTION${l}`],delete t[`OR${l}`],delete t[`MANY${l}`],delete t[`MANY_SEP${l}`],delete t[`AT_LEAST_ONE${l}`],delete t[`AT_LEAST_ONE_SEP${l}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,i){return()=>!0}LA_RECORD(t){return Ri}topLevelRuleRecord(t,i){try{const l=new We({definition:[],name:t});return l.name=t,this.recordingProdStack.push(l),i.call(this),this.recordingProdStack.pop(),l}catch(l){if(!0!==l.KNOWN_RECORDER_ERROR)try{l.message=l.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw l}throw l}}optionInternalRecord(t,i){return Er.call(this,De,t,i)}atLeastOneInternalRecord(t,i){Er.call(this,Be,i,t)}atLeastOneSepFirstInternalRecord(t,i){Er.call(this,x,i,t,!0)}manyInternalRecord(t,i){Er.call(this,ne,i,t)}manySepFirstInternalRecord(t,i){Er.call(this,me,i,t,!0)}orInternalRecord(t,i){return Da.call(this,t,i)}subruleInternalRecord(t,i,l){if(Ti(i),!t||!1===(0,f.A)(t,"ruleName")){const z=new Error(`<SUBRULE${xs(i)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw z.KNOWN_RECORDER_ERROR=!0,z}const p=(0,En.A)(this.recordingProdStack),M=new Fe({idx:i,nonTerminalName:t.ruleName,label:l?.LABEL,referencedRule:void 0});return p.definition.push(M),this.outputCst?Oa:yi}consumeInternalRecord(t,i,l){if(Ti(i),!Vr(t)){const M=new Error(`<CONSUME${xs(i)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw M.KNOWN_RECORDER_ERROR=!0,M}const p=(0,En.A)(this.recordingProdStack),S=new ve({idx:i,terminalType:t,label:l?.LABEL});return p.definition.push(S),Ms}},class Ma{initPerformanceTracer(t){if((0,f.A)(t,"traceInitPerf")){const i=t.traceInitPerf,l="number"==typeof i;this.traceInitMaxIdent=l?i:1/0,this.traceInitPerf=l?i>0:i}else this.traceInitMaxIdent=0,this.traceInitPerf=yn.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,i){if(!0===this.traceInitPerf){this.traceInitIndent++;const l=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${l}--\x3e <${t}>`);const{time:p,value:S}=bn(i),M=p>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&M(`${l}<-- <${t}> time: ${p}ms`),this.traceInitIndent--,S}return i()}}]);class Ua extends cs{constructor(t,i=yn){const l=(0,v.A)(i);l.outputCst=!1,super(t,l)}}},8714(Ee,s,y){"use strict";y.d(s,{t:()=>vr,u:()=>di});var u=y(807),L=y(3528),$=y(84),m=y(2917),v=y(8693),D=y(5644),P=y(3362);function g(c,e,n){return`${c.name}_${e}_${n}`}class Re{constructor(e){this.target=e}isEpsilon(){return!1}}class ue extends Re{constructor(e,n){super(e),this.tokenType=n}}class Ge extends Re{constructor(e){super(e)}isEpsilon(){return!0}}class Le extends Re{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function et(c,e,n){return n instanceof v.BK?Fe(c,e,n.terminalType,n):n instanceof v.wL?function We(c,e,n){const r=n.referencedRule,o=c.ruleToStartState.get(r),d=Be(c,e,n,{type:1}),R=Be(c,e,n,{type:1});return x(d,new Le(o,r,R)),{left:d,right:R}}(c,e,n):n instanceof v.ak?function J(c,e,n){const r=Be(c,e,n,{type:1});pe(c,r);const o=(0,D.A)(n.definition,R=>et(c,e,R));return ye(c,e,r,n,...o)}(c,e,n):n instanceof v.c$?function ie(c,e,n){const r=Be(c,e,n,{type:1});pe(c,r);return function Ce(c,e,n,r){const o=r.left;return De(o,r.right),c.decisionMap[g(e,"Option",n.idx)]=o,r}(c,e,n,ye(c,e,r,n,X(c,e,n)))}(c,e,n):n instanceof v.Y2?function V(c,e,n){const r=Be(c,e,n,{type:5});pe(c,r);return le(c,e,n,ye(c,e,r,n,X(c,e,n)))}(c,e,n):n instanceof v.Pp?function F(c,e,n){const r=Be(c,e,n,{type:5});pe(c,r);return le(c,e,n,ye(c,e,r,n,X(c,e,n)),Fe(c,e,n.separator,n))}(c,e,n):n instanceof v.$P?function K(c,e,n){const r=Be(c,e,n,{type:4});pe(c,r);return oe(c,e,n,ye(c,e,r,n,X(c,e,n)))}(c,e,n):n instanceof v.Cy?function W(c,e,n){const r=Be(c,e,n,{type:4});pe(c,r);return oe(c,e,n,ye(c,e,r,n,X(c,e,n)),Fe(c,e,n.separator,n))}(c,e,n):X(c,e,n)}function X(c,e,n){const r=(0,P.A)((0,D.A)(n.definition,o=>et(c,e,o)),o=>void 0!==o);return 1===r.length?r[0]:0===r.length?void 0:function Oe(c,e){const n=e.length;for(let d=0;d<n-1;d++){const R=e[d];let C;1===R.left.transitions.length&&(C=R.left.transitions[0]);const U=C instanceof Le,fe=e[d+1].left;1===R.left.type&&1===R.right.type&&void 0!==C&&(U&&C.followState===R.right||C.target===R.right)?(U?C.followState=fe:C.target=fe,ne(c,R.right)):De(R.right,fe)}return{left:e[0].left,right:e[n-1].right}}(c,r)}function oe(c,e,n,r,o){const d=r.left,R=r.right,C=Be(c,e,n,{type:11});pe(c,C);const U=Be(c,e,n,{type:12});return d.loopback=C,U.loopback=C,c.decisionMap[g(e,o?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=C,De(R,C),void 0===o?(De(C,d),De(C,U)):(De(C,U),De(C,o.left),De(o.right,d)),{left:d,right:U}}function le(c,e,n,r,o){const d=r.left,R=r.right,C=Be(c,e,n,{type:10});pe(c,C);const U=Be(c,e,n,{type:12}),ae=Be(c,e,n,{type:9});return C.loopback=ae,U.loopback=ae,De(C,d),De(C,U),De(R,ae),void 0!==o?(De(ae,U),De(ae,o.left),De(o.right,d)):De(ae,C),c.decisionMap[g(e,o?"RepetitionWithSeparator":"Repetition",n.idx)]=C,{left:C,right:U}}function pe(c,e){return c.decisionStates.push(e),e.decision=c.decisionStates.length-1,e.decision}function ye(c,e,n,r,...o){const d=Be(c,e,r,{type:8,start:n});n.end=d;for(const C of o)void 0!==C?(De(n,C.left),De(C.right,d)):De(n,d);const R={left:n,right:d};return c.decisionMap[g(e,function Me(c){if(c instanceof v.ak)return"Alternation";if(c instanceof v.c$)return"Option";if(c instanceof v.Y2)return"Repetition";if(c instanceof v.Pp)return"RepetitionWithSeparator";if(c instanceof v.$P)return"RepetitionMandatory";if(c instanceof v.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,R}function Fe(c,e,n,r){const o=Be(c,e,r,{type:1}),d=Be(c,e,r,{type:1});return x(o,new ue(d,n)),{left:o,right:d}}function ze(c,e,n){const r=c.ruleToStartState.get(e);De(r,n.left);const o=c.ruleToStopState.get(e);return De(n.right,o),{left:r,right:o}}function De(c,e){x(c,new Ge(e))}function Be(c,e,n,r){const o=Object.assign({atn:c,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:c.states.length},r);return c.states.push(o),o}function x(c,e){0===c.transitions.length&&(c.epsilonOnlyTransitions=e.isEpsilon()),c.transitions.push(e)}function ne(c,e){c.states.splice(c.states.indexOf(e),1)}const me={};class Pe{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=ve(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,D.A)(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function ve(c,e=!0){return`${e?`a${c.alt}`:""}s${c.state.stateNumber}:${c.stack.map(n=>n.stateNumber.toString()).join("_")}`}var ut=y(1834),nt=y(785),Rt=y(6177),Pt=y(8983);const yt=function wt(c,e){return c&&c.length?(0,Pt.A)(c,(0,Rt.A)(e,2)):[]};var $t=y(300),at=y(9412),Dt=y(3551),Wt=y(3360);function Ut(c,e){const n={};return r=>{const o=r.toString();let d=n[o];return void 0!==d||(d={atnStartState:c,decision:e,states:{}},n[o]=d),d}}class Tt{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=!0===this.predicates[r]?"1":"0";return e}}const Ct=new Tt;class Gt extends v.T6{constructor(e){var n;super(),this.logging=null!==(n=e?.logging)&&void 0!==n?n:r=>console.log(r)}initialize(e){this.atn=function Je(c){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function Qe(c,e){const n=e.length;for(let r=0;r<n;r++){const o=e[r],d=Be(c,o,void 0,{type:2}),R=Be(c,o,void 0,{type:7});d.stop=R,c.ruleToStartState.set(o,d),c.ruleToStopState.set(o,R)}}(e,c);const n=c.length;for(let r=0;r<n;r++){const o=c[r],d=X(e,o,o);void 0!==d&&ze(e,o,d)}return e}(e.rules),this.dfas=function tn(c){const e=c.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=Ut(c.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:o,dynamicTokensEnabled:d}=e,R=this.dfas,C=this.logging,U=g(r,"Alternation",n),fe=this.atn.decisionMap[U].decision,Ae=(0,D.A)((0,v.jk)({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),be=>(0,D.A)(be,je=>je[0]));if(lt(Ae,!1)&&!d){const be=(0,Wt.A)(Ae,(je,gt,ht)=>((0,at.A)(gt,Lt=>{Lt&&(je[Lt.tokenTypeIdx]=ht,(0,at.A)(Lt.categoryMatches,Zt=>{je[Zt]=ht}))}),je),{});return o?function(je){var gt;const ht=this.LA(1),Lt=be[ht.tokenTypeIdx];if(void 0!==je&&void 0!==Lt){const Zt=null===(gt=je[Lt])||void 0===gt?void 0:gt.GATE;if(void 0!==Zt&&!1===Zt.call(this))return}return Lt}:function(){const je=this.LA(1);return be[je.tokenTypeIdx]}}return o?function(be){const je=new Tt,gt=void 0===be?0:be.length;for(let Lt=0;Lt<gt;Lt++){const Zt=be?.[Lt].GATE;je.set(Lt,void 0===Zt||Zt.call(this))}const ht=_t.call(this,R,fe,je,C);return"number"==typeof ht?ht:void 0}:function(){const be=_t.call(this,R,fe,Ct,C);return"number"==typeof be?be:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:o,dynamicTokensEnabled:d}=e,R=this.dfas,C=this.logging,U=g(r,o,n),fe=this.atn.decisionMap[U].decision,Ae=(0,D.A)((0,v.jk)({maxLookahead:1,occurrence:n,prodType:o,rule:r}),be=>(0,D.A)(be,je=>je[0]));if(lt(Ae)&&Ae[0][0]&&!d){const je=(0,$t.A)(Ae[0]);if(1===je.length&&(0,Dt.A)(je[0].categoryMatches)){const ht=je[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===ht}}{const gt=(0,Wt.A)(je,(ht,Lt)=>(void 0!==Lt&&(ht[Lt.tokenTypeIdx]=!0,(0,at.A)(Lt.categoryMatches,Zt=>{ht[Zt]=!0})),ht),{});return function(){const ht=this.LA(1);return!0===gt[ht.tokenTypeIdx]}}}return function(){const be=_t.call(this,R,fe,Ct,C);return"object"!=typeof be&&0===be}}}function lt(c,e=!0){const n=new Set;for(const r of c){const o=new Set;for(const d of r){if(void 0===d){if(e)break;return!1}const R=[d.tokenTypeIdx].concat(d.categoryMatches);for(const C of R)if(n.has(C)){if(!o.has(C))return!1}else n.add(C),o.add(C)}}return!0}function _t(c,e,n,r){const o=c[e](n);let d=o.start;if(void 0===d){const C=function ft(c){const e=new Pe,n=c.transitions.length;for(let r=0;r<n;r++)Mt({state:c.transitions[r].target,alt:r,stack:[]},e);return e}(o.atnStartState);d=Xt(o,Vt(C)),o.start=d}return zt.apply(this,[o,d,n,r])}function zt(c,e,n,r){let o=e,d=1;const R=[];let C=this.LA(d++);for(;;){let U=qt(o,C);if(void 0===U&&(U=Bt.apply(this,[c,o,C,d,n,r])),U===me)return Nt(R,o,C);if(!0===U.isAcceptState)return U.prediction;o=U,R.push(C),C=this.LA(d++)}}function Bt(c,e,n,r,o,d){const R=function At(c,e,n){const r=new Pe,o=[];for(const R of c.elements){if(!1===n.is(R.alt))continue;if(7===R.state.type){o.push(R);continue}const C=R.state.transitions.length;for(let U=0;U<C;U++){const fe=It(R.state.transitions[U],e);void 0!==fe&&r.add({state:fe,alt:R.alt,stack:R.stack})}}let d;if(0===o.length&&1===r.size&&(d=r),void 0===d){d=new Pe;for(const R of r.elements)Mt(R,d)}if(o.length>0&&!function E(c){for(const e of c.elements)if(7===e.state.type)return!0;return!1}(d))for(const R of o)d.add(R);return d}(e.configs,n,o);if(0===R.size)return pt(c,e,n,me),me;let C=Vt(R);const U=function Ot(c,e){let n;for(const r of c.elements)if(!0===e.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(R,o);if(void 0!==U)C.isAcceptState=!0,C.prediction=U,C.configs.uniqueAlt=U;else if(function B(c){if(function G(c){for(const e of c.elements)if(7!==e.state.type)return!1;return!0}(c))return!0;const e=function k(c){const e=new Map;for(const n of c){const r=ve(n,!1);let o=e.get(r);void 0===o&&(o={},e.set(r,o)),o[n.alt]=!0}return e}(c.elements);return function T(c){for(const e of Array.from(c.values()))if(Object.keys(e).length>1)return!0;return!1}(e)&&!function h(c){for(const e of Array.from(c.values()))if(1===Object.keys(e).length)return!0;return!1}(e)}(R)){const ae=(0,ut.A)(R.alts);C.isAcceptState=!0,C.prediction=ae,C.configs.uniqueAlt=ae,Kt.apply(this,[c,r,R.alts,d])}return C=pt(c,e,n,C),C}function Kt(c,e,n,r){const o=[];for(let ae=1;ae<=e;ae++)o.push(this.LA(ae).tokenType);const d=c.atnStartState,U=function dt(c){const e=(0,D.A)(c.prefixPath,o=>(0,v.Sk)(o)).join(", "),n=0===c.production.idx?"":c.production.idx;let r=`Ambiguous Alternatives Detected: <${c.ambiguityIndices.join(", ")}> in <${function Yt(c){if(c instanceof v.wL)return"SUBRULE";if(c instanceof v.c$)return"OPTION";if(c instanceof v.ak)return"OR";if(c instanceof v.$P)return"AT_LEAST_ONE";if(c instanceof v.Cy)return"AT_LEAST_ONE_SEP";if(c instanceof v.Pp)return"MANY_SEP";if(c instanceof v.Y2)return"MANY";if(c instanceof v.BK)return"CONSUME";throw Error("non exhaustive match")}(c.production)}${n}> inside <${c.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:d.rule,ambiguityIndices:n,production:d.production,prefixPath:o});r(U)}function Nt(c,e,n){const r=(0,nt.A)(e.configs.elements,d=>d.state.transitions);return{actualToken:n,possibleTokenTypes:yt(r.filter(d=>d instanceof ue).map(d=>d.tokenType),d=>d.tokenTypeIdx),tokenPath:c}}function qt(c,e){return c.edges[e.tokenTypeIdx]}function It(c,e){if(c instanceof ue&&(0,v.G)(e,c.tokenType))return c.target}function Vt(c){return{configs:c,edges:{},isAcceptState:!1,prediction:-1}}function pt(c,e,n,r){return r=Xt(c,r),e.edges[n.tokenTypeIdx]=r,r}function Xt(c,e){if(e===me)return e;const n=e.configs.key,r=c.states[n];return void 0!==r?r:(e.configs.finalize(),c.states[n]=e,e)}function Mt(c,e){const n=c.state;if(7===n.type){if(c.stack.length>0){const o=[...c.stack];Mt({state:o.pop(),alt:c.alt,stack:o},e)}else e.add(c);return}n.epsilonOnlyTransitions||e.add(c);const r=n.transitions.length;for(let o=0;o<r;o++){const R=q(c,n.transitions[o]);void 0!==R&&Mt(R,e)}}function q(c,e){if(e instanceof Ge)return{state:e.target,alt:c.alt,stack:c.stack};if(e instanceof Le){const n=[...c.stack,e.followState];return{state:e.target,alt:c.alt,stack:n}}}var Q=y(265),ge=y(3057);class Ne{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]??this.rootNode}buildRootNode(e){return this.rootNode=new we(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new Te;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new se(e.startOffset,e.image.length,(0,u.wf)(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const d of e){const R=new se(d.startOffset,d.image.length,(0,u.wf)(d),d.tokenType,!0);R.root=this.rootNode,n.push(R)}let r=this.current,o=!1;if(r.content.length>0)r.content.push(...n);else{for(;r.container;){const d=r.container.content.indexOf(r);if(d>0){r.container.content.splice(d,0,...n),o=!0;break}r=r.container}o||this.rootNode.content.unshift(...n)}}construct(e){const n=this.current;"string"==typeof e.$type&&!e.$infixName&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();0===r?.content.length&&this.removeNode(r)}}class O{get hidden(){return!1}get astNode(){const e="string"==typeof this._astNode?.$type?this._astNode:this.container?.astNode;if(!e)throw new Error("This node has no associated AST element");return e}set astNode(e){this._astNode=e}get text(){return this.root.fullText.substring(this.offset,this.end)}}class se extends O{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,o,d=!1){super(),this._hidden=d,this._offset=e,this._tokenType=o,this._length=n,this._range=r}}class Te extends O{constructor(){super(...arguments),this.content=new Se(this)}get offset(){return this.firstNonHiddenNode?.offset??0}get length(){return this.end-this.offset}get end(){return this.lastNonHiddenNode?.end??0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(void 0===this._rangeCache){const{range:r}=e,{range:o}=n;this._rangeCache={start:r.start,end:o.end.line<r.start.line?r.start:o.end}}return this._rangeCache}return{start:ge.Position.create(0,0),end:ge.Position.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class Se extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Se.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class we extends Te{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const Xe=Symbol("Datatype");function it(c){return c.$type===Xe}const xe=c=>c.endsWith("\u200b")?c:c+"\u200b";class He{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const n=this.lexer.definition,r="production"===e.LanguageMetaData.mode;this.wrapper=e.shared.profilers.LangiumProfiler?.isActive("parsing")?new Ci(n,{...e.parser.ParserConfig,skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider},e.shared.profilers.LangiumProfiler.createTask("parsing",e.LanguageMetaData.languageId)):new br(n,{...e.parser.ParserConfig,skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider})}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class qe extends He{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Ne,this.stack=[],this.assignmentMap=new Map,this.operatorPrecedence=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e);let o;(0,m.NT)(e)&&(o=e.name,this.registerPrecedenceMap(e));const d=this.wrapper.DEFINE_RULE(xe(e.name),this.startImplementation(r,o,n).bind(this));return this.allRules.set(e.name,d),(0,m.s7)(e)&&e.entry&&(this.mainRule=d),d}registerPrecedenceMap(e){const n=e.name,r=new Map;for(let o=0;o<e.operators.precedences.length;o++){const d=e.operators.precedences[o];for(const R of d.operators)r.set(R.value,{precedence:o,rightAssoc:"right"===d.associativity})}this.operatorPrecedence.set(n,r)}computeRuleType(e){return(0,m.NT)(e)?(0,L.Uz)(e):e.fragment?void 0:(0,L.Xq)(e)?Xe:(0,L.Uz)(e)}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const o=n.rule?this.allRules.get(n.rule):this.mainRule;if(!o)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const d=this.doParse(o);return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,(0,Q.SD)(d,{deep:!0}),{value:d,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}doParse(e){let n=this.wrapper.rule(e);if(this.stack.length>0&&(n=this.construct()),void 0===n)throw new Error("No result from parser");if(this.stack.length>0)throw new Error("Parser stack is not empty after parsing");return n}startImplementation(e,n,r){return o=>{const d=!this.isRecording()&&void 0!==e;if(d){const R={$type:e};this.stack.push(R),e===Xe?R.value="":void 0!==n&&(R.$infixName=n)}return r(o),d?this.construct():void 0}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let o=0;o<n.length;o++)if(n[o].startOffset>r)return n.splice(0,o);return n.splice(0,n.length)}consume(e,n,r){const o=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(o)){const d=this.extractHiddenTokens(o);this.nodeBuilder.addHiddenNodes(d);const R=this.nodeBuilder.buildLeafNode(o,r),{assignment:C,crossRef:U}=this.getAssignment(r),ae=this.current;if(C){const fe=(0,m.wb)(r)?o.image:this.converter.convert(o.image,R);this.assign(C.operator,C.feature,fe,R,U)}else if(it(ae)){let fe=o.image;(0,m.wb)(r)||(fe=this.converter.convert(fe,R).toString()),ae.value+=fe}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,n,r,o,d){let R,C;!this.isRecording()&&!r&&(R=this.nodeBuilder.buildCompositeNode(o));try{C=this.wrapper.wrapSubrule(e,n,d)}finally{this.isRecording()||(void 0===C&&!r&&(C=this.construct()),void 0!==C&&R&&R.length>0&&this.performSubruleAssignment(C,o,R))}}performSubruleAssignment(e,n,r){const{assignment:o,crossRef:d}=this.getAssignment(n);if(o)this.assign(o.operator,o.feature,e,r,d);else if(!o){const R=this.current;if(it(R))R.value+=e.toString();else if("object"==typeof e&&e){const U=this.assignWithoutOverride(e,R);this.stack.pop(),this.stack.push(U)}}}action(e,n){if(!this.isRecording()){let r=this.current;n.feature&&n.operator?(r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode),this.stack.push({$type:e}),this.assign(n.operator,n.feature,r,r.$cstNode)):r.$type=e}}construct(){if(this.isRecording())return;const e=this.stack.pop();return this.nodeBuilder.construct(e),"$infixName"in e?this.constructInfix(e,this.operatorPrecedence.get(e.$infixName)):it(e)?this.converter.convert(e.value,e.$cstNode):((0,Q.OP)(this.astReflection,e),e)}constructInfix(e,n){const r=e.parts;if(!Array.isArray(r)||0===r.length)return;const o=e.operators;if(!Array.isArray(o)||r.length<2)return r[0];let d=0,R=-1;for(let ht=0;ht<o.length;ht++){const Zt=n.get(o[ht])??{precedence:1/0,rightAssoc:!1};Zt.precedence>R?(R=Zt.precedence,d=ht):Zt.precedence===R&&(Zt.rightAssoc||(d=ht))}const C=o.slice(0,d),U=o.slice(d+1),ae=r.slice(0,d+1),fe=r.slice(d+1),be={$infixName:e.$infixName,$type:e.$type,$cstNode:e.$cstNode,parts:fe,operators:U},je=this.constructInfix({$infixName:e.$infixName,$type:e.$type,$cstNode:e.$cstNode,parts:ae,operators:C},n),gt=this.constructInfix(be,n);return{$type:e.$type,$cstNode:e.$cstNode,left:je,operator:o[d],right:gt}}getAssignment(e){if(!this.assignmentMap.has(e)){const n=(0,Q.XG)(e,m.wh);this.assignmentMap.set(e,{assignment:n,crossRef:n&&(0,m._c)(n.terminal)?n.terminal.isMulti?"multi":"single":void 0})}return this.assignmentMap.get(e)}assign(e,n,r,o,d){const R=this.current;let C;switch(C="single"===d&&"string"==typeof r?this.linker.buildReference(R,n,o,r):"multi"===d&&"string"==typeof r?this.linker.buildMultiReference(R,n,o,r):r,e){case"=":R[n]=C;break;case"?=":R[n]=!0;break;case"+=":Array.isArray(R[n])||(R[n]=[]),R[n].push(C)}}assignWithoutOverride(e,n){for(const[o,d]of Object.entries(n)){const R=e[o];void 0===R?e[o]=d:Array.isArray(R)&&Array.isArray(d)&&(d.push(...R),e[o]=d)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class _e{buildMismatchTokenMessage(e){return v.my.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return v.my.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return v.my.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return v.my.buildEarlyExitMessage(e)}}class ce extends _e{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class xt extends He{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(xe(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,o,d){this.before(o),this.wrapper.wrapSubrule(e,n,d),this.after(o)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const kt={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new ce};class br extends v.jr{constructor(e,n){super(e,{...kt,lookaheadStrategy:n&&"maxLookahead"in n?new v.T6({maxLookahead:n.maxLookahead}):new Gt({logging:n.skipValidations?()=>{}:void 0}),...n})}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n,r){return this.RULE(e,n,r)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n,void 0)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}rule(e){return e.call(this,{})}}class Ci extends br{constructor(e,n,r){super(e,n),this.task=r}rule(e){this.task.start(),this.task.startSubTask(this.ruleName(e));try{return super.rule(e)}finally{this.task.stopSubTask(this.ruleName(e)),this.task.stop()}}ruleName(e){return e.ruleName}subrule(e,n,r){this.task.startSubTask(this.ruleName(n));try{return super.subrule(e,n,r)}finally{this.task.stopSubTask(this.ruleName(n))}}}var _n=y(8586),vt=y(4193);function wr(c,e,n){return function Si(c,e){const n=(0,L.YV)(e,!1),r=(0,vt.Td)(e.rules).filter(m.s7).filter(d=>n.has(d));for(const d of r){const R={...c,consume:1,optional:1,subrule:1,many:1,or:1};c.parser.rule(d,Tn(R,d.definition))}const o=(0,vt.Td)(e.rules).filter(m.NT).filter(d=>n.has(d));for(const d of o)c.parser.rule(d,$i(c,d))}({parser:e,tokens:n,ruleNames:new Map},c),e}function $i(c,e){const n=e.call.rule.ref;if(!n)throw new Error("Could not resolve reference to infix operator rule: "+e.call.rule.$refText);if((0,m.rE)(n))throw new Error("Cannot use terminal rule in infix expression");const r=e.operators.precedences.flatMap(je=>je.operators),o={$type:"Group",elements:[]},d={$container:o,$type:"Assignment",feature:"parts",operator:"+=",terminal:e.call},R={$container:o,$type:"Group",elements:[],cardinality:"*"};o.elements.push(d,R);const U={$container:R,$type:"Assignment",feature:"operators",operator:"+=",terminal:{$type:"Alternatives",elements:r}},ae={...d,$container:R};R.elements.push(U,ae);const Ae=r.map(je=>c.tokens[je.value]).map((je,gt)=>({ALT:()=>c.parser.consume(gt,je,U)}));let be;return je=>{be??(be=Nn(c,n)),c.parser.subrule(0,be,!1,d,je),c.parser.many(0,{DEF:()=>{c.parser.alternatives(0,Ae),c.parser.subrule(1,be,!1,ae,je)}})}}function Tn(c,e,n=!1){let r;if((0,m.wb)(e))r=function tr(c,e){const n=c.consume++,r=c.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>c.parser.consume(n,r,e)}(c,e);else if((0,m.ve)(e))r=function _i(c,e){const n=(0,L.Uz)(e);return()=>c.parser.action(n,e)}(c,e);else if((0,m.wh)(e))r=Tn(c,e.terminal);else if((0,m._c)(e))r=Rn(c,e);else if((0,m.$g)(e))r=function Or(c,e){const n=e.rule.ref;if((0,m.cM)(n)){const r=c.subrule++,o=(0,m.s7)(n)&&n.fragment,d=e.arguments.length>0?function Ni(c,e){if(e.some(r=>r.calledByName)){const r=e.map(o=>({parameterName:o.parameter?.ref?.name,predicate:nn(o.value)}));return o=>{const d={};for(const{parameterName:R,predicate:C}of r)R&&(d[R]=C(o));return d}}{const r=e.map(o=>nn(o.value));return o=>{const d={};for(let R=0;R<r.length;R++)R<c.parameters.length&&(d[c.parameters[R].name]=(0,r[R])(o));return d}}}(n,e.arguments):()=>({});let R;return C=>{R??(R=Nn(c,n)),c.parser.subrule(r,R,o,e,d(C))}}if((0,m.rE)(n)){const r=c.consume++,o=In(c,n.name);return()=>c.parser.consume(r,o,e)}if(!n)throw new _n.WB(e.$cstNode,`Undefined rule: ${e.rule.$refText}`);(0,_n.dr)(n)}(c,e);else if((0,m.jp)(e))r=function Ii(c,e){if(1===e.elements.length)return Tn(c,e.elements[0]);{const n=[];for(const o of e.elements){const d={ALT:Tn(c,o,!0)},R=Jt(o);R&&(d.GATE=nn(R)),n.push(d)}const r=c.or++;return o=>c.parser.alternatives(r,n.map(d=>{const R={ALT:()=>d.ALT(o)},C=d.GATE;return C&&(R.GATE=()=>C(o)),R}))}}(c,e);else if((0,m.cY)(e))r=function xn(c,e){if(1===e.elements.length)return Tn(c,e.elements[0]);const n=[];for(const C of e.elements){const U={ALT:Tn(c,C,!0)},ae=Jt(C);ae&&(U.GATE=nn(ae)),n.push(U)}const r=c.or++,o=(C,U)=>`uGroup_${C}_${U.getRuleStack().join("-")}`,R=nr(c,Jt(e),C=>c.parser.alternatives(r,n.map((U,ae)=>{const fe={ALT:()=>!0},Ae=c.parser;fe.ALT=()=>{if(U.ALT(C),!Ae.isRecording()){const je=o(r,Ae);Ae.unorderedGroups.get(je)||Ae.unorderedGroups.set(je,[]);const gt=Ae.unorderedGroups.get(je);typeof gt?.[ae]>"u"&&(gt[ae]=!0)}};const be=U.GATE;return fe.GATE=be?()=>be(C):()=>!Ae.unorderedGroups.get(o(r,Ae))?.[ae],fe})),"*");return C=>{R(C),c.parser.isRecording()||c.parser.unorderedGroups.delete(o(r,c.parser))}}(c,e);else if((0,m.IZ)(e))r=function ki(c,e){const n=e.elements.map(r=>Tn(c,r));return r=>n.forEach(o=>o(r))}(c,e);else{if(!(0,m.FO)(e))throw new _n.WB(e.$cstNode,`Unexpected element type: ${e.$type}`);{const o=c.consume++;r=()=>c.parser.consume(o,v.LT,e)}}return nr(c,n?void 0:Jt(e),r,e.cardinality)}function nn(c){if((0,m.RP)(c)){const e=nn(c.left),n=nn(c.right);return r=>e(r)||n(r)}if((0,m.Tu)(c)){const e=nn(c.left),n=nn(c.right);return r=>e(r)&&n(r)}if((0,m.Ct)(c)){const e=nn(c.value);return n=>!e(n)}if((0,m.TF)(c)){const e=c.parameter.ref.name;return n=>void 0!==n&&!0===n[e]}if((0,m.Cz)(c)){const e=!!c.true;return()=>e}(0,_n.dr)(c)}function Jt(c){if((0,m.IZ)(c))return c.guardCondition}function Rn(c,e,n=e.terminal){if(n){if((0,m.$g)(n)&&(0,m.s7)(n.rule.ref)){const r=n.rule.ref,o=c.subrule++;let d;return R=>{d??(d=Nn(c,r)),c.parser.subrule(o,d,!1,e,R)}}if((0,m.$g)(n)&&(0,m.rE)(n.rule.ref)){const r=c.consume++,o=In(c,n.rule.ref.name);return()=>c.parser.consume(r,o,e)}if((0,m.wb)(n)){const r=c.consume++,o=In(c,n.value);return()=>c.parser.consume(r,o,e)}throw new Error("Could not build cross reference parser")}{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const o=(0,L.U5)(e.type.ref)?.terminal;if(!o)throw new Error("Could not find name assignment for type: "+(0,L.Uz)(e.type.ref));return Rn(c,e,o)}}function nr(c,e,n,r){const o=e&&nn(e);if(!r){if(o){const d=c.or++;return R=>c.parser.alternatives(d,[{ALT:()=>n(R),GATE:()=>o(R)},{ALT:(0,v.mT)(),GATE:()=>!o(R)}])}return n}if("*"===r){const d=c.many++;return R=>c.parser.many(d,{DEF:()=>n(R),GATE:o?()=>o(R):void 0})}if("+"===r){const d=c.many++;if(o){const R=c.or++;return C=>c.parser.alternatives(R,[{ALT:()=>c.parser.atLeastOne(d,{DEF:()=>n(C)}),GATE:()=>o(C)},{ALT:(0,v.mT)(),GATE:()=>!o(C)}])}return R=>c.parser.atLeastOne(d,{DEF:()=>n(R)})}if("?"===r){const d=c.optional++;return R=>c.parser.optional(d,{DEF:()=>n(R),GATE:o?()=>o(R):void 0})}(0,_n.dr)(r)}function Nn(c,e){const n=function Pi(c,e){if((0,m.cM)(e))return e.name;if(c.ruleNames.has(e))return c.ruleNames.get(e);{let n=e,r=n.$container,o=e.$type;for(;!(0,m.s7)(r);)((0,m.IZ)(r)||(0,m.jp)(r)||(0,m.cY)(r))&&(o=r.elements.indexOf(n).toString()+":"+o),n=r,r=r.$container;return o=r.name+":"+o,c.ruleNames.set(e,o),o}}(c,e),r=c.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function In(c,e){const n=c.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}var wi=y(3460),rr=y(6535),Ye=y(9204),St=y(3302),ot=y(7449);let zn=0;const fn=Symbol("OperationCancelled");function vn(c){return c===fn}function Qt(c){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,Ye.A)(function*(c){if(c===St.CancellationToken.None)return;const e=performance.now();if(e-zn>=10&&(zn=e,yield function ir(){return new Promise(c=>{typeof setImmediate>"u"?setTimeout(c,0):setImmediate(c)})}(),zn=performance.now()),c.isCancellationRequested)throw fn})).apply(this,arguments)}class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class Fn{constructor(e,n,r,o){this._uri=e,this._languageId=n,this._version=r,this._content=o,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(Fn.isIncremental(r)){const o=Fr(r.range),d=this.offsetAt(o.start),R=this.offsetAt(o.end);this._content=this._content.substring(0,d)+r.text+this._content.substring(R,this._content.length);const C=Math.max(o.start.line,0),U=Math.max(o.end.line,0);let ae=this._lineOffsets;const fe=Mr(r.text,!1,d);if(U-C===fe.length)for(let be=0,je=fe.length;be<je;be++)ae[be+C+1]=fe[be];else fe.length<1e4?ae.splice(C+1,U-C,...fe):this._lineOffsets=ae=ae.slice(0,C+1).concat(fe,ae.slice(U+1));const Ae=r.text.length-(R-d);if(0!==Ae)for(let be=C+1+fe.length,je=ae.length;be<je;be++)ae[be]=ae[be]+Ae}else{if(!Fn.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=n}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Mr(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,o=n.length;if(0===o)return{line:0,character:e};for(;r<o;){const R=Math.floor((r+o)/2);n[R]>e?o=R:r=R+1}const d=r-1;return{line:d,character:(e=this.ensureBeforeEOL(e,n[d]))-n[d]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const d=Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length);return this.ensureBeforeEOL(d,r)}ensureBeforeEOL(e,n){for(;e>n&&xr(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)}static isFull(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength}}var ar,c;function or(c,e){if(c.length<=1)return c;const n=c.length/2|0,r=c.slice(0,n),o=c.slice(n);or(r,e),or(o,e);let d=0,R=0,C=0;for(;d<r.length&&R<o.length;)e(r[d],o[R])<=0?c[C++]=r[d++]:c[C++]=o[R++];for(;d<r.length;)c[C++]=r[d++];for(;R<o.length;)c[C++]=o[R++];return c}function Mr(c,e,n=0){const r=e?[n]:[];for(let o=0;o<c.length;o++){const d=c.charCodeAt(o);xr(d)&&(13===d&&o+1<c.length&&10===c.charCodeAt(o+1)&&o++,r.push(n+o+1))}return r}function xr(c){return 13===c||10===c}function Fr(c){const e=c.start,n=c.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:c}function Oi(c){const e=Fr(c.range);return e!==c.range?{newText:c.newText,range:e}:c}(c=ar||(ar={})).create=function e(o,d,R,C){return new Fn(o,d,R,C)},c.update=function n(o,d,R){if(o instanceof Fn)return o.update(d,R),o;throw new Error("TextDocument.update: document must be created by TextDocument.create")},c.applyEdits=function r(o,d){const R=o.getText(),C=or(d.map(Oi),(fe,Ae)=>{const be=fe.range.start.line-Ae.range.start.line;return 0===be?fe.range.start.character-Ae.range.start.character:be});let U=0;const ae=[];for(const fe of C){const Ae=o.offsetAt(fe.range.start);if(Ae<U)throw new Error("Overlapping edit");Ae>U&&ae.push(R.substring(U,Ae)),fe.newText.length&&ae.push(fe.newText),U=o.offsetAt(fe.range.end)}return ae.push(R.substr(U)),ae.join("")};var rn,Ht=y(2510);!function(c){c.basename=Ht.A.basename,c.dirname=Ht.A.dirname,c.extname=Ht.A.extname,c.joinPath=Ht.A.joinPath,c.resolvePath=Ht.A.resolvePath;const e="object"==typeof process&&"win32"===process?.platform;c.equals=function n(R,C){return R?.toString()===C?.toString()},c.relative=function r(R,C){const U="string"==typeof R?Ht.r.parse(R).path:R.path,ae="string"==typeof C?Ht.r.parse(C).path:C.path,fe=U.split("/").filter(ht=>ht.length>0),Ae=ae.split("/").filter(ht=>ht.length>0);if(e){const ht=/^[A-Z]:$/;if(fe[0]&&ht.test(fe[0])&&(fe[0]=fe[0].toLowerCase()),Ae[0]&&ht.test(Ae[0])&&(Ae[0]=Ae[0].toLowerCase()),fe[0]!==Ae[0])return ae.substring(1)}let be=0;for(;be<fe.length&&fe[be]===Ae[be];be++);return"../".repeat(fe.length-be)+Ae.slice(be).join("/")},c.normalize=function o(R){return Ht.r.parse(R.toString()).toString()},c.contains=function d(R,C){let U="string"==typeof R?R:R.path,ae="string"==typeof C?C:C.path;return"/"===ae.charAt(ae.length-1)&&(ae=ae.slice(0,-1)),"/"===U.charAt(U.length-1)&&(U=U.slice(0,-1)),ae===U||!(ae.length<U.length||"/"!==ae.charAt(U.length))&&ae.startsWith(U)}}(rn||(rn={}));class Li{constructor(){this.root={name:"",children:new Map}}normalizeUri(e){return rn.normalize(e)}clear(){this.root.children.clear()}insert(e,n){this.getNode(this.normalizeUri(e),!0).element=n}delete(e){const n=this.getNode(this.normalizeUri(e),!1);n?.parent&&n.parent.children.delete(n.name)}has(e){return void 0!==this.getNode(this.normalizeUri(e),!1)?.element}hasNode(e){return void 0!==this.getNode(this.normalizeUri(e),!1)}find(e){return this.getNode(this.normalizeUri(e),!1)?.element}findNode(e){const n=this.normalizeUri(e),r=this.getNode(n,!1);if(r)return{name:r.name,uri:rn.joinPath(Ht.r.parse(n),r.name).toString(),element:r.element}}findChildren(e){const n=this.normalizeUri(e),r=this.getNode(n,!1);return r?Array.from(r.children.values()).map(o=>({name:o.name,uri:rn.joinPath(Ht.r.parse(n),o.name).toString(),element:o.element})):[]}all(){return this.collectValues(this.root)}findAll(e){const n=this.getNode(rn.normalize(e),!1);return n?this.collectValues(n):[]}getNode(e,n){const r=e.split("/");"/"===e.charAt(e.length-1)&&r.pop();let o=this.root;for(const d of r){let R=o.children.get(d);if(!R){if(!n)return;R={name:d,children:new Map,parent:o},o.children.set(d,R)}o=R}return o}collectValues(e){const n=[];e.element&&n.push(e.element);for(const r of e.children.values())n.push(...this.collectValues(r));return n}}var st=function(c){return c[c.Changed=0]="Changed",c[c.Parsed=1]="Parsed",c[c.IndexedContent=2]="IndexedContent",c[c.ComputedScopes=3]="ComputedScopes",c[c.Linked=4]="Linked",c[c.IndexedReferences=5]="IndexedReferences",c[c.Validated=6]="Validated",c}(st||{});class Di{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}fromUri(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){const d=yield n.fileSystemProvider.readFile(r);return n.createAsync(r,d,o)}).apply(this,arguments)}fromTextDocument(e,n,r){return n=n??Ht.r.parse(e.uri),St.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return St.CancellationToken.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if("string"==typeof n){const o=this.parse(e,n,r);return this.createLangiumDocument(o,e,void 0,n)}if("$model"in n)return this.createLangiumDocument({value:n.$model,parserErrors:[],lexerErrors:[]},e);{const o=this.parse(e,n.getText(),r);return this.createLangiumDocument(o,e,n)}}createAsync(e,n,r){var o=this;return(0,Ye.A)(function*(){if("string"==typeof n){const d=yield o.parseAsync(e,n,r);return o.createLangiumDocument(d,e,void 0,n)}{const d=yield o.parseAsync(e,n.getText(),r);return o.createLangiumDocument(d,e,n)}})()}createLangiumDocument(e,n,r,o){let d;if(r)d={parseResult:e,uri:n,state:st.Parsed,references:[],textDocument:r};else{const R=this.createTextDocumentGetter(n,o);d={parseResult:e,uri:n,state:st.Parsed,references:[],get textDocument(){return R()}}}return e.value.$document=d,d}update(e,n){var r=this;return(0,Ye.A)(function*(){const o=e.parseResult.value.$cstNode?.root.fullText,d=r.textDocuments?.get(e.uri.toString()),R=d?d.getText():yield r.fileSystemProvider.readFile(e.uri);if(d)Object.defineProperty(e,"textDocument",{value:d});else{const C=r.createTextDocumentGetter(e.uri,R);Object.defineProperty(e,"textDocument",{get:C})}return o!==R&&(e.parseResult=yield r.parseAsync(e.uri,R,n),e.parseResult.value.$document=e),e.state=st.Parsed,e})()}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let o;return()=>o??(o=ar.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class Mi{constructor(e){this.documentTrie=new Li,this.services=e,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.documentBuilder=()=>e.workspace.DocumentBuilder}get all(){return(0,vt.Td)(this.documentTrie.all())}addDocument(e){const n=e.uri.toString();if(this.documentTrie.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentTrie.insert(n,e)}getDocument(e){const n=e.toString();return this.documentTrie.find(n)}getDocuments(e){const n=e.toString();return this.documentTrie.findAll(n)}getOrCreateDocument(e,n){var r=this;return(0,Ye.A)(function*(){let o=r.getDocument(e);return o||(o=yield r.langiumDocumentFactory.fromUri(e,n),r.addDocument(o),o)})()}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(o=>(this.addDocument(o),o));{const o=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(o),o}}hasDocument(e){return this.documentTrie.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentTrie.find(n);return r&&this.documentBuilder().resetToState(r,st.Changed),r}deleteDocument(e){const n=e.toString(),r=this.documentTrie.find(n);return r&&(r.state=st.Changed,this.documentTrie.delete(n)),r}deleteDocuments(e){const n=e.toString(),r=this.documentTrie.findAll(n);for(const o of r)o.state=st.Changed;return this.documentTrie.delete(n),r}}const kn=Symbol("RefResolving");class xi{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator,this.profiler=e.shared.profilers.LangiumProfiler,this.languageId=e.LanguageMetaData.languageId}link(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){if(n.profiler?.isActive("linking")){const d=n.profiler.createTask("linking",n.languageId);d.start();try{for(const R of(0,Q.jm)(r.parseResult.value))yield Qt(o),(0,Q.DM)(R).forEach(C=>{const U=`${R.$type}:${C.property}`;d.startSubTask(U);try{n.doLink(C,r)}finally{d.stopSubTask(U)}})}finally{d.stop()}}else for(const d of(0,Q.jm)(r.parseResult.value))yield Qt(o),(0,Q.DM)(d).forEach(R=>n.doLink(R,r))}).apply(this,arguments)}doLink(e,n){const r=e.reference;if("_ref"in r&&void 0===r._ref){r._ref=kn;try{const o=this.getCandidate(e);if((0,ot.Zl)(o))r._ref=o;else{r._nodeDescription=o;const d=this.loadAstNode(o);r._ref=d??this.createLinkingError(e,o)}}catch(o){console.error(`An error occurred while resolving reference to '${r.$refText}':`,o);const d=o.message??String(o);r._ref={info:e,message:`An error occurred while resolving reference to '${r.$refText}': ${d}`}}n.references.push(r)}else if("_items"in r&&void 0===r._items){r._items=kn;try{const o=this.getCandidates(e),d=[];if((0,ot.Zl)(o))r._linkingError=o;else for(const R of o){const C=this.loadAstNode(R);C&&d.push({ref:C,$nodeDescription:R})}r._items=d}catch(o){r._linkingError={info:e,message:`An error occurred while resolving reference to '${r.$refText}': ${o}`},r._items=[]}n.references.push(r)}}unlink(e){for(const n of e.references)"_ref"in n?(n._ref=void 0,delete n._nodeDescription):"_items"in n&&(n._items=void 0,delete n._linkingError);e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}getCandidates(e){const r=this.scopeProvider.getScope(e).getElements(e.reference.$refText).distinct(o=>`${o.documentUri}#${o.path}`).toArray();return r.length>0?r:this.createLinkingError(e)}buildReference(e,n,r,o){const d=this,R={$refNode:r,$refText:o,_ref:void 0,get ref(){if((0,ot.ng)(this._ref))return this._ref;if((0,ot.Nr)(this._nodeDescription)){const C=d.loadAstNode(this._nodeDescription);this._ref=C??d.createLinkingError({reference:R,container:e,property:n},this._nodeDescription)}else if(void 0===this._ref){this._ref=kn;const C=(0,Q.cQ)(e).$document,U=d.getLinkedNode({reference:R,container:e,property:n});if(U.error&&C&&C.state<st.ComputedScopes)return this._ref=void 0;this._ref=U.node??U.error,this._nodeDescription=U.descr,C?.references.push(this)}else this._ref===kn&&d.throwCyclicReferenceError(e,n,o);return(0,ot.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,ot.Zl)(this._ref)?this._ref:void 0}};return R}buildMultiReference(e,n,r,o){const d=this,R={$refNode:r,$refText:o,_items:void 0,get items(){if(Array.isArray(this._items))return this._items;if(void 0===this._items){this._items=kn;const C=(0,Q.cQ)(e).$document,U=d.getCandidates({reference:R,container:e,property:n}),ae=[];if((0,ot.Zl)(U))this._linkingError=U;else for(const fe of U){const Ae=d.loadAstNode(fe);Ae&&ae.push({ref:Ae,$nodeDescription:fe})}this._items=ae,C?.references.push(this)}else this._items===kn&&d.throwCyclicReferenceError(e,n,o);return Array.isArray(this._items)?this._items:[]},get error(){return this._linkingError?this._linkingError:this.items.length>0?void 0:this._linkingError=d.createLinkingError({reference:R,container:e,property:n})}};return R}throwCyclicReferenceError(e,n,r){throw new Error(`Cyclic reference resolution detected: ${this.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${r}')`)}getLinkedNode(e){try{const n=this.getCandidate(e);if((0,ot.Zl)(n))return{error:n};const r=this.loadAstNode(n);return r?{node:r,descr:n}:{descr:n,error:this.createLinkingError(e,n)}}catch(n){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,n);const r=n.message??String(n);return{error:{info:e,message:`An error occurred while resolving reference to '${e.reference.$refText}': ${r}`}}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);return n?this.astNodeLocator.getAstNode(n.parseResult.value,e.path):void 0}createLinkingError(e,n){const r=(0,Q.cQ)(e.container).$document;return r&&r.state<st.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`),{info:e,message:`Could not resolve reference to ${this.reflection.getReferenceType(e)} named '${e.reference.$refText}'.`,targetDescription:n}}}class Ui{getName(e){if(function Fi(c){return"string"==typeof c.name}(e))return e.name}getNameNode(e){return(0,L.qO)(e.$cstNode,"name")}}class Ur{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator,this.documents=e.shared.workspace.LangiumDocuments,this.hasMultiReference=(0,Q.jm)(e.Grammar).some(n=>(0,m._c)(n)&&n.isMulti)}findDeclarations(e){if(e){const n=(0,L.Rp)(e),r=e.astNode;if(n&&r){const o=r[n.feature];if((0,ot.A_)(o)||(0,ot.Dm)(o))return(0,Q.tC)(o);if(Array.isArray(o))for(const d of o)if(((0,ot.A_)(d)||(0,ot.Dm)(d))&&d.$refNode&&d.$refNode.offset<=e.offset&&d.$refNode.end>=e.end)return(0,Q.tC)(d)}if(r){const o=this.nameProvider.getNameNode(r);if(o&&(o===e||(0,u.pO)(e,o)))return this.getSelfNodes(r)}}return[]}getSelfNodes(e){if(this.hasMultiReference){const n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e)),r=this.getNodeFromReferenceDescription(n.head());if(r)for(const o of(0,Q.DM)(r))if((0,ot.Dm)(o.reference)&&o.reference.items.some(d=>d.ref===e))return o.reference.items.map(d=>d.ref);return[e]}return[e]}getNodeFromReferenceDescription(e){if(!e)return;const n=this.documents.getDocument(e.sourceUri);return n?this.nodeLocator.getAstNode(n.parseResult.value,e.sourcePath):void 0}findDeclarationNodes(e){const n=this.findDeclarations(e),r=[];for(const o of n){const d=this.nameProvider.getNameNode(o)??o.$cstNode;d&&r.push(d)}return r}findReferences(e,n){const r=[];n.includeDeclaration&&r.push(...this.getSelfReferences(e));let o=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(o=o.filter(d=>rn.equals(d.sourceUri,n.documentUri))),r.push(...o),(0,vt.Td)(r)}getSelfReferences(e){const n=this.getSelfNodes(e),r=[];for(const o of n){const d=this.nameProvider.getNameNode(o);if(d){const R=(0,Q.YE)(o),C=this.nodeLocator.getAstNodePath(o);r.push({sourceUri:R.uri,sourcePath:C,targetUri:R.uri,targetPath:C,segment:(0,u.SX)(d),local:!0})}}return r}}class Pn{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return vt.iD.sum((0,vt.Td)(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(void 0===n)return this.map.delete(e);{const r=this.map.get(e);if(r){const o=r.indexOf(n);if(o>=0)return 1===r.length?this.map.delete(e):r.splice(o,1),!0}return!1}}get(e){return this.map.get(e)??[]}getStream(e){const n=this.map.get(e);return n?(0,vt.Td)(n):vt.B5}has(e,n){if(void 0===n)return this.map.has(e);{const r=this.map.get(e);return!!r&&r.indexOf(n)>=0}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(o=>e(o,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,vt.Td)(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return(0,vt.Td)(this.map.keys())}values(){return(0,vt.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,vt.Td)(this.map.entries())}}class Gr{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return void 0!==n&&(this.map.delete(e),this.inverse.delete(n),!0)}}class Gi{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}collectExportedSymbols(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){return n.collectExportedSymbolsForNode(r.parseResult.value,r,void 0,o)}).apply(this,arguments)}collectExportedSymbolsForNode(e,n){var r=this;return(0,Ye.A)(function*(o,d,R=Q.VN,C=St.CancellationToken.None){const U=[];r.addExportedSymbol(o,U,d);for(const ae of R(o))yield Qt(C),r.addExportedSymbol(ae,U,d);return U}).apply(this,arguments)}addExportedSymbol(e,n,r){const o=this.nameProvider.getName(e);o&&n.push(this.descriptions.createDescription(e,o,r))}collectLocalSymbols(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){const d=r.parseResult.value,R=new Pn;for(const C of(0,Q.Uo)(d))yield Qt(o),n.addLocalSymbol(C,r,R);return R}).apply(this,arguments)}addLocalSymbol(e,n,r){const o=e.$container;if(o){const d=this.nameProvider.getName(e);d&&r.add(o,this.descriptions.createDescription(e,d,n))}}}class cr{constructor(e,n,r){this.elements=e,this.outerScope=n,this.caseInsensitive=r?.caseInsensitive??!1,this.concatOuterScope=r?.concatOuterScope??!0}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e;return this.elements.find(this.caseInsensitive?o=>o.name.toLowerCase()===n:o=>o.name===e)||(this.outerScope?this.outerScope.getElement(e):void 0)}getElements(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.filter(this.caseInsensitive?o=>o.name.toLowerCase()===n:o=>o.name===e);return(this.concatOuterScope||r.isEmpty())&&this.outerScope?r.concat(this.outerScope.getElements(e)):r}}class Bi{constructor(e,n,r){this.elements=new Pn,this.caseInsensitive=r?.caseInsensitive??!1,this.concatOuterScope=r?.concatOuterScope??!0;for(const o of e){const d=this.caseInsensitive?o.name.toLowerCase():o.name;this.elements.add(d,o)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e;return this.elements.get(n)[0]||(this.outerScope?this.outerScope.getElement(e):void 0)}getElements(e){const n=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(n);return(this.concatOuterScope||0===r.length)&&this.outerScope?(0,vt.Td)(r).concat(this.outerScope.getElements(e)):(0,vt.Td)(r)}getAllElements(){let e=(0,vt.Td)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Br{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class jr extends Br{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class Hn extends Br{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const o=this.cacheForContext(e);if(o.has(n))return o.get(n);if(r){const d=r();return o.set(n,d),d}}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class qn extends jr{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,o)=>{o.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class mn{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new qn(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),o=(0,Q.YE)(e.container).localSymbols;if(o){let R=e.container;do{o.has(R)&&n.push(o.getStream(R).filter(C=>this.reflection.isSubtype(C.type,r))),R=R.$container}while(R)}let d=this.getGlobalScope(r,e);for(let R=n.length-1;R>=0;R--)d=this.createScope(n[R],d);return d}createScope(e,n,r){return new cr((0,vt.Td)(e),n,r)}createScopeForNodes(e,n,r){const o=(0,vt.Td)(e).map(d=>{const R=this.nameProvider.getName(d);if(R)return this.descriptions.createDescription(d,R)}).nonNullable();return new cr(o,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new Bi(this.indexManager.allElements(e)))}}function ur(c){return"object"==typeof c&&!!c&&("$ref"in c||"$error"in c)}class jt{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},o=n?.replacer,d=(C,U)=>this.replacer(C,U,r),R=o?(C,U)=>o(C,U,d):d;try{return this.currentDocument=(0,Q.YE)(e),JSON.stringify(e,R,n?.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},o=JSON.parse(e);return this.linkNode(o,o,r),o}replacer(e,n,{refText:r,sourceText:o,textRegions:d,comments:R,uriConverter:C}){if(!this.ignoreProperties.has(e)){if((0,ot.A_)(n)){const U=n.ref,ae=r?n.$refText:void 0;if(U){const fe=(0,Q.YE)(U);let Ae="";return this.currentDocument&&this.currentDocument!==fe&&(Ae=C?C(fe.uri,U):fe.uri.toString()),{$ref:`${Ae}#${this.astNodeLocator.getAstNodePath(U)}`,$refText:ae}}return{$error:n.error?.message??"Could not resolve reference",$refText:ae}}if((0,ot.Dm)(n)){const U=r?n.$refText:void 0,ae=[];for(const fe of n.items){const Ae=fe.ref,be=(0,Q.YE)(fe.ref);let je="";this.currentDocument&&this.currentDocument!==be&&(je=C?C(be.uri,Ae):be.uri.toString());const gt=this.astNodeLocator.getAstNodePath(Ae);ae.push(`${je}#${gt}`)}return{$refs:ae,$refText:U}}if((0,ot.ng)(n)){let U;if(d&&(U=this.addAstNodeRegionWithAssignmentsTo({...n}),(!e||n.$document)&&U?.$textRegion&&(U.$textRegion.documentURI=this.currentDocument?.uri.toString())),o&&!e&&(U??(U={...n}),U.$sourceText=n.$cstNode?.text),R){U??(U={...n});const ae=this.commentProvider.getComment(n);ae&&(U.$comment=ae.replace(/\r/g,""))}return U??n}return n}}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const o=(e.$textRegion=n(e.$cstNode)).assignments={};return Object.keys(e).filter(d=>!d.startsWith("$")).forEach(d=>{const R=(0,L.Bd)(e.$cstNode,d).map(n);0!==R.length&&(o[d]=R)}),e}}linkNode(e,n,r,o,d,R){for(const[U,ae]of Object.entries(e))if(Array.isArray(ae))for(let fe=0;fe<ae.length;fe++){const Ae=ae[fe];ur(Ae)?ae[fe]=this.reviveReference(e,U,n,Ae,r):(0,ot.ng)(Ae)&&this.linkNode(Ae,n,r,e,U,fe)}else ur(ae)?e[U]=this.reviveReference(e,U,n,ae,r):(0,ot.ng)(ae)&&this.linkNode(ae,n,r,e,U);const C=e;C.$container=o,C.$containerProperty=d,C.$containerIndex=R}reviveReference(e,n,r,o,d){let U,R=o.$refText,C=o.$error;if(o.$ref){const ae=this.getRefNode(r,o.$ref,d.uriConverter);if((0,ot.ng)(ae))return R||(R=this.nameProvider.getName(ae)),{$refText:R??"",ref:ae};C=ae}else if(o.$refs){const ae=[];for(const fe of o.$refs){const Ae=this.getRefNode(r,fe,d.uriConverter);(0,ot.ng)(Ae)&&ae.push({ref:Ae})}if(0!==ae.length)return{$refText:R??"",items:ae};U={$refText:R??"",items:ae},C??(C="Could not resolve multi-reference")}if(C)return U??(U={$refText:R??"",ref:void 0}),U.error={info:{container:e,property:n,reference:U},message:C},U}getRefNode(e,n,r){try{const o=n.indexOf("#");if(0===o)return this.astNodeLocator.getAstNode(e,n.substring(1))||"Could not resolve path: "+n;if(o<0){const U=r?r(n):Ht.r.parse(n),ae=this.langiumDocuments.getDocument(U);return ae?ae.parseResult.value:"Could not find document for URI: "+n}const d=r?r(n.substring(0,o)):Ht.r.parse(n.substring(0,o)),R=this.langiumDocuments.getDocument(d);return R?o===n.length-1?R.parseResult.value:this.astNodeLocator.getAstNode(R.parseResult.value,n.substring(o+1))||"Could not resolve URI: "+n:"Could not find document for URI: "+n}catch(o){return String(o)}}}class En{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.fileNameMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);if(n.fileNames)for(const r of n.fileNames)this.fileNameMap.has(r)&&console.warn(`The file name ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileNameMap.set(r,e);this.languageIdMap.set(n.languageId,e)}getServices(e){if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const n=this.textDocuments?.get(e)?.languageId;if(void 0!==n){const R=this.languageIdMap.get(n);if(R)return R}const r=rn.extname(e),o=rn.basename(e),d=this.fileNameMap.get(o)??this.fileExtensionMap.get(r);if(!d)throw n?new Error(`The service registry contains no services for the extension '${r}' for language '${n}'.`):new Error(`The service registry contains no services for the extension '${r}'.`);return d}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function bn(c){return{code:c}}var Cn;!function(c){c.defaults=["fast","slow","built-in"],c.all=c.defaults}(Cn||(Cn={}));class Xn{constructor(e){this.entries=new Pn,this.knownCategories=new Set(Cn.defaults),this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");this.knownCategories.add(r);for(const[o,d]of Object.entries(e)){const R=d;if(Array.isArray(R))for(const C of R){const U={check:this.wrapValidationException(C,n),category:r};this.addEntry(o,U)}else if("function"==typeof R){const C={check:this.wrapValidationException(R,n),category:r};this.addEntry(o,C)}else(0,_n.dr)(R)}}wrapValidationException(e,n){var r=this;return function(){var o=(0,Ye.A)(function*(d,R,C){yield r.handleException(()=>e.call(n,d,R,C),"An error occurred during validation",R,d)});return function(d,R,C){return o.apply(this,arguments)}}()}handleException(e,n,r,o){return(0,Ye.A)(function*(){try{yield e()}catch(d){if(vn(d))throw d;console.error(`${n}:`,d),d instanceof Error&&d.stack&&console.error(d.stack);const R=d instanceof Error?d.message:String(d);r("error",`${n}: ${R}`,{node:o})}})()}addEntry(e,n){if("AstNode"!==e)for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n);else this.entries.add("AstNode",n)}getChecks(e,n){let r=(0,vt.Td)(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(o=>n.includes(o.category))),r.map(o=>o.check)}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){var o=this;return function(){var d=(0,Ye.A)(function*(R,C,U,ae){yield o.handleException(()=>e.call(r,R,C,U,ae),n,C,R)});return function(R,C,U,ae){return d.apply(this,arguments)}}()}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}getAllValidationCategories(e){return this.knownCategories}}const Wr=Object.freeze({validateNode:!0,validateChildren:!0});class zr{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData,this.profiler=e.shared.profilers.LangiumProfiler,this.languageId=e.LanguageMetaData.languageId}validateDocument(e){var n=this;return(0,Ye.A)(function*(r,o={},d=St.CancellationToken.None){const R=r.parseResult,C=[];if(yield Qt(d),(!o.categories||o.categories.includes("built-in"))&&(n.processLexingErrors(R,C,o),o.stopAfterLexingErrors&&C.some(U=>U.data?.code===cn.LexingError)||(n.processParsingErrors(R,C,o),o.stopAfterParsingErrors&&C.some(U=>U.data?.code===cn.ParsingError))||(n.processLinkingErrors(r,C,o),o.stopAfterLinkingErrors&&C.some(U=>U.data?.code===cn.LinkingError))))return C;try{C.push(...yield n.validateAst(R.value,o,d))}catch(U){if(vn(U))throw U;console.error("An error occurred during validation:",U)}return yield Qt(d),C}).apply(this,arguments)}processLexingErrors(e,n,r){const o=[...e.lexerErrors,...e.lexerReport?.diagnostics??[]];for(const d of o){const R=d.severity??"error",C={severity:dr(R),range:{start:{line:d.line-1,character:d.column-1},end:{line:d.line-1,character:d.column+d.length-1}},message:d.message,data:zi(R),source:this.getSource()};n.push(C)}}processParsingErrors(e,n,r){for(const o of e.parserErrors){let d;if(isNaN(o.token.startOffset)){if("previousToken"in o){const R=o.previousToken;if(isNaN(R.startOffset)){const C={line:0,character:0};d={start:C,end:C}}else{const C={line:R.endLine-1,character:R.endColumn};d={start:C,end:C}}}}else d=(0,u.wf)(o.token);if(d){const R={severity:dr("error"),range:d,message:o.message,data:bn(cn.ParsingError),source:this.getSource()};n.push(R)}}}processLinkingErrors(e,n,r){for(const o of e.references){const d=o.error;d&&n.push(this.toDiagnostic("error",d.message,{node:d.info.container,range:o.$refNode?.range,property:d.info.property,index:d.info.index,data:{code:cn.LinkingError,containerType:d.info.container.$type,property:d.info.property,refText:d.info.reference.$refText}}))}}validateAst(e,n){var r=this;return(0,Ye.A)(function*(o,d,R=St.CancellationToken.None){const C=[],U=(ae,fe,Ae)=>{C.push(r.toDiagnostic(ae,fe,Ae))};return yield r.validateAstBefore(o,d,U,R),yield r.validateAstNodes(o,d,U,R),yield r.validateAstAfter(o,d,U,R),C}).apply(this,arguments)}validateAstBefore(e,n,r){var o=this;return(0,Ye.A)(function*(d,R,C,U=St.CancellationToken.None){const ae=o.validationRegistry.checksBefore;for(const fe of ae)yield Qt(U),yield fe(d,C,R.categories??[],U)}).apply(this,arguments)}validateAstNodes(e,n,r){var o=this;return(0,Ye.A)(function*(d,R,C,U=St.CancellationToken.None){if(o.profiler?.isActive("validating")){const ae=o.profiler.createTask("validating",o.languageId);ae.start();try{const fe=(0,Q.jm)(d).iterator();for(const Ae of fe){ae.startSubTask(Ae.$type);const be=o.validateSingleNodeOptions(Ae,R);if(be.validateNode)try{const je=o.validationRegistry.getChecks(Ae.$type,R.categories);for(const gt of je)yield gt(Ae,C,U)}finally{ae.stopSubTask(Ae.$type)}be.validateChildren||fe.prune()}}finally{ae.stop()}}else{const ae=(0,Q.jm)(d).iterator();for(const fe of ae){yield Qt(U);const Ae=o.validateSingleNodeOptions(fe,R);if(Ae.validateNode){const be=o.validationRegistry.getChecks(fe.$type,R.categories);for(const je of be)yield je(fe,C,U)}Ae.validateChildren||ae.prune()}}}).apply(this,arguments)}validateSingleNodeOptions(e,n){return Wr}validateAstAfter(e,n,r){var o=this;return(0,Ye.A)(function*(d,R,C,U=St.CancellationToken.None){const ae=o.validationRegistry.checksAfter;for(const fe of ae)yield Qt(U),yield fe(d,C,R.categories??[],U)}).apply(this,arguments)}toDiagnostic(e,n,r){return{message:n,range:Un(r),severity:dr(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function Un(c){if(c.range)return c.range;let e;return"string"==typeof c.property?e=(0,L.qO)(c.node.$cstNode,c.property,c.index):"string"==typeof c.keyword&&(e=(0,L.SS)(c.node.$cstNode,c.keyword,c.index)),e??(e=c.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function dr(c){switch(c){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+c)}}function zi(c){switch(c){case"error":return bn(cn.LexingError);case"warning":return bn(cn.LexingWarning);case"info":return bn(cn.LexingInfo);case"hint":return bn(cn.LexingHint);default:throw new Error("Invalid diagnostic severity: "+c)}}var cn=function(c){return c.LexingError="lexing-error",c.LexingWarning="lexing-warning",c.LexingInfo="lexing-info",c.LexingHint="lexing-hint",c.ParsingError="parsing-error",c.LinkingError="linking-error",c}(cn||{});class Ki{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const o=r??(0,Q.YE)(e);n??(n=this.nameProvider.getName(e));const d=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${d} has no name.`);let R;const C=()=>R??(R=(0,u.SX)(this.nameProvider.getNameNode(e)??e.$cstNode));return{node:e,name:n,get nameSegment(){return C()},selectionSegment:(0,u.SX)(e.$cstNode),type:e.$type,documentUri:o.uri,path:d}}}class Kr{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}createDescriptions(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){const d=[],R=r.parseResult.value;for(const C of(0,Q.jm)(R))yield Qt(o),(0,Q.DM)(C).forEach(U=>{U.reference.error||d.push(...n.createInfoDescriptions(U))});return d}).apply(this,arguments)}createInfoDescriptions(e){const n=e.reference;if(n.error||!n.$refNode)return[];let r=[];(0,ot.A_)(n)&&n.$nodeDescription?r=[n.$nodeDescription]:(0,ot.Dm)(n)&&(r=n.items.map(U=>U.$nodeDescription).filter(U=>void 0!==U));const o=(0,Q.YE)(e.container).uri,d=this.nodeLocator.getAstNodePath(e.container),R=[],C=(0,u.SX)(n.$refNode);for(const U of r)R.push({sourceUri:o,sourcePath:d,targetUri:U.documentUri,targetPath:U.path,segment:C,local:rn.equals(U.documentUri,o)});return R}}class Vr{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==n?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((o,d)=>{if(!o||0===d.length)return o;const R=d.indexOf(this.indexSeparator);if(R>0){const C=d.substring(0,R),U=parseInt(d.substring(R+1));return o[C]?.[U]}return o[d]},e)}}var Hr=y(2240);class Vi{constructor(e){this._ready=new sr,this.onConfigurationSectionUpdateEmitter=new Hr.Emitter,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){this.workspaceConfig=e.capabilities.workspace?.configuration??!1}initialized(e){var n=this;return(0,Ye.A)(function*(){if(n.workspaceConfig&&(e.register&&e.register({section:n.serviceRegistry.all.map(o=>n.toSectionName(o.LanguageMetaData.languageId))}),e.fetchConfiguration)){const r=n.serviceRegistry.all.map(d=>({section:n.toSectionName(d.LanguageMetaData.languageId)})),o=yield e.fetchConfiguration(r);r.forEach((d,R)=>{n.updateSectionConfiguration(d.section,o[R])})}n._ready.resolve()})()}updateConfiguration(e){"object"!=typeof e.settings||null===e.settings||Object.entries(e.settings).forEach(([n,r])=>{this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})})}updateSectionConfiguration(e,n){this.settings[e]=n}getConfiguration(e,n){var r=this;return(0,Ye.A)(function*(){yield r.ready;const o=r.toSectionName(e);if(r.settings[o])return r.settings[o][n]})()}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}var Gn,Jn=y(7031);!function(c){c.create=function e(n){return{dispose:(r=(0,Ye.A)(function*(){return yield n()}),function(){return r.apply(this,arguments)})};var r}}(Gn||(Gn={}));class Yr{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Pn,this.documentPhaseListeners=new Pn,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=st.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.fileSystemProvider=e.workspace.FileSystemProvider,this.workspaceManager=()=>e.workspace.WorkspaceManager,this.serviceRegistry=e.ServiceRegistry}build(e){var n=this;return(0,Ye.A)(function*(r,o={},d=St.CancellationToken.None){for(const R of r){const C=R.uri.toString();if(R.state===st.Validated){if("boolean"==typeof o.validation&&o.validation)n.resetToState(R,st.IndexedReferences);else if("object"==typeof o.validation){const U=n.findMissingValidationCategories(R,o);U.length>0&&(n.buildState.set(C,{completed:!1,options:{validation:{categories:U}},result:n.buildState.get(C)?.result}),R.state=st.IndexedReferences)}}else n.buildState.delete(C)}n.currentState=st.Changed,yield n.emitUpdate(r.map(R=>R.uri),[]),yield n.buildDocuments(r,o,d)}).apply(this,arguments)}update(e,n){var r=this;return(0,Ye.A)(function*(o,d,R=St.CancellationToken.None){r.currentState=st.Changed;const C=[];for(const Ae of d){const be=r.langiumDocuments.deleteDocuments(Ae);for(const je of be)C.push(je.uri),r.cleanUpDeleted(je)}const U=(yield Promise.all(o.map(Ae=>r.findChangedUris(Ae)))).flat();for(const Ae of U){let be=r.langiumDocuments.getDocument(Ae);void 0===be&&(be=r.langiumDocumentFactory.fromModel({$type:"INVALID"},Ae),be.state=st.Changed,r.langiumDocuments.addDocument(be)),r.resetToState(be,st.Changed)}const ae=(0,vt.Td)(U).concat(C).map(Ae=>Ae.toString()).toSet();r.langiumDocuments.all.filter(Ae=>!ae.has(Ae.uri.toString())&&r.shouldRelink(Ae,ae)).forEach(Ae=>r.resetToState(Ae,st.ComputedScopes)),yield r.emitUpdate(U,C),yield Qt(R);const fe=r.sortDocuments(r.langiumDocuments.all.filter(Ae=>Ae.state<st.Validated||!r.buildState.get(Ae.uri.toString())?.completed||r.resultsAreIncomplete(Ae,r.updateBuildOptions)).toArray());yield r.buildDocuments(fe,r.updateBuildOptions,R)}).apply(this,arguments)}resultsAreIncomplete(e,n){return this.findMissingValidationCategories(e,n).length>=1}findMissingValidationCategories(e,n){const r=this.buildState.get(e.uri.toString()),o=this.serviceRegistry.getServices(e.uri).validation.ValidationRegistry.getAllValidationCategories(e),d=r?.result?.validationChecks?new Set(r?.result?.validationChecks):r?.completed?o:new Set;return(0,vt.Td)(void 0===n||!0===n.validation?o:"object"==typeof n.validation?n.validation.categories??o:[]).filter(C=>!d.has(C)).toArray()}findChangedUris(e){var n=this;return(0,Ye.A)(function*(){if(n.langiumDocuments.getDocument(e)??n.textDocuments?.get(e))return[e];try{const o=yield n.fileSystemProvider.stat(e);if(o.isDirectory)return yield n.workspaceManager().searchFolder(e);if(n.workspaceManager().shouldIncludeEntry(o))return[e]}catch{}return[]})()}emitUpdate(e,n){var r=this;return(0,Ye.A)(function*(){yield Promise.all(r.updateListeners.map(o=>o(e,n)))})()}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){return!!this.textDocuments?.get(e.uri)}shouldRelink(e,n){return!!e.references.some(r=>void 0!==r.error)||this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),Gn.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}resetToState(e,n){switch(n){case st.Changed:case st.Parsed:this.indexManager.removeContent(e.uri);case st.IndexedContent:e.localSymbols=void 0;case st.ComputedScopes:this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e);case st.Linked:this.indexManager.removeReferences(e.uri);case st.IndexedReferences:e.diagnostics=void 0,this.buildState.delete(e.uri.toString())}e.state>n&&(e.state=n)}cleanUpDeleted(e){this.buildState.delete(e.uri.toString()),this.indexManager.remove(e.uri),e.state=st.Changed}buildDocuments(e,n,r){var o=this;return(0,Ye.A)(function*(){o.prepareBuild(e,n),yield o.runCancelable(e,st.Parsed,r,C=>o.langiumDocumentFactory.update(C,r)),yield o.runCancelable(e,st.IndexedContent,r,C=>o.indexManager.updateContent(C,r)),yield o.runCancelable(e,st.ComputedScopes,r,function(){var C=(0,Ye.A)(function*(U){const ae=o.serviceRegistry.getServices(U.uri).references.ScopeComputation;U.localSymbols=yield ae.collectLocalSymbols(U,r)});return function(U){return C.apply(this,arguments)}}());const d=e.filter(C=>o.shouldLink(C));yield o.runCancelable(d,st.Linked,r,C=>o.serviceRegistry.getServices(C.uri).references.Linker.link(C,r)),yield o.runCancelable(d,st.IndexedReferences,r,C=>o.indexManager.updateReferences(C,r));const R=e.filter(C=>!!o.shouldValidate(C)||(o.markAsCompleted(C),!1));yield o.runCancelable(R,st.Validated,r,function(){var C=(0,Ye.A)(function*(U){yield o.validate(U,r),o.markAsCompleted(U)});return function(U){return C.apply(this,arguments)}}())})()}markAsCompleted(e){const n=this.buildState.get(e.uri.toString());n&&(n.completed=!0)}prepareBuild(e,n){for(const r of e){const o=r.uri.toString(),d=this.buildState.get(o);(!d||d.completed)&&this.buildState.set(o,{completed:!1,options:n,result:d?.result})}}runCancelable(e,n,r,o){var d=this;return(0,Ye.A)(function*(){for(const C of e)C.state<n&&(yield Qt(r),yield o(C),C.state=n,yield d.notifyDocumentPhase(C,n,r));const R=e.filter(C=>C.state===n);yield d.notifyBuildPhase(R,n,r),d.currentState=n})()}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),Gn.create(()=>{this.buildPhaseListeners.delete(e,n)})}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),Gn.create(()=>{this.documentPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let o;return n&&"path"in n?o=n:r=n,r??(r=St.CancellationToken.None),o?this.awaitDocumentState(e,o,r):this.awaitBuilderState(e,r)}awaitDocumentState(e,n,r){const o=this.langiumDocuments.getDocument(n);return o?o.state>=e?Promise.resolve(n):r.isCancellationRequested?Promise.reject(fn):this.currentState>=e&&e>o.state?Promise.reject(new Jn.ResponseError(Jn.LSPErrorCodes.RequestFailed,`Document state of ${n.toString()} is ${st[o.state]}, requiring ${st[e]}, but workspace state is already ${st[this.currentState]}. Returning undefined.`)):new Promise((d,R)=>{const C=this.onDocumentPhase(e,ae=>{rn.equals(ae.uri,n)&&(C.dispose(),U.dispose(),d(ae.uri))}),U=r.onCancellationRequested(()=>{C.dispose(),U.dispose(),R(fn)})}):Promise.reject(new Jn.ResponseError(Jn.LSPErrorCodes.ServerCancelled,`No document found for URI: ${n.toString()}`))}awaitBuilderState(e,n){return this.currentState>=e?Promise.resolve():n.isCancellationRequested?Promise.reject(fn):new Promise((r,o)=>{const d=this.onBuildPhase(e,()=>{d.dispose(),R.dispose(),r()}),R=n.onCancellationRequested(()=>{d.dispose(),R.dispose(),o(fn)})})}notifyDocumentPhase(e,n,r){var o=this;return(0,Ye.A)(function*(){const R=o.documentPhaseListeners.get(n).slice();for(const C of R)try{yield Qt(r),yield C(e,r)}catch(U){if(!vn(U))throw U}})()}notifyBuildPhase(e,n,r){var o=this;return(0,Ye.A)(function*(){if(0===e.length)return;const R=o.buildPhaseListeners.get(n).slice();for(const C of R)yield Qt(r),yield C(e,r)})()}shouldLink(e){return this.getBuildOptions(e).eagerLinking??!0}shouldValidate(e){return!!this.getBuildOptions(e).validation}validate(e,n){var r=this;return(0,Ye.A)(function*(){const o=r.serviceRegistry.getServices(e.uri).validation.DocumentValidator,d=r.getBuildOptions(e),R="object"==typeof d.validation?{...d.validation}:{};R.categories=r.findMissingValidationCategories(e,d);const C=yield o.validateDocument(e,R,n);e.diagnostics?e.diagnostics.push(...C):e.diagnostics=C;const U=r.buildState.get(e.uri.toString());U&&(U.result??(U.result={}),U.result.validationChecks=U.result.validationChecks?(0,vt.Td)(U.result.validationChecks).concat(R.categories).distinct().toArray():[...R.categories])})()}getBuildOptions(e){return this.buildState.get(e.uri.toString())?.options??{}}}class bt{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Hn,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=(0,Q.YE)(e).uri,o=[];return this.referenceIndex.forEach(d=>{d.forEach(R=>{rn.equals(R.targetUri,r)&&R.targetPath===n&&o.push(R)})}),(0,vt.Td)(o)}allElements(e,n){let r=(0,vt.Td)(this.symbolIndex.keys());return n&&(r=r.filter(o=>!n||n.has(o))),r.map(o=>this.getFileDescriptions(o,e)).flat()}getFileDescriptions(e,n){return n?this.symbolByTypeIndex.get(e,n,()=>(this.symbolIndex.get(e)??[]).filter(d=>this.astReflection.isSubtype(d.type,n))):this.symbolIndex.get(e)??[]}remove(e){this.removeContent(e),this.removeReferences(e)}removeContent(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n)}removeReferences(e){const n=e.toString();this.referenceIndex.delete(n)}updateContent(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){const R=yield n.serviceRegistry.getServices(r.uri).references.ScopeComputation.collectExportedSymbols(r,o),C=r.uri.toString();n.symbolIndex.set(C,R),n.symbolByTypeIndex.clear(C)}).apply(this,arguments)}updateReferences(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){const R=yield n.serviceRegistry.getServices(r.uri).workspace.ReferenceDescriptionProvider.createDescriptions(r,o);n.referenceIndex.set(r.uri.toString(),R)}).apply(this,arguments)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some(o=>!o.local&&n.has(o.targetUri.toString()))}}class Bn{constructor(e){this.initialBuildOptions={},this._ready=new sr,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){this.folders=e.workspaceFolders??void 0}initialized(e){return this.mutex.write(n=>this.initializeWorkspace(this.folders??[],n))}initializeWorkspace(e){var n=this;return(0,Ye.A)(function*(r,o=St.CancellationToken.None){const d=yield n.performStartup(r);yield Qt(o),yield n.documentBuilder.build(d,n.initialBuildOptions,o)}).apply(this,arguments)}performStartup(e){var n=this;return(0,Ye.A)(function*(){const r=[],o=C=>{r.push(C),n.langiumDocuments.hasDocument(C.uri)||n.langiumDocuments.addDocument(C)};yield n.loadAdditionalDocuments(e,o);const d=[];yield Promise.all(e.map(C=>n.getRootFolder(C)).map(function(){var C=(0,Ye.A)(function*(U){return n.traverseFolder(U,d)});return function(U){return C.apply(this,arguments)}}()));const R=(0,vt.Td)(d).distinct(C=>C.toString()).filter(C=>!n.langiumDocuments.hasDocument(C));return yield n.loadWorkspaceDocuments(R,o),n._ready.resolve(),r})()}loadWorkspaceDocuments(e,n){var r=this;return(0,Ye.A)(function*(){yield Promise.all(e.map(function(){var o=(0,Ye.A)(function*(d){const R=yield r.langiumDocuments.getOrCreateDocument(d);n(R)});return function(d){return o.apply(this,arguments)}}()))})()}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return Ht.r.parse(e.uri)}traverseFolder(e,n){var r=this;return(0,Ye.A)(function*(){try{const o=yield r.fileSystemProvider.readDirectory(e);yield Promise.all(o.map(function(){var d=(0,Ye.A)(function*(R){r.shouldIncludeEntry(R)&&(R.isDirectory?yield r.traverseFolder(R.uri,n):R.isFile&&n.push(R.uri))});return function(R){return d.apply(this,arguments)}}()))}catch(o){console.error("Failure to read directory content of "+e.toString(!0),o)}})()}searchFolder(e){var n=this;return(0,Ye.A)(function*(){const r=[];return yield n.traverseFolder(e,r),r})()}shouldIncludeEntry(e){const n=rn.basename(e.uri);return!n.startsWith(".")&&(e.isDirectory?"node_modules"!==n&&"out"!==n:!!e.isFile&&this.serviceRegistry.hasServices(e.uri))}}class on{buildUnexpectedCharactersMessage(e,n,r,o,d){return v.PW.buildUnexpectedCharactersMessage(e,n,r,o,d)}buildUnableToPopLexerModeMessage(e){return v.PW.buildUnableToPopLexerModeMessage(e)}}const wn={mode:"full"};class ms{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=fr(n)?Object.values(n):n;this.chevrotainLexer=new v.JG(r,{positionTracking:"full",skipValidations:"production"===e.LanguageMetaData.mode,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=wn){const r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:r.groups.hidden??[],report:this.tokenBuilder.flushLexingReport?.(e)}}toTokenTypeDictionary(e){if(fr(e))return e;const n=Xr(e)?Object.values(e.modes).flat():e,r={};return n.forEach(o=>r[o.name]=o),r}}function Xr(c){return c&&"modes"in c&&"defaultMode"in c}function fr(c){return!function qr(c){return Array.isArray(c)&&(0===c.length||"name"in c[0])}(c)&&!Xr(c)}function hr(c){let e="";return e="string"==typeof c?c:c.text,e.split($.TH)}const mr=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,Zr=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function ti(c,e,n,r){const o=[];if(0===c.length){const d=ge.Position.create(n,r),R=ge.Position.create(n,r+e.length);o.push({type:"text",content:e,range:ge.Range.create(d,R)})}else{let d=0;for(const C of c){const U=C.index,ae=e.substring(d,U);ae.length>0&&o.push({type:"text",content:e.substring(d,U),range:ge.Range.create(ge.Position.create(n,d+r),ge.Position.create(n,U+r))});let fe=ae.length+1;const Ae=C[1];if(o.push({type:"inline-tag",content:Ae,range:ge.Range.create(ge.Position.create(n,d+fe+r),ge.Position.create(n,d+fe+Ae.length+r))}),fe+=Ae.length,4===C.length){fe+=C[2].length;const be=C[3];o.push({type:"text",content:be,range:ge.Range.create(ge.Position.create(n,d+fe+r),ge.Position.create(n,d+fe+be.length+r))})}else o.push({type:"text",content:"",range:ge.Range.create(ge.Position.create(n,d+fe+r),ge.Position.create(n,d+fe+r))});d=U+C[0].length}const R=e.substring(d);R.length>0&&o.push({type:"text",content:R,range:ge.Range.create(ge.Position.create(n,d+r),ge.Position.create(n,d+r+R.length))})}return o}const ni=/\S/,Hi=/\s*$/;function un(c,e){const n=c.substring(e).match(ni);return n?e+n.index:c.length}function pr(c){const e=c.match(Hi);if(e&&"number"==typeof e.index)return e.index}function gr(c,e){const n=c.tokens[c.index];return"tag"===n.type?ii(c,!1):"text"===n.type||"inline-tag"===n.type?pn(c):(function Yi(c,e){if(e){const n=new ai("",c.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}(n,e),void c.index++)}function pn(c){let e=c.tokens[c.index];const n=e;let r=e;const o=[];for(;e&&"break"!==e.type&&"tag"!==e.type;)o.push(qi(c)),r=e,e=c.tokens[c.index];return new Ar(o,ge.Range.create(n.range.start,r.range.end))}function qi(c){return"inline-tag"===c.tokens[c.index].type?ii(c,!0):sn(c)}function ii(c,e){const n=c.tokens[c.index++],r=n.content.substring(1);if("text"===c.tokens[c.index]?.type){if(e){const d=sn(c);return new Rr(r,new Ar([d],d.range),e,ge.Range.create(n.range.start,d.range.end))}{const d=pn(c);return new Rr(r,d,e,ge.Range.create(n.range.start,d.range.end))}}{const d=n.range;return new Rr(r,new Ar([],d),e,d)}}function sn(c){const e=c.tokens[c.index++];return new ai(e.content,e.range)}function yr(c){if(!c)return yr({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=c;return{start:Tr(e,!0),end:Tr(n,!1),line:Tr(r,!0)}}function Tr(c,e){if("string"==typeof c||"object"==typeof c){const n="string"==typeof c?(0,$.Nt)(c):c.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return c}class si{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(0===e.length)e=n.toString();else{const r=n.toString();e+=oi(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(0===n.length)n=r.toMarkdown(e);else{const o=r.toMarkdown(e);n+=oi(n)+o}return n.trim()}}class Rr{constructor(e,n,r,o){this.name=e,this.content=n,this.inline=r,this.range=o}toString(){let e=`@${this.name}`;const n=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}\n${n}`),this.inline?`{${e}}`:e}toMarkdown(e){return e?.renderTag?.(this)??this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const d=function Xi(c,e,n){if("linkplain"===c||"linkcode"===c||"link"===c){const r=e.indexOf(" ");let o=e;if(r>0){const R=un(e,r);o=e.substring(R),e=e.substring(0,r)}return("linkcode"===c||"link"===c&&"code"===n.link)&&(o=`\`${o}\``),n.renderLink?.(e,o)??function Ji(c,e){try{return Ht.r.parse(c,!0),`[${e}](${c})`}catch{return c}}(e,o)}}(this.name,n,e??{});if("string"==typeof d)return d}let r="";"italic"===e?.tag||void 0===e?.tag?r="*":"bold"===e?.tag?r="**":"bold-italic"===e?.tag&&(r="***");let o=`${r}@${this.name}${r}`;return 1===this.content.inlines.length?o=`${o} \u2014 ${n}`:this.content.inlines.length>1&&(o=`${o}\n${n}`),this.inline?`{${o}}`:o}}class Ar{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],o=this.inlines[n+1];e+=r.toString(),o&&o.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const o=this.inlines[r],d=this.inlines[r+1];n+=o.toMarkdown(e),d&&d.range.start.line>o.range.start.line&&(n+="\n")}return n}}class ai{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function oi(c){return c.endsWith("\n")?"\n":"\n\n"}class Qi{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&function Qr(c,e){const n=yr(e),r=hr(c);if(0===r.length)return!1;const o=r[0],d=r[r.length-1],R=n.start,C=n.end;return!!R?.exec(o)&&!!C?.exec(d)}(n))return function Jr(c,e,n){let r,o;"string"==typeof c?(o=e,r=n):(o=c.range.start,r=e),o||(o=ge.Position.create(0,0));const C=function ei(c){const e=[];let n=c.position.line,r=c.position.character;for(let o=0;o<c.lines.length;o++){const R=o===c.lines.length-1;let C=c.lines[o],U=0;if(0===o&&c.options.start){const fe=c.options.start?.exec(C);fe&&(U=fe.index+fe[0].length)}else{const fe=c.options.line?.exec(C);fe&&(U=fe.index+fe[0].length)}if(R){const fe=c.options.end?.exec(C);fe&&(C=C.substring(0,fe.index))}if(C=C.substring(0,pr(C)),un(C,U)>=C.length){if(e.length>0){const fe=ge.Position.create(n,r);e.push({type:"break",content:"",range:ge.Range.create(fe,fe)})}}else{mr.lastIndex=U;const fe=mr.exec(C);if(fe){const Ae=fe[0],be=fe[1],je=ge.Position.create(n,r+U),gt=ge.Position.create(n,r+U+Ae.length);e.push({type:"tag",content:be,range:ge.Range.create(je,gt)}),U+=Ae.length,U=un(C,U)}if(U<C.length){const Ae=C.substring(U),be=Array.from(Ae.matchAll(Zr));e.push(...ti(be,Ae,n,r+U))}}n++,r=0}return e.length>0&&"break"===e[e.length-1].type?e.slice(0,-1):e}({lines:hr(c),position:o,options:yr(r)});return function ri(c){const e=ge.Position.create(c.position.line,c.position.character);if(0===c.tokens.length)return new si([],ge.Range.create(e,e));const n=[];for(;c.index<c.tokens.length;){const d=gr(c,n[n.length-1]);d&&n.push(d)}return new si(n,ge.Range.create(n[0]?.range.start??e,n[n.length-1]?.range.end??e))}({index:0,tokens:C,position:o})}(n).toMarkdown({renderLink:(o,d)=>this.documentationLinkRenderer(e,o,d),renderTag:o=>this.documentationTagRenderer(e,o)})}documentationLinkRenderer(e,n,r){const o=this.findNameInLocalSymbols(e,n)??this.findNameInGlobalScope(e,n);if(o&&o.nameSegment)return`[${r}](${o.documentUri.with({fragment:`L${o.nameSegment.range.start.line+1},${o.nameSegment.range.start.character+1}`}).toString()})`}documentationTagRenderer(e,n){}findNameInLocalSymbols(e,n){const o=(0,Q.YE)(e).localSymbols;if(!o)return;let d=e;do{const C=o.getStream(d).find(U=>U.name===n);if(C)return C;d=d.$container}while(d)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(o=>o.name===n)}}class Zi{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){return function Wi(c){return"string"==typeof c.$comment}(e)?e.$comment:(0,u.v)(e.$cstNode,this.grammarConfig().multilineCommentRules)?.text}}class Qn{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class ns{constructor(){this.previousTokenSource=new St.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=function An(){return zn=performance.now(),new St.CancellationTokenSource}();return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=St.CancellationToken.None){const o=new sr;return e.push({action:n,deferred:o,cancellationToken:r}),this.performNextOperation(),o.promise}performNextOperation(){var e=this;return(0,Ye.A)(function*(){if(!e.done)return;const n=[];if(e.writeQueue.length>0)n.push(e.writeQueue.shift());else{if(!(e.readQueue.length>0))return;n.push(...e.readQueue.splice(0,e.readQueue.length))}e.done=!1,yield Promise.all(n.map(function(){var r=(0,Ye.A)(function*({action:o,deferred:d,cancellationToken:R}){try{const C=yield Promise.resolve().then(()=>o(R));d.resolve(C)}catch(C){vn(C)?d.resolve(void 0):d.reject(C)}});return function(o){return r.apply(this,arguments)}}())),e.done=!0,e.performNextOperation()})()}cancelWrite(){this.previousTokenSource.cancel()}}class ui{constructor(e){this.grammarElementIdMap=new Gr,this.tokenTypeIdMap=new Gr,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(n=>({...n,message:n.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const o of(0,Q.jm)(e))n.set(o,{});if(e.$cstNode)for(const o of(0,u.NS)(e.$cstNode))r.set(o,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[o,d]of Object.entries(e))if(!o.startsWith("$"))if(Array.isArray(d)){const R=[];r[o]=R;for(const C of d)(0,ot.ng)(C)?R.push(this.dehydrateAstNode(C,n)):(0,ot.A_)(C)?R.push(this.dehydrateReference(C,n)):R.push(C)}else(0,ot.ng)(d)?r[o]=this.dehydrateAstNode(d,n):(0,ot.A_)(d)?r[o]=this.dehydrateReference(d,n):void 0!==d&&(r[o]=d);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return(0,ot.br)(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),(0,ot.mD)(e)?r.content=e.content.map(o=>this.dehydrateCstNode(o,n)):(0,ot.FC)(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const d of(0,Q.jm)(e))n.set(d,{});let o;if(e.$cstNode)for(const d of(0,u.NS)(e.$cstNode)){let R;"fullText"in d?(R=new we(d.fullText),o=R):"content"in d?R=new Te:"tokenType"in d&&(R=this.hydrateCstLeafNode(d)),R&&(r.set(d,R),R.root=o)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[o,d]of Object.entries(e))if(!o.startsWith("$"))if(Array.isArray(d)){const R=[];r[o]=R;for(const C of d)(0,ot.ng)(C)?R.push(this.setParent(this.hydrateAstNode(C,n),r)):(0,ot.A_)(C)?R.push(this.hydrateReference(C,r,o,n)):R.push(C)}else(0,ot.ng)(d)?r[o]=this.setParent(this.hydrateAstNode(d,n),r):(0,ot.A_)(d)?r[o]=this.hydrateReference(d,r,o,n):void 0!==d&&(r[o]=d);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,o){return this.linker.buildReference(n,r,o.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const o=n.cstNodes.get(e);if("number"==typeof e.grammarSource&&(o.grammarSource=this.getGrammarElement(e.grammarSource)),o.astNode=n.astNodes.get(e.astNode),(0,ot.mD)(o))for(const d of e.content){const R=this.hydrateCstNode(d,n,r++);o.content.push(R)}return o}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType);return new se(e.offset,e.length,{start:{line:e.startLine,character:e.startColumn},end:{line:e.endLine,character:e.endColumn}},n,e.hidden)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const n of(0,Q.jm)(this.grammar))(0,m.r1)(n)&&this.grammarElementIdMap.set(n,e++)}}function vr(c){return{documentation:{CommentProvider:e=>new Zi(e),DocumentationProvider:e=>new Qi(e)},parser:{AsyncParser:e=>new Qn(e),GrammarConfig:e=>function f(c){const e=[],n=c.Grammar;for(const r of n.rules)(0,m.rE)(r)&&(0,L.eb)(r)&&(0,$.lU)((0,L.S)(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:u.El}}(e),LangiumParser:e=>function Lr(c){const e=function Wn(c){const n=c.parser.Lexer;return wr(c.Grammar,new qe(c),n.definition)}(c);return e.finalize(),e}(e),CompletionParser:e=>function bi(c){const e=c.Grammar,n=c.parser.Lexer,r=new xt(c);return wr(e,r,n.definition),r.finalize(),r}(e),ValueConverter:()=>new rr.d,TokenBuilder:()=>new wi.Q,Lexer:e=>new ms(e),ParserErrorMessageProvider:()=>new ce,LexerErrorMessageProvider:()=>new on},workspace:{AstNodeLocator:()=>new Vr,AstNodeDescriptionProvider:e=>new Ki(e),ReferenceDescriptionProvider:e=>new Kr(e)},references:{Linker:e=>new xi(e),NameProvider:()=>new Ui,ScopeProvider:e=>new mn(e),ScopeComputation:e=>new Gi(e),References:e=>new Ur(e)},serializer:{Hydrator:e=>new ui(e),JsonSerializer:e=>new jt(e)},validation:{DocumentValidator:e=>new zr(e),ValidationRegistry:e=>new Xn(e)},shared:()=>c.shared}}function di(c){return{ServiceRegistry:e=>new En(e),workspace:{LangiumDocuments:e=>new Mi(e),LangiumDocumentFactory:e=>new Di(e),DocumentBuilder:e=>new Yr(e),IndexManager:e=>new bt(e),WorkspaceManager:e=>new Bn(e),FileSystemProvider:e=>c.fileSystemProvider(e),WorkspaceLock:()=>new ns,ConfigurationProvider:e=>new Vi(e)},profilers:{}}}},1326(Ee,s,y){"use strict";function L(g,A,b,w,_,I,j,N,Z){return f([g,A,b,w,_,I,j,N,Z].reduce(P,{}))}y.d(s,{WQ:()=>L});const $=Symbol("isProxy");function f(g,A){const b=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(w,_)=>_===$||D(w,_,g,A||b),getOwnPropertyDescriptor:(w,_)=>(D(w,_,g,A||b),Object.getOwnPropertyDescriptor(w,_)),has:(w,_)=>_ in g,ownKeys:()=>[...Object.getOwnPropertyNames(g)]});return b}const v=Symbol();function D(g,A,b,w){if(A in g){if(g[A]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable. Cause: "+g[A]);if(g[A]===v)throw new Error('Cycle detected. Please make "'+String(A)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return g[A]}if(A in b){const _=b[A];g[A]=v;try{g[A]="function"==typeof _?_(w):f(_,w)}catch(I){throw g[A]=I instanceof Error?I:void 0,I}return g[A]}}function P(g,A){if(A)for(const[b,w]of Object.entries(A))if(null!=w)if("object"==typeof w){const _=g[b];g[b]=P("object"==typeof _&&null!==_?_:{},w)}else g[b]=w;return g}},2917(Ee,s,y){"use strict";y.d(s,{$g:()=>Yt,Bg:()=>Ge,Ct:()=>yt,Cz:()=>Re,D8:()=>qt,FO:()=>ie,Fy:()=>Vt,GL:()=>Pt,IZ:()=>ye,Mz:()=>Xe,NT:()=>We,O4:()=>Mt,QX:()=>qe,RP:()=>W,S2:()=>me,SP:()=>Oe,TF:()=>Tt,Tu:()=>et,Xj:()=>T,_c:()=>F,cM:()=>v,cY:()=>Se,fG:()=>Kt,jp:()=>I,lF:()=>B,r1:()=>m,rE:()=>E,s7:()=>Gt,vd:()=>zt,ve:()=>w,wb:()=>ve,wh:()=>Y,z2:()=>He});var u=y(7449);const $_$type="AbstractElement";function m(ce){return _e.isInstance(ce,$_$type)}const f_$type="AbstractParserRule";function v(ce){return _e.isInstance(ce,f_$type)}const D_$type="AbstractRule",g_$type="AbstractType";function w(ce){return _e.isInstance(ce,"Action")}function I(ce){return _e.isInstance(ce,"Alternatives")}function Y(ce){return _e.isInstance(ce,"Assignment")}function Re(ce){return _e.isInstance(ce,"BooleanLiteral")}function Ge(ce){return _e.isInstance(ce,"CharacterRange")}function et(ce){return _e.isInstance(ce,"Conjunction")}function F(ce){return _e.isInstance(ce,"CrossReference")}function W(ce){return _e.isInstance(ce,"Disjunction")}function ie(ce){return _e.isInstance(ce,"EndOfFile")}function ye(ce){return _e.isInstance(ce,"Group")}function Oe(ce){return _e.isInstance(ce,"InferredType")}function We(ce){return _e.isInstance(ce,"InfixRule")}function me(ce){return _e.isInstance(ce,"Interface")}function ve(ce){return _e.isInstance(ce,"Keyword")}function Pt(ce){return _e.isInstance(ce,"NegatedToken")}function yt(ce){return _e.isInstance(ce,"Negation")}function Tt(ce){return _e.isInstance(ce,"ParameterReference")}function Gt(ce){return _e.isInstance(ce,"ParserRule")}function zt(ce){return _e.isInstance(ce,"RegexToken")}function Kt(ce){return _e.isInstance(ce,"ReturnType")}function Yt(ce){return _e.isInstance(ce,"RuleCall")}function qt(ce){return _e.isInstance(ce,"SimpleType")}function Vt(ce){return _e.isInstance(ce,"TerminalAlternatives")}const pt_$type="TerminalElement";function Mt(ce){return _e.isInstance(ce,"TerminalGroup")}function E(ce){return _e.isInstance(ce,"TerminalRule")}function B(ce){return _e.isInstance(ce,"TerminalRuleCall")}function T(ce){return _e.isInstance(ce,"Type")}const ge_$type="TypeDefinition";function Se(ce){return _e.isInstance(ce,"UnorderedGroup")}function Xe(ce){return _e.isInstance(ce,"UntilToken")}const it_$type="ValueLiteral";function He(ce){return _e.isInstance(ce,"Wildcard")}class qe extends u.kD{constructor(){super(...arguments),this.types={AbstractElement:{name:$_$type,properties:{cardinality:{name:"cardinality"}},superTypes:[]},AbstractParserRule:{name:f_$type,properties:{},superTypes:[D_$type,g_$type]},AbstractRule:{name:D_$type,properties:{},superTypes:[]},AbstractType:{name:g_$type,properties:{},superTypes:[]},Action:{name:"Action",properties:{cardinality:{name:"cardinality"},feature:{name:"feature"},inferredType:{name:"inferredType"},operator:{name:"operator"},type:{name:"type",referenceType:g_$type}},superTypes:[$_$type]},Alternatives:{name:"Alternatives",properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]}},superTypes:[$_$type]},ArrayLiteral:{name:"ArrayLiteral",properties:{elements:{name:"elements",defaultValue:[]}},superTypes:[it_$type]},ArrayType:{name:"ArrayType",properties:{elementType:{name:"elementType"}},superTypes:[ge_$type]},Assignment:{name:"Assignment",properties:{cardinality:{name:"cardinality"},feature:{name:"feature"},operator:{name:"operator"},predicate:{name:"predicate"},terminal:{name:"terminal"}},superTypes:[$_$type]},BooleanLiteral:{name:"BooleanLiteral",properties:{true:{name:"true",defaultValue:!1}},superTypes:["Condition",it_$type]},CharacterRange:{name:"CharacterRange",properties:{cardinality:{name:"cardinality"},left:{name:"left"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},right:{name:"right"}},superTypes:[pt_$type]},Condition:{name:"Condition",properties:{},superTypes:[]},Conjunction:{name:"Conjunction",properties:{left:{name:"left"},right:{name:"right"}},superTypes:["Condition"]},CrossReference:{name:"CrossReference",properties:{cardinality:{name:"cardinality"},deprecatedSyntax:{name:"deprecatedSyntax",defaultValue:!1},isMulti:{name:"isMulti",defaultValue:!1},terminal:{name:"terminal"},type:{name:"type",referenceType:g_$type}},superTypes:[$_$type]},Disjunction:{name:"Disjunction",properties:{left:{name:"left"},right:{name:"right"}},superTypes:["Condition"]},EndOfFile:{name:"EndOfFile",properties:{cardinality:{name:"cardinality"}},superTypes:[$_$type]},Grammar:{name:"Grammar",properties:{imports:{name:"imports",defaultValue:[]},interfaces:{name:"interfaces",defaultValue:[]},isDeclared:{name:"isDeclared",defaultValue:!1},name:{name:"name"},rules:{name:"rules",defaultValue:[]},types:{name:"types",defaultValue:[]}},superTypes:[]},GrammarImport:{name:"GrammarImport",properties:{path:{name:"path"}},superTypes:[]},Group:{name:"Group",properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]},guardCondition:{name:"guardCondition"},predicate:{name:"predicate"}},superTypes:[$_$type]},InferredType:{name:"InferredType",properties:{name:{name:"name"}},superTypes:[g_$type]},InfixRule:{name:"InfixRule",properties:{call:{name:"call"},dataType:{name:"dataType"},inferredType:{name:"inferredType"},name:{name:"name"},operators:{name:"operators"},parameters:{name:"parameters",defaultValue:[]},returnType:{name:"returnType",referenceType:g_$type}},superTypes:[f_$type]},InfixRuleOperatorList:{name:"InfixRuleOperatorList",properties:{associativity:{name:"associativity"},operators:{name:"operators",defaultValue:[]}},superTypes:[]},InfixRuleOperators:{name:"InfixRuleOperators",properties:{precedences:{name:"precedences",defaultValue:[]}},superTypes:[]},Interface:{name:"Interface",properties:{attributes:{name:"attributes",defaultValue:[]},name:{name:"name"},superTypes:{name:"superTypes",defaultValue:[],referenceType:g_$type}},superTypes:[g_$type]},Keyword:{name:"Keyword",properties:{cardinality:{name:"cardinality"},predicate:{name:"predicate"},value:{name:"value"}},superTypes:[$_$type]},NamedArgument:{name:"NamedArgument",properties:{calledByName:{name:"calledByName",defaultValue:!1},parameter:{name:"parameter",referenceType:"Parameter"},value:{name:"value"}},superTypes:[]},NegatedToken:{name:"NegatedToken",properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},terminal:{name:"terminal"}},superTypes:[pt_$type]},Negation:{name:"Negation",properties:{value:{name:"value"}},superTypes:["Condition"]},NumberLiteral:{name:"NumberLiteral",properties:{value:{name:"value"}},superTypes:[it_$type]},Parameter:{name:"Parameter",properties:{name:{name:"name"}},superTypes:[]},ParameterReference:{name:"ParameterReference",properties:{parameter:{name:"parameter",referenceType:"Parameter"}},superTypes:["Condition"]},ParserRule:{name:"ParserRule",properties:{dataType:{name:"dataType"},definition:{name:"definition"},entry:{name:"entry",defaultValue:!1},fragment:{name:"fragment",defaultValue:!1},inferredType:{name:"inferredType"},name:{name:"name"},parameters:{name:"parameters",defaultValue:[]},returnType:{name:"returnType",referenceType:g_$type}},superTypes:[f_$type]},ReferenceType:{name:"ReferenceType",properties:{isMulti:{name:"isMulti",defaultValue:!1},referenceType:{name:"referenceType"}},superTypes:[ge_$type]},RegexToken:{name:"RegexToken",properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},regex:{name:"regex"}},superTypes:[pt_$type]},ReturnType:{name:"ReturnType",properties:{name:{name:"name"}},superTypes:[]},RuleCall:{name:"RuleCall",properties:{arguments:{name:"arguments",defaultValue:[]},cardinality:{name:"cardinality"},predicate:{name:"predicate"},rule:{name:"rule",referenceType:D_$type}},superTypes:[$_$type]},SimpleType:{name:"SimpleType",properties:{primitiveType:{name:"primitiveType"},stringType:{name:"stringType"},typeRef:{name:"typeRef",referenceType:g_$type}},superTypes:[ge_$type]},StringLiteral:{name:"StringLiteral",properties:{value:{name:"value"}},superTypes:[it_$type]},TerminalAlternatives:{name:"TerminalAlternatives",properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[pt_$type]},TerminalElement:{name:pt_$type,properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[$_$type]},TerminalGroup:{name:"TerminalGroup",properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[pt_$type]},TerminalRule:{name:"TerminalRule",properties:{definition:{name:"definition"},fragment:{name:"fragment",defaultValue:!1},hidden:{name:"hidden",defaultValue:!1},name:{name:"name"},type:{name:"type"}},superTypes:[D_$type]},TerminalRuleCall:{name:"TerminalRuleCall",properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},rule:{name:"rule",referenceType:"TerminalRule"}},superTypes:[pt_$type]},Type:{name:"Type",properties:{name:{name:"name"},type:{name:"type"}},superTypes:[g_$type]},TypeAttribute:{name:"TypeAttribute",properties:{defaultValue:{name:"defaultValue"},isOptional:{name:"isOptional",defaultValue:!1},name:{name:"name"},type:{name:"type"}},superTypes:[]},TypeDefinition:{name:ge_$type,properties:{},superTypes:[]},UnionType:{name:"UnionType",properties:{types:{name:"types",defaultValue:[]}},superTypes:[ge_$type]},UnorderedGroup:{name:"UnorderedGroup",properties:{cardinality:{name:"cardinality"},elements:{name:"elements",defaultValue:[]}},superTypes:[$_$type]},UntilToken:{name:"UntilToken",properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1},terminal:{name:"terminal"}},superTypes:[pt_$type]},ValueLiteral:{name:it_$type,properties:{},superTypes:[]},Wildcard:{name:"Wildcard",properties:{cardinality:{name:"cardinality"},lookahead:{name:"lookahead"},parenthesized:{name:"parenthesized",defaultValue:!1}},superTypes:[pt_$type]}}}}const _e=new qe},3460(Ee,s,y){"use strict";y.d(s,{Q:()=>D});var u=y(8693),L=y(2917),$=y(265),m=y(3528),f=y(84),v=y(4193);class D{constructor(){this.diagnostics=[]}buildTokens(g,A){const b=(0,v.Td)((0,m.YV)(g,!1)),w=this.buildTerminalTokens(b),_=this.buildKeywordTokens(b,w,A);return _.push(...w),_}flushLexingReport(g){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const g=[...this.diagnostics];return this.diagnostics=[],g}buildTerminalTokens(g){return g.filter(L.rE).filter(A=>!A.fragment).map(A=>this.buildTerminalToken(A)).toArray()}buildTerminalToken(g){const A=(0,m.S)(g),b=this.requiresCustomPattern(A)?this.regexPatternFunction(A):A,w={name:g.name,PATTERN:b};return"function"==typeof b&&(w.LINE_BREAKS=!0),g.hidden&&(w.GROUP=(0,f.Yv)(A)?u.JG.SKIPPED:"hidden"),w}requiresCustomPattern(g){return!(!g.flags.includes("u")&&!g.flags.includes("s"))}regexPatternFunction(g){const A=new RegExp(g,g.flags+"y");return(b,w)=>(A.lastIndex=w,A.exec(b))}buildKeywordTokens(g,A,b){return g.filter(L.cM).flatMap(w=>(0,$.Uo)(w).filter(L.wb)).distinct(w=>w.value).toArray().sort((w,_)=>_.value.length-w.value.length).map(w=>this.buildKeywordToken(w,A,!!b?.caseInsensitive))}buildKeywordToken(g,A,b){const w=this.buildKeywordPattern(g,b),_={name:g.value,PATTERN:w,LONGER_ALT:this.findLongerAlt(g,A)};return"function"==typeof w&&(_.LINE_BREAKS=!0),_}buildKeywordPattern(g,A){return A?new RegExp((0,f.Nt)(g.value),"i"):g.value}findLongerAlt(g,A){return A.reduce((b,w)=>{const _=w?.PATTERN;return _?.source&&(0,f.PC)("^"+_.source+"$",g.value)&&b.push(w),b},[])}}},6535(Ee,s,y){"use strict";y.d(s,{d:()=>$});var m,u=y(2917),L=y(3528);class ${convert(v,D){let P=D.grammarSource;if((0,u._c)(P)&&(P=(0,L.g4)(P)),(0,u.$g)(P)){const g=P.rule.ref;if(!g)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(g,v,D)}return v}runConverter(v,D,P){switch(v.name.toUpperCase()){case"INT":return m.convertInt(D);case"STRING":return m.convertString(D);case"ID":return m.convertID(D)}switch((0,L.P3)(v)?.toLowerCase()){case"number":return m.convertNumber(D);case"boolean":return m.convertBoolean(D);case"bigint":return m.convertBigint(D);case"date":return m.convertDate(D);default:return D}}}!function(f){function D(I){switch(I){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return I}}f.convertString=function v(I){let j="";for(let N=1;N<I.length-1;N++){const Z=I.charAt(N);j+="\\"===Z?D(I.charAt(++N)):Z}return j},f.convertID=function P(I){return"^"===I.charAt(0)?I.substring(1):I},f.convertInt=function g(I){return parseInt(I)},f.convertBigint=function A(I){return BigInt(I)},f.convertDate=function b(I){return new Date(I)},f.convertNumber=function w(I){return Number(I)},f.convertBoolean=function _(I){return"true"===I.toLowerCase()}}(m||(m={}))},7449(Ee,s,y){"use strict";function u(A){return"object"==typeof A&&null!==A&&"string"==typeof A.$type}function L(A){return"object"==typeof A&&null!==A&&"string"==typeof A.$refText&&"ref"in A}function $(A){return"object"==typeof A&&null!==A&&"string"==typeof A.$refText&&"items"in A}function m(A){return"object"==typeof A&&null!==A&&"string"==typeof A.name&&"string"==typeof A.type&&"string"==typeof A.path}function f(A){return"object"==typeof A&&null!==A&&"object"==typeof A.info&&"string"==typeof A.message}y.d(s,{A_:()=>L,Dm:()=>$,FC:()=>P,Nr:()=>m,Zl:()=>f,br:()=>g,kD:()=>v,mD:()=>D,ng:()=>u});class v{constructor(){this.subtypes={},this.allSubtypes={}}getAllTypes(){return Object.keys(this.types)}getReferenceType(b){const w=this.types[b.container.$type];if(!w)throw new Error(`Type ${b.container.$type||"undefined"} not found.`);const _=w.properties[b.property]?.referenceType;if(!_)throw new Error(`Property ${b.property||"undefined"} of type ${b.container.$type} is not a reference.`);return _}getTypeMetaData(b){return this.types[b]||{name:b,properties:{},superTypes:[]}}isInstance(b,w){return u(b)&&this.isSubtype(b.$type,w)}isSubtype(b,w){if(b===w)return!0;let _=this.subtypes[b];_||(_=this.subtypes[b]={});const I=_[w];if(void 0!==I)return I;{const j=this.types[b],N=!!j&&j.superTypes.some(Z=>this.isSubtype(Z,w));return _[w]=N,N}}getAllSubTypes(b){const w=this.allSubtypes[b];if(w)return w;{const _=this.getAllTypes(),I=[];for(const j of _)this.isSubtype(j,b)&&I.push(j);return this.allSubtypes[b]=I,I}}}function D(A){return"object"==typeof A&&null!==A&&Array.isArray(A.content)}function P(A){return"object"==typeof A&&null!==A&&"object"==typeof A.tokenType}function g(A){return D(A)&&"string"==typeof A.fullText}},265(Ee,s,y){"use strict";y.d(s,{DM:()=>N,OP:()=>Z,SD:()=>v,Uo:()=>_,VN:()=>w,XG:()=>D,YE:()=>g,cQ:()=>A,jm:()=>I,tC:()=>b});var $=y(7449),m=y(4193),f=y(807);function v(Y,de={}){for(const[Re,ue]of Object.entries(Y))Re.startsWith("$")||(Array.isArray(ue)?ue.forEach((Ge,Le)=>{(0,$.ng)(Ge)&&(Ge.$container=Y,Ge.$containerProperty=Re,Ge.$containerIndex=Le,de.deep&&v(Ge,de))}):(0,$.ng)(ue)&&(ue.$container=Y,ue.$containerProperty=Re,de.deep&&v(ue,de)))}function D(Y,de){let Re=Y;for(;Re;){if(de(Re))return Re;Re=Re.$container}}function g(Y){const Re=A(Y).$document;if(!Re)throw new Error("AST node has no document.");return Re}function A(Y){for(;Y.$container;)Y=Y.$container;return Y}function b(Y){return(0,$.A_)(Y)?Y.ref?[Y.ref]:[]:(0,$.Dm)(Y)?Y.items.map(de=>de.ref):[]}function w(Y,de){if(!Y)throw new Error("Node must be an AstNode.");const Re=de?.range;return new m.fq(()=>({keys:Object.keys(Y),keyIndex:0,arrayIndex:0}),ue=>{for(;ue.keyIndex<ue.keys.length;){const Ge=ue.keys[ue.keyIndex];if(!Ge.startsWith("$")){const Le=Y[Ge];if((0,$.ng)(Le)){if(ue.keyIndex++,j(Le,Re))return{done:!1,value:Le}}else if(Array.isArray(Le)){for(;ue.arrayIndex<Le.length;){const Qe=Le[ue.arrayIndex++];if((0,$.ng)(Qe)&&j(Qe,Re))return{done:!1,value:Qe}}ue.arrayIndex=0}}ue.keyIndex++}return m.Rf})}function _(Y,de){if(!Y)throw new Error("Root node must be an AstNode.");return new m.Vj(Y,Re=>w(Re,de))}function I(Y,de){if(!Y)throw new Error("Root node must be an AstNode.");return de?.range&&!j(Y,de.range)?new m.Vj(Y,()=>[]):new m.Vj(Y,Re=>w(Re,de),{includeRoot:!0})}function j(Y,de){if(!de)return!0;const Re=Y.$cstNode?.range;return!!Re&&(0,f.r4)(Re,de)}function N(Y){return new m.fq(()=>({keys:Object.keys(Y),keyIndex:0,arrayIndex:0}),de=>{for(;de.keyIndex<de.keys.length;){const Re=de.keys[de.keyIndex];if(!Re.startsWith("$")){const ue=Y[Re];if((0,$.A_)(ue)||(0,$.Dm)(ue))return de.keyIndex++,{done:!1,value:{reference:ue,container:Y,property:Re}};if(Array.isArray(ue)){for(;de.arrayIndex<ue.length;){const Ge=de.arrayIndex++,Le=ue[Ge];if((0,$.A_)(Le)||(0,$.Dm)(ue))return{done:!1,value:{reference:Le,container:Y,property:Re,index:Ge}}}de.arrayIndex=0}}de.keyIndex++}return m.Rf})}function Z(Y,de){const Re=Y.getTypeMetaData(de.$type),ue=de;for(const Ge of Object.values(Re.properties))void 0!==Ge.defaultValue&&void 0===ue[Ge.name]&&(ue[Ge.name]=re(Ge.defaultValue))}function re(Y){return Array.isArray(Y)?[...Y.map(re)]:Y}},807(Ee,s,y){"use strict";y.d(s,{El:()=>N,NS:()=>P,SX:()=>w,pO:()=>A,r4:()=>j,v:()=>re,wf:()=>b});var f=y(7449),v=y(4193);function P(V){return new v.Vj(V,F=>(0,f.mD)(F)?F.content:[],{includeRoot:!0})}function A(V,F){for(;V.container;)if((V=V.container)===F)return!0;return!1}function b(V){return{start:{character:V.startColumn-1,line:V.startLine-1},end:{character:V.endColumn,line:V.endLine-1}}}function w(V){if(!V)return;const{offset:F,end:K,range:W}=V;return{range:W,offset:F,end:K,length:K-F}}var _=function(V){return V[V.Before=0]="Before",V[V.After=1]="After",V[V.OverlapFront=2]="OverlapFront",V[V.OverlapBack=3]="OverlapBack",V[V.Inside=4]="Inside",V[V.Outside=5]="Outside",V}(_||{});function j(V,F){return function I(V,F){if(V.end.line<F.start.line||V.end.line===F.start.line&&V.end.character<=F.start.character)return _.Before;if(V.start.line>F.end.line||V.start.line===F.end.line&&V.start.character>=F.end.character)return _.After;const K=V.start.line>F.start.line||V.start.line===F.start.line&&V.start.character>=F.start.character,W=V.end.line<F.end.line||V.end.line===F.end.line&&V.end.character<=F.end.character;return K&&W?_.Inside:K?_.OverlapBack:W?_.OverlapFront:_.Outside}(V,F)>_.After}const N=/^[\w\p{L}]$/u;function re(V,F){if(V){const K=function ue(V,F=!0){for(;V.container;){const K=V.container;let W=K.content.indexOf(V);for(;W>0;){W--;const J=K.content[W];if(F||!J.hidden)return J}V=K}}(V,!0);if(K&&te(K,F))return K;if((0,f.br)(V)){const W=V.content.findIndex(J=>!J.hidden);for(let J=W-1;J>=0;J--){const ie=V.content[J];if(te(ie,F))return ie}}}}function te(V,F){return(0,f.FC)(V)&&F.includes(V.tokenType.name)}},8586(Ee,s,y){"use strict";y.d(s,{WB:()=>u,dr:()=>L});class u extends Error{constructor(f,v){super(f?`${v} at ${f.range.start.line}:${f.range.start.character}`:v)}}function L(m,f="Error: Got unexpected value."){throw new Error(f)}},3528(Ee,s,y){"use strict";y.d(s,{Bd:()=>N,P3:()=>le,Rp:()=>Re,S:()=>Ce,SS:()=>Y,U5:()=>ue,Uz:()=>ie,Xq:()=>V,YV:()=>b,eb:()=>j,g4:()=>I,qO:()=>Z});var $=y(8586),m=y(2917),f=y(7449),v=y(265),D=y(807),P=y(84);function b(x,ne){const me=new Set,Pe=function g(x){return x.rules.find(ne=>m.s7(ne)&&ne.entry)}(x);if(!Pe)return new Set(x.rules);const ve=[Pe].concat(function A(x){return x.rules.filter(ne=>m.rE(ne)&&ne.hidden)}(x));for(const nt of ve)w(nt,me,ne);const ut=new Set;for(const nt of x.rules)(me.has(nt.name)||m.rE(nt)&&nt.hidden)&&ut.add(nt);return ut}function w(x,ne,me){ne.add(x.name),(0,v.Uo)(x).forEach(Pe=>{if(m.$g(Pe)||me&&m.lF(Pe)){const ve=Pe.rule.ref;ve&&!ne.has(ve.name)&&w(ve,ne,me)}})}function I(x){return x.terminal?x.terminal:x.type.ref?ue(x.type.ref)?.terminal:void 0}function j(x){return x.hidden&&!(0,P.Yv)(Ce(x))}function N(x,ne){return x&&ne?re(x,ne,x.astNode,!0):[]}function Z(x,ne,me){if(!x||!ne)return;const Pe=re(x,ne,x.astNode,!0);return 0!==Pe.length?Pe[me=void 0!==me?Math.max(0,Math.min(me,Pe.length-1)):0]:void 0}function re(x,ne,me,Pe){if(!Pe){const ve=(0,v.XG)(x.grammarSource,m.wh);if(ve&&ve.feature===ne)return[x]}return(0,f.mD)(x)&&x.astNode===me?x.content.flatMap(ve=>re(ve,ne,me,!1)):[]}function Y(x,ne,me){if(!x)return;const Pe=function de(x,ne,me){if(x.astNode!==me)return[];if(m.wb(x.grammarSource)&&x.grammarSource.value===ne)return[x];const Pe=(0,D.NS)(x).iterator();let ve;const ut=[];do{if(ve=Pe.next(),!ve.done){const nt=ve.value;nt.astNode===me?m.wb(nt.grammarSource)&&nt.grammarSource.value===ne&&ut.push(nt):Pe.prune()}}while(!ve.done);return ut}(x,ne,x?.astNode);return 0!==Pe.length?Pe[me=void 0!==me?Math.max(0,Math.min(me,Pe.length-1)):0]:void 0}function Re(x){const ne=x.astNode;for(;ne===x.container?.astNode;){const me=(0,v.XG)(x.grammarSource,m.wh);if(me)return me;x=x.container}}function ue(x){let ne=x;return m.SP(ne)&&(m.ve(ne.$container)?ne=ne.$container.$container:m.cM(ne.$container)?ne=ne.$container:(0,$.dr)(ne.$container)),Ge(x,ne,new Map)}function Ge(x,ne,me){function Pe(ve,ut){let nt;return(0,v.XG)(ve,m.wh)||(nt=Ge(ut,ut,me)),me.set(x,nt),nt}if(me.has(x))return me.get(x);me.set(x,void 0);for(const ve of(0,v.Uo)(ne)){if(m.wh(ve)&&"name"===ve.feature.toLowerCase())return me.set(x,ve),ve;if(m.$g(ve)&&m.s7(ve.rule.ref))return Pe(ve,ve.rule.ref);if(m.D8(ve)&&ve.typeRef?.ref)return Pe(ve,ve.typeRef.ref)}}function V(x){return F(x,new Set)}function F(x,ne){if(ne.has(x))return!0;ne.add(x);for(const me of(0,v.Uo)(x))if(m.$g(me)){if(!me.rule.ref||m.s7(me.rule.ref)&&!F(me.rule.ref,ne)||m.NT(me.rule.ref))return!1}else{if(m.wh(me))return!1;if(m.ve(me))return!1}return!!x.definition}function J(x){if(!m.rE(x)){if(x.inferredType)return x.inferredType.name;if(x.dataType)return x.dataType;if(x.returnType){const ne=x.returnType.ref;if(ne)return ne.name}}}function ie(x){if(m.cM(x))return m.s7(x)&&V(x)?x.name:J(x)??x.name;if(m.S2(x)||m.Xj(x)||m.fG(x))return x.name;if(m.ve(x)){const ne=function X(x){return x.inferredType?x.inferredType.name:x.type?.ref?ie(x.type.ref):void 0}(x);if(ne)return ne}else if(m.SP(x))return x.name;throw new Error("Cannot get name of Unknown Type")}function le(x){return m.rE(x)?x.type?.name??"string":J(x)??x.name}function Ce(x){const ne={s:!1,i:!1,u:!1},me=ye(x.definition,ne),Pe=Object.entries(ne).filter(([,ve])=>ve).map(([ve])=>ve).join("");return new RegExp(me,Pe)}const pe=/[\s\S]/.source;function ye(x,ne){if(m.Fy(x))return function Me(x){return Be(x.elements.map(ne=>ye(ne)).join("|"),{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized,wrap:!1})}(x);if(m.O4(x))return function Oe(x){return Be(x.elements.map(ne=>ye(ne)).join(""),{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized,wrap:!1})}(x);if(m.Bg(x))return function ze(x){return Be(x.right?`[${De(x.left)}-${De(x.right)}]`:De(x.left),{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized,wrap:!1})}(x);if(m.lF(x)){const me=x.rule.ref;if(!me)throw new Error("Missing rule reference.");return Be(ye(me.definition),{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized})}if(m.GL(x))return function We(x){return Be(`(?!${ye(x.terminal)})${pe}*?`,{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized})}(x);if(m.Mz(x))return function Fe(x){return Be(`${pe}*?${ye(x.terminal)}`,{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized})}(x);if(m.vd(x)){const me=x.regex.lastIndexOf("/"),Pe=x.regex.substring(1,me),ve=x.regex.substring(me+1);return ne&&(ne.i=ve.includes("i"),ne.s=ve.includes("s"),ne.u=ve.includes("u")),Be(Pe,{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized,wrap:!1})}if(m.z2(x))return Be(pe,{cardinality:x.cardinality,lookahead:x.lookahead,parenthesized:x.parenthesized});throw new Error(`Invalid terminal element: ${x?.$type}, ${x?.$cstNode?.text}`)}function De(x){return(0,P.Nt)(x.value)}function Be(x,ne){return(ne.parenthesized||ne.lookahead||!1!==ne.wrap)&&(x=`(${ne.lookahead??(ne.parenthesized?"":"?:")}${x})`),ne.cardinality?`${x}${ne.cardinality}`:x}},84(Ee,s,y){"use strict";y.d(s,{Nt:()=>A,PC:()=>b,TH:()=>L,Yv:()=>g,lU:()=>D});var u=y(2909);const L=/\r?\n/gm,$=new u.H,f=new class m extends u.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(I){this.multiline=!1,this.regex=I,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(I){I.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(I){const j=String.fromCharCode(I.value);if(!this.multiline&&"\n"===j&&(this.multiline=!0),I.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const N=A(j);this.endRegexpStack.push(N),this.isStarting&&(this.startRegexp+=N)}}visitSet(I){if(!this.multiline){const j=this.regex.substring(I.loc.begin,I.loc.end),N=new RegExp(j);this.multiline=!!"\n".match(N)}if(I.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const j=this.regex.substring(I.loc.begin,I.loc.end);this.endRegexpStack.push(j),this.isStarting&&(this.startRegexp+=j)}}visitChildren(I){"Group"===I.type&&I.quantifier||super.visitChildren(I)}};function D(_){try{return"string"==typeof _&&(_=new RegExp(_)),_=_.toString(),f.reset(_),f.visit($.pattern(_)),f.multiline}catch{return!1}}const P="\f\n\r\t\v \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".split("");function g(_){const I="string"==typeof _?new RegExp(_):_;return P.some(j=>I.test(j))}function A(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(_,I){const j=function w(_){"string"==typeof _&&(_=new RegExp(_));const I=_,j=_.source;let N=0;return new RegExp(function Z(){let te,re="";function Y(Re){re+=j.substr(N,Re),N+=Re}function de(Re){re+="(?:"+j.substr(N,Re)+"|$)",N+=Re}for(;N<j.length;)switch(j[N]){case"\\":switch(j[N+1]){case"c":de(3);break;case"x":de(4);break;case"u":de(I.unicode?"{"===j[N+2]?j.indexOf("}",N)-N+1:6:2);break;case"p":case"P":de(I.unicode?j.indexOf("}",N)-N+1:2);break;case"k":de(j.indexOf(">",N)-N+1);break;default:de(2)}break;case"[":te=/\[(?:\\.|.)*?\]/g,te.lastIndex=N,te=te.exec(j)||[],de(te[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":Y(1);break;case"{":te=/\{\d+,?\d*\}/g,te.lastIndex=N,te=te.exec(j),te?Y(te[0].length):de(1);break;case"(":if("?"===j[N+1])switch(j[N+2]){case":":re+="(?:",N+=3,re+=Z()+"|$)";break;case"=":re+="(?=",N+=3,re+=Z()+")";break;case"!":te=N,N+=3,Z(),re+=j.substr(te,N-te);break;case"<":switch(j[N+3]){case"=":case"!":te=N,N+=4,Z(),re+=j.substr(te,N-te);break;default:Y(j.indexOf(">",N)-N+1),re+=Z()+"|$)"}}else Y(1),re+=Z()+"|$)";break;case")":return++N,re;default:de(1)}return re}(),_.flags)}(_),N=I.match(j);return!!N&&N[0].length>0}},4193(Ee,s,y){"use strict";y.d(s,{B5:()=>m,Rf:()=>f,Td:()=>v,Vj:()=>D,fq:()=>u,iD:()=>P});class u{constructor(A,b){this.startFn=A,this.nextFn=b}iterator(){const A={state:this.startFn(),next:()=>this.nextFn(A.state),[Symbol.iterator]:()=>A};return A}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const A=this.iterator();let b=0,w=A.next();for(;!w.done;)b++,w=A.next();return b}toArray(){const A=[],b=this.iterator();let w;do{w=b.next(),void 0!==w.value&&A.push(w.value)}while(!w.done);return A}toSet(){return new Set(this)}toMap(A,b){const w=this.map(_=>[A?A(_):_,b?b(_):_]);return new Map(w)}toString(){return this.join()}concat(A){return new u(()=>({first:this.startFn(),firstDone:!1,iterator:A[Symbol.iterator]()}),b=>{let w;if(!b.firstDone){do{if(w=this.nextFn(b.first),!w.done)return w}while(!w.done);b.firstDone=!0}do{if(w=b.iterator.next(),!w.done)return w}while(!w.done);return f})}join(A=","){const b=this.iterator();let _,w="",I=!1;do{_=b.next(),_.done||(I&&(w+=A),w+=L(_.value)),I=!0}while(!_.done);return w}indexOf(A,b=0){const w=this.iterator();let _=0,I=w.next();for(;!I.done;){if(_>=b&&I.value===A)return _;I=w.next(),_++}return-1}every(A){const b=this.iterator();let w=b.next();for(;!w.done;){if(!A(w.value))return!1;w=b.next()}return!0}some(A){const b=this.iterator();let w=b.next();for(;!w.done;){if(A(w.value))return!0;w=b.next()}return!1}forEach(A){const b=this.iterator();let w=0,_=b.next();for(;!_.done;)A(_.value,w),_=b.next(),w++}map(A){return new u(this.startFn,b=>{const{done:w,value:_}=this.nextFn(b);return w?f:{done:!1,value:A(_)}})}filter(A){return new u(this.startFn,b=>{let w;do{if(w=this.nextFn(b),!w.done&&A(w.value))return w}while(!w.done);return f})}nonNullable(){return this.filter(A=>null!=A)}reduce(A,b){const w=this.iterator();let _=b,I=w.next();for(;!I.done;)_=void 0===_?I.value:A(_,I.value),I=w.next();return _}reduceRight(A,b){return this.recursiveReduce(this.iterator(),A,b)}recursiveReduce(A,b,w){const _=A.next();if(_.done)return w;const I=this.recursiveReduce(A,b,w);return void 0===I?_.value:b(I,_.value)}find(A){const b=this.iterator();let w=b.next();for(;!w.done;){if(A(w.value))return w.value;w=b.next()}}findIndex(A){const b=this.iterator();let w=0,_=b.next();for(;!_.done;){if(A(_.value))return w;_=b.next(),w++}return-1}includes(A){const b=this.iterator();let w=b.next();for(;!w.done;){if(w.value===A)return!0;w=b.next()}return!1}flatMap(A){return new u(()=>({this:this.startFn()}),b=>{do{if(b.iterator){const I=b.iterator.next();if(!I.done)return I;b.iterator=void 0}const{done:w,value:_}=this.nextFn(b.this);if(!w){const I=A(_);if(!$(I))return{done:!1,value:I};b.iterator=I[Symbol.iterator]()}}while(b.iterator);return f})}flat(A){if(void 0===A&&(A=1),A<=0)return this;const b=A>1?this.flat(A-1):this;return new u(()=>({this:b.startFn()}),w=>{do{if(w.iterator){const j=w.iterator.next();if(!j.done)return j;w.iterator=void 0}const{done:_,value:I}=b.nextFn(w.this);if(!_){if(!$(I))return{done:!1,value:I};w.iterator=I[Symbol.iterator]()}}while(w.iterator);return f})}head(){const b=this.iterator().next();if(!b.done)return b.value}tail(A=1){return new u(()=>{const b=this.startFn();for(let w=0;w<A;w++)if(this.nextFn(b).done)return b;return b},this.nextFn)}limit(A){return new u(()=>({size:0,state:this.startFn()}),b=>(b.size++,b.size>A?f:this.nextFn(b.state)))}distinct(A){return new u(()=>({set:new Set,internalState:this.startFn()}),b=>{let w;do{if(w=this.nextFn(b.internalState),!w.done){const _=A?A(w.value):w.value;if(!b.set.has(_))return b.set.add(_),w}}while(!w.done);return f})}exclude(A,b){const w=new Set;for(const _ of A){const I=b?b(_):_;w.add(I)}return this.filter(_=>{const I=b?b(_):_;return!w.has(I)})}}function L(g){return"string"==typeof g?g:typeof g>"u"?"undefined":"function"==typeof g.toString?g.toString():Object.prototype.toString.call(g)}function $(g){return!!g&&"function"==typeof g[Symbol.iterator]}const m=new u(()=>{},()=>f),f=Object.freeze({done:!0,value:void 0});function v(...g){if(1===g.length){const A=g[0];if(A instanceof u)return A;if($(A))return new u(()=>A[Symbol.iterator](),b=>b.next());if("number"==typeof A.length)return new u(()=>({index:0}),b=>b.index<A.length?{done:!1,value:A[b.index++]}:f)}return g.length>1?new u(()=>({collIndex:0,arrIndex:0}),A=>{do{if(A.iterator){const b=A.iterator.next();if(!b.done)return b;A.iterator=void 0}if(A.array){if(A.arrIndex<A.array.length)return{done:!1,value:A.array[A.arrIndex++]};A.array=void 0,A.arrIndex=0}if(A.collIndex<g.length){const b=g[A.collIndex++];$(b)?A.iterator=b[Symbol.iterator]():b&&"number"==typeof b.length&&(A.array=b)}}while(A.iterator||A.array||A.collIndex<g.length);return f}):m}class D extends u{constructor(A,b,w){super(()=>({iterators:w?.includeRoot?[[A][Symbol.iterator]()]:[b(A)[Symbol.iterator]()],pruned:!1}),_=>{for(_.pruned&&(_.iterators.pop(),_.pruned=!1);_.iterators.length>0;){const j=_.iterators[_.iterators.length-1].next();if(!j.done)return _.iterators.push(b(j.value)[Symbol.iterator]()),j;_.iterators.pop()}return f})}iterator(){const A={state:this.startFn(),next:()=>this.nextFn(A.state),prune:()=>{A.state.pruned=!0},[Symbol.iterator]:()=>A};return A}}var P,g;(g=P||(P={})).sum=function A(I){return I.reduce((j,N)=>j+N,0)},g.product=function b(I){return I.reduce((j,N)=>j*N,0)},g.min=function w(I){return I.reduce((j,N)=>Math.min(j,N))},g.max=function _(I){return I.reduce((j,N)=>Math.max(j,N))}},7423(Ee,s,y){"use strict";y.d(s,{D:()=>$});var u=y(9204);class L{stat(f){throw new Error("No file system is available.")}statSync(f){throw new Error("No file system is available.")}exists(){return(0,u.A)(function*(){return!1})()}existsSync(){return!1}readBinary(){throw new Error("No file system is available.")}readBinarySync(){throw new Error("No file system is available.")}readFile(){throw new Error("No file system is available.")}readFileSync(){throw new Error("No file system is available.")}readDirectory(){return(0,u.A)(function*(){return[]})()}readDirectorySync(){return[]}}const $={fileSystemProvider:()=>new L}},3185(Ee,s,y){"use strict";y.d(s,{A:()=>$});var u=y(1200);const $=function L(m,f,v){for(var D=-1,P=m.length;++D<P;){var g=m[D],A=f(g);if(null!=A&&(void 0===b?A==A&&!(0,u.A)(A):v(A,b)))var b=A,w=g}return w}},4470(Ee,s,y){"use strict";y.d(s,{A:()=>L});const L=function u($,m){return $<m}},7554(Ee,s,y){"use strict";y.d(s,{A:()=>m});var u=y(462),L=y(8200);const m=function $(f,v){var D=-1,P=(0,L.A)(f)?Array(f.length):[];return(0,u.A)(f,function(g,A,b){P[++D]=v(g,A,b)}),P}},4995(Ee,s,y){"use strict";y.d(s,{A:()=>A});var u=y(9484),L=y(6545),$=y(8724),m=y(123),f=y(3151),v=y(1487);const P=function D(b,w,_,I){if(!(0,f.A)(b))return b;for(var j=-1,N=(w=(0,$.A)(w,b)).length,Z=N-1,re=b;null!=re&&++j<N;){var te=(0,v.A)(w[j]),Y=_;if("__proto__"===te||"constructor"===te||"prototype"===te)return b;if(j!=Z){var de=re[te];void 0===(Y=I?I(de,te,re):void 0)&&(Y=(0,f.A)(de)?de:(0,m.A)(w[j+1])?[]:{})}(0,L.A)(re,te,Y),re=re[te]}return b},A=function g(b,w,_){for(var I=-1,j=w.length,N={};++I<j;){var Z=w[I],re=(0,u.A)(b,Z);_(re,Z)&&P(N,(0,$.A)(Z,b),re)}return N}},9115(Ee,s,y){"use strict";y.d(s,{A:()=>m});var u=y(5973);const m=function $(f){return(0,u.A)(f,4)}},2138(Ee,s,y){"use strict";y.d(s,{A:()=>P});var u=y(3743),L=y(7622),$=y(1642),m=y(2813),f=Object.prototype,v=f.hasOwnProperty;const P=(0,u.A)(function(g,A){g=Object(g);var b=-1,w=A.length,_=w>2?A[2]:void 0;for(_&&(0,$.A)(A[0],A[1],_)&&(w=1);++b<w;)for(var I=A[b],j=(0,m.A)(I),N=-1,Z=j.length;++N<Z;){var re=j[N],te=g[re];(void 0===te||(0,L.A)(te,f[re])&&!v.call(g,re))&&(g[re]=I[re])}return g})},2724(Ee,s,y){"use strict";y.d(s,{A:()=>w});var u=y(6177),L=y(8200),$=y(9892);var v=y(4681),D=y(3531),P=Math.max;const w=function m(_){return function(I,j,N){var Z=Object(I);if(!(0,L.A)(I)){var re=(0,u.A)(j,3);I=(0,$.A)(I),j=function(Y){return re(Z[Y],Y,Z)}}var te=_(I,j,N);return te>-1?Z[re?I[te]:te]:void 0}}(function g(_,I,j){var N=null==_?0:_.length;if(!N)return-1;var Z=null==j?0:(0,D.A)(j);return Z<0&&(Z=P(N+Z,0)),(0,v.A)(_,(0,u.A)(I,3),Z)})},785(Ee,s,y){"use strict";y.d(s,{A:()=>m});var u=y(2383),L=y(5644);const m=function $(f,v){return(0,u.A)((0,L.A)(f,v),1)}},300(Ee,s,y){"use strict";y.d(s,{A:()=>$});var u=y(2383);const $=function L(m){return null!=m&&m.length?(0,u.A)(m,1):[]}},7006(Ee,s,y){"use strict";y.d(s,{A:()=>D});var L=Object.prototype.hasOwnProperty;const m=function $(P,g){return null!=P&&L.call(P,g)};var f=y(4924);const D=function v(P,g){return null!=P&&(0,f.A)(P,g,m)}},524(Ee,s,y){"use strict";y.d(s,{A:()=>L});const L=function u($){var m=null==$?0:$.length;return m?$[m-1]:void 0}},5644(Ee,s,y){"use strict";y.d(s,{A:()=>v});var u=y(7786),L=y(6177),$=y(7554),m=y(9247);const v=function f(D,P){return((0,m.A)(D)?u.A:$.A)(D,(0,L.A)(P,3))}},1834(Ee,s,y){"use strict";y.d(s,{A:()=>f});var u=y(3185),L=y(4470),$=y(5618);const f=function m(v){return v&&v.length?(0,u.A)(v,$.A,L.A):void 0}},3674(Ee,s,y){"use strict";y.d(s,{A:()=>te});var u=/\s/;var m=/^\s+/;const v=function f(Y){return Y&&Y.slice(0,function L(Y){for(var de=Y.length;de--&&u.test(Y.charAt(de)););return de}(Y)+1).replace(m,"")};var D=y(3151),P=y(1200),A=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,w=/^0o[0-7]+$/i,_=parseInt;var N=1/0;const te=function re(Y){return Y?(Y=function I(Y){if("number"==typeof Y)return Y;if((0,P.A)(Y))return NaN;if((0,D.A)(Y)){var de="function"==typeof Y.valueOf?Y.valueOf():Y;Y=(0,D.A)(de)?de+"":de}if("string"!=typeof Y)return 0===Y?Y:+Y;Y=v(Y);var Re=b.test(Y);return Re||w.test(Y)?_(Y.slice(2),Re?2:8):A.test(Y)?NaN:+Y}(Y))===N||Y===-N?17976931348623157e292*(Y<0?-1:1):Y==Y?Y:0:0===Y?Y:0}},3531(Ee,s,y){"use strict";y.d(s,{A:()=>$});var u=y(3674);const $=function L(m){var f=(0,u.A)(m),v=f%1;return f==f?v?f-v:f:0}},3057(Ee,s,y){"use strict";var u,L,$,m,f,v,D,P,g,A,b;y.r(s),y.d(s,{AnnotatedTextEdit:()=>ue,ChangeAnnotation:()=>de,ChangeAnnotationIdentifier:()=>Re,CodeAction:()=>at,CodeActionContext:()=>$t,CodeActionKind:()=>wt,CodeActionTriggerKind:()=>yt,CodeDescription:()=>Z,CodeLens:()=>Dt,Color:()=>g,ColorInformation:()=>A,ColorPresentation:()=>b,Command:()=>te,CompletionItem:()=>We,CompletionItemKind:()=>Ce,CompletionItemLabelDetails:()=>Fe,CompletionItemTag:()=>ye,CompletionList:()=>ze,CreateFile:()=>Le,DeleteFile:()=>Qe,Diagnostic:()=>re,DiagnosticRelatedInformation:()=>I,DiagnosticSeverity:()=>j,DiagnosticTag:()=>N,DocumentHighlight:()=>Pe,DocumentHighlightKind:()=>me,DocumentLink:()=>Ut,DocumentSymbol:()=>Pt,DocumentUri:()=>u,EOL:()=>Xt,FoldingRange:()=>_,FoldingRangeKind:()=>w,FormattingOptions:()=>Wt,Hover:()=>Be,InlayHint:()=>Yt,InlayHintKind:()=>Kt,InlayHintLabelPart:()=>dt,InlineCompletionContext:()=>Vt,InlineCompletionItem:()=>qt,InlineCompletionList:()=>At,InlineCompletionTriggerKind:()=>It,InlineValueContext:()=>Bt,InlineValueEvaluatableExpression:()=>zt,InlineValueText:()=>tn,InlineValueVariableLookup:()=>_t,InsertReplaceEdit:()=>Me,InsertTextFormat:()=>pe,InsertTextMode:()=>Oe,Location:()=>D,LocationLink:()=>P,MarkedString:()=>De,MarkupContent:()=>le,MarkupKind:()=>oe,OptionalVersionedTextDocumentIdentifier:()=>ie,ParameterInformation:()=>x,Position:()=>f,Range:()=>v,RenameFile:()=>Je,SelectedCompletionInfo:()=>Ot,SelectionRange:()=>Tt,SemanticTokenModifiers:()=>Gt,SemanticTokenTypes:()=>Ct,SemanticTokens:()=>lt,SignatureInformation:()=>ne,StringValue:()=>Nt,SymbolInformation:()=>nt,SymbolKind:()=>ve,SymbolTag:()=>ut,TextDocument:()=>ft,TextDocumentEdit:()=>Ge,TextDocumentIdentifier:()=>W,TextDocumentItem:()=>X,TextEdit:()=>Y,URI:()=>L,VersionedTextDocumentIdentifier:()=>J,WorkspaceChange:()=>K,WorkspaceEdit:()=>et,WorkspaceFolder:()=>pt,WorkspaceSymbol:()=>Rt,integer:()=>$,uinteger:()=>m}),(u||(u={})).is=function G(B){return"string"==typeof B},(L||(L={})).is=function G(B){return"string"==typeof B},function(E){E.MIN_VALUE=-2147483648,E.MAX_VALUE=2147483647,E.is=function G(B){return"number"==typeof B&&E.MIN_VALUE<=B&&B<=E.MAX_VALUE}}($||($={})),function(E){E.MIN_VALUE=0,E.MAX_VALUE=2147483647,E.is=function G(B){return"number"==typeof B&&E.MIN_VALUE<=B&&B<=E.MAX_VALUE}}(m||(m={})),function(E){E.create=function G(k,T){return k===Number.MAX_VALUE&&(k=m.MAX_VALUE),T===Number.MAX_VALUE&&(T=m.MAX_VALUE),{line:k,character:T}},E.is=function B(k){let T=k;return q.objectLiteral(T)&&q.uinteger(T.line)&&q.uinteger(T.character)}}(f||(f={})),function(E){E.create=function G(k,T,h,Q){if(q.uinteger(k)&&q.uinteger(T)&&q.uinteger(h)&&q.uinteger(Q))return{start:f.create(k,T),end:f.create(h,Q)};if(f.is(k)&&f.is(T))return{start:k,end:T};throw new Error(`Range#create called with invalid arguments[${k}, ${T}, ${h}, ${Q}]`)},E.is=function B(k){let T=k;return q.objectLiteral(T)&&f.is(T.start)&&f.is(T.end)}}(v||(v={})),function(E){E.create=function G(k,T){return{uri:k,range:T}},E.is=function B(k){let T=k;return q.objectLiteral(T)&&v.is(T.range)&&(q.string(T.uri)||q.undefined(T.uri))}}(D||(D={})),function(E){E.create=function G(k,T,h,Q){return{targetUri:k,targetRange:T,targetSelectionRange:h,originSelectionRange:Q}},E.is=function B(k){let T=k;return q.objectLiteral(T)&&v.is(T.targetRange)&&q.string(T.targetUri)&&v.is(T.targetSelectionRange)&&(v.is(T.originSelectionRange)||q.undefined(T.originSelectionRange))}}(P||(P={})),function(E){E.create=function G(k,T,h,Q){return{red:k,green:T,blue:h,alpha:Q}},E.is=function B(k){const T=k;return q.objectLiteral(T)&&q.numberRange(T.red,0,1)&&q.numberRange(T.green,0,1)&&q.numberRange(T.blue,0,1)&&q.numberRange(T.alpha,0,1)}}(g||(g={})),function(E){E.create=function G(k,T){return{range:k,color:T}},E.is=function B(k){const T=k;return q.objectLiteral(T)&&v.is(T.range)&&g.is(T.color)}}(A||(A={})),function(E){E.create=function G(k,T,h){return{label:k,textEdit:T,additionalTextEdits:h}},E.is=function B(k){const T=k;return q.objectLiteral(T)&&q.string(T.label)&&(q.undefined(T.textEdit)||Y.is(T))&&(q.undefined(T.additionalTextEdits)||q.typedArray(T.additionalTextEdits,Y.is))}}(b||(b={}));var _,I,w=function(E){return E.Comment="comment",E.Imports="imports",E.Region="region",E}(w||{});!function(E){E.create=function G(k,T,h,Q,ge,Ne){const O={startLine:k,endLine:T};return q.defined(h)&&(O.startCharacter=h),q.defined(Q)&&(O.endCharacter=Q),q.defined(ge)&&(O.kind=ge),q.defined(Ne)&&(O.collapsedText=Ne),O},E.is=function B(k){const T=k;return q.objectLiteral(T)&&q.uinteger(T.startLine)&&q.uinteger(T.startLine)&&(q.undefined(T.startCharacter)||q.uinteger(T.startCharacter))&&(q.undefined(T.endCharacter)||q.uinteger(T.endCharacter))&&(q.undefined(T.kind)||q.string(T.kind))}}(_||(_={})),function(E){E.create=function G(k,T){return{location:k,message:T}},E.is=function B(k){let T=k;return q.defined(T)&&D.is(T.location)&&q.string(T.message)}}(I||(I={}));var Z,re,te,Y,de,Re,ue,Ge,Le,Je,Qe,et,W,J,ie,X,oe,le,j=function(E){return E.Error=1,E.Warning=2,E.Information=3,E.Hint=4,E}(j||{}),N=function(E){return E.Unnecessary=1,E.Deprecated=2,E}(N||{});!function(E){E.is=function G(B){const k=B;return q.objectLiteral(k)&&q.string(k.href)}}(Z||(Z={})),function(E){E.create=function G(k,T,h,Q,ge,Ne){let O={range:k,message:T};return q.defined(h)&&(O.severity=h),q.defined(Q)&&(O.code=Q),q.defined(ge)&&(O.source=ge),q.defined(Ne)&&(O.relatedInformation=Ne),O},E.is=function B(k){var T;let h=k;return q.defined(h)&&v.is(h.range)&&q.string(h.message)&&(q.number(h.severity)||q.undefined(h.severity))&&(q.integer(h.code)||q.string(h.code)||q.undefined(h.code))&&(q.undefined(h.codeDescription)||q.string(null===(T=h.codeDescription)||void 0===T?void 0:T.href))&&(q.string(h.source)||q.undefined(h.source))&&(q.undefined(h.relatedInformation)||q.typedArray(h.relatedInformation,I.is))}}(re||(re={})),function(E){E.create=function G(k,T,...h){let Q={title:k,command:T};return q.defined(h)&&h.length>0&&(Q.arguments=h),Q},E.is=function B(k){let T=k;return q.defined(T)&&q.string(T.title)&&q.string(T.command)}}(te||(te={})),function(E){E.replace=function G(h,Q){return{range:h,newText:Q}},E.insert=function B(h,Q){return{range:{start:h,end:h},newText:Q}},E.del=function k(h){return{range:h,newText:""}},E.is=function T(h){const Q=h;return q.objectLiteral(Q)&&q.string(Q.newText)&&v.is(Q.range)}}(Y||(Y={})),function(E){E.create=function G(k,T,h){const Q={label:k};return void 0!==T&&(Q.needsConfirmation=T),void 0!==h&&(Q.description=h),Q},E.is=function B(k){const T=k;return q.objectLiteral(T)&&q.string(T.label)&&(q.boolean(T.needsConfirmation)||void 0===T.needsConfirmation)&&(q.string(T.description)||void 0===T.description)}}(de||(de={})),function(E){E.is=function G(B){return q.string(B)}}(Re||(Re={})),function(E){E.replace=function G(h,Q,ge){return{range:h,newText:Q,annotationId:ge}},E.insert=function B(h,Q,ge){return{range:{start:h,end:h},newText:Q,annotationId:ge}},E.del=function k(h,Q){return{range:h,newText:"",annotationId:Q}},E.is=function T(h){const Q=h;return Y.is(Q)&&(de.is(Q.annotationId)||Re.is(Q.annotationId))}}(ue||(ue={})),function(E){E.create=function G(k,T){return{textDocument:k,edits:T}},E.is=function B(k){let T=k;return q.defined(T)&&ie.is(T.textDocument)&&Array.isArray(T.edits)}}(Ge||(Ge={})),function(E){E.create=function G(k,T,h){let Q={kind:"create",uri:k};return void 0!==T&&(void 0!==T.overwrite||void 0!==T.ignoreIfExists)&&(Q.options=T),void 0!==h&&(Q.annotationId=h),Q},E.is=function B(k){let T=k;return T&&"create"===T.kind&&q.string(T.uri)&&(void 0===T.options||(void 0===T.options.overwrite||q.boolean(T.options.overwrite))&&(void 0===T.options.ignoreIfExists||q.boolean(T.options.ignoreIfExists)))&&(void 0===T.annotationId||Re.is(T.annotationId))}}(Le||(Le={})),function(E){E.create=function G(k,T,h,Q){let ge={kind:"rename",oldUri:k,newUri:T};return void 0!==h&&(void 0!==h.overwrite||void 0!==h.ignoreIfExists)&&(ge.options=h),void 0!==Q&&(ge.annotationId=Q),ge},E.is=function B(k){let T=k;return T&&"rename"===T.kind&&q.string(T.oldUri)&&q.string(T.newUri)&&(void 0===T.options||(void 0===T.options.overwrite||q.boolean(T.options.overwrite))&&(void 0===T.options.ignoreIfExists||q.boolean(T.options.ignoreIfExists)))&&(void 0===T.annotationId||Re.is(T.annotationId))}}(Je||(Je={})),function(E){E.create=function G(k,T,h){let Q={kind:"delete",uri:k};return void 0!==T&&(void 0!==T.recursive||void 0!==T.ignoreIfNotExists)&&(Q.options=T),void 0!==h&&(Q.annotationId=h),Q},E.is=function B(k){let T=k;return T&&"delete"===T.kind&&q.string(T.uri)&&(void 0===T.options||(void 0===T.options.recursive||q.boolean(T.options.recursive))&&(void 0===T.options.ignoreIfNotExists||q.boolean(T.options.ignoreIfNotExists)))&&(void 0===T.annotationId||Re.is(T.annotationId))}}(Qe||(Qe={})),function(E){E.is=function G(B){return B&&(void 0!==B.changes||void 0!==B.documentChanges)&&(void 0===B.documentChanges||B.documentChanges.every(T=>q.string(T.kind)?Le.is(T)||Je.is(T)||Qe.is(T):Ge.is(T)))}}(et||(et={}));class V{constructor(G,B){this.edits=G,this.changeAnnotations=B}insert(G,B,k){let T,h;if(void 0===k?T=Y.insert(G,B):Re.is(k)?(h=k,T=ue.insert(G,B,k)):(this.assertChangeAnnotations(this.changeAnnotations),h=this.changeAnnotations.manage(k),T=ue.insert(G,B,h)),this.edits.push(T),void 0!==h)return h}replace(G,B,k){let T,h;if(void 0===k?T=Y.replace(G,B):Re.is(k)?(h=k,T=ue.replace(G,B,k)):(this.assertChangeAnnotations(this.changeAnnotations),h=this.changeAnnotations.manage(k),T=ue.replace(G,B,h)),this.edits.push(T),void 0!==h)return h}delete(G,B){let k,T;if(void 0===B?k=Y.del(G):Re.is(B)?(T=B,k=ue.del(G,B)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(B),k=ue.del(G,T)),this.edits.push(k),void 0!==T)return T}add(G){this.edits.push(G)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(G){if(void 0===G)throw new Error("Text edit change is not configured to manage change annotations.")}}class F{constructor(G){this._annotations=void 0===G?Object.create(null):G,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(G,B){let k;if(Re.is(G)?k=G:(k=this.nextId(),B=G),void 0!==this._annotations[k])throw new Error(`Id ${k} is already in use.`);if(void 0===B)throw new Error(`No annotation provided for id ${k}`);return this._annotations[k]=B,this._size++,k}nextId(){return this._counter++,this._counter.toString()}}class K{constructor(G){this._textEditChanges=Object.create(null),void 0!==G?(this._workspaceEdit=G,G.documentChanges?(this._changeAnnotations=new F(G.changeAnnotations),G.changeAnnotations=this._changeAnnotations.all(),G.documentChanges.forEach(B=>{if(Ge.is(B)){const k=new V(B.edits,this._changeAnnotations);this._textEditChanges[B.textDocument.uri]=k}})):G.changes&&Object.keys(G.changes).forEach(B=>{const k=new V(G.changes[B]);this._textEditChanges[B]=k})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(this._workspaceEdit.changeAnnotations=0===this._changeAnnotations.size?void 0:this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(G){if(ie.is(G)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");const B={uri:G.uri,version:G.version};let k=this._textEditChanges[B.uri];if(!k){const T=[];this._workspaceEdit.documentChanges.push({textDocument:B,edits:T}),k=new V(T,this._changeAnnotations),this._textEditChanges[B.uri]=k}return k}{if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");let B=this._textEditChanges[G];if(!B){let k=[];this._workspaceEdit.changes[G]=k,B=new V(k),this._textEditChanges[G]=B}return B}}initDocumentChanges(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new F,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))}createFile(G,B,k){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let T,h,Q;if(de.is(B)||Re.is(B)?T=B:k=B,void 0===T?h=Le.create(G,k):(Q=Re.is(T)?T:this._changeAnnotations.manage(T),h=Le.create(G,k,Q)),this._workspaceEdit.documentChanges.push(h),void 0!==Q)return Q}renameFile(G,B,k,T){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let h,Q,ge;if(de.is(k)||Re.is(k)?h=k:T=k,void 0===h?Q=Je.create(G,B,T):(ge=Re.is(h)?h:this._changeAnnotations.manage(h),Q=Je.create(G,B,T,ge)),this._workspaceEdit.documentChanges.push(Q),void 0!==ge)return ge}deleteFile(G,B,k){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let T,h,Q;if(de.is(B)||Re.is(B)?T=B:k=B,void 0===T?h=Qe.create(G,k):(Q=Re.is(T)?T:this._changeAnnotations.manage(T),h=Qe.create(G,k,Q)),this._workspaceEdit.documentChanges.push(h),void 0!==Q)return Q}}!function(E){E.create=function G(k){return{uri:k}},E.is=function B(k){let T=k;return q.defined(T)&&q.string(T.uri)}}(W||(W={})),function(E){E.create=function G(k,T){return{uri:k,version:T}},E.is=function B(k){let T=k;return q.defined(T)&&q.string(T.uri)&&q.integer(T.version)}}(J||(J={})),function(E){E.create=function G(k,T){return{uri:k,version:T}},E.is=function B(k){let T=k;return q.defined(T)&&q.string(T.uri)&&(null===T.version||q.integer(T.version))}}(ie||(ie={})),function(E){E.create=function G(k,T,h,Q){return{uri:k,languageId:T,version:h,text:Q}},E.is=function B(k){let T=k;return q.defined(T)&&q.string(T.uri)&&q.string(T.languageId)&&q.integer(T.version)&&q.string(T.text)}}(X||(X={})),function(E){E.PlainText="plaintext",E.Markdown="markdown",E.is=function G(B){return B===E.PlainText||B===E.Markdown}}(oe||(oe={})),function(E){E.is=function G(B){const k=B;return q.objectLiteral(B)&&oe.is(k.kind)&&q.string(k.value)}}(le||(le={}));var Me,Ce=function(E){return E.Text=1,E.Method=2,E.Function=3,E.Constructor=4,E.Field=5,E.Variable=6,E.Class=7,E.Interface=8,E.Module=9,E.Property=10,E.Unit=11,E.Value=12,E.Enum=13,E.Keyword=14,E.Snippet=15,E.Color=16,E.File=17,E.Reference=18,E.Folder=19,E.EnumMember=20,E.Constant=21,E.Struct=22,E.Event=23,E.Operator=24,E.TypeParameter=25,E}(Ce||{}),pe=function(E){return E.PlainText=1,E.Snippet=2,E}(pe||{}),ye=function(E){return E.Deprecated=1,E}(ye||{});!function(E){E.create=function G(k,T,h){return{newText:k,insert:T,replace:h}},E.is=function B(k){const T=k;return T&&q.string(T.newText)&&v.is(T.insert)&&v.is(T.replace)}}(Me||(Me={}));var Fe,We,ze,De,Be,x,ne,Oe=function(E){return E.asIs=1,E.adjustIndentation=2,E}(Oe||{});!function(E){E.is=function G(B){const k=B;return k&&(q.string(k.detail)||void 0===k.detail)&&(q.string(k.description)||void 0===k.description)}}(Fe||(Fe={})),function(E){E.create=function G(B){return{label:B}}}(We||(We={})),function(E){E.create=function G(B,k){return{items:B||[],isIncomplete:!!k}}}(ze||(ze={})),function(E){E.fromPlainText=function G(k){return k.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},E.is=function B(k){const T=k;return q.string(T)||q.objectLiteral(T)&&q.string(T.language)&&q.string(T.value)}}(De||(De={})),function(E){E.is=function G(B){let k=B;return!!k&&q.objectLiteral(k)&&(le.is(k.contents)||De.is(k.contents)||q.typedArray(k.contents,De.is))&&(void 0===B.range||v.is(B.range))}}(Be||(Be={})),function(E){E.create=function G(B,k){return k?{label:B,documentation:k}:{label:B}}}(x||(x={})),function(E){E.create=function G(B,k,...T){let h={label:B};return q.defined(k)&&(h.documentation=k),h.parameters=q.defined(T)?T:[],h}}(ne||(ne={}));var Pe,me=function(E){return E.Text=1,E.Read=2,E.Write=3,E}(me||{});!function(E){E.create=function G(B,k){let T={range:B};return q.number(k)&&(T.kind=k),T}}(Pe||(Pe={}));var nt,Rt,Pt,ve=function(E){return E.File=1,E.Module=2,E.Namespace=3,E.Package=4,E.Class=5,E.Method=6,E.Property=7,E.Field=8,E.Constructor=9,E.Enum=10,E.Interface=11,E.Function=12,E.Variable=13,E.Constant=14,E.String=15,E.Number=16,E.Boolean=17,E.Array=18,E.Object=19,E.Key=20,E.Null=21,E.EnumMember=22,E.Struct=23,E.Event=24,E.Operator=25,E.TypeParameter=26,E}(ve||{}),ut=function(E){return E.Deprecated=1,E}(ut||{});!function(E){E.create=function G(B,k,T,h,Q){let ge={name:B,kind:k,location:{uri:h,range:T}};return Q&&(ge.containerName=Q),ge}}(nt||(nt={})),function(E){E.create=function G(B,k,T,h){return void 0!==h?{name:B,kind:k,location:{uri:T,range:h}}:{name:B,kind:k,location:{uri:T}}}}(Rt||(Rt={})),function(E){E.create=function G(k,T,h,Q,ge,Ne){let O={name:k,detail:T,kind:h,range:Q,selectionRange:ge};return void 0!==Ne&&(O.children=Ne),O},E.is=function B(k){let T=k;return T&&q.string(T.name)&&q.number(T.kind)&&v.is(T.range)&&v.is(T.selectionRange)&&(void 0===T.detail||q.string(T.detail))&&(void 0===T.deprecated||q.boolean(T.deprecated))&&(void 0===T.children||Array.isArray(T.children))&&(void 0===T.tags||Array.isArray(T.tags))}}(Pt||(Pt={}));var $t,at,Dt,Wt,Ut,Tt,wt=function(E){return E.Empty="",E.QuickFix="quickfix",E.Refactor="refactor",E.RefactorExtract="refactor.extract",E.RefactorInline="refactor.inline",E.RefactorRewrite="refactor.rewrite",E.Source="source",E.SourceOrganizeImports="source.organizeImports",E.SourceFixAll="source.fixAll",E}(wt||{}),yt=function(E){return E.Invoked=1,E.Automatic=2,E}(yt||{});!function(E){E.create=function G(k,T,h){let Q={diagnostics:k};return null!=T&&(Q.only=T),null!=h&&(Q.triggerKind=h),Q},E.is=function B(k){let T=k;return q.defined(T)&&q.typedArray(T.diagnostics,re.is)&&(void 0===T.only||q.typedArray(T.only,q.string))&&(void 0===T.triggerKind||T.triggerKind===yt.Invoked||T.triggerKind===yt.Automatic)}}($t||($t={})),function(E){E.create=function G(k,T,h){let Q={title:k},ge=!0;return"string"==typeof T?(ge=!1,Q.kind=T):te.is(T)?Q.command=T:Q.edit=T,ge&&void 0!==h&&(Q.kind=h),Q},E.is=function B(k){let T=k;return T&&q.string(T.title)&&(void 0===T.diagnostics||q.typedArray(T.diagnostics,re.is))&&(void 0===T.kind||q.string(T.kind))&&(void 0!==T.edit||void 0!==T.command)&&(void 0===T.command||te.is(T.command))&&(void 0===T.isPreferred||q.boolean(T.isPreferred))&&(void 0===T.edit||et.is(T.edit))}}(at||(at={})),function(E){E.create=function G(k,T){let h={range:k};return q.defined(T)&&(h.data=T),h},E.is=function B(k){let T=k;return q.defined(T)&&v.is(T.range)&&(q.undefined(T.command)||te.is(T.command))}}(Dt||(Dt={})),function(E){E.create=function G(k,T){return{tabSize:k,insertSpaces:T}},E.is=function B(k){let T=k;return q.defined(T)&&q.uinteger(T.tabSize)&&q.boolean(T.insertSpaces)}}(Wt||(Wt={})),function(E){E.create=function G(k,T,h){return{range:k,target:T,data:h}},E.is=function B(k){let T=k;return q.defined(T)&&v.is(T.range)&&(q.undefined(T.target)||q.string(T.target))}}(Ut||(Ut={})),function(E){E.create=function G(k,T){return{range:k,parent:T}},E.is=function B(k){let T=k;return q.objectLiteral(T)&&v.is(T.range)&&(void 0===T.parent||E.is(T.parent))}}(Tt||(Tt={}));var lt,tn,_t,zt,Bt,Kt,dt,Yt,Nt,qt,At,Ct=function(E){return E.namespace="namespace",E.type="type",E.class="class",E.enum="enum",E.interface="interface",E.struct="struct",E.typeParameter="typeParameter",E.parameter="parameter",E.variable="variable",E.property="property",E.enumMember="enumMember",E.event="event",E.function="function",E.method="method",E.macro="macro",E.keyword="keyword",E.modifier="modifier",E.comment="comment",E.string="string",E.number="number",E.regexp="regexp",E.operator="operator",E.decorator="decorator",E}(Ct||{}),Gt=function(E){return E.declaration="declaration",E.definition="definition",E.readonly="readonly",E.static="static",E.deprecated="deprecated",E.abstract="abstract",E.async="async",E.modification="modification",E.documentation="documentation",E.defaultLibrary="defaultLibrary",E}(Gt||{});!function(E){E.is=function G(B){const k=B;return q.objectLiteral(k)&&(void 0===k.resultId||"string"==typeof k.resultId)&&Array.isArray(k.data)&&(0===k.data.length||"number"==typeof k.data[0])}}(lt||(lt={})),function(E){E.create=function G(k,T){return{range:k,text:T}},E.is=function B(k){const T=k;return null!=T&&v.is(T.range)&&q.string(T.text)}}(tn||(tn={})),function(E){E.create=function G(k,T,h){return{range:k,variableName:T,caseSensitiveLookup:h}},E.is=function B(k){const T=k;return null!=T&&v.is(T.range)&&q.boolean(T.caseSensitiveLookup)&&(q.string(T.variableName)||void 0===T.variableName)}}(_t||(_t={})),function(E){E.create=function G(k,T){return{range:k,expression:T}},E.is=function B(k){const T=k;return null!=T&&v.is(T.range)&&(q.string(T.expression)||void 0===T.expression)}}(zt||(zt={})),function(E){E.create=function G(k,T){return{frameId:k,stoppedLocation:T}},E.is=function B(k){return q.defined(k)&&v.is(k.stoppedLocation)}}(Bt||(Bt={})),function(E){E.Type=1,E.Parameter=2,E.is=function G(B){return 1===B||2===B}}(Kt||(Kt={})),function(E){E.create=function G(k){return{value:k}},E.is=function B(k){const T=k;return q.objectLiteral(T)&&(void 0===T.tooltip||q.string(T.tooltip)||le.is(T.tooltip))&&(void 0===T.location||D.is(T.location))&&(void 0===T.command||te.is(T.command))}}(dt||(dt={})),function(E){E.create=function G(k,T,h){const Q={position:k,label:T};return void 0!==h&&(Q.kind=h),Q},E.is=function B(k){const T=k;return q.objectLiteral(T)&&f.is(T.position)&&(q.string(T.label)||q.typedArray(T.label,dt.is))&&(void 0===T.kind||Kt.is(T.kind))&&void 0===T.textEdits||q.typedArray(T.textEdits,Y.is)&&(void 0===T.tooltip||q.string(T.tooltip)||le.is(T.tooltip))&&(void 0===T.paddingLeft||q.boolean(T.paddingLeft))&&(void 0===T.paddingRight||q.boolean(T.paddingRight))}}(Yt||(Yt={})),function(E){E.createSnippet=function G(B){return{kind:"snippet",value:B}}}(Nt||(Nt={})),function(E){E.create=function G(B,k,T,h){return{insertText:B,filterText:k,range:T,command:h}}}(qt||(qt={})),function(E){E.create=function G(B){return{items:B}}}(At||(At={}));var Ot,Vt,pt,It=function(E){return E.Invoked=0,E.Automatic=1,E}(It||{});!function(E){E.create=function G(B,k){return{range:B,text:k}}}(Ot||(Ot={})),function(E){E.create=function G(B,k){return{triggerKind:B,selectedCompletionInfo:k}}}(Vt||(Vt={})),function(E){E.is=function G(B){const k=B;return q.objectLiteral(k)&&L.is(k.uri)&&q.string(k.name)}}(pt||(pt={}));const Xt=["\n","\r\n","\r"];var ft,q;!function(E){function T(h,Q){if(h.length<=1)return h;const ge=h.length/2|0,Ne=h.slice(0,ge),O=h.slice(ge);T(Ne,Q),T(O,Q);let se=0,Te=0,Se=0;for(;se<Ne.length&&Te<O.length;)Q(Ne[se],O[Te])<=0?h[Se++]=Ne[se++]:h[Se++]=O[Te++];for(;se<Ne.length;)h[Se++]=Ne[se++];for(;Te<O.length;)h[Se++]=O[Te++];return h}E.create=function G(h,Q,ge,Ne){return new Mt(h,Q,ge,Ne)},E.is=function B(h){let Q=h;return!!(q.defined(Q)&&q.string(Q.uri)&&(q.undefined(Q.languageId)||q.string(Q.languageId))&&q.uinteger(Q.lineCount)&&q.func(Q.getText)&&q.func(Q.positionAt)&&q.func(Q.offsetAt))},E.applyEdits=function k(h,Q){let ge=h.getText(),Ne=T(Q,(se,Te)=>{let Se=se.range.start.line-Te.range.start.line;return 0===Se?se.range.start.character-Te.range.start.character:Se}),O=ge.length;for(let se=Ne.length-1;se>=0;se--){let Te=Ne[se],Se=h.offsetAt(Te.range.start),we=h.offsetAt(Te.range.end);if(!(we<=O))throw new Error("Overlapping edit");ge=ge.substring(0,Se)+Te.newText+ge.substring(we,ge.length),O=Se}return ge}}(ft||(ft={}));class Mt{constructor(G,B,k,T){this._uri=G,this._languageId=B,this._version=k,this._content=T,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(G){if(G){let B=this.offsetAt(G.start),k=this.offsetAt(G.end);return this._content.substring(B,k)}return this._content}update(G,B){this._content=G.text,this._version=B,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let G=[],B=this._content,k=!0;for(let T=0;T<B.length;T++){k&&(G.push(T),k=!1);let h=B.charAt(T);k="\r"===h||"\n"===h,"\r"===h&&T+1<B.length&&"\n"===B.charAt(T+1)&&T++}k&&B.length>0&&G.push(B.length),this._lineOffsets=G}return this._lineOffsets}positionAt(G){G=Math.max(Math.min(G,this._content.length),0);let B=this.getLineOffsets(),k=0,T=B.length;if(0===T)return f.create(0,G);for(;k<T;){let Q=Math.floor((k+T)/2);B[Q]>G?T=Q:k=Q+1}let h=k-1;return f.create(h,G-B[h])}offsetAt(G){let B=this.getLineOffsets();if(G.line>=B.length)return this._content.length;if(G.line<0)return 0;let k=B[G.line];return Math.max(Math.min(k+G.character,G.line+1<B.length?B[G.line+1]:this._content.length),k)}get lineCount(){return this.getLineOffsets().length}}!function(E){const G=Object.prototype.toString;E.defined=function B(we){return typeof we<"u"},E.undefined=function k(we){return typeof we>"u"},E.boolean=function T(we){return!0===we||!1===we},E.string=function h(we){return"[object String]"===G.call(we)},E.number=function Q(we){return"[object Number]"===G.call(we)},E.numberRange=function ge(we,Xe,it){return"[object Number]"===G.call(we)&&Xe<=we&&we<=it},E.integer=function Ne(we){return"[object Number]"===G.call(we)&&-2147483648<=we&&we<=2147483647},E.uinteger=function O(we){return"[object Number]"===G.call(we)&&0<=we&&we<=2147483647},E.func=function se(we){return"[object Function]"===G.call(we)},E.objectLiteral=function Te(we){return null!==we&&"object"==typeof we},E.typedArray=function Se(we,Xe){return Array.isArray(we)&&we.every(Xe)}}(q||(q={}))},2510(Ee,s,y){"use strict";var u;y.d(s,{A:()=>$,r:()=>L}),(()=>{var m={975:K=>{function W(X){if("string"!=typeof X)throw new TypeError("Path must be a string. Received "+JSON.stringify(X))}function J(X,oe){for(var le,Ce="",pe=0,ye=-1,Me=0,Oe=0;Oe<=X.length;++Oe){if(Oe<X.length)le=X.charCodeAt(Oe);else{if(47===le)break;le=47}if(47===le){if(ye!==Oe-1&&1!==Me)if(ye!==Oe-1&&2===Me){if(Ce.length<2||2!==pe||46!==Ce.charCodeAt(Ce.length-1)||46!==Ce.charCodeAt(Ce.length-2))if(Ce.length>2){var Fe=Ce.lastIndexOf("/");if(Fe!==Ce.length-1){-1===Fe?(Ce="",pe=0):pe=(Ce=Ce.slice(0,Fe)).length-1-Ce.lastIndexOf("/"),ye=Oe,Me=0;continue}}else if(2===Ce.length||1===Ce.length){Ce="",pe=0,ye=Oe,Me=0;continue}oe&&(Ce.length>0?Ce+="/..":Ce="..",pe=2)}else Ce.length>0?Ce+="/"+X.slice(ye+1,Oe):Ce=X.slice(ye+1,Oe),pe=Oe-ye-1;ye=Oe,Me=0}else 46===le&&-1!==Me?++Me:Me=-1}return Ce}var ie={resolve:function(){for(var X,oe="",le=!1,Ce=arguments.length-1;Ce>=-1&&!le;Ce--){var pe;Ce>=0?pe=arguments[Ce]:(void 0===X&&(X=process.cwd()),pe=X),W(pe),0!==pe.length&&(oe=pe+"/"+oe,le=47===pe.charCodeAt(0))}return oe=J(oe,!le),le?oe.length>0?"/"+oe:"/":oe.length>0?oe:"."},normalize:function(X){if(W(X),0===X.length)return".";var oe=47===X.charCodeAt(0),le=47===X.charCodeAt(X.length-1);return 0!==(X=J(X,!oe)).length||oe||(X="."),X.length>0&&le&&(X+="/"),oe?"/"+X:X},isAbsolute:function(X){return W(X),X.length>0&&47===X.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var X,oe=0;oe<arguments.length;++oe){var le=arguments[oe];W(le),le.length>0&&(void 0===X?X=le:X+="/"+le)}return void 0===X?".":ie.normalize(X)},relative:function(X,oe){if(W(X),W(oe),X===oe||(X=ie.resolve(X))===(oe=ie.resolve(oe)))return"";for(var le=1;le<X.length&&47===X.charCodeAt(le);++le);for(var Ce=X.length,pe=Ce-le,ye=1;ye<oe.length&&47===oe.charCodeAt(ye);++ye);for(var Me=oe.length-ye,Oe=pe<Me?pe:Me,Fe=-1,We=0;We<=Oe;++We){if(We===Oe){if(Me>Oe){if(47===oe.charCodeAt(ye+We))return oe.slice(ye+We+1);if(0===We)return oe.slice(ye+We)}else pe>Oe&&(47===X.charCodeAt(le+We)?Fe=We:0===We&&(Fe=0));break}var ze=X.charCodeAt(le+We);if(ze!==oe.charCodeAt(ye+We))break;47===ze&&(Fe=We)}var De="";for(We=le+Fe+1;We<=Ce;++We)We!==Ce&&47!==X.charCodeAt(We)||(De+=0===De.length?"..":"/..");return De.length>0?De+oe.slice(ye+Fe):(47===oe.charCodeAt(ye+=Fe)&&++ye,oe.slice(ye))},_makeLong:function(X){return X},dirname:function(X){if(W(X),0===X.length)return".";for(var oe=X.charCodeAt(0),le=47===oe,Ce=-1,pe=!0,ye=X.length-1;ye>=1;--ye)if(47===(oe=X.charCodeAt(ye))){if(!pe){Ce=ye;break}}else pe=!1;return-1===Ce?le?"/":".":le&&1===Ce?"//":X.slice(0,Ce)},basename:function(X,oe){if(void 0!==oe&&"string"!=typeof oe)throw new TypeError('"ext" argument must be a string');W(X);var le,Ce=0,pe=-1,ye=!0;if(void 0!==oe&&oe.length>0&&oe.length<=X.length){if(oe.length===X.length&&oe===X)return"";var Me=oe.length-1,Oe=-1;for(le=X.length-1;le>=0;--le){var Fe=X.charCodeAt(le);if(47===Fe){if(!ye){Ce=le+1;break}}else-1===Oe&&(ye=!1,Oe=le+1),Me>=0&&(Fe===oe.charCodeAt(Me)?-1==--Me&&(pe=le):(Me=-1,pe=Oe))}return Ce===pe?pe=Oe:-1===pe&&(pe=X.length),X.slice(Ce,pe)}for(le=X.length-1;le>=0;--le)if(47===X.charCodeAt(le)){if(!ye){Ce=le+1;break}}else-1===pe&&(ye=!1,pe=le+1);return-1===pe?"":X.slice(Ce,pe)},extname:function(X){W(X);for(var oe=-1,le=0,Ce=-1,pe=!0,ye=0,Me=X.length-1;Me>=0;--Me){var Oe=X.charCodeAt(Me);if(47!==Oe)-1===Ce&&(pe=!1,Ce=Me+1),46===Oe?-1===oe?oe=Me:1!==ye&&(ye=1):-1!==oe&&(ye=-1);else if(!pe){le=Me+1;break}}return-1===oe||-1===Ce||0===ye||1===ye&&oe===Ce-1&&oe===le+1?"":X.slice(oe,Ce)},format:function(X){if(null===X||"object"!=typeof X)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof X);return pe=(le=X).base||(le.name||"")+(le.ext||""),(Ce=le.dir||le.root)?Ce===le.root?Ce+pe:Ce+"/"+pe:pe;var le,Ce,pe},parse:function(X){W(X);var oe={root:"",dir:"",base:"",ext:"",name:""};if(0===X.length)return oe;var le,Ce=X.charCodeAt(0),pe=47===Ce;pe?(oe.root="/",le=1):le=0;for(var ye=-1,Me=0,Oe=-1,Fe=!0,We=X.length-1,ze=0;We>=le;--We)if(47!==(Ce=X.charCodeAt(We)))-1===Oe&&(Fe=!1,Oe=We+1),46===Ce?-1===ye?ye=We:1!==ze&&(ze=1):-1!==ye&&(ze=-1);else if(!Fe){Me=We+1;break}return-1===ye||-1===Oe||0===ze||1===ze&&ye===Oe-1&&ye===Me+1?-1!==Oe&&(oe.base=oe.name=X.slice(0===Me&&pe?1:Me,Oe)):(0===Me&&pe?(oe.name=X.slice(1,ye),oe.base=X.slice(1,Oe)):(oe.name=X.slice(Me,ye),oe.base=X.slice(Me,Oe)),oe.ext=X.slice(ye,Oe)),Me>0?oe.dir=X.slice(0,Me-1):pe&&(oe.dir="/"),oe},sep:"/",delimiter:":",win32:null,posix:null};ie.posix=ie,K.exports=ie}},f={};function v(K){var W=f[K];if(void 0!==W)return W.exports;var J=f[K]={exports:{}};return m[K](J,J.exports,v),J.exports}v.d=(K,W)=>{for(var J in W)v.o(W,J)&&!v.o(K,J)&&Object.defineProperty(K,J,{enumerable:!0,get:W[J]})},v.o=(K,W)=>Object.prototype.hasOwnProperty.call(K,W),v.r=K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})};var D={};let P;v.r(D),v.d(D,{URI:()=>N,Utils:()=>F}),"object"==typeof process?P="win32"===process.platform:"object"==typeof navigator&&(P=navigator.userAgent.indexOf("Windows")>=0);const g=/^\w[\w\d+.-]*$/,A=/^\//,b=/^\/\//;function w(K,W){if(!K.scheme&&W)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${K.authority}", path: "${K.path}", query: "${K.query}", fragment: "${K.fragment}"}`);if(K.scheme&&!g.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path)if(K.authority){if(!A.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(b.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const _="",I="/",j=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class N{static isUri(W){return W instanceof N||!!W&&"string"==typeof W.authority&&"string"==typeof W.fragment&&"string"==typeof W.path&&"string"==typeof W.query&&"string"==typeof W.scheme&&"string"==typeof W.fsPath&&"function"==typeof W.with&&"function"==typeof W.toString}scheme;authority;path;query;fragment;constructor(W,J,ie,X,oe,le=!1){"object"==typeof W?(this.scheme=W.scheme||_,this.authority=W.authority||_,this.path=W.path||_,this.query=W.query||_,this.fragment=W.fragment||_):(this.scheme=function(Ce,pe){return Ce||pe?Ce:"file"}(W,le),this.authority=J||_,this.path=function(Ce,pe){switch(Ce){case"https":case"http":case"file":pe?pe[0]!==I&&(pe=I+pe):pe=I}return pe}(this.scheme,ie||_),this.query=X||_,this.fragment=oe||_,w(this,le))}get fsPath(){return Re(this,!1)}with(W){if(!W)return this;let{scheme:J,authority:ie,path:X,query:oe,fragment:le}=W;return void 0===J?J=this.scheme:null===J&&(J=_),void 0===ie?ie=this.authority:null===ie&&(ie=_),void 0===X?X=this.path:null===X&&(X=_),void 0===oe?oe=this.query:null===oe&&(oe=_),void 0===le?le=this.fragment:null===le&&(le=_),J===this.scheme&&ie===this.authority&&X===this.path&&oe===this.query&&le===this.fragment?this:new re(J,ie,X,oe,le)}static parse(W,J=!1){const ie=j.exec(W);return ie?new re(ie[2]||_,Je(ie[4]||_),Je(ie[5]||_),Je(ie[7]||_),Je(ie[9]||_),J):new re(_,_,_,_,_)}static file(W){let J=_;if(P&&(W=W.replace(/\\/g,I)),W[0]===I&&W[1]===I){const ie=W.indexOf(I,2);-1===ie?(J=W.substring(2),W=I):(J=W.substring(2,ie),W=W.substring(ie)||I)}return new re("file",J,W,_,_)}static from(W){const J=new re(W.scheme,W.authority,W.path,W.query,W.fragment);return w(J,!0),J}toString(W=!1){return ue(this,W)}toJSON(){return this}static revive(W){if(W){if(W instanceof N)return W;{const J=new re(W);return J._formatted=W.external,J._fsPath=W._sep===Z?W.fsPath:null,J}}return W}}const Z=P?1:void 0;class re extends N{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=Re(this,!1)),this._fsPath}toString(W=!1){return W?ue(this,!0):(this._formatted||(this._formatted=ue(this,!1)),this._formatted)}toJSON(){const W={$mid:1};return this._fsPath&&(W.fsPath=this._fsPath,W._sep=Z),this._formatted&&(W.external=this._formatted),this.path&&(W.path=this.path),this.scheme&&(W.scheme=this.scheme),this.authority&&(W.authority=this.authority),this.query&&(W.query=this.query),this.fragment&&(W.fragment=this.fragment),W}}const te={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Y(K,W,J){let ie,X=-1;for(let oe=0;oe<K.length;oe++){const le=K.charCodeAt(oe);if(le>=97&&le<=122||le>=65&&le<=90||le>=48&&le<=57||45===le||46===le||95===le||126===le||W&&47===le||J&&91===le||J&&93===le||J&&58===le)-1!==X&&(ie+=encodeURIComponent(K.substring(X,oe)),X=-1),void 0!==ie&&(ie+=K.charAt(oe));else{void 0===ie&&(ie=K.substr(0,oe));const Ce=te[le];void 0!==Ce?(-1!==X&&(ie+=encodeURIComponent(K.substring(X,oe)),X=-1),ie+=Ce):-1===X&&(X=oe)}}return-1!==X&&(ie+=encodeURIComponent(K.substring(X))),void 0!==ie?ie:K}function de(K){let W;for(let J=0;J<K.length;J++){const ie=K.charCodeAt(J);35===ie||63===ie?(void 0===W&&(W=K.substr(0,J)),W+=te[ie]):void 0!==W&&(W+=K[J])}return void 0!==W?W:K}function Re(K,W){let J;return J=K.authority&&K.path.length>1&&"file"===K.scheme?`//${K.authority}${K.path}`:47===K.path.charCodeAt(0)&&(K.path.charCodeAt(1)>=65&&K.path.charCodeAt(1)<=90||K.path.charCodeAt(1)>=97&&K.path.charCodeAt(1)<=122)&&58===K.path.charCodeAt(2)?W?K.path.substr(1):K.path[1].toLowerCase()+K.path.substr(2):K.path,P&&(J=J.replace(/\//g,"\\")),J}function ue(K,W){const J=W?de:Y;let ie="",{scheme:X,authority:oe,path:le,query:Ce,fragment:pe}=K;if(X&&(ie+=X,ie+=":"),(oe||"file"===X)&&(ie+=I,ie+=I),oe){let ye=oe.indexOf("@");if(-1!==ye){const Me=oe.substr(0,ye);oe=oe.substr(ye+1),ye=Me.lastIndexOf(":"),-1===ye?ie+=J(Me,!1,!1):(ie+=J(Me.substr(0,ye),!1,!1),ie+=":",ie+=J(Me.substr(ye+1),!1,!0)),ie+="@"}oe=oe.toLowerCase(),ye=oe.lastIndexOf(":"),-1===ye?ie+=J(oe,!1,!0):(ie+=J(oe.substr(0,ye),!1,!0),ie+=oe.substr(ye))}if(le){if(le.length>=3&&47===le.charCodeAt(0)&&58===le.charCodeAt(2)){const ye=le.charCodeAt(1);ye>=65&&ye<=90&&(le=`/${String.fromCharCode(ye+32)}:${le.substr(3)}`)}else if(le.length>=2&&58===le.charCodeAt(1)){const ye=le.charCodeAt(0);ye>=65&&ye<=90&&(le=`${String.fromCharCode(ye+32)}:${le.substr(2)}`)}ie+=J(le,!0,!1)}return Ce&&(ie+="?",ie+=J(Ce,!1,!1)),pe&&(ie+="#",ie+=W?pe:Y(pe,!1,!1)),ie}function Ge(K){try{return decodeURIComponent(K)}catch{return K.length>3?K.substr(0,3)+Ge(K.substr(3)):K}}const Le=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Je(K){return K.match(Le)?K.replace(Le,W=>Ge(W)):K}var Qe=v(975);const et=Qe.posix||Qe,V="/";var F,K;(K=F||(F={})).joinPath=function(W,...J){return W.with({path:et.join(W.path,...J)})},K.resolvePath=function(W,...J){let ie=W.path,X=!1;ie[0]!==V&&(ie=V+ie,X=!0);let oe=et.resolve(ie,...J);return X&&oe[0]===V&&!W.authority&&(oe=oe.substring(1)),W.with({path:oe})},K.dirname=function(W){if(0===W.path.length||W.path===V)return W;let J=et.dirname(W.path);return 1===J.length&&46===J.charCodeAt(0)&&(J=""),W.with({path:J})},K.basename=function(W){return et.basename(W.path)},K.extname=function(W){return et.extname(W.path)},u=D})();const{URI:L,Utils:$}=u}}]);
//# sourceMappingURL=233.a7ba450888001c38.js.map