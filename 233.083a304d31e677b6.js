"use strict";(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[233],{3302(Be,te,b){te.Qi=te.XO=void 0;const L=b(362),Z=b(4221),N=b(2240);var H,C;(C=H||(te.XO=H={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:N.Event.None}),C.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:N.Event.None}),C.is=function T(I){const g=I;return g&&(g===C.None||g===C.Cancelled||Z.boolean(g.isCancellationRequested)&&!!g.onCancellationRequested)};const D=Object.freeze(function(C,T){const I=(0,L.default)().timer.setTimeout(C.bind(T),0);return{dispose(){I.dispose()}}});class j{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?D:(this._emitter||(this._emitter=new N.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}te.Qi=class Y{get token(){return this._token||(this._token=new j),this._token}cancel(){this._token?this._token.cancel():this._token=H.Cancelled}dispose(){this._token?this._token instanceof j&&this._token.dispose():this._token=H.None}}},2240(Be,te,b){Object.defineProperty(te,"__esModule",{value:!0}),te.Emitter=te.Event=void 0;const w=b(362);var L;!function(H){const D={dispose(){}};H.None=function(){return D}}(L||(te.Event=L={}));class Z{add(D,j=null,Y){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(D),this._contexts.push(j),Array.isArray(Y)&&Y.push({dispose:()=>this.remove(D,j)})}remove(D,j=null){if(!this._callbacks)return;let Y=!1;for(let C=0,T=this._callbacks.length;C<T;C++)if(this._callbacks[C]===D){if(this._contexts[C]===j)return this._callbacks.splice(C,1),void this._contexts.splice(C,1);Y=!0}if(Y)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...D){if(!this._callbacks)return[];const j=[],Y=this._callbacks.slice(0),C=this._contexts.slice(0);for(let T=0,I=Y.length;T<I;T++)try{j.push(Y[T].apply(C[T],D))}catch(g){(0,w.default)().console.error(g)}return j}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class N{constructor(D){this._options=D}get event(){return this._event||(this._event=(D,j,Y)=>{this._callbacks||(this._callbacks=new Z),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(D,j);const C={dispose:()=>{this._callbacks&&(this._callbacks.remove(D,j),C.dispose=N._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(Y)&&Y.push(C),C}),this._event}fire(D){this._callbacks&&this._callbacks.invoke.call(this._callbacks,D)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}te.Emitter=N,N._noop=function(){}},4221(Be,te){function w(j){return"string"==typeof j||j instanceof String}function H(j){return Array.isArray(j)}Object.defineProperty(te,"__esModule",{value:!0}),te.stringArray=te.array=te.func=te.error=te.number=te.string=te.boolean=void 0,te.boolean=function b(j){return!0===j||!1===j},te.string=w,te.number=function L(j){return"number"==typeof j||j instanceof Number},te.error=function Z(j){return j instanceof Error},te.func=function N(j){return"function"==typeof j},te.array=H,te.stringArray=function D(j){return H(j)&&j.every(Y=>w(Y))}},362(Be,te){let b;function w(){if(void 0===b)throw new Error("No runtime abstraction layer installed");return b}Object.defineProperty(te,"__esModule",{value:!0}),(w||(w={})).install=function Z(N){if(void 0===N)throw new Error("No runtime abstraction layer provided");b=N},te.default=w},2909(Be,te,b){function w(O){return O.charCodeAt(0)}function L(O,y){Array.isArray(O)?O.forEach(function(S){y.push(S)}):y.push(O)}function Z(O,y){if(!0===O[y])throw"duplicate flag "+y;O[y]=!0}function N(O){if(void 0===O)throw Error("Internal Error - Should never get here!");return!0}function H(){throw Error("Internal Error - Should never get here!")}function D(O){return"Character"===O.type}b.d(te,{z:()=>x,H:()=>v});const j=[];for(let O=w("0");O<=w("9");O++)j.push(O);const Y=[w("_")].concat(j);for(let O=w("a");O<=w("z");O++)Y.push(O);for(let O=w("A");O<=w("Z");O++)Y.push(O);const C=[w(" "),w("\f"),w("\n"),w("\r"),w("\t"),w("\v"),w("\t"),w("\xa0"),w("\u1680"),w("\u2000"),w("\u2001"),w("\u2002"),w("\u2003"),w("\u2004"),w("\u2005"),w("\u2006"),w("\u2007"),w("\u2008"),w("\u2009"),w("\u200a"),w("\u2028"),w("\u2029"),w("\u202f"),w("\u205f"),w("\u3000"),w("\ufeff")],T=/[0-9a-fA-F]/,I=/[0-9]/,g=/[1-9]/;class v{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(y){this.idx=y.idx,this.input=y.input,this.groupIdx=y.groupIdx}pattern(y){this.idx=0,this.input=y,this.groupIdx=0,this.consumeChar("/");const S=this.disjunction();this.consumeChar("/");const K={type:"Flags",loc:{begin:this.idx,end:y.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Z(K,"global");break;case"i":Z(K,"ignoreCase");break;case"m":Z(K,"multiLine");break;case"u":Z(K,"unicode");break;case"y":Z(K,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:K,value:S,loc:this.loc(0)}}disjunction(){const y=[],S=this.idx;for(y.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),y.push(this.alternative());return{type:"Disjunction",value:y,loc:this.loc(S)}}alternative(){const y=[],S=this.idx;for(;this.isTerm();)y.push(this.term());return{type:"Alternative",value:y,loc:this.loc(S)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const y=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(y)};case"$":return{type:"EndAnchor",loc:this.loc(y)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(y)};case"B":return{type:"NonWordBoundary",loc:this.loc(y)}}throw Error("Invalid Assertion Escape");case"(":let S;switch(this.consumeChar("?"),this.popChar()){case"=":S="Lookahead";break;case"!":S="NegativeLookahead"}N(S);const K=this.disjunction();return this.consumeChar(")"),{type:S,value:K,loc:this.loc(y)}}return H()}quantifier(y=!1){let S;const K=this.idx;switch(this.popChar()){case"*":S={atLeast:0,atMost:1/0};break;case"+":S={atLeast:1,atMost:1/0};break;case"?":S={atLeast:0,atMost:1};break;case"{":const X=this.integerIncludingZero();switch(this.popChar()){case"}":S={atLeast:X,atMost:X};break;case",":let z;this.isDigit()?(z=this.integerIncludingZero(),S={atLeast:X,atMost:z}):S={atLeast:X,atMost:1/0},this.consumeChar("}")}if(!0===y&&void 0===S)return;N(S)}if((!0!==y||void 0!==S)&&N(S))return"?"===this.peekChar(0)?(this.consumeChar("?"),S.greedy=!1):S.greedy=!0,S.type="Quantifier",S.loc=this.loc(K),S}atom(){let y;const S=this.idx;switch(this.peekChar()){case".":y=this.dotAll();break;case"\\":y=this.atomEscape();break;case"[":y=this.characterClass();break;case"(":y=this.group()}return void 0===y&&this.isPatternCharacter()&&(y=this.patternCharacter()),N(y)?(y.loc=this.loc(S),this.isQuantifier()&&(y.quantifier=this.quantifier()),y):H()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[w("\n"),w("\r"),w("\u2028"),w("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let y,S=!1;switch(this.popChar()){case"d":y=j;break;case"D":y=j,S=!0;break;case"s":y=C;break;case"S":y=C,S=!0;break;case"w":y=Y;break;case"W":y=Y,S=!0}return N(y)?{type:"Set",value:y,complement:S}:H()}controlEscapeAtom(){let y;switch(this.popChar()){case"f":y=w("\f");break;case"n":y=w("\n");break;case"r":y=w("\r");break;case"t":y=w("\t");break;case"v":y=w("\v")}return N(y)?{type:"Character",value:y}:H()}controlLetterEscapeAtom(){this.consumeChar("c");const y=this.popChar();if(!1===/[a-zA-Z]/.test(y))throw Error("Invalid ");return{type:"Character",value:y.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:w("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:w(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:w(this.popChar())}}}characterClass(){const y=[];let S=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),S=!0);this.isClassAtom();){const K=this.classAtom();if(D(K)&&this.isRangeDash()){this.consumeChar("-");const z=this.classAtom();if(D(z)){if(z.value<K.value)throw Error("Range out of order in character class");y.push({from:K.value,to:z.value})}else L(K.value,y),y.push(w("-")),L(z.value,y)}else L(K.value,y)}return this.consumeChar("]"),{type:"Set",complement:S,value:y}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:w("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let y=!0;"?"===(this.consumeChar("("),this.peekChar(0))?(this.consumeChar("?"),this.consumeChar(":"),y=!1):this.groupIdx++;const S=this.disjunction();this.consumeChar(")");const K={type:"Group",capturing:y,value:S};return y&&(K.idx=this.groupIdx),K}positiveInteger(){let y=this.popChar();if(!1===g.test(y))throw Error("Expecting a positive integer");for(;I.test(this.peekChar(0));)y+=this.popChar();return parseInt(y,10)}integerIncludingZero(){let y=this.popChar();if(!1===I.test(y))throw Error("Expecting an integer");for(;I.test(this.peekChar(0));)y+=this.popChar();return parseInt(y,10)}patternCharacter(){const y=this.popChar();switch(y){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:w(y)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return I.test(this.peekChar(0))}isClassAtom(y=0){switch(this.peekChar(y)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const y=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(y)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(y){let S="";for(let X=0;X<y;X++){const z=this.popChar();if(!1===T.test(z))throw Error("Expecting a HexDecimal digits");S+=z}return{type:"Character",value:parseInt(S,16)}}peekChar(y=0){return this.input[this.idx+y]}popChar(){const y=this.peekChar(0);return this.consumeChar(void 0),y}consumeChar(y){if(void 0!==y&&this.input[this.idx]!==y)throw Error("Expected: '"+y+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(y){return{begin:y,end:this.idx}}}class x{visitChildren(y){for(const S in y){const K=y[S];y.hasOwnProperty(S)&&(void 0!==K.type?this.visit(K):Array.isArray(K)&&K.forEach(X=>{this.visit(X)},this))}}visit(y){switch(y.type){case"Pattern":this.visitPattern(y);break;case"Flags":this.visitFlags(y);break;case"Disjunction":this.visitDisjunction(y);break;case"Alternative":this.visitAlternative(y);break;case"StartAnchor":this.visitStartAnchor(y);break;case"EndAnchor":this.visitEndAnchor(y);break;case"WordBoundary":this.visitWordBoundary(y);break;case"NonWordBoundary":this.visitNonWordBoundary(y);break;case"Lookahead":this.visitLookahead(y);break;case"NegativeLookahead":this.visitNegativeLookahead(y);break;case"Character":this.visitCharacter(y);break;case"Set":this.visitSet(y);break;case"Group":this.visitGroup(y);break;case"GroupBackReference":this.visitGroupBackReference(y);break;case"Quantifier":this.visitQuantifier(y)}this.visitChildren(y)}visitPattern(y){}visitFlags(y){}visitDisjunction(y){}visitAlternative(y){}visitStartAnchor(y){}visitEndAnchor(y){}visitWordBoundary(y){}visitNonWordBoundary(y){}visitLookahead(y){}visitNegativeLookahead(y){}visitCharacter(y){}visitSet(y){}visitGroup(y){}visitGroupBackReference(y){}visitQuantifier(y){}}},7172(Be,te,b){b.d(te,{$:()=>C,T:()=>Y});var D,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),j=(class extends L.mR{constructor(){super(["packet"])}static#e=D=()=>((0,w.A)(this,"PacketTokenBuilder"),(0,L.K2)(this,"PacketTokenBuilder"),this)},D()),Y={parser:{TokenBuilder:(0,L.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new L.Tm,"ValueConverter")}};function C(T=H.D){const I=(0,N.WQ)((0,Z.u)(T),L.sr),g=(0,N.WQ)((0,Z.t)({shared:I}),L.AM,Y);return I.ServiceRegistry.register(g),{shared:I,Packet:g}}(0,L.K2)(C,"createPacketServices")},3445(Be,te,b){b.d(te,{mR:()=>Te,dg:()=>Zt,jE:()=>Zn,Tm:()=>Fn,eZ:()=>Rt,e5:()=>fn,sr:()=>qn,AM:()=>En,KX:()=>Et,YP:()=>Ir,eV:()=>Bt,K2:()=>z});var w=b(5027),L=b(7449),Z=b(2286),N=b(1326),H=b(2917),D=b(7423),j=b(2510);const Y={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},C={AstReflection:()=>new H.QX};function I(ee){var we;const It=function T(){const ee=(0,N.WQ)((0,Z.u)(D.D),C),we=(0,N.WQ)((0,Z.t)({shared:ee}),Y);return ee.ServiceRegistry.register(we),we}(),et=It.serializer.JsonSerializer.deserialize(ee);return It.shared.workspace.LangiumDocumentFactory.fromModel(et,j.r.parse(`memory://${null!==(we=et.name)&&void 0!==we?we:"grammar"}.langium`)),et}var x,O,y,S,K,g=b(6535),v=b(3460),X=Object.defineProperty,z=(ee,we)=>X(ee,"name",{value:we,configurable:!0}),Q="Statement",ie="Architecture";z(function oe(ee){return ht.isInstance(ee,ie)},"isArchitecture");var ve="Axis",be="Branch";z(function G(ee){return ht.isInstance(ee,be)},"isBranch");var le="Checkout",fe="CherryPicking",Ee="ClassDefStatement",Oe="Commit";z(function q(ee){return ht.isInstance(ee,Oe)},"isCommit");var F="Curve",ue="Edge",de="Entry",$e="GitGraph";z(function Ne(ee){return ht.isInstance(ee,$e)},"isGitGraph");var ye="Group",Qe="Info";z(function Me(ee){return ht.isInstance(ee,Qe)},"isInfo");var Le="Item",ot="Junction",ke="Merge";z(function At(ee){return ht.isInstance(ee,ke)},"isMerge");var on="Option",ut="Packet";z(function De(ee){return ht.isInstance(ee,ut)},"isPacket");var R="PacketBlock";z(function W(ee){return ht.isInstance(ee,R)},"isPacketBlock");var ae="Pie";z(function Ce(ee){return ht.isInstance(ee,ae)},"isPie");var Re="PieSection";z(function Ue(ee){return ht.isInstance(ee,Re)},"isPieSection");var Ke="Radar",Ht="Service",ct="Treemap";z(function gr(ee){return ht.isInstance(ee,ct)},"isTreemap");var Xt,Yt,Dt,Ft,$t,Qt,Jt,Lt="TreemapRow",Vt="Direction",Mt="Leaf",Dn="Section",zt=(class extends L.kD{getAllTypes(){return[ie,ve,be,le,fe,Ee,Oe,F,Vt,ue,de,$e,ye,Qe,Le,ot,Mt,ke,on,ut,R,ae,Re,Ke,Dn,Ht,Q,ct,Lt]}computeIsSubtype(ee,we){switch(ee){case be:case le:case fe:case Oe:case ke:return this.isSubtype(Q,we);case Vt:return this.isSubtype($e,we);case Mt:case Dn:return this.isSubtype(Le,we);default:return!1}}getReferenceType(ee){const we=`${ee.container.$type}:${ee.property}`;if("Entry:axis"===we)return ve;throw new Error(`${we} is not a valid reference id.`)}getTypeMetaData(ee){switch(ee){case ie:return{name:ie,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case ve:return{name:ve,properties:[{name:"label"},{name:"name"}]};case be:return{name:be,properties:[{name:"name"},{name:"order"}]};case le:return{name:le,properties:[{name:"branch"}]};case fe:return{name:fe,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case Ee:return{name:Ee,properties:[{name:"className"},{name:"styleText"}]};case Oe:return{name:Oe,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case F:return{name:F,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case ue:return{name:ue,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case de:return{name:de,properties:[{name:"axis"},{name:"value"}]};case $e:return{name:$e,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case ye:return{name:ye,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case Qe:return{name:Qe,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case Le:return{name:Le,properties:[{name:"classSelector"},{name:"name"}]};case ot:return{name:ot,properties:[{name:"id"},{name:"in"}]};case ke:return{name:ke,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case on:return{name:on,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case ut:return{name:ut,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case R:return{name:R,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case ae:return{name:ae,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case Re:return{name:Re,properties:[{name:"label"},{name:"value"}]};case Ke:return{name:Ke,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case Ht:return{name:Ht,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case ct:return{name:ct,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case Lt:return{name:Lt,properties:[{name:"indent"},{name:"item"}]};case Vt:return{name:Vt,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case Mt:return{name:Mt,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Dn:return{name:Dn,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:ee,properties:[]}}}static#e=x=()=>((0,w.A)(this,"MermaidAstReflection"),z(this,"MermaidAstReflection"),this)},x()),ht=new zt,Yn=z(()=>Xt??(Xt=I('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Qn=z(()=>Yt??(Yt=I('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),_r=z(()=>Dt??(Dt=I('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),yr=z(()=>Ft??(Ft=I('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Tr=z(()=>$t??($t=I('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),vr=z(()=>Qt??(Qt=I('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),Ar=z(()=>Jt??(Jt=I('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),ln={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Er={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},un={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Rr={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},cn={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Jn={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Fe={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},qn={AstReflection:z(()=>new zt,"AstReflection")},fn={Grammar:z(()=>Yn(),"Grammar"),LanguageMetaData:z(()=>ln,"LanguageMetaData"),parser:{}},En={Grammar:z(()=>Qn(),"Grammar"),LanguageMetaData:z(()=>Er,"LanguageMetaData"),parser:{}},Et={Grammar:z(()=>_r(),"Grammar"),LanguageMetaData:z(()=>un,"LanguageMetaData"),parser:{}},Zn={Grammar:z(()=>yr(),"Grammar"),LanguageMetaData:z(()=>Rr,"LanguageMetaData"),parser:{}},Rt={Grammar:z(()=>Tr(),"Grammar"),LanguageMetaData:z(()=>cn,"LanguageMetaData"),parser:{}},Ir={Grammar:z(()=>vr(),"Grammar"),LanguageMetaData:z(()=>Jn,"LanguageMetaData"),parser:{}},Bt={Grammar:z(()=>Ar(),"Grammar"),LanguageMetaData:z(()=>Fe,"LanguageMetaData"),parser:{}},qt={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Zt=(class extends g.d{runConverter(ee,we,It){let et=this.runCommonConverter(ee,we,It);return void 0===et&&(et=this.runCustomConverter(ee,we,It)),void 0===et?super.runConverter(ee,we,It):et}runCommonConverter(ee,we,It){const et=qt[ee.name];if(void 0===et)return;const Ct=et.exec(we);if(null!==Ct){if(void 0!==Ct[1])return Ct[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==Ct[2])return Ct[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}static#e=O=()=>((0,w.A)(this,"AbstractMermaidValueConverter"),z(this,"AbstractMermaidValueConverter"),this)},O()),Fn=(class extends Zt{runCustomConverter(ee,we,It){}static#e=y=()=>((0,w.A)(this,"CommonValueConverter"),z(this,"CommonValueConverter"),this)},y()),Te=(class extends v.Q{constructor(ee){super(),this.keywords=new Set(ee)}buildKeywordTokens(ee,we,It){const et=super.buildKeywordTokens(ee,we,It);return et.forEach(Ct=>{this.keywords.has(Ct.name)&&void 0!==Ct.PATTERN&&(Ct.PATTERN=new RegExp(Ct.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),et}static#e=S=()=>((0,w.A)(this,"AbstractMermaidTokenBuilder"),z(this,"AbstractMermaidTokenBuilder"),this)},S());(class extends Te{static#e=K=()=>((0,w.A)(this,"CommonTokenBuilder"),z(this,"CommonTokenBuilder"),this)}),K()},7611(Be,te,b){b.d(te,{F:()=>x,d:()=>O});var D,j,Y,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),C=(class extends L.mR{constructor(){super(["treemap"])}static#e=D=()=>((0,w.A)(this,"TreemapTokenBuilder"),(0,L.K2)(this,"TreemapTokenBuilder"),this)},D()),T=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,I=(class extends L.dg{runCustomConverter(y,S,K){if("NUMBER2"===y.name)return parseFloat(S.replace(/,/g,""));if("SEPARATOR"===y.name)return S.substring(1,S.length-1);if("STRING2"===y.name)return S.substring(1,S.length-1);if("INDENTATION"===y.name)return S.length;if("ClassDef"===y.name){if("string"!=typeof S)return S;const X=T.exec(S);if(X)return{$type:"ClassDefStatement",className:X[1],styleText:X[2]||void 0}}}static#e=j=()=>((0,w.A)(this,"TreemapValueConverter"),(0,L.K2)(this,"TreemapValueConverter"),this)},j());function g(y){const S=y.validation.TreemapValidator,K=y.validation.ValidationRegistry;if(K){const X={Treemap:S.checkSingleRoot.bind(S)};K.register(X,S)}}(0,L.K2)(g,"registerValidationChecks");var v=(class{checkSingleRoot(y,S){let K;for(const X of y.TreemapRows)X.item&&(void 0===K&&void 0===X.indent?K=0:(void 0===X.indent||void 0!==K&&K>=parseInt(X.indent,10))&&S("error","Multiple root nodes are not allowed in a treemap.",{node:X,property:"item"}))}static#e=Y=()=>((0,w.A)(this,"TreemapValidator"),(0,L.K2)(this,"TreemapValidator"),this)},Y()),x={parser:{TokenBuilder:(0,L.K2)(()=>new C,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new I,"ValueConverter")},validation:{TreemapValidator:(0,L.K2)(()=>new v,"TreemapValidator")}};function O(y=H.D){const S=(0,N.WQ)((0,Z.u)(y),L.sr),K=(0,N.WQ)((0,Z.t)({shared:S}),L.eV,x);return S.ServiceRegistry.register(K),g(K),{shared:S,Treemap:K}}(0,L.K2)(O,"createTreemapServices")},9499(Be,te,b){b.d(te,{p:()=>Y,v:()=>C});var D,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),j=(class extends L.mR{constructor(){super(["info","showInfo"])}static#e=D=()=>((0,w.A)(this,"InfoTokenBuilder"),(0,L.K2)(this,"InfoTokenBuilder"),this)},D()),Y={parser:{TokenBuilder:(0,L.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new L.Tm,"ValueConverter")}};function C(T=H.D){const I=(0,N.WQ)((0,Z.u)(T),L.sr),g=(0,N.WQ)((0,Z.t)({shared:I}),L.e5,Y);return I.ServiceRegistry.register(g),{shared:I,Info:g}}(0,L.K2)(C,"createInfoServices")},5284(Be,te,b){b.d(te,{f:()=>C,l:()=>Y});var D,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),j=(class extends L.mR{constructor(){super(["radar-beta"])}static#e=D=()=>((0,w.A)(this,"RadarTokenBuilder"),(0,L.K2)(this,"RadarTokenBuilder"),this)},D()),Y={parser:{TokenBuilder:(0,L.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new L.Tm,"ValueConverter")}};function C(T=H.D){const I=(0,N.WQ)((0,Z.u)(T),L.sr),g=(0,N.WQ)((0,Z.t)({shared:I}),L.YP,Y);return I.ServiceRegistry.register(g),{shared:I,Radar:g}}(0,L.K2)(C,"createRadarServices")},4658(Be,te,b){b.d(te,{S:()=>I,i:()=>T});var D,j,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),Y=(class extends L.mR{constructor(){super(["architecture"])}static#e=D=()=>((0,w.A)(this,"ArchitectureTokenBuilder"),(0,L.K2)(this,"ArchitectureTokenBuilder"),this)},D()),C=(class extends L.dg{runCustomConverter(g,v,x){return"ARCH_ICON"===g.name?v.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===g.name?v.replace(/["()]/g,""):"ARCH_TITLE"===g.name?v.replace(/[[\]]/g,"").trim():void 0}static#e=j=()=>((0,w.A)(this,"ArchitectureValueConverter"),(0,L.K2)(this,"ArchitectureValueConverter"),this)},j()),T={parser:{TokenBuilder:(0,L.K2)(()=>new Y,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new C,"ValueConverter")}};function I(g=H.D){const v=(0,N.WQ)((0,Z.u)(g),L.sr),x=(0,N.WQ)((0,Z.t)({shared:v}),L.jE,T);return v.ServiceRegistry.register(x),{shared:v,Architecture:x}}(0,L.K2)(I,"createArchitectureServices")},2114(Be,te,b){b.d(te,{L:()=>Y,b:()=>C});var D,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),j=(class extends L.mR{constructor(){super(["gitGraph"])}static#e=D=()=>((0,w.A)(this,"GitGraphTokenBuilder"),(0,L.K2)(this,"GitGraphTokenBuilder"),this)},D()),Y={parser:{TokenBuilder:(0,L.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new L.Tm,"ValueConverter")}};function C(T=H.D){const I=(0,N.WQ)((0,Z.u)(T),L.sr),g=(0,N.WQ)((0,Z.t)({shared:I}),L.eZ,Y);return I.ServiceRegistry.register(g),{shared:I,GitGraph:g}}(0,L.K2)(C,"createGitGraphServices")},1348(Be,te,b){b.d(te,{B:()=>T,f:()=>I});var D,j,w=b(5027),L=b(3445),Z=b(2286),N=b(1326),H=b(7423),Y=(class extends L.mR{constructor(){super(["pie","showData"])}static#e=D=()=>((0,w.A)(this,"PieTokenBuilder"),(0,L.K2)(this,"PieTokenBuilder"),this)},D()),C=(class extends L.dg{runCustomConverter(g,v,x){if("PIE_SECTION_LABEL"===g.name)return v.replace(/"/g,"").trim()}static#e=j=()=>((0,w.A)(this,"PieValueConverter"),(0,L.K2)(this,"PieValueConverter"),this)},j()),T={parser:{TokenBuilder:(0,L.K2)(()=>new Y,"TokenBuilder"),ValueConverter:(0,L.K2)(()=>new C,"ValueConverter")}};function I(g=H.D){const v=(0,N.WQ)((0,Z.u)(g),L.sr),x=(0,N.WQ)((0,Z.t)({shared:v}),L.KX,T);return v.ServiceRegistry.register(x),{shared:v,Pie:x}}(0,L.K2)(I,"createPieServices")},2233(Be,te,b){b.d(te,{qg:()=>x});var I,w=b(5027),L=b(9204),T=(b(2114),b(9499),b(7172),b(1348),b(4658),b(5284),b(7611),b(3445)),g={},v={info:(0,T.K2)((0,L.A)(function*(){const{createInfoServices:S}=yield b.e(20).then(b.bind(b,4020)),K=S().Info.parser.LangiumParser;g.info=K}),"info"),packet:(0,T.K2)((0,L.A)(function*(){const{createPacketServices:S}=yield b.e(615).then(b.bind(b,1615)),K=S().Packet.parser.LangiumParser;g.packet=K}),"packet"),pie:(0,T.K2)((0,L.A)(function*(){const{createPieServices:S}=yield b.e(371).then(b.bind(b,6371)),K=S().Pie.parser.LangiumParser;g.pie=K}),"pie"),architecture:(0,T.K2)((0,L.A)(function*(){const{createArchitectureServices:S}=yield b.e(695).then(b.bind(b,3076)),K=S().Architecture.parser.LangiumParser;g.architecture=K}),"architecture"),gitGraph:(0,T.K2)((0,L.A)(function*(){const{createGitGraphServices:S}=yield b.e(703).then(b.bind(b,9703)),K=S().GitGraph.parser.LangiumParser;g.gitGraph=K}),"gitGraph"),radar:(0,T.K2)((0,L.A)(function*(){const{createRadarServices:S}=yield b.e(721).then(b.bind(b,6102)),K=S().Radar.parser.LangiumParser;g.radar=K}),"radar"),treemap:(0,T.K2)((0,L.A)(function*(){const{createTreemapServices:S}=yield b.e(995).then(b.bind(b,4995)),K=S().Treemap.parser.LangiumParser;g.treemap=K}),"treemap")};function x(S,K){return O.apply(this,arguments)}function O(){return(O=(0,L.A)(function*(S,K){const X=v[S];if(!X)throw new Error(`Unknown diagram type: ${S}`);g[S]||(yield X());const Q=g[S].parse(K);if(Q.lexerErrors.length>0||Q.parserErrors.length>0)throw new y(Q);return Q.value})).apply(this,arguments)}(0,T.K2)(x,"parse");var y=(class extends Error{constructor(S){super(`Parsing failed: ${S.lexerErrors.map(z=>z.message).join("\n")} ${S.parserErrors.map(z=>z.message).join("\n")}`),this.result=S}static#e=I=()=>((0,w.A)(this,"MermaidParseError"),(0,T.K2)(this,"MermaidParseError"),this)},I())},8365(Be,te,b){b.d(te,{ak:()=>nn,mT:()=>OC,LT:()=>fr,jr:()=>NC,T6:()=>ed,JG:()=>vn,wL:()=>Nt,c$:()=>bt,Y2:()=>lt,$P:()=>mn,Cy:()=>gn,Pp:()=>tn,BK:()=>nt,PW:()=>If,my:()=>cu,jk:()=>CI,Sk:()=>ms,G:()=>Lf});const L=function w(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e};var H=function Z(e){return function(t,r,o){for(var u=-1,f=Object(t),h=o(t),p=h.length;p--;){var _=h[e?p:++u];if(!1===r(f[_],_,f))break}return t}}();const D=H,T="object"==typeof global&&global&&global.Object===Object&&global;var I="object"==typeof self&&self&&self.Object===Object&&self;const v=T||I||Function("return this")(),O=v.Symbol;var y=Object.prototype,S=y.hasOwnProperty,K=y.toString,X=O?O.toStringTag:void 0;var oe=Object.prototype.toString;var fe=O?O.toStringTag:void 0;const Oe=function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":fe&&fe in Object(e)?function z(e){var t=S.call(e,X),r=e[X];try{e[X]=void 0;var o=!0}catch{}var u=K.call(e);return o&&(t?e[X]=r:delete e[X]),u}(e):function ve(e){return oe.call(e)}(e)},F=function q(e){return null!=e&&"object"==typeof e},$e=function de(e){return F(e)&&"[object Arguments]"==Oe(e)};var Ne=Object.prototype,ye=Ne.hasOwnProperty,Qe=Ne.propertyIsEnumerable,Me=$e(function(){return arguments}())?$e:function(e){return F(e)&&ye.call(e,"callee")&&!Qe.call(e,"callee")};const Le=Me,ke=Array.isArray;var ut="object"==typeof exports&&exports&&!exports.nodeType&&exports,De=ut&&"object"==typeof module&&module&&!module.nodeType&&module,W=De&&De.exports===ut?v.Buffer:void 0;const Re=(W?W.isBuffer:void 0)||function At(){return!1};var Ke=/^(?:0|[1-9]\d*)$/;const ct=function Ht(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&Ke.test(e))&&e>-1&&e%1==0&&e<t},Vt=function Lt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Fe={};Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object DataView]"]=Fe["[object Date]"]=Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object WeakMap]"]=!1;const Et=function En(e){return function(t){return e(t)}};var Zn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rt=Zn&&"object"==typeof module&&module&&!module.nodeType&&module,Bt=Rt&&Rt.exports===Zn&&T.process;const pt=function(){try{return Rt&&Rt.require&&Rt.require("util").types||Bt&&Bt.binding&&Bt.binding("util")}catch{}}();var We=pt&&pt.isTypedArray;const Zt=We?Et(We):function qn(e){return F(e)&&Vt(e.length)&&!!Fe[Oe(e)]};var Te=Object.prototype.hasOwnProperty;const ee=function M(e,t){var r=ke(e),o=!r&&Le(e),u=!r&&!o&&Re(e),f=!r&&!o&&!u&&Zt(e),h=r||o||u||f,p=h?function j(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}(e.length,String):[],_=p.length;for(var E in e)(t||Te.call(e,E))&&(!h||!("length"==E||u&&("offset"==E||"parent"==E)||f&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||ct(E,_)))&&p.push(E);return p};var we=Object.prototype;const et=function It(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)},ys=function Ct(e,t){return function(r){return e(t(r))}},Ti=ys(Object.keys,Object);var _o=Object.prototype.hasOwnProperty;const vs=function yo(e){if(!et(e))return Ti(e);var t=[];for(var r in Object(e))_o.call(e,r)&&"constructor"!=r&&t.push(r);return t},ft=function jr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},St=function Wr(e){if(!ft(e))return!1;var t=Oe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Tt=function Sr(e){return null!=e&&Vt(e.length)&&!St(e)},gt=function As(e){return Tt(e)?ee(e):vs(e)};var Hr=function Ai(e,t){return function(r,o){if(null==r)return r;if(!Tt(r))return e(r,o);for(var u=r.length,f=t?u:-1,h=Object(r);(t?f--:++f<u)&&!1!==o(h[f],f,h););return r}}(function vi(e,t){return e&&D(e,t,gt)});const In=Hr,en=function Es(e){return e},Se=function Eo(e,t){return(ke(e)?L:In)(e,function vo(e){return"function"==typeof e?e:en}(t))},tr=function Ro(e,t){for(var r=-1,o=null==e?0:e.length,u=Array(o);++r<o;)u[r]=t(e[r],r,e);return u},st=function Vr(e){return null==e?[]:function Ei(e,t){return tr(t,function(r){return e[r]})}(e,gt(e))};var e,Ii=v["__core-js_shared__"],Ci=(e=/[^.]+$/.exec(Ii&&Ii.keys&&Ii.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var xi=Function.prototype.toString;const Cn=function bi(e){if(null!=e){try{return xi.call(e)}catch{}try{return e+""}catch{}}return""};var Rs=/^\[object .+?Constructor\]$/,ki=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const xo=function Pi(e){return!(!ft(e)||function Si(e){return!!Ci&&Ci in e}(e))&&(St(e)?ki:Rs).test(Cn(e))},Sn=function Mi(e,t){var r=function bo(e,t){return e?.[t]}(e,t);return xo(r)?r:void 0},Xr=Sn(v,"DataView"),Bn=Sn(v,"Map"),Yr=Sn(v,"Promise"),Gn=Sn(v,"Set"),Qr=Sn(v,"WeakMap");var Cs="[object Map]",Oo="[object Promise]",Ss="[object Set]",Ui="[object WeakMap]",P="[object DataView]",No=Cn(Xr),Ki=Cn(Bn),xs=Cn(Yr),bs=Cn(Gn),$s=Cn(Qr),xn=Oe;(Xr&&xn(new Xr(new ArrayBuffer(1)))!=P||Bn&&xn(new Bn)!=Cs||Yr&&xn(Yr.resolve())!=Oo||Gn&&xn(new Gn)!=Ss||Qr&&xn(new Qr)!=Ui)&&(xn=function(e){var t=Oe(e),r="[object Object]"==t?e.constructor:void 0,o=r?Cn(r):"";if(o)switch(o){case No:return P;case Ki:return Cs;case xs:return Oo;case bs:return Ss;case $s:return Ui}return t});const bn=xn;var Hi=Object.prototype.hasOwnProperty;const He=function wo(e){if(null==e)return!0;if(Tt(e)&&(ke(e)||"string"==typeof e||"function"==typeof e.splice||Re(e)||Zt(e)||Le(e)))return!e.length;var t=bn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(et(e))return!vs(e).length;for(var r in e)if(Hi.call(e,r))return!1;return!0},xr=function Po(e,t){return e===t||e!=e&&t!=t},rt=function nr(e,t){for(var r=e.length;r--;)if(xr(e[r][0],t))return r;return-1};var Lo=Array.prototype.splice;function pn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}pn.prototype.clear=function Vi(){this.__data__=[],this.size=0},pn.prototype.delete=function Un(e){var t=this.__data__,r=rt(t,e);return!(r<0||(r==t.length-1?t.pop():Lo.call(t,r,1),--this.size,0))},pn.prototype.get=function Do(e){var t=this.__data__,r=rt(t,e);return r<0?void 0:t[r][1]},pn.prototype.has=function hn(e){return rt(this.__data__,e)>-1},pn.prototype.set=function Go(e,t){var r=this.__data__,o=rt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};const br=pn,$r=Sn(Object,"create");var Yo=Object.prototype.hasOwnProperty;var xt=Object.prototype.hasOwnProperty;function Kn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Kn.prototype.clear=function Pe(){this.__data__=$r?$r(null):{},this.size=0},Kn.prototype.delete=function Ve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function Su(e){var t=this.__data__;if($r){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Yo.call(t,e)?t[e]:void 0},Kn.prototype.has=function ws(e){var t=this.__data__;return $r?void 0!==t[e]:xt.call(t,e)},Kn.prototype.set=function Ps(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$r&&void 0===t?"__lodash_hash_undefined__":t,this};const Ms=Kn,es=function Jo(e,t){var r=e.__data__;return function Gt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map};function rr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}rr.prototype.clear=function Ji(){this.size=0,this.__data__={hash:new Ms,map:new(Bn||br),string:new Ms}},rr.prototype.delete=function Ds(e){var t=es(this,e).delete(e);return this.size-=t?1:0,t},rr.prototype.get=function Zo(e){return es(this,e).get(e)},rr.prototype.has=function $n(e){return es(this,e).has(e)},rr.prototype.set=function ts(e,t){var r=es(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};const Nr=rr;function sr(e){var t=this.__data__=new br(e);this.size=t.size}sr.prototype.clear=function Ko(){this.__data__=new br,this.size=0},sr.prototype.delete=function Yi(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},sr.prototype.get=function Ns(e){return this.__data__.get(e)},sr.prototype.has=function Ho(e){return this.__data__.has(e)},sr.prototype.set=function xu(e,t){var r=this.__data__;if(r instanceof br){var o=r.__data__;if(!Bn||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Nr(o)}return r.set(e,t),this.size=r.size,this};const ir=sr;function ns(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Nr;++t<r;)this.add(e[t])}ns.prototype.add=ns.prototype.push=function rl(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ns.prototype.has=function il(e){return this.__data__.has(e)};const Fs=ns,rs=function wr(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1},Bs=function al(e,t){return e.has(t)},Ut=function ll(e,t,r,o,u,f){var h=1&r,p=e.length,_=t.length;if(p!=_&&!(h&&_>p))return!1;var E=f.get(e),k=f.get(t);if(E&&k)return E==t&&k==e;var B=-1,V=!0,ce=2&r?new Fs:void 0;for(f.set(e,t),f.set(t,e);++B<p;){var ge=e[B],me=t[B];if(o)var _e=h?o(me,ge,B,t,e,f):o(ge,me,B,e,t,f);if(void 0!==_e){if(_e)continue;V=!1;break}if(ce){if(!rs(t,function(pe,he){if(!Bs(ce,he)&&(ge===pe||u(ge,pe,r,o,f)))return ce.push(he)})){V=!1;break}}else if(ge!==me&&!u(ge,me,r,o,f)){V=!1;break}}return f.delete(e),f.delete(t),V},ss=v.Uint8Array,fl=function cl(e){var t=-1,r=Array(e.size);return e.forEach(function(o,u){r[++t]=[u,o]}),r},jn=function dl(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r};var ia=O?O.prototype:void 0,Us=ia?ia.valueOf:void 0;const kr=function Il(e,t){for(var r=-1,o=t.length,u=e.length;++r<o;)e[u+r]=t[r];return e},aa=function Cl(e,t,r){var o=t(e);return ke(e)?o:kr(o,r(e))},Ks=function Sl(e,t){for(var r=-1,o=null==e?0:e.length,u=0,f=[];++r<o;){var h=e[r];t(h,r,e)&&(f[u++]=h)}return f},la=function oa(){return[]};var ca=Object.prototype.propertyIsEnumerable,is=Object.getOwnPropertySymbols,js=is?function(e){return null==e?[]:(e=Object(e),Ks(is(e),function(t){return ca.call(e,t)}))}:la;const as=js,Hs=function Ws(e){return aa(e,gt,as)};var fa=Object.prototype.hasOwnProperty;var zs="[object Arguments]",Pr="[object Array]",Lr="[object Object]",ha=Object.prototype.hasOwnProperty;const Ou=function $u(e,t,r,o,u,f){var h=ke(e),p=ke(t),_=h?Pr:bn(e),E=p?Pr:bn(t),k=(_=_==zs?Lr:_)==Lr,B=(E=E==zs?Lr:E)==Lr,V=_==E;if(V&&Re(e)){if(!Re(t))return!1;h=!0,k=!1}if(V&&!k)return f||(f=new ir),h||Zt(e)?Ut(e,t,r,o,u,f):function El(e,t,r,o,u,f,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new ss(e),new ss(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xr(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=fl;case"[object Set]":if(p||(p=jn),e.size!=t.size&&!(1&o))return!1;var E=h.get(e);if(E)return E==t;o|=2,h.set(e,t);var k=Ut(p(e),p(t),o,u,f,h);return h.delete(e),k;case"[object Symbol]":if(Us)return Us.call(e)==Us.call(t)}return!1}(e,t,_,r,o,u,f);if(!(1&r)){var ce=k&&ha.call(e,"__wrapped__"),ge=B&&ha.call(t,"__wrapped__");if(ce||ge){var me=ce?e.value():e,_e=ge?t.value():t;return f||(f=new ir),u(me,_e,r,o,f)}}return!!V&&(f||(f=new ir),function da(e,t,r,o,u,f){var h=1&r,p=Hs(e),_=p.length;if(_!=Hs(t).length&&!h)return!1;for(var B=_;B--;){var V=p[B];if(!(h?V in t:fa.call(t,V)))return!1}var ce=f.get(e),ge=f.get(t);if(ce&&ge)return ce==t&&ge==e;var me=!0;f.set(e,t),f.set(t,e);for(var _e=h;++B<_;){var pe=e[V=p[B]],he=t[V];if(o)var ne=h?o(he,pe,V,t,e,f):o(pe,he,V,e,t,f);if(!(void 0===ne?pe===he||u(pe,he,r,o,f):ne)){me=!1;break}_e||(_e="constructor"==V)}if(me&&!_e){var Ie=e.constructor,je=t.constructor;Ie!=je&&"constructor"in e&&"constructor"in t&&!("function"==typeof Ie&&Ie instanceof Ie&&"function"==typeof je&&je instanceof je)&&(me=!1)}return f.delete(e),f.delete(t),me}(e,t,r,o,u,f))},ma=function pa(e,t,r,o,u){return e===t||(null==e||null==t||!F(e)&&!F(t)?e!=e&&t!=t:Ou(e,t,r,o,pa,u))},i=function s(e){return e==e&&!ft(e)},m=function d(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},$=function A(e){var t=function a(e){for(var t=gt(e),r=t.length;r--;){var o=t[r],u=e[o];t[r]=[o,u,i(u)]}return t}(e);return 1==t.length&&t[0][2]?m(t[0][0],t[0][1]):function(r){return r===e||function l(e,t,r,o){var u=r.length,f=u,h=!o;if(null==e)return!f;for(e=Object(e);u--;){var p=r[u];if(h&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<f;){var _=(p=r[u])[0],E=e[_],k=p[1];if(h&&p[2]){if(void 0===E&&!(_ in e))return!1}else{var B=new ir;if(o)var V=o(E,k,_,e,t,B);if(!(void 0===V?ma(k,E,3,o,B):V))return!1}}return!0}(r,e,t)}},se=function re(e){return"symbol"==typeof e||F(e)&&"[object Symbol]"==Oe(e)};var J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/;const tt=function Xe(e,t){if(ke(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!se(e))||Ge.test(e)||!J.test(e)||null!=t&&e in Object(t)};function kl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var o=arguments,u=t?t.apply(this,o):o[0],f=r.cache;if(f.has(u))return f.get(u);var h=e.apply(this,o);return r.cache=f.set(u,h)||f,h};return r.cache=new(kl.Cache||Nr),r}kl.Cache=Nr;const gd=kl;var vd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ad=/\\(\\)?/g,Ed=function yd(e){var t=gd(e,function(o){return 500===r.size&&r.clear(),o}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(vd,function(r,o,u,f){t.push(u?f.replace(Ad,"$1"):o||r)}),t});const Rd=Ed;var Nu=O?O.prototype:void 0,wu=Nu?Nu.toString:void 0;const Cd=function ku(e){if("string"==typeof e)return e;if(ke(e))return tr(e,ku)+"";if(se(e))return wu?wu.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},xd=function Sd(e){return null==e?"":Cd(e)},ga=function bd(e,t){return ke(e)?e:tt(e,t)?[e]:Rd(xd(e))},Xs=function Od(e){if("string"==typeof e||se(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Pl=function Nd(e,t){for(var r=0,o=(t=ga(t,e)).length;null!=e&&r<o;)e=e[Xs(t[r++])];return r&&r==o?e:void 0},Ld=function Pd(e,t){return null!=e&&t in Object(e)},Pu=function Md(e,t,r){for(var o=-1,u=(t=ga(t,e)).length,f=!1;++o<u;){var h=Xs(t[o]);if(!(f=null!=e&&r(e,h)))break;e=e[h]}return f||++o!=u?f:!!(u=null==e?0:e.length)&&Vt(u)&&ct(h,u)&&(ke(e)||Le(e))},Kd=function Ud(e,t){return tt(e)&&i(t)?m(Xs(e),t):function(r){var o=function wd(e,t,r){var o=null==e?void 0:Pl(e,t);return void 0===o?r:o}(r,e);return void 0===o&&o===t?function Dd(e,t){return null!=e&&Pu(e,t,Ld)}(r,e):ma(t,o,3)}},Xd=function zd(e){return tt(e)?function jd(e){return function(t){return t?.[e]}}(Xs(e)):function Hd(e){return function(t){return Pl(t,e)}}(e)},On=function Yd(e){return"function"==typeof e?e:null==e?en:"object"==typeof e?ke(e)?Kd(e[0],e[1]):$(e):Xd(e)},Jd=function Qd(e,t){var r=-1,o=Tt(e)?Array(e.length):[];return In(e,function(u,f,h){o[++r]=t(u,f,h)}),o},Ae=function qd(e,t){return(ke(e)?tr:Jd)(e,On(t))};var eh=Object.prototype.hasOwnProperty;const nh=function th(e,t){return null!=e&&eh.call(e,t)},xe=function rh(e,t){return null!=e&&Pu(e,t,nh)};var sh=function(){try{var e=Sn(Object,"defineProperty");return e({},"",{}),e}catch{}}();const _a=sh,Ll=function ih(e,t,r){"__proto__"==t&&_a?_a(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var oh=Object.prototype.hasOwnProperty;const ya=function lh(e,t,r){var o=e[t];(!oh.call(e,t)||!xr(o,r)||void 0===r&&!(t in e))&&Ll(e,t,r)},Ys=function uh(e,t,r,o){var u=!r;r||(r={});for(var f=-1,h=t.length;++f<h;){var p=t[f],_=o?o(r[p],e[p],p,r,e):void 0;void 0===_&&(_=e[p]),u?Ll(r,p,_):ya(r,p,_)}return r};var mh=Object.prototype.hasOwnProperty;const _h=function gh(e){if(!ft(e))return function dh(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=et(e),r=[];for(var o in e)"constructor"==o&&(t||!mh.call(e,o))||r.push(o);return r},Ta=function yh(e){return Tt(e)?ee(e,!0):_h(e)};var Lu="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mu=Lu&&"object"==typeof module&&module&&!module.nodeType&&module,Du=Mu&&Mu.exports===Lu?v.Buffer:void 0,Fu=Du?Du.allocUnsafe:void 0;const Bu=ys(Object.getPrototypeOf,Object);var Oh=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)kr(t,as(e)),e=Bu(e);return t}:la;const Gu=Oh,Uu=function kh(e){return aa(e,Ta,Gu)};var Lh=Object.prototype.hasOwnProperty;const Ml=function Fh(e){var t=new e.constructor(e.byteLength);return new ss(t).set(new ss(e)),t};var Uh=/\w*$/;var Ku=O?O.prototype:void 0,ju=Ku?Ku.valueOf:void 0;const pp=function hp(e,t,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Ml(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function Bh(e,t){var r=t?Ml(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Vh(e,t){var r=t?Ml(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function Kh(e){var t=new e.constructor(e.source,Uh.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function Wh(e){return ju?Object(ju.call(e)):{}}(e)}};var Wu=Object.create,mp=function(){function e(){}return function(t){if(!ft(t))return{};if(Wu)return Wu(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const gp=mp;var Hu=pt&&pt.isMap;const Rp=Hu?Et(Hu):function vp(e){return F(e)&&"[object Map]"==bn(e)};var Vu=pt&&pt.isSet;const bp=Vu?Et(Vu):function Cp(e){return F(e)&&"[object Set]"==bn(e)};var zu="[object Arguments]",Xu="[object Function]",Yu="[object Object]",Ye={};Ye[zu]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object DataView]"]=Ye["[object Boolean]"]=Ye["[object Date]"]=Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye[Yu]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object Symbol]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Error]"]=Ye[Xu]=Ye["[object WeakMap]"]=!1;const tm=function va(e,t,r,o,u,f){var h,p=1&t,_=2&t,E=4&t;if(r&&(h=u?r(e,o,u,f):r(e)),void 0!==h)return h;if(!ft(e))return e;var k=ke(e);if(k){if(h=function Mh(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Lh.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!p)return function Ih(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}(e,h)}else{var B=bn(e),V=B==Xu||"[object GeneratorFunction]"==B;if(Re(e))return function Eh(e,t){if(t)return e.slice();var r=e.length,o=Fu?Fu(r):new e.constructor(r);return e.copy(o),o}(e,p);if(B==Yu||B==zu||V&&!u){if(h=_||V?{}:function _p(e){return"function"!=typeof e.constructor||et(e)?{}:gp(Bu(e))}(e),!p)return _?function Nh(e,t){return Ys(e,Gu(e),t)}(e,function Th(e,t){return e&&Ys(t,Ta(t),e)}(h,e)):function Sh(e,t){return Ys(e,as(e),t)}(e,function ch(e,t){return e&&Ys(t,gt(t),e)}(h,e))}else{if(!Ye[B])return u?e:{};h=pp(e,B,p)}}f||(f=new ir);var ce=f.get(e);if(ce)return ce;f.set(e,h),bp(e)?e.forEach(function(_e){h.add(va(_e,t,r,_e,e,f))}):Rp(e)&&e.forEach(function(_e,pe){h.set(pe,va(_e,t,r,pe,e,f))});var me=k?void 0:(E?_?Uu:Hs:_?Ta:gt)(e);return L(me||e,function(_e,pe){me&&(_e=e[pe=_e]),ya(h,pe,va(_e,t,r,pe,e,f))}),h},_t=function rm(e){return tm(e,4)};function Qu(e){function t(){}t.prototype=e;const r=new t;function o(){return typeof r.bar}return o(),o(),e}const Ju=function sm(e,t,r){var o=-1,u=e.length;t<0&&(t=-t>u?0:u+t),(r=r>u?u:r)<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var f=Array(u);++o<u;)f[o]=e[o+t];return f};var im=/\s/;var lm=/^\s+/;const cm=function um(e){return e&&e.slice(0,function am(e){for(var t=e.length;t--&&im.test(e.charAt(t)););return t}(e)+1).replace(lm,"")};var fm=/^[-+]0x[0-9a-f]+$/i,dm=/^0b[01]+$/i,hm=/^0o[0-7]+$/i,pm=parseInt;var Zu=1/0;const Tm=function ym(e){return e?(e=function mm(e){if("number"==typeof e)return e;if(se(e))return NaN;if(ft(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ft(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=cm(e);var r=dm.test(e);return r||hm.test(e)?pm(e.slice(2),r?2:8):fm.test(e)?NaN:+e}(e))===Zu||e===-Zu?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Qs=function vm(e){var t=Tm(e),r=t%1;return t==t?r?t-r:t:0},yt=function Am(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:Qs(t),Ju(e,t<0?0:t,o)):[]},ec="object"==typeof global&&global&&global.Object===Object&&global;var Rm="object"==typeof self&&self&&self.Object===Object&&self;const Wn=ec||Rm||Function("return this")(),ar=Wn.Symbol;var tc=Object.prototype,Sm=tc.hasOwnProperty,xm=tc.toString,Js=ar?ar.toStringTag:void 0;var Nm=Object.prototype.toString;var nc=ar?ar.toStringTag:void 0;const or=function Mm(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":nc&&nc in Object(e)?function bm(e){var t=Sm.call(e,Js),r=e[Js];try{e[Js]=void 0;var o=!0}catch{}var u=xm.call(e);return o&&(t?e[Js]=r:delete e[Js]),u}(e):function wm(e){return Nm.call(e)}(e)},Ot=Array.isArray,lr=function Fm(e){return null!=e&&"object"==typeof e},Aa=function Gm(e){return"string"==typeof e||!Ot(e)&&lr(e)&&"[object String]"==or(e)},Km=function Um(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e};var Wm=function jm(e){return function(t,r,o){for(var u=-1,f=Object(t),h=o(t),p=h.length;p--;){var _=h[e?p:++u];if(!1===r(f[_],_,f))break}return t}}();const Hm=Wm,rc=function Ym(e){return lr(e)&&"[object Arguments]"==or(e)};var sc=Object.prototype,Qm=sc.hasOwnProperty,Jm=sc.propertyIsEnumerable,qm=rc(function(){return arguments}())?rc:function(e){return lr(e)&&Qm.call(e,"callee")&&!Jm.call(e,"callee")};const ic=qm;var ac="object"==typeof exports&&exports&&!exports.nodeType&&exports,oc=ac&&"object"==typeof module&&module&&!module.nodeType&&module,lc=oc&&oc.exports===ac?Wn.Buffer:void 0;const Dl=(lc?lc.isBuffer:void 0)||function Zm(){return!1};var ig=/^(?:0|[1-9]\d*)$/;const Ea=function ag(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&ig.test(e))&&e>-1&&e%1==0&&e<t},Fl=function lg(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ze={};Ze["[object Float32Array]"]=Ze["[object Float64Array]"]=Ze["[object Int8Array]"]=Ze["[object Int16Array]"]=Ze["[object Int32Array]"]=Ze["[object Uint8Array]"]=Ze["[object Uint8ClampedArray]"]=Ze["[object Uint16Array]"]=Ze["[object Uint32Array]"]=!0,Ze["[object Arguments]"]=Ze["[object Array]"]=Ze["[object ArrayBuffer]"]=Ze["[object Boolean]"]=Ze["[object DataView]"]=Ze["[object Date]"]=Ze["[object Error]"]=Ze["[object Function]"]=Ze["[object Map]"]=Ze["[object Number]"]=Ze["[object Object]"]=Ze["[object RegExp]"]=Ze["[object Set]"]=Ze["[object String]"]=Ze["[object WeakMap]"]=!1;const uc=function Lg(e){return function(t){return e(t)}};var cc="object"==typeof exports&&exports&&!exports.nodeType&&exports,qs=cc&&"object"==typeof module&&module&&!module.nodeType&&module,Bl=qs&&qs.exports===cc&&ec.process;const Ra=function(){try{return qs&&qs.require&&qs.require("util").types||Bl&&Bl.binding&&Bl.binding("util")}catch{}}();var fc=Ra&&Ra.isTypedArray;const dc=fc?uc(fc):function kg(e){return lr(e)&&Fl(e.length)&&!!Ze[or(e)]};var Gg=Object.prototype.hasOwnProperty;const hc=function Ug(e,t){var r=Ot(e),o=!r&&ic(e),u=!r&&!o&&Dl(e),f=!r&&!o&&!u&&dc(e),h=r||o||u||f,p=h?function Vm(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}(e.length,String):[],_=p.length;for(var E in e)(t||Gg.call(e,E))&&(!h||!("length"==E||u&&("offset"==E||"parent"==E)||f&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||Ea(E,_)))&&p.push(E);return p};var Kg=Object.prototype;const Gl=function jg(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Kg)},pc=function Wg(e,t){return function(r){return e(t(r))}},Vg=pc(Object.keys,Object);var Xg=Object.prototype.hasOwnProperty;const Hn=function Jg(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},mc=function n_(e){if(!Hn(e))return!1;var t=or(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Mr=function r_(e){return null!=e&&Fl(e.length)&&!mc(e)},Zs=function s_(e){return Mr(e)?hc(e):function Yg(e){if(!Gl(e))return Vg(e);var t=[];for(var r in Object(e))Xg.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)};var l_=function o_(e,t){return function(r,o){if(null==r)return r;if(!Mr(r))return e(r,o);for(var u=r.length,f=t?u:-1,h=Object(r);(t?f--:++f<u)&&!1!==o(h[f],f,h););return r}}(function i_(e,t){return e&&Hm(e,t,Zs)});const Ia=l_,Ca=function u_(e){return e},h_=function d_(e,t){return(Ot(e)?Km:Ia)(e,function c_(e){return"function"==typeof e?e:Ca}(t))},Ul=Wn["__core-js_shared__"];var gc=function(){var e=/[^.]+$/.exec(Ul&&Ul.keys&&Ul.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var y_=Function.prototype.toString;const Dr=function T_(e){if(null!=e){try{return y_.call(e)}catch{}try{return e+""}catch{}}return""};var A_=/^\[object .+?Constructor\]$/,S_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const b_=function x_(e){return!(!Hn(e)||function m_(e){return!!gc&&gc in e}(e))&&(mc(e)?S_:A_).test(Dr(e))},Fr=function N_(e,t){var r=function $_(e,t){return e?.[t]}(e,t);return b_(r)?r:void 0};var w_=function(){try{var e=Fr(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Sa=w_,_c=function k_(e,t,r){"__proto__"==t&&Sa?Sa(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},xa=function P_(e,t){return e===t||e!=e&&t!=t};var M_=Object.prototype.hasOwnProperty;const Kl=function D_(e,t,r){var o=e[t];(!M_.call(e,t)||!xa(o,r)||void 0===r&&!(t in e))&&_c(e,t,r)};var yc=Math.max;const H_=function W_(e){return function(){return e}};var V_=Sa?function(e,t){return Sa(e,"toString",{configurable:!0,enumerable:!1,value:H_(t),writable:!0})}:Ca,Q_=Date.now,q_=function J_(e){var t=0,r=0;return function(){var o=Q_(),u=16-(o-r);if(r=o,u>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(V_);const Z_=q_,ty=function ey(e,t){return Z_(function K_(e,t,r){return t=yc(void 0===t?e.length-1:t,0),function(){for(var o=arguments,u=-1,f=yc(o.length-t,0),h=Array(f);++u<f;)h[u]=o[t+u];u=-1;for(var p=Array(t+1);++u<t;)p[u]=o[u];return p[t]=r(h),function G_(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,p)}}(e,t,Ca),e+"")},jl=function ny(e,t,r){if(!Hn(r))return!1;var o=typeof t;return!!("number"==o?Mr(r)&&Ea(t,r.length):"string"==o&&t in r)&&xa(r[t],e)};var ay=Object.prototype.hasOwnProperty,oy=function ry(e){return ty(function(t,r){var o=-1,u=r.length,f=u>1?r[u-1]:void 0,h=u>2?r[2]:void 0;for(f=e.length>3&&"function"==typeof f?(u--,f):void 0,h&&jl(r[0],r[1],h)&&(f=u<3?void 0:f,u=1),t=Object(t);++o<u;){var p=r[o];p&&e(t,p,o,f)}return t})}(function(e,t){if(Gl(t)||Mr(t))!function F_(e,t,r,o){var u=!r;r||(r={});for(var f=-1,h=t.length;++f<h;){var p=t[f],_=o?o(r[p],e[p],p,r,e):void 0;void 0===_&&(_=e[p]),u?_c(r,p,_):Kl(r,p,_)}}(t,Zs(t),e);else for(var r in t)ay.call(t,r)&&Kl(e,r,t[r])});const Nn=oy,ba=function ly(e,t){for(var r=-1,o=null==e?0:e.length,u=Array(o);++r<o;)u[r]=t(e[r],r,e);return u},$a=function fy(e,t){for(var r=e.length;r--;)if(xa(e[r][0],t))return r;return-1};var hy=Array.prototype.splice;function os(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}os.prototype.clear=function uy(){this.__data__=[],this.size=0},os.prototype.delete=function py(e){var t=this.__data__,r=$a(t,e);return!(r<0||(r==t.length-1?t.pop():hy.call(t,r,1),--this.size,0))},os.prototype.get=function gy(e){var t=this.__data__,r=$a(t,e);return r<0?void 0:t[r][1]},os.prototype.has=function yy(e){return $a(this.__data__,e)>-1},os.prototype.set=function vy(e,t){var r=this.__data__,o=$a(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};const Oa=os,ei=Fr(Wn,"Map"),ti=Fr(Object,"create");var Fy=Object.prototype.hasOwnProperty;var Ky=Object.prototype.hasOwnProperty;function ls(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ls.prototype.clear=function wy(){this.__data__=ti?ti(null):{},this.size=0},ls.prototype.delete=function Py(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ls.prototype.get=function By(e){var t=this.__data__;if(ti){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Fy.call(t,e)?t[e]:void 0},ls.prototype.has=function jy(e){var t=this.__data__;return ti?void 0!==t[e]:Ky.call(t,e)},ls.prototype.set=function Vy(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ti&&void 0===t?"__lodash_hash_undefined__":t,this};const Tc=ls,Na=function qy(e,t){var r=e.__data__;return function Qy(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map};function us(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}us.prototype.clear=function Xy(){this.size=0,this.__data__={hash:new Tc,map:new(ei||Oa),string:new Tc}},us.prototype.delete=function Zy(e){var t=Na(this,e).delete(e);return this.size-=t?1:0,t},us.prototype.get=function tT(e){return Na(this,e).get(e)},us.prototype.has=function rT(e){return Na(this,e).has(e)},us.prototype.set=function iT(e,t){var r=Na(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};const wa=us;function cs(e){var t=this.__data__=new Oa(e);this.size=t.size}cs.prototype.clear=function Ey(){this.__data__=new Oa,this.size=0},cs.prototype.delete=function Iy(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},cs.prototype.get=function Sy(e){return this.__data__.get(e)},cs.prototype.has=function by(e){return this.__data__.has(e)},cs.prototype.set=function lT(e,t){var r=this.__data__;if(r instanceof Oa){var o=r.__data__;if(!ei||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new wa(o)}return r.set(e,t),this.size=r.size,this};const ka=cs;function Pa(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new wa;++t<r;)this.add(e[t])}Pa.prototype.add=Pa.prototype.push=function fT(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pa.prototype.has=function hT(e){return this.__data__.has(e)};const mT=Pa,vc=function gT(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1},yT=function _T(e,t){return e.has(t)},Ac=function AT(e,t,r,o,u,f){var h=1&r,p=e.length,_=t.length;if(p!=_&&!(h&&_>p))return!1;var E=f.get(e),k=f.get(t);if(E&&k)return E==t&&k==e;var B=-1,V=!0,ce=2&r?new mT:void 0;for(f.set(e,t),f.set(t,e);++B<p;){var ge=e[B],me=t[B];if(o)var _e=h?o(me,ge,B,t,e,f):o(ge,me,B,e,t,f);if(void 0!==_e){if(_e)continue;V=!1;break}if(ce){if(!vc(t,function(pe,he){if(!yT(ce,he)&&(ge===pe||u(ge,pe,r,o,f)))return ce.push(he)})){V=!1;break}}else if(ge!==me&&!u(ge,me,r,o,f)){V=!1;break}}return f.delete(e),f.delete(t),V},Ec=Wn.Uint8Array,IT=function RT(e){var t=-1,r=Array(e.size);return e.forEach(function(o,u){r[++t]=[u,o]}),r},ST=function CT(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r};var Rc=ar?ar.prototype:void 0,Wl=Rc?Rc.valueOf:void 0;const Ic=function KT(e,t){for(var r=-1,o=t.length,u=e.length;++r<o;)e[u+r]=t[r];return e},Cc=function jT(e,t,r){var o=t(e);return Ot(e)?o:Ic(o,r(e))},Sc=function VT(){return[]};var XT=Object.prototype.propertyIsEnumerable,xc=Object.getOwnPropertySymbols,YT=xc?function(e){return null==e?[]:(e=Object(e),function WT(e,t){for(var r=-1,o=null==e?0:e.length,u=0,f=[];++r<o;){var h=e[r];t(h,r,e)&&(f[u++]=h)}return f}(xc(e),function(t){return XT.call(e,t)}))}:Sc;const bc=YT,$c=function QT(e){return Cc(e,Zs,bc)};var ZT=Object.prototype.hasOwnProperty;const Hl=Fr(Wn,"DataView"),Vl=Fr(Wn,"Promise"),zl=Fr(Wn,"Set"),Xl=Fr(Wn,"WeakMap");var Oc="[object Map]",Nc="[object Promise]",wc="[object Set]",kc="[object WeakMap]",Pc="[object DataView]",ov=Dr(Hl),lv=Dr(ei),uv=Dr(Vl),cv=Dr(zl),fv=Dr(Xl),Br=or;(Hl&&Br(new Hl(new ArrayBuffer(1)))!=Pc||ei&&Br(new ei)!=Oc||Vl&&Br(Vl.resolve())!=Nc||zl&&Br(new zl)!=wc||Xl&&Br(new Xl)!=kc)&&(Br=function(e){var t=or(e),r="[object Object]"==t?e.constructor:void 0,o=r?Dr(r):"";if(o)switch(o){case ov:return Pc;case lv:return Oc;case uv:return Nc;case cv:return wc;case fv:return kc}return t});const Lc=Br;var Mc="[object Arguments]",Dc="[object Array]",La="[object Object]",Fc=Object.prototype.hasOwnProperty;const mv=function pv(e,t,r,o,u,f){var h=Ot(e),p=Ot(t),_=h?Dc:Lc(e),E=p?Dc:Lc(t),k=(_=_==Mc?La:_)==La,B=(E=E==Mc?La:E)==La,V=_==E;if(V&&Dl(e)){if(!Dl(t))return!1;h=!0,k=!1}if(V&&!k)return f||(f=new ka),h||dc(e)?Ac(e,t,r,o,u,f):function GT(e,t,r,o,u,f,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new Ec(e),new Ec(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xa(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=IT;case"[object Set]":if(p||(p=ST),e.size!=t.size&&!(1&o))return!1;var E=h.get(e);if(E)return E==t;o|=2,h.set(e,t);var k=Ac(p(e),p(t),o,u,f,h);return h.delete(e),k;case"[object Symbol]":if(Wl)return Wl.call(e)==Wl.call(t)}return!1}(e,t,_,r,o,u,f);if(!(1&r)){var ce=k&&Fc.call(e,"__wrapped__"),ge=B&&Fc.call(t,"__wrapped__");if(ce||ge){var me=ce?e.value():e,_e=ge?t.value():t;return f||(f=new ka),u(me,_e,r,o,f)}}return!!V&&(f||(f=new ka),function ev(e,t,r,o,u,f){var h=1&r,p=$c(e),_=p.length;if(_!=$c(t).length&&!h)return!1;for(var B=_;B--;){var V=p[B];if(!(h?V in t:ZT.call(t,V)))return!1}var ce=f.get(e),ge=f.get(t);if(ce&&ge)return ce==t&&ge==e;var me=!0;f.set(e,t),f.set(t,e);for(var _e=h;++B<_;){var pe=e[V=p[B]],he=t[V];if(o)var ne=h?o(he,pe,V,t,e,f):o(pe,he,V,e,t,f);if(!(void 0===ne?pe===he||u(pe,he,r,o,f):ne)){me=!1;break}_e||(_e="constructor"==V)}if(me&&!_e){var Ie=e.constructor,je=t.constructor;Ie!=je&&"constructor"in e&&"constructor"in t&&!("function"==typeof Ie&&Ie instanceof Ie&&"function"==typeof je&&je instanceof je)&&(me=!1)}return f.delete(e),f.delete(t),me}(e,t,r,o,u,f))},Gc=function Bc(e,t,r,o,u){return e===t||(null==e||null==t||!lr(e)&&!lr(t)?e!=e&&t!=t:mv(e,t,r,o,Bc,u))},Uc=function vv(e){return e==e&&!Hn(e)},Kc=function Rv(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},Cv=function Iv(e){var t=function Av(e){for(var t=Zs(e),r=t.length;r--;){var o=t[r],u=e[o];t[r]=[o,u,Uc(u)]}return t}(e);return 1==t.length&&t[0][2]?Kc(t[0][0],t[0][1]):function(r){return r===e||function yv(e,t,r,o){var u=r.length,f=u,h=!o;if(null==e)return!f;for(e=Object(e);u--;){var p=r[u];if(h&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<f;){var _=(p=r[u])[0],E=e[_],k=p[1];if(h&&p[2]){if(void 0===E&&!(_ in e))return!1}else{var B=new ka;if(o)var V=o(E,k,_,e,t,B);if(!(void 0===V?Gc(k,E,3,o,B):V))return!1}}return!0}(r,e,t)}},Ma=function xv(e){return"symbol"==typeof e||lr(e)&&"[object Symbol]"==or(e)};var bv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$v=/^\w*$/;const Yl=function Ov(e,t){if(Ot(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ma(e))||$v.test(e)||!bv.test(e)||null!=t&&e in Object(t)};function Ql(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var o=arguments,u=t?t.apply(this,o):o[0],f=r.cache;if(f.has(u))return f.get(u);var h=e.apply(this,o);return r.cache=f.set(u,h)||f,h};return r.cache=new(Ql.Cache||wa),r}Ql.Cache=wa;const wv=Ql;var Mv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dv=/\\(\\)?/g,Fv=function Pv(e){var t=wv(e,function(o){return 500===r.size&&r.clear(),o}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Mv,function(r,o,u,f){t.push(u?f.replace(Dv,"$1"):o||r)}),t});const Bv=Fv;var jc=ar?ar.prototype:void 0,Wc=jc?jc.toString:void 0;const Uv=function Hc(e){if("string"==typeof e)return e;if(Ot(e))return ba(e,Hc)+"";if(Ma(e))return Wc?Wc.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},jv=function Kv(e){return null==e?"":Uv(e)},Da=function Wv(e,t){return Ot(e)?e:Yl(e,t)?[e]:Bv(jv(e))},ni=function Vv(e){if("string"==typeof e||Ma(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Jl=function zv(e,t){for(var r=0,o=(t=Da(t,e)).length;null!=e&&r<o;)e=e[ni(t[r++])];return r&&r==o?e:void 0},Jv=function Qv(e,t){return null!=e&&t in Object(e)},tA=function eA(e,t){return null!=e&&function qv(e,t,r){for(var o=-1,u=(t=Da(t,e)).length,f=!1;++o<u;){var h=ni(t[o]);if(!(f=null!=e&&r(e,h)))break;e=e[h]}return f||++o!=u?f:!!(u=null==e?0:e.length)&&Fl(u)&&Ea(h,u)&&(Ot(e)||ic(e))}(e,t,Jv)},iA=function sA(e,t){return Yl(e)&&Uc(t)?Kc(ni(e),t):function(r){var o=function Xv(e,t,r){var o=null==e?void 0:Jl(e,t);return void 0===o?r:o}(r,e);return void 0===o&&o===t?tA(r,e):Gc(t,o,3)}},fA=function cA(e){return Yl(e)?function aA(e){return function(t){return t?.[e]}}(ni(e)):function lA(e){return function(t){return Jl(t,e)}}(e)},Fa=function dA(e){return"function"==typeof e?e:null==e?Ca:"object"==typeof e?Ot(e)?iA(e[0],e[1]):Cv(e):fA(e)},pA=function hA(e,t,r,o){if(!Hn(e))return e;for(var u=-1,f=(t=Da(t,e)).length,h=f-1,p=e;null!=p&&++u<f;){var _=ni(t[u]),E=r;if("__proto__"===_||"constructor"===_||"prototype"===_)return e;if(u!=h){var k=p[_];void 0===(E=o?o(k,_,p):void 0)&&(E=Hn(k)?k:Ea(t[u+1])?[]:{})}Kl(p,_,E),p=p[_]}return e},yA=pc(Object.getPrototypeOf,Object);var vA=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ic(t,bc(e)),e=yA(e);return t}:Sc;const AA=vA;var CA=Object.prototype.hasOwnProperty;const xA=function SA(e){if(!Hn(e))return function EA(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Gl(e),r=[];for(var o in e)"constructor"==o&&(t||!CA.call(e,o))||r.push(o);return r},$A=function bA(e){return Mr(e)?hc(e,!0):xA(e)},wn=function wA(e,t){if(null==e)return{};var r=ba(function OA(e){return Cc(e,$A,AA)}(e),function(o){return[o]});return t=Fa(t),function mA(e,t,r){for(var o=-1,u=t.length,f={};++o<u;){var h=t[o],p=Jl(e,h);r(p,h)&&pA(f,Da(h,e),p)}return f}(e,r,function(o,u){return t(o,u[0])})},PA=function kA(e,t){var r=-1,o=Mr(e)?Array(e.length):[];return Ia(e,function(u,f,h){o[++r]=t(u,f,h)}),o},Vc=function LA(e,t){return(Ot(e)?ba:PA)(e,Fa(t))};var zc=Ra&&Ra.isRegExp;const GA=zc?uc(zc):function DA(e){return lr(e)&&"[object RegExp]"==or(e)};function UA(e){return function KA(e){return Aa(e.LABEL)&&""!==e.LABEL}(e)?e.LABEL:e.name}class kn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),h_(this.definition,r=>{r.accept(t)})}}class Nt extends kn{constructor(t){super([]),this.idx=1,Nn(this,wn(t,r=>void 0!==r))}set definition(t){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class fs extends kn{constructor(t){super(t.definition),this.orgText="",Nn(this,wn(t,r=>void 0!==r))}}class wt extends kn{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Nn(this,wn(t,r=>void 0!==r))}}class bt extends kn{constructor(t){super(t.definition),this.idx=1,Nn(this,wn(t,r=>void 0!==r))}}class mn extends kn{constructor(t){super(t.definition),this.idx=1,Nn(this,wn(t,r=>void 0!==r))}}class gn extends kn{constructor(t){super(t.definition),this.idx=1,Nn(this,wn(t,r=>void 0!==r))}}class lt extends kn{constructor(t){super(t.definition),this.idx=1,Nn(this,wn(t,r=>void 0!==r))}}class tn extends kn{constructor(t){super(t.definition),this.idx=1,Nn(this,wn(t,r=>void 0!==r))}}class nn extends kn{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Nn(this,wn(t,r=>void 0!==r))}}class nt{constructor(t){this.idx=1,Nn(this,wn(t,r=>void 0!==r))}accept(t){t.visit(this)}}function Ba(e){function t(r){return Vc(r,Ba)}if(e instanceof Nt){const r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Aa(e.label)&&(r.label=e.label),r}if(e instanceof wt)return{type:"Alternative",definition:t(e.definition)};if(e instanceof bt)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof mn)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof gn)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Ba(new nt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof tn)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Ba(new nt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof lt)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof nn)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof nt){const r={type:"Terminal",name:e.terminalType.name,label:UA(e.terminalType),idx:e.idx};Aa(e.label)&&(r.terminalLabel=e.label);const o=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=GA(o)?o.source:o),r}if(e instanceof fs)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class ds{visit(t){const r=t;switch(r.constructor){case Nt:return this.visitNonTerminal(r);case wt:return this.visitAlternative(r);case bt:return this.visitOption(r);case mn:return this.visitRepetitionMandatory(r);case gn:return this.visitRepetitionMandatoryWithSeparator(r);case tn:return this.visitRepetitionWithSeparator(r);case lt:return this.visitRepetition(r);case nn:return this.visitAlternation(r);case nt:return this.visitTerminal(r);case fs:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}const HA=function WA(e,t){var r;return Ia(e,function(o,u,f){return!(r=t(o,u,f))}),!!r},JA=function QA(e){return e!=e};var nE=/\s/;var iE=/^\s+/;const oE=function aE(e){return e&&e.slice(0,function rE(e){for(var t=e.length;t--&&nE.test(e.charAt(t)););return t}(e)+1).replace(iE,"")};var lE=/^[-+]0x[0-9a-f]+$/i,uE=/^0b[01]+$/i,cE=/^0o[0-7]+$/i,fE=parseInt;var Yc=1/0;const gE=function mE(e){return e?(e=function dE(e){if("number"==typeof e)return e;if(Ma(e))return NaN;if(Hn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Hn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=oE(e);var r=uE.test(e);return r||cE.test(e)?fE(e.slice(2),r?2:8):lE.test(e)?NaN:+e}(e))===Yc||e===-Yc?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},EE=function AE(e){return null==e?[]:function TE(e,t){return ba(t,function(r){return e[r]})}(e,Zs(e))};var RE=Math.max;const CE=function IE(e,t,r,o){e=Mr(e)?e:EE(e),r=r&&!o?function _E(e){var t=gE(e),r=t%1;return t==t?r?t-r:t:0}(r):0;var u=e.length;return r<0&&(r=RE(u+r,0)),Aa(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&function eE(e,t,r){return t==t?function qA(e,t,r){for(var o=r-1,u=e.length;++o<u;)if(e[o]===t)return o;return-1}(e,t,r):function XA(e,t,r,o){for(var u=e.length,f=r+(o?1:-1);o?f--:++f<u;)if(t(e[f],f,e))return f;return-1}(e,JA,r)}(e,t,r)>-1},xE=function SE(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(!t(e[r],r,e))return!1;return!0},$E=function bE(e,t){var r=!0;return Ia(e,function(o,u,f){return r=!!t(o,u,f)}),r};function Ga(e,t=[]){return e instanceof bt||e instanceof lt||e instanceof tn||(e instanceof nn?function VA(e,t,r){var o=Ot(e)?vc:HA;return r&&jl(e,t,r)&&(t=void 0),o(e,Fa(t))}(e.definition,o=>Ga(o,t)):!(e instanceof Nt&&CE(t,e))&&e instanceof kn&&(e instanceof Nt&&t.push(e),function OE(e,t,r){var o=Ot(e)?xE:$E;return r&&jl(e,t,r)&&(t=void 0),o(e,Fa(t))}(e.definition,o=>Ga(o,t))))}function Pn(e){if(e instanceof Nt)return"SUBRULE";if(e instanceof bt)return"OPTION";if(e instanceof nn)return"OR";if(e instanceof mn)return"AT_LEAST_ONE";if(e instanceof gn)return"AT_LEAST_ONE_SEP";if(e instanceof tn)return"MANY_SEP";if(e instanceof lt)return"MANY";if(e instanceof nt)return"CONSUME";throw Error("non exhaustive match")}class Ua{walk(t,r=[]){Se(t.definition,(o,u)=>{const f=yt(t.definition,u+1);if(o instanceof Nt)this.walkProdRef(o,f,r);else if(o instanceof nt)this.walkTerminal(o,f,r);else if(o instanceof wt)this.walkFlat(o,f,r);else if(o instanceof bt)this.walkOption(o,f,r);else if(o instanceof mn)this.walkAtLeastOne(o,f,r);else if(o instanceof gn)this.walkAtLeastOneSep(o,f,r);else if(o instanceof tn)this.walkManySep(o,f,r);else if(o instanceof lt)this.walkMany(o,f,r);else{if(!(o instanceof nn))throw Error("non exhaustive match");this.walkOr(o,f,r)}})}walkTerminal(t,r,o){}walkProdRef(t,r,o){}walkFlat(t,r,o){const u=r.concat(o);this.walk(t,u)}walkOption(t,r,o){const u=r.concat(o);this.walk(t,u)}walkAtLeastOne(t,r,o){const u=[new bt({definition:t.definition})].concat(r,o);this.walk(t,u)}walkAtLeastOneSep(t,r,o){const u=Qc(t,r,o);this.walk(t,u)}walkMany(t,r,o){const u=[new bt({definition:t.definition})].concat(r,o);this.walk(t,u)}walkManySep(t,r,o){const u=Qc(t,r,o);this.walk(t,u)}walkOr(t,r,o){const u=r.concat(o);Se(t.definition,f=>{const h=new wt({definition:[f]});this.walk(h,u)})}}function Qc(e,t,r){return[new bt({definition:[new nt({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}const Jc=function PE(e,t,r,o){for(var u=e.length,f=r+(o?1:-1);o?f--:++f<u;)if(t(e[f],f,e))return f;return-1},ME=function LE(e){return e!=e},ql=function BE(e,t,r){return t==t?function DE(e,t,r){for(var o=r-1,u=e.length;++o<u;)if(e[o]===t)return o;return-1}(e,t,r):Jc(e,ME,r)},qc=function GE(e,t){return!(null==e||!e.length)&&ql(e,t,0)>-1},Zc=function UE(e,t,r){for(var o=-1,u=null==e?0:e.length;++o<u;)if(r(t,e[o]))return!0;return!1},dt=function KE(){};var WE=Gn&&1/jn(new Gn([,-0]))[1]==1/0?function(e){return new Gn(e)}:dt;const HE=WE,Zl=function YE(e){return e&&e.length?function zE(e,t,r){var o=-1,u=qc,f=e.length,h=!0,p=[],_=p;if(r)h=!1,u=Zc;else if(f>=200){var E=t?null:HE(e);if(E)return jn(E);h=!1,u=Bs,_=new Fs}else _=t?[]:p;e:for(;++o<f;){var k=e[o],B=t?t(k):k;if(k=r||0!==k?k:0,h&&B==B){for(var V=_.length;V--;)if(_[V]===B)continue e;t&&_.push(B),p.push(k)}else u(_,B,r)||(_!==p&&_.push(B),p.push(k))}return p}(e):[]};var ef=O?O.isConcatSpreadable:void 0;const JE=function QE(e){return ke(e)||Le(e)||!!(ef&&e&&e[ef])},eu=function tf(e,t,r,o,u){var f=-1,h=e.length;for(r||(r=JE),u||(u=[]);++f<h;){var p=e[f];t>0&&r(p)?t>1?tf(p,t-1,r,o,u):kr(u,p):o||(u[u.length]=p)}return u},_n=function qE(e){return null!=e&&e.length?eu(e,1):[]};function ri(e){if(e instanceof Nt)return ri(e.referencedRule);if(e instanceof nt)return function tR(e){return[e.terminalType]}(e);if(function wE(e){return e instanceof wt||e instanceof bt||e instanceof lt||e instanceof mn||e instanceof gn||e instanceof tn||e instanceof nt||e instanceof fs}(e))return function ZE(e){let t=[];const r=e.definition;let f,o=0,u=r.length>o,h=!0;for(;u&&h;)f=r[o],h=Ga(f),t=t.concat(ri(f)),o+=1,u=r.length>o;return Zl(t)}(e);if(function kE(e){return e instanceof nn}(e))return function eR(e){const t=Ae(e.definition,r=>ri(r));return Zl(_n(t))}(e);throw Error("non exhaustive match")}var nf=Math.max;const oR=function aR(e){return function(){return e}};var lR=_a?function(e,t){return _a(e,"toString",{configurable:!0,enumerable:!1,value:oR(t),writable:!0})}:en,dR=Date.now,pR=function hR(e){var t=0,r=0;return function(){var o=dR(),u=16-(o-r);if(r=o,u>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(lR);const mR=pR,tu=function gR(e,t){return mR(function sR(e,t,r){return t=nf(void 0===t?e.length-1:t,0),function(){for(var o=arguments,u=-1,f=nf(o.length-t,0),h=Array(f);++u<f;)h[u]=o[t+u];u=-1;for(var p=Array(t+1);++u<t;)p[u]=o[u];return p[t]=r(h),function nR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,p)}}(e,t,en),e+"")},Ka=function _R(e,t,r){if(!ft(r))return!1;var o=typeof t;return!!("number"==o?Tt(r)&&ct(t,r.length):"string"==o&&t in r)&&xr(r[t],e)};var AR=Object.prototype.hasOwnProperty,ER=function yR(e){return tu(function(t,r){var o=-1,u=r.length,f=u>1?r[u-1]:void 0,h=u>2?r[2]:void 0;for(f=e.length>3&&"function"==typeof f?(u--,f):void 0,h&&Ka(r[0],r[1],h)&&(f=u<3?void 0:f,u=1),t=Object(t);++o<u;){var p=r[o];p&&e(t,p,o,f)}return t})}(function(e,t){if(et(t)||Tt(t))Ys(t,gt(t),e);else for(var r in t)AR.call(t,r)&&ya(e,r,t[r])});const nu=ER;class IR extends Ua{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,o){}walkProdRef(t,r,o){const u=function SR(e,t){return e.name+t+"_~IN~_"}(t.referencedRule,t.idx)+this.topProd.name,f=r.concat(o),p=ri(new wt({definition:f}));this.follows[u]=p}}const yn=function bR(e){return"string"==typeof e||!ke(e)&&F(e)&&"[object String]"==Oe(e)},Vn=function $R(e){return void 0===e};var ja=b(2909),sf=Object.prototype,OR=sf.hasOwnProperty,NR=tu(function(e,t){e=Object(e);var r=-1,o=t.length,u=o>2?t[2]:void 0;for(u&&Ka(t[0],t[1],u)&&(o=1);++r<o;)for(var f=t[r],h=Ta(f),p=-1,_=h.length;++p<_;){var E=h[p],k=e[E];(void 0===k||xr(k,sf[E])&&!OR.call(e,E))&&(e[E]=f[E])}return e});const ru=NR,af=function wR(e,t){var r=[];return In(e,function(o,u,f){t(o,u,f)&&r.push(o)}),r},Wa=function MR(e,t){return(ke(e)?Ks:af)(e,function PR(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(On(t)))};var of=pt&&pt.isRegExp;const ur=of?Et(of):function FR(e){return F(e)&&"[object RegExp]"==Oe(e)};var UR=Math.max;const kt=function KR(e,t,r,o){e=Tt(e)?e:st(e),r=r&&!o?Qs(r):0;var u=e.length;return r<0&&(r=UR(u+r,0)),yn(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&ql(e,t,r)>-1};var jR=Math.max;const lf=function WR(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var u=null==r?0:Qs(r);return u<0&&(u=jR(o+u,0)),ql(e,t,u)},VR=function HR(e,t,r,o){var u=-1,f=null==e?0:e.length;for(o&&f&&(r=e[++u]);++u<f;)r=t(r,e[u],u,e);return r},XR=function zR(e,t,r,o,u){return u(e,function(f,h,p){r=o?(o=!1,f):t(r,f,h,p)}),r},jt=function YR(e,t,r){var o=ke(e)?VR:XR,u=arguments.length<3;return o(e,On(t),r,u,In)},rn=function QR(e,t){return(ke(e)?Ks:af)(e,On(t))},uf=function e0(e){return F(e)&&Tt(e)};var t0=tu(function(e,t){return uf(e)?function qR(e,t,r,o){var u=-1,f=qc,h=!0,p=e.length,_=[],E=t.length;if(!p)return _;r&&(t=tr(t,Et(r))),o?(f=Zc,h=!1):t.length>=200&&(f=Bs,h=!1,t=new Fs(t));e:for(;++u<p;){var k=e[u],B=null==r?k:r(k);if(k=o||0!==k?k:0,h&&B==B){for(var V=E;V--;)if(t[V]===B)continue e;_.push(k)}else f(t,B,o)||_.push(k)}return _}(e,eu(t,1,uf,!0)):[]});const Ha=t0,si=function n0(e){for(var t=-1,r=null==e?0:e.length,o=0,u=[];++t<r;){var f=e[t];f&&(u[o++]=f)}return u},Tn=function r0(e){return e&&e.length?e[0]:void 0};var a0=Math.max,l0=function s0(e){return function(t,r,o){var u=Object(t);if(!Tt(t)){var f=On(r);t=gt(t),r=function(p){return f(u[p],p,u)}}var h=e(t,r,o);return h>-1?u[f?t[h]:h]:void 0}}(function o0(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var u=null==r?0:Qs(r);return u<0&&(u=a0(o+u,0)),Jc(e,On(t),u)});const hs=l0;function su(e){console&&console.error&&console.error(`Error: ${e}`)}function cf(e){console&&console.warn&&console.warn(`Warning: ${e}`)}const c0=function u0(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(!t(e[r],r,e))return!1;return!0},d0=function f0(e,t){var r=!0;return In(e,function(o,u,f){return r=!!t(o,u,f)}),r},Ln=function h0(e,t,r){var o=ke(e)?c0:d0;return r&&Ka(e,t,r)&&(t=void 0),o(e,On(t))};let Va={};const p0=new ja.H;function za(e){const t=e.toString();if(Va.hasOwnProperty(t))return Va[t];{const r=p0.pattern(t);return Va[t]=r,r}}const ff="Complement Sets are not supported for first char optimization",Xa='Unable to use "first char" lexer optimizations:\n';function g0(e,t=!1){try{const r=za(e);return iu(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===ff)t&&cf(`${Xa}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let o="";t&&(o="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),su(`${Xa}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+o)}}return[]}function iu(e,t,r){switch(e.type){case"Disjunction":for(let u=0;u<e.value.length;u++)iu(e.value[u],t,r);break;case"Alternative":const o=e.value;for(let u=0;u<o.length;u++){const f=o[u];switch(f.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const h=f;switch(h.type){case"Character":Ya(h.value,t,r);break;case"Set":if(!0===h.complement)throw Error(ff);Se(h.value,_=>{if("number"==typeof _)Ya(_,t,r);else{const E=_;if(!0===r)for(let k=E.from;k<=E.to;k++)Ya(k,t,r);else{for(let k=E.from;k<=E.to&&k<ai;k++)Ya(k,t,r);if(E.to>=ai){const B=E.to,V=cr(E.from>=ai?E.from:ai),ce=cr(B);for(let ge=V;ge<=ce;ge++)t[ge]=ge}}}});break;case"Group":iu(h.value,t,r);break;default:throw Error("Non Exhaustive Match")}const p=void 0!==h.quantifier&&0===h.quantifier.atLeast;if("Group"===h.type&&!1===au(h)||"Group"!==h.type&&!1===p)break}break;default:throw Error("non exhaustive match!")}return st(t)}function Ya(e,t,r){const o=cr(e);t[o]=o,!0===r&&function _0(e,t){const r=String.fromCharCode(e),o=r.toUpperCase();if(o!==r){const u=cr(o.charCodeAt(0));t[u]=u}else{const u=r.toLowerCase();if(u!==r){const f=cr(u.charCodeAt(0));t[f]=f}}}(e,t)}function df(e,t){return hs(e.value,r=>{if("number"==typeof r)return kt(t,r);{const o=r;return void 0!==hs(t,u=>o.from<=u&&u<=o.to)}})}function au(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(ke(e.value)?Ln(e.value,au):au(e.value))}class y0 extends ja.z{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}super.visitChildren(t)}}visitCharacter(t){kt(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?void 0===df(t,this.targetCharCodes)&&(this.found=!0):void 0!==df(t,this.targetCharCodes)&&(this.found=!0)}}function ou(e,t){if(t instanceof RegExp){const r=za(t),o=new y0(e);return o.visit(r),o.found}return void 0!==hs(t,r=>kt(e,r.charCodeAt(0)))}const Gr="PATTERN",ii="defaultMode",Qa="modes";let Ja="boolean"==typeof new RegExp("(?:)").sticky;const I0=/[^\\][$]/,x0=/[^\\[][\^]|^\^/;function hf(e){return new RegExp(`^(?:${e.source})`,e.ignoreCase?"i":"")}function pf(e){return new RegExp(`${e.source}`,e.ignoreCase?"iy":"y")}function mf(e){const t=e.PATTERN;if(ur(t))return!1;if(St(t))return!0;if(xe(t,"exec"))return!0;if(yn(t))return!1;throw Error("non exhaustive match")}function B0(e){return!(!yn(e)||1!==e.length)&&e.charCodeAt(0)}const G0={test:function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const o=e.charCodeAt(r);if(10===o)return this.lastIndex=r+1,!0;if(13===o)return this.lastIndex=10===e.charCodeAt(r+1)?r+2:r+1,!0}return!1},lastIndex:0};function gf(e,t){if(xe(e,"LINE_BREAKS"))return!1;if(ur(e.PATTERN)){try{ou(t,e.PATTERN)}catch(r){return{issue:at.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}if(yn(e.PATTERN))return!1;if(mf(e))return{issue:at.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function U0(e,t){if(t.issue===at.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===at.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function _f(e){return Ae(e,r=>yn(r)?r.charCodeAt(0):r)}function lu(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}const ai=256;let qa=[];function cr(e){return e<ai?e:qa[e]}const ps=function j0(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};function yf(e){const t=(new Date).getTime(),r=e();return{time:(new Date).getTime()-t,value:r}}function oi(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function Za(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let Tf=1;const vf={};function li(e){const t=function W0(e){let t=_t(e),r=e,o=!0;for(;o;){r=si(_n(Ae(r,f=>f.CATEGORIES)));const u=Ha(r,t);t=t.concat(u),He(u)?o=!1:r=u}return t}(e);(function H0(e){Se(e,t=>{Ef(t)||(vf[Tf]=t,t.tokenTypeIdx=Tf++),Rf(t)&&!ke(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Rf(t)||(t.CATEGORIES=[]),function X0(e){return xe(e,"categoryMatches")}(t)||(t.categoryMatches=[]),function Y0(e){return xe(e,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})})})(t),function z0(e){Se(e,t=>{Af([],t)})}(t),function V0(e){Se(e,t=>{t.categoryMatches=[],Se(t.categoryMatchesMap,(r,o)=>{t.categoryMatches.push(vf[o].tokenTypeIdx)})})}(t),Se(t,r=>{r.isParent=r.categoryMatches.length>0})}function Af(e,t){Se(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Se(t.CATEGORIES,r=>{const o=e.concat(t);kt(o,r)||Af(o,r)})}function Ef(e){return xe(e,"tokenTypeIdx")}function Rf(e){return xe(e,"CATEGORIES")}function Q0(e){return xe(e,"tokenTypeIdx")}const If={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,o,u)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`};var at=function(e){return e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE",e}(at||{});const ui={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:If,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(ui);let vn=(()=>{class e{constructor(r,o=ui){if(this.lexerDefinition=r,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(f,h)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const p=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${p}--\x3e <${f}>`);const{time:_,value:E}=yf(h),k=_>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&k(`${p}<-- <${f}> time: ${_}ms`),this.traceInitIndent--,E}return h()},"boolean"==typeof o)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=nu({},ui,o);const u=this.config.traceInitPerf;!0===u?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof u&&(this.traceInitMaxIdent=u,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let f,h=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===ui.lineTerminatorsPattern)this.config.lineTerminatorsPattern=G0;else if(this.config.lineTerminatorCharacters===ui.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(o.safeMode&&o.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),ke(r)?f={modes:{defaultMode:_t(r)},defaultMode:ii}:(h=!1,f=_t(r))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function M0(e){const o=[];return xe(e,ii)||o.push({message:"A MultiMode Lexer cannot be initialized without a <"+ii+"> property in its definition\n",type:at.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),xe(e,Qa)||o.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:at.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),xe(e,Qa)&&xe(e,ii)&&!xe(e.modes,e.defaultMode)&&o.push({message:`A MultiMode Lexer cannot be initialized with a ${ii}: <${e.defaultMode}>which does not exist\n`,type:at.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),xe(e,Qa)&&Se(e.modes,(u,f)=>{Se(u,(h,p)=>{if(Vn(h))o.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${f}> at index: <${p}>\n`,type:at.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(xe(h,"LONGER_ALT")){const _=ke(h.LONGER_ALT)?h.LONGER_ALT:[h.LONGER_ALT];Se(_,E=>{!Vn(E)&&!kt(u,E)&&o.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${E.name}> on token <${h.name}> outside of mode <${f}>\n`,type:at.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),o}(f))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function D0(e,t,r){const o=[];let u=!1;const f=si(_n(st(e.modes))),h=Wa(f,_=>_[Gr]===vn.NA),p=_f(r);return t&&Se(h,_=>{const E=gf(_,p);if(!1!==E){const B={message:U0(_,E),type:E.issue,tokenType:_};o.push(B)}else xe(_,"LINE_BREAKS")?!0===_.LINE_BREAKS&&(u=!0):ou(p,_.PATTERN)&&(u=!0)}),t&&!u&&o.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:at.NO_LINE_BREAKS_FLAGS}),o}(f,this.trackStartLines,this.config.lineTerminatorCharacters))})),f.modes=f.modes?f.modes:{},Se(f.modes,(_,E)=>{f.modes[E]=Wa(_,k=>Vn(k))});const p=gt(f.modes);if(Se(f.modes,(_,E)=>{this.TRACE_INIT(`Mode: <${E}> processing`,()=>{if(this.modes.push(E),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function v0(e,t){let r=[];const o=function E0(e){const t=rn(e,u=>!xe(u,Gr)),r=Ae(t,u=>({message:"Token Type: ->"+u.name+"<- missing static 'PATTERN' property",type:at.MISSING_PATTERN,tokenTypes:[u]}));return{errors:r,valid:Ha(e,t)}}(e);r=r.concat(o.errors);const u=function R0(e){const t=rn(e,u=>{const f=u[Gr];return!(ur(f)||St(f)||xe(f,"exec")||yn(f))}),r=Ae(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:at.INVALID_PATTERN,tokenTypes:[u]}));return{errors:r,valid:Ha(e,t)}}(o.valid),f=u.valid;return r=r.concat(u.errors),r=r.concat(function A0(e){let t=[];const r=rn(e,o=>ur(o[Gr]));return t=t.concat(function C0(e){class t extends ja.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(f){this.found=!0}}const r=rn(e,u=>{const f=u.PATTERN;try{const h=za(f),p=new t;return p.visit(h),p.found}catch{return I0.test(f.source)}});return Ae(r,u=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+u.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:at.EOI_ANCHOR_FOUND,tokenTypes:[u]}))}(r)),t=t.concat(function b0(e){class t extends ja.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(f){this.found=!0}}const r=rn(e,u=>{const f=u.PATTERN;try{const h=za(f),p=new t;return p.visit(h),p.found}catch{return x0.test(f.source)}});return Ae(r,u=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+u.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:at.SOI_ANCHOR_FOUND,tokenTypes:[u]}))}(r)),t=t.concat(function $0(e){const t=rn(e,o=>{const u=o[Gr];return u instanceof RegExp&&(u.multiline||u.global)});return Ae(t,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:at.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[o]}))}(r)),t=t.concat(function O0(e){const t=[];let r=Ae(e,f=>jt(e,(h,p)=>(f.PATTERN.source===p.PATTERN.source&&!kt(t,p)&&p.PATTERN!==vn.NA&&(t.push(p),h.push(p)),h),[]));r=si(r);const o=rn(r,f=>f.length>1);return Ae(o,f=>{const h=Ae(f,_=>_.name);return{message:`The same RegExp pattern ->${Tn(f).PATTERN}<-has been used in all of the following Token Types: ${h.join(", ")} <-`,type:at.DUPLICATE_PATTERNS_FOUND,tokenTypes:f}})}(r)),t=t.concat(function S0(e){const t=rn(e,o=>o.PATTERN.test(""));return Ae(t,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' must not match an empty string",type:at.EMPTY_MATCH_PATTERN,tokenTypes:[o]}))}(r)),t}(f)),r=r.concat(function N0(e){const t=rn(e,o=>{if(!xe(o,"GROUP"))return!1;const u=o.GROUP;return u!==vn.SKIPPED&&u!==vn.NA&&!yn(u)});return Ae(t,o=>({message:"Token Type: ->"+o.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:at.INVALID_GROUP_TYPE_FOUND,tokenTypes:[o]}))}(f)),r=r.concat(function w0(e,t){const r=rn(e,u=>void 0!==u.PUSH_MODE&&!kt(t,u.PUSH_MODE));return Ae(r,u=>({message:`Token Type: ->${u.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${u.PUSH_MODE}<-which does not exist`,type:at.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[u]}))}(f,t)),r=r.concat(function k0(e){const t=[],r=jt(e,(o,u,f)=>{const h=u.PATTERN;return h===vn.NA||(yn(h)?o.push({str:h,idx:f,tokenType:u}):ur(h)&&function L0(e){return void 0===hs([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>-1!==e.source.indexOf(r))}(h)&&o.push({str:h.source,idx:f,tokenType:u})),o},[]);return Se(e,(o,u)=>{Se(r,({str:f,idx:h,tokenType:p})=>{u<h&&function P0(e,t){if(ur(t)){const r=t.exec(e);return null!==r&&0===r.index}if(St(t))return t(e,0,[],{});if(xe(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(f,o.PATTERN)&&t.push({message:`Token: ->${p.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${o.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`,type:at.UNREACHABLE_PATTERN,tokenTypes:[o,p]})})}),t}(f)),r}(_,p))}),He(this.lexerDefinitionErrors)){let k;li(_),this.TRACE_INIT("analyzeTokenTypes",()=>{k=function T0(e,t){const r=(t=ru(t,{useSticky:Ja,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(he,ne)=>ne()})).tracer;let o;r("initCharCodeToOptimizedIndexMap",()=>{!function K0(){if(He(qa)){qa=new Array(65536);for(let e=0;e<65536;e++)qa[e]=e>255?255+~~(e/255):e}}()}),r("Reject Lexer.NA",()=>{o=Wa(e,he=>he[Gr]===vn.NA)});let f,h,p,_,E,k,B,V,ce,ge,me,u=!1;r("Transform Patterns",()=>{u=!1,f=Ae(o,he=>{const ne=he[Gr];if(ur(ne)){const Ie=ne.source;return 1!==Ie.length||"^"===Ie||"$"===Ie||"."===Ie||ne.ignoreCase?2!==Ie.length||"\\"!==Ie[0]||kt(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Ie[1])?t.useSticky?pf(ne):hf(ne):Ie[1]:Ie}if(St(ne))return u=!0,{exec:ne};if("object"==typeof ne)return u=!0,ne;if("string"==typeof ne){if(1===ne.length)return ne;{const Ie=ne.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),je=new RegExp(Ie);return t.useSticky?pf(je):hf(je)}}throw Error("non exhaustive match")})}),r("misc mapping",()=>{h=Ae(o,he=>he.tokenTypeIdx),p=Ae(o,he=>{const ne=he.GROUP;if(ne!==vn.SKIPPED){if(yn(ne))return ne;if(Vn(ne))return!1;throw Error("non exhaustive match")}}),_=Ae(o,he=>{const ne=he.LONGER_ALT;if(ne)return ke(ne)?Ae(ne,je=>lf(o,je)):[lf(o,ne)]}),E=Ae(o,he=>he.PUSH_MODE),k=Ae(o,he=>xe(he,"POP_MODE"))}),r("Line Terminator Handling",()=>{const he=_f(t.lineTerminatorCharacters);B=Ae(o,ne=>!1),"onlyOffset"!==t.positionTracking&&(B=Ae(o,ne=>xe(ne,"LINE_BREAKS")?!!ne.LINE_BREAKS:!1===gf(ne,he)&&ou(he,ne.PATTERN)))}),r("Misc Mapping #2",()=>{V=Ae(o,mf),ce=Ae(f,B0),ge=jt(o,(he,ne)=>{const Ie=ne.GROUP;return yn(Ie)&&Ie!==vn.SKIPPED&&(he[Ie]=[]),he},{}),me=Ae(f,(he,ne)=>({pattern:f[ne],longerAlt:_[ne],canLineTerminator:B[ne],isCustom:V[ne],short:ce[ne],group:p[ne],push:E[ne],pop:k[ne],tokenTypeIdx:h[ne],tokenType:o[ne]}))});let _e=!0,pe=[];return t.safeMode||r("First Char Optimization",()=>{pe=jt(o,(he,ne,Ie)=>{if("string"==typeof ne.PATTERN){const ze=cr(ne.PATTERN.charCodeAt(0));lu(he,ze,me[Ie])}else if(ke(ne.START_CHARS_HINT)){let je;Se(ne.START_CHARS_HINT,ze=>{const pi=cr("string"==typeof ze?ze.charCodeAt(0):ze);je!==pi&&(je=pi,lu(he,pi,me[Ie]))})}else if(ur(ne.PATTERN))if(ne.PATTERN.unicode)_e=!1,t.ensureOptimizations&&su(`${Xa}\tUnable to analyze < ${ne.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const je=g0(ne.PATTERN,t.ensureOptimizations);He(je)&&(_e=!1),Se(je,ze=>{lu(he,ze,me[Ie])})}else t.ensureOptimizations&&su(`${Xa}\tTokenType: <${ne.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),_e=!1;return he},[])}),{emptyGroups:ge,patternIdxToConfig:me,charCodeToPatternIdxToConfig:pe,hasCustom:u,canBeOptimized:_e}}(_,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:o.positionTracking,ensureOptimizations:o.ensureOptimizations,safeMode:o.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[E]=k.patternIdxToConfig,this.charCodeToPatternIdxToConfig[E]=k.charCodeToPatternIdxToConfig,this.emptyGroups=nu({},this.emptyGroups,k.emptyGroups),this.hasCustom=k.hasCustom||this.hasCustom,this.canModeBeOptimized[E]=k.canBeOptimized}})}),this.defaultMode=f.defaultMode,!He(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const E=Ae(this.lexerDefinitionErrors,k=>k.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+E)}Se(this.lexerDefinitionWarning,_=>{cf(_.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Ja?(this.chopInput=en,this.match=this.matchWithTest):(this.updateLastIndex=dt,this.match=this.matchWithExec),h&&(this.handleModes=dt),!1===this.trackStartLines&&(this.computeNewColumn=en),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=dt),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const _=jt(this.canModeBeOptimized,(E,k,B)=>(!1===k&&E.push(B),E),[]);if(o.ensureOptimizations&&!He(_))throw Error(`Lexer Modes: < ${_.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{!function m0(){Va={}}()}),this.TRACE_INIT("toFastProperties",()=>{Qu(this)})})}tokenize(r,o=this.defaultMode){if(!He(this.lexerDefinitionErrors)){const f=Ae(this.lexerDefinitionErrors,h=>h.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+f)}return this.tokenizeInternal(r,o)}tokenizeInternal(r,o){let u,f,h,p,_,E,k,B,V,ce,ge,me,_e,he,ne;const Ie=r,je=Ie.length;let ze=0,hi=0;const pi=this.hasCustom?0:Math.floor(r.length/10),gs=new Array(pi),Eu=[];let mi=this.trackStartLines?1:void 0,hr=this.trackStartLines?1:void 0;const gi=function F0(e){const t={},r=gt(e);return Se(r,o=>{if(!ke(e[o]))throw Error("non exhaustive match");t[o]=[]}),t}(this.emptyGroups),KC=this.trackStartLines,Ru=this.config.lineTerminatorsPattern;let po=0,pr=[],_i=[];const mo=[],cd=[];let yi;function fd(){return pr}function dd(vt){const an=cr(vt),_s=_i[an];return void 0===_s?cd:_s}Object.freeze(cd);const jC=vt=>{if(1===mo.length&&void 0===vt.tokenType.PUSH_MODE){const an=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(vt);Eu.push({offset:vt.startOffset,line:vt.startLine,column:vt.startColumn,length:vt.image.length,message:an})}else{mo.pop();const an=ps(mo);pr=this.patternIdxToConfig[an],_i=this.charCodeToPatternIdxToConfig[an],po=pr.length,yi=_i&&this.canModeBeOptimized[an]&&!1===this.config.safeMode?dd:fd}};function hd(vt){mo.push(vt),_i=this.charCodeToPatternIdxToConfig[vt],pr=this.patternIdxToConfig[vt],po=pr.length,po=pr.length,yi=_i&&this.canModeBeOptimized[vt]&&!1===this.config.safeMode?dd:fd}let An;hd.call(this,o);const pd=this.config.recoveryEnabled;for(;ze<je;){E=null;const vt=Ie.charCodeAt(ze),an=yi(vt),_s=an.length;for(u=0;u<_s;u++){An=an[u];const Wt=An.pattern;k=null;const zn=An.short;if(!1!==zn?vt===zn&&(E=Wt):!0===An.isCustom?(ne=Wt.exec(Ie,ze,gs,gi),null!==ne?(E=ne[0],void 0!==ne.payload&&(k=ne.payload)):E=null):(this.updateLastIndex(Wt,ze),E=this.match(Wt,r,ze)),null!==E){if(_=An.longerAlt,void 0!==_){const mr=_.length;for(h=0;h<mr;h++){const Xn=pr[_[h]],Kr=Xn.pattern;if(B=null,!0===Xn.isCustom?(ne=Kr.exec(Ie,ze,gs,gi),null!==ne?(p=ne[0],void 0!==ne.payload&&(B=ne.payload)):p=null):(this.updateLastIndex(Kr,ze),p=this.match(Kr,r,ze)),p&&p.length>E.length){E=p,k=B,An=Xn;break}}}break}}if(null!==E){if(V=E.length,ce=An.group,void 0!==ce&&(ge=An.tokenTypeIdx,me=this.createTokenInstance(E,ze,ge,An.tokenType,mi,hr,V),this.handlePayload(me,k),!1===ce?hi=this.addToken(gs,hi,me):gi[ce].push(me)),r=this.chopInput(r,V),ze+=V,hr=this.computeNewColumn(hr,V),!0===KC&&!0===An.canLineTerminator){let zn,mr,Wt=0;Ru.lastIndex=0;do{zn=Ru.test(E),!0===zn&&(mr=Ru.lastIndex-1,Wt++)}while(!0===zn);0!==Wt&&(mi+=Wt,hr=V-mr,this.updateTokenEndLineColumnLocation(me,ce,mr,Wt,mi,hr,V))}this.handleModes(An,jC,hd,me)}else{const Wt=ze,zn=mi,mr=hr;let Xn=!1===pd;for(;!1===Xn&&ze<je;)for(r=this.chopInput(r,1),ze++,f=0;f<po;f++){const Kr=pr[f],Iu=Kr.pattern,md=Kr.short;if(!1!==md?Ie.charCodeAt(ze)===md&&(Xn=!0):!0===Kr.isCustom?Xn=null!==Iu.exec(Ie,ze,gs,gi):(this.updateLastIndex(Iu,ze),Xn=null!==Iu.exec(r)),!0===Xn)break}if(_e=ze-Wt,hr=this.computeNewColumn(hr,_e),he=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(Ie,Wt,_e,zn,mr),Eu.push({offset:Wt,line:zn,column:mr,length:_e,message:he}),!1===pd)break}}return this.hasCustom||(gs.length=hi),{tokens:gs,groups:gi,errors:Eu}}handleModes(r,o,u,f){if(!0===r.pop){const h=r.push;o(f),void 0!==h&&u.call(this,h)}else void 0!==r.push&&u.call(this,r.push)}chopInput(r,o){return r.substring(o)}updateLastIndex(r,o){r.lastIndex=o}updateTokenEndLineColumnLocation(r,o,u,f,h,p,_){let E,k;void 0!==o&&(E=u===_-1,k=E?-1:0,1===f&&!0===E||(r.endLine=h+k,r.endColumn=p-1-k))}computeNewColumn(r,o){return r+o}createOffsetOnlyToken(r,o,u,f){return{image:r,startOffset:o,tokenTypeIdx:u,tokenType:f}}createStartOnlyToken(r,o,u,f,h,p){return{image:r,startOffset:o,startLine:h,startColumn:p,tokenTypeIdx:u,tokenType:f}}createFullToken(r,o,u,f,h,p,_){return{image:r,startOffset:o,endOffset:o+_-1,startLine:h,endLine:h,startColumn:p,endColumn:p+_-1,tokenTypeIdx:u,tokenType:f}}addTokenUsingPush(r,o,u){return r.push(u),o}addTokenUsingMemberAccess(r,o,u){return r[o]=u,++o}handlePayloadNoCustom(r,o){}handlePayloadWithCustom(r,o){null!==o&&(r.payload=o)}matchWithTest(r,o,u){return!0===r.test(o)?o.substring(u,r.lastIndex):null}matchWithExec(r,o){const u=r.exec(o);return null!==u?u[0]:null}}return e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e})();function ms(e){return Cf(e)?e.LABEL:e.name}function Cf(e){return yn(e.LABEL)&&""!==e.LABEL}const Sf="categories",$f="push_mode",Of="pop_mode",Nf="longer_alt",wf="line_breaks",kf="start_chars_hint";function Pf(e){return function q0(e){const t=e.pattern,r={};if(r.name=e.name,Vn(t)||(r.PATTERN=t),xe(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return xe(e,Sf)&&(r.CATEGORIES=e[Sf]),li([r]),xe(e,"label")&&(r.LABEL=e.label),xe(e,"group")&&(r.GROUP=e.group),xe(e,Of)&&(r.POP_MODE=e[Of]),xe(e,$f)&&(r.PUSH_MODE=e[$f]),xe(e,Nf)&&(r.LONGER_ALT=e[Nf]),xe(e,wf)&&(r.LINE_BREAKS=e[wf]),xe(e,kf)&&(r.START_CHARS_HINT=e[kf]),r}(e)}const fr=Pf({name:"EOF",pattern:vn.NA});function uu(e,t,r,o,u,f,h,p){return{image:t,startOffset:r,endOffset:o,startLine:u,endLine:f,startColumn:h,endColumn:p,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Lf(e,t){return oi(e,t)}li([fr]);const cu={buildMismatchTokenMessage:({expected:e,actual:t})=>`Expecting ${Cf(e)?`--\x3e ${ms(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,customUserDescription:o}){const f="Expecting: ",p="\nbut found: '"+Tn(t).image+"'";if(o)return f+o+p;{const _=jt(e,(V,ce)=>V.concat(ce),[]),E=Ae(_,V=>`[${Ae(V,ce=>ms(ce)).join(", ")}]`);return f+`one of these possible Token sequences:\n${Ae(E,(V,ce)=>`  ${ce+1}. ${V}`).join("\n")}`+p}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r}){const u="Expecting: ",h="\nbut found: '"+Tn(t).image+"'";return r?u+r+h:u+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${Ae(e,E=>`[${Ae(E,k=>ms(k)).join(",")}]`).join(" ,")}>`+h}};Object.freeze(cu);const Z0={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Ur={buildDuplicateFoundError(e,t){const o=e.name,u=Tn(t),f=u.idx,h=Pn(u),p=function r(k){return k instanceof nt?k.terminalType.name:k instanceof Nt?k.nonTerminalName:""}(u);let E=`->${h}${f>0?f:""}<- ${p?`with argument: ->${p}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${o}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return E=E.replace(/[ \t]+/g," "),E=E.replace(/\s\s+/g,"\n"),E},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=Ae(e.prefixPath,u=>ms(u)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=Ae(e.prefixPath,u=>ms(u)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;let o=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return o+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",o},buildEmptyRepetitionError(e){let t=Pn(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${Ae(e.leftRecursionPath,f=>f.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof fs?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class tI extends ds{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Se(st(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{const o=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:o,type:Pt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}const sn=function nI(e,t){return eu(Ae(e,t),1)},sI=function rI(e,t,r,o){for(var u=-1,f=null==e?0:e.length;++u<f;){var h=e[u];t(o,h,r(h),e)}return o},aI=function iI(e,t,r,o){return In(e,function(u,f,h){t(o,u,r(u),h)}),o};var cI=Object.prototype.hasOwnProperty,fI=function oI(e,t){return function(r,o){var u=ke(r)?sI:aI,f=t?t():{};return u(r,e,On(o),f)}}(function(e,t,r){cI.call(e,r)?e[r].push(t):Ll(e,r,[t])});const dI=fI,pI=function hI(e,t,r,o){if(!ft(e))return e;for(var u=-1,f=(t=ga(t,e)).length,h=f-1,p=e;null!=p&&++u<f;){var _=Xs(t[u]),E=r;if("__proto__"===_||"constructor"===_||"prototype"===_)return e;if(u!=h){var k=p[_];void 0===(E=o?o(k,_,p):void 0)&&(E=ft(k)?k:ct(t[u+1])?[]:{})}ya(p,_,E),p=p[_]}return e},yI=function _I(e,t){if(null==e)return{};var r=tr(Uu(e),function(o){return[o]});return t=On(t),function mI(e,t,r){for(var o=-1,u=t.length,f={};++o<u;){var h=t[o],p=Pl(e,h);r(p,h)&&pI(f,ga(h,e),p)}return f}(e,r,function(o,u){return t(o,u[0])})},ci=function TI(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:Qs(t),Ju(e,0,(t=o-t)<0?0:t)):[]};class vI extends Ua{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=_t(this.path.ruleStack).reverse(),this.occurrenceStack=_t(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,o){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const u=r.concat(o);this.updateExpectedNext(),this.walk(t.referencedRule,u)}}updateExpectedNext(){He(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class AI extends vI{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,o){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const u=r.concat(o),f=new wt({definition:u});this.possibleTokTypes=ri(f),this.found=!0}}}class eo extends Ua{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class EI extends eo{walkMany(t,r,o){if(t.idx===this.occurrence){const u=Tn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof nt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkMany(t,r,o)}}class Mf extends eo{walkManySep(t,r,o){if(t.idx===this.occurrence){const u=Tn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof nt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkManySep(t,r,o)}}class RI extends eo{walkAtLeastOne(t,r,o){if(t.idx===this.occurrence){const u=Tn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof nt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkAtLeastOne(t,r,o)}}class Df extends eo{walkAtLeastOneSep(t,r,o){if(t.idx===this.occurrence){const u=Tn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof nt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkAtLeastOneSep(t,r,o)}}function fu(e,t,r=[]){r=_t(r);let o=[],u=0;function h(p){const _=fu(function f(p){return p.concat(yt(e,u+1))}(p),t,r);return o.concat(_)}for(;r.length<t&&u<e.length;){const p=e[u];if(p instanceof wt)return h(p.definition);if(p instanceof Nt)return h(p.definition);if(p instanceof bt)o=h(p.definition);else{if(p instanceof mn)return h(p.definition.concat([new lt({definition:p.definition})]));if(p instanceof gn)return h([new wt({definition:p.definition}),new lt({definition:[new nt({terminalType:p.separator})].concat(p.definition)})]);if(p instanceof tn){const _=p.definition.concat([new lt({definition:[new nt({terminalType:p.separator})].concat(p.definition)})]);o=h(_)}else if(p instanceof lt){const _=p.definition.concat([new lt({definition:p.definition})]);o=h(_)}else{if(p instanceof nn)return Se(p.definition,_=>{!1===He(_.definition)&&(o=h(_.definition))}),o;if(!(p instanceof nt))throw Error("non exhaustive match");r.push(p.terminalType)}}u++}return o.push({partialPath:r,suffixDef:yt(e,u)}),o}function Ff(e,t,r,o){const u="EXIT_NONE_TERMINAL",f=[u],h="EXIT_ALTERNATIVE";let p=!1;const _=t.length,E=_-o-1,k=[],B=[];for(B.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!He(B);){const V=B.pop();if(V===h){p&&ps(B).idx<=E&&B.pop();continue}const ce=V.def,ge=V.idx,me=V.ruleStack,_e=V.occurrenceStack;if(He(ce))continue;const pe=ce[0];if(pe===u){const he={idx:ge,def:yt(ce),ruleStack:ci(me),occurrenceStack:ci(_e)};B.push(he)}else if(pe instanceof nt)if(ge<_-1){const he=ge+1;if(r(t[he],pe.terminalType)){const Ie={idx:he,def:yt(ce),ruleStack:me,occurrenceStack:_e};B.push(Ie)}}else{if(ge!==_-1)throw Error("non exhaustive match");k.push({nextTokenType:pe.terminalType,nextTokenOccurrence:pe.idx,ruleStack:me,occurrenceStack:_e}),p=!0}else if(pe instanceof Nt){const he=_t(me);he.push(pe.nonTerminalName);const ne=_t(_e);ne.push(pe.idx);const Ie={idx:ge,def:pe.definition.concat(f,yt(ce)),ruleStack:he,occurrenceStack:ne};B.push(Ie)}else if(pe instanceof bt){const he={idx:ge,def:yt(ce),ruleStack:me,occurrenceStack:_e};B.push(he),B.push(h);const ne={idx:ge,def:pe.definition.concat(yt(ce)),ruleStack:me,occurrenceStack:_e};B.push(ne)}else if(pe instanceof mn){const he=new lt({definition:pe.definition,idx:pe.idx}),ne=pe.definition.concat([he],yt(ce));B.push({idx:ge,def:ne,ruleStack:me,occurrenceStack:_e})}else if(pe instanceof gn){const he=new nt({terminalType:pe.separator}),ne=new lt({definition:[he].concat(pe.definition),idx:pe.idx}),Ie=pe.definition.concat([ne],yt(ce));B.push({idx:ge,def:Ie,ruleStack:me,occurrenceStack:_e})}else if(pe instanceof tn){const he={idx:ge,def:yt(ce),ruleStack:me,occurrenceStack:_e};B.push(he),B.push(h);const ne=new nt({terminalType:pe.separator}),Ie=new lt({definition:[ne].concat(pe.definition),idx:pe.idx}),je=pe.definition.concat([Ie],yt(ce));B.push({idx:ge,def:je,ruleStack:me,occurrenceStack:_e})}else if(pe instanceof lt){const he={idx:ge,def:yt(ce),ruleStack:me,occurrenceStack:_e};B.push(he),B.push(h);const ne=new lt({definition:pe.definition,idx:pe.idx}),Ie=pe.definition.concat([ne],yt(ce));B.push({idx:ge,def:Ie,ruleStack:me,occurrenceStack:_e})}else if(pe instanceof nn)for(let he=pe.definition.length-1;he>=0;he--){const Ie={idx:ge,def:pe.definition[he].definition.concat(yt(ce)),ruleStack:me,occurrenceStack:_e};B.push(Ie),B.push(h)}else if(pe instanceof wt)B.push({idx:ge,def:pe.definition.concat(yt(ce)),ruleStack:me,occurrenceStack:_e});else{if(!(pe instanceof fs))throw Error("non exhaustive match");B.push(II(pe,ge,me,_e))}}return k}function II(e,t,r,o){const u=_t(r);u.push(e.name);const f=_t(o);return f.push(1),{idx:t,def:e.definition,ruleStack:u,occurrenceStack:f}}var it=function(e){return e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION",e}(it||{});function du(e){if(e instanceof bt||"Option"===e)return it.OPTION;if(e instanceof lt||"Repetition"===e)return it.REPETITION;if(e instanceof mn||"RepetitionMandatory"===e)return it.REPETITION_MANDATORY;if(e instanceof gn||"RepetitionMandatoryWithSeparator"===e)return it.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof tn||"RepetitionWithSeparator"===e)return it.REPETITION_WITH_SEPARATOR;if(e instanceof nn||"Alternation"===e)return it.ALTERNATION;throw Error("non exhaustive match")}function CI(e){const{occurrence:t,rule:r,prodType:o,maxLookahead:u}=e,f=du(o);return f===it.ALTERNATION?to(t,r,u):no(t,r,f,u)}function bI(e,t,r,o){const u=e.length,f=Ln(e,h=>Ln(h,p=>1===p.length));if(t)return function(h){const p=Ae(h,_=>_.GATE);for(let _=0;_<u;_++){const E=e[_],k=E.length,B=p[_];if(void 0===B||!1!==B.call(this))e:for(let V=0;V<k;V++){const ce=E[V],ge=ce.length;for(let me=0;me<ge;me++){const _e=this.LA(me+1);if(!1===r(_e,ce[me]))continue e}return _}}};if(f&&!o){const h=Ae(e,_=>_n(_)),p=jt(h,(_,E,k)=>(Se(E,B=>{xe(_,B.tokenTypeIdx)||(_[B.tokenTypeIdx]=k),Se(B.categoryMatches,V=>{xe(_,V)||(_[V]=k)})}),_),{});return function(){const _=this.LA(1);return p[_.tokenTypeIdx]}}return function(){for(let h=0;h<u;h++){const p=e[h],_=p.length;e:for(let E=0;E<_;E++){const k=p[E],B=k.length;for(let V=0;V<B;V++){const ce=this.LA(V+1);if(!1===r(ce,k[V]))continue e}return h}}}}function $I(e,t,r){const o=Ln(e,f=>1===f.length),u=e.length;if(o&&!r){const f=_n(e);if(1===f.length&&He(f[0].categoryMatches)){const p=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===p}}{const h=jt(f,(p,_,E)=>(p[_.tokenTypeIdx]=!0,Se(_.categoryMatches,k=>{p[k]=!0}),p),[]);return function(){const p=this.LA(1);return!0===h[p.tokenTypeIdx]}}}return function(){e:for(let f=0;f<u;f++){const h=e[f],p=h.length;for(let _=0;_<p;_++){const E=this.LA(_+1);if(!1===t(E,h[_]))continue e}return!0}return!1}}class OI extends Ua{constructor(t,r,o){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=o}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,o,u){return t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.restDef=o.concat(u),!0)}walkOption(t,r,o){this.checkIsTarget(t,it.OPTION,r,o)||super.walkOption(t,r,o)}walkAtLeastOne(t,r,o){this.checkIsTarget(t,it.REPETITION_MANDATORY,r,o)||super.walkOption(t,r,o)}walkAtLeastOneSep(t,r,o){this.checkIsTarget(t,it.REPETITION_MANDATORY_WITH_SEPARATOR,r,o)||super.walkOption(t,r,o)}walkMany(t,r,o){this.checkIsTarget(t,it.REPETITION,r,o)||super.walkOption(t,r,o)}walkManySep(t,r,o){this.checkIsTarget(t,it.REPETITION_WITH_SEPARATOR,r,o)||super.walkOption(t,r,o)}}class Bf extends ds{constructor(t,r,o){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=o,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(void 0===this.targetRef||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,it.OPTION)}visitRepetition(t){this.checkIsTarget(t,it.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,it.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,it.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,it.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,it.ALTERNATION)}}function Gf(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function hu(e){let t=[""];for(let r=0;r<e.length;r++){const o=e[r],u=[];for(let f=0;f<t.length;f++){const h=t[f];u.push(h+"_"+o.tokenTypeIdx);for(let p=0;p<o.categoryMatches.length;p++)u.push(h+"_"+o.categoryMatches[p])}t=u}return t}function NI(e,t,r){for(let o=0;o<e.length;o++){if(o===r)continue;const u=e[o];for(let f=0;f<t.length;f++)if(!0===u[t[f]])return!1}return!0}function Uf(e,t){const r=Ae(e,h=>fu([h],1)),o=Gf(r.length),u=Ae(r,h=>{const p={};return Se(h,_=>{const E=hu(_.partialPath);Se(E,k=>{p[k]=!0})}),p});let f=r;for(let h=1;h<=t;h++){const p=f;f=Gf(p.length);for(let _=0;_<p.length;_++){const E=p[_];for(let k=0;k<E.length;k++){const B=E[k].partialPath,V=E[k].suffixDef,ce=hu(B);if(NI(u,ce,_)||He(V)||B.length===t){const me=o[_];if(!1===pu(me,B)){me.push(B);for(let _e=0;_e<ce.length;_e++)u[_][ce[_e]]=!0}}else{const me=fu(V,h+1,B);f[_]=f[_].concat(me),Se(me,_e=>{const pe=hu(_e.partialPath);Se(pe,he=>{u[_][he]=!0})})}}}}return o}function to(e,t,r,o){const u=new Bf(e,it.ALTERNATION,o);return t.accept(u),Uf(u.result,r)}function no(e,t,r,o){const u=new Bf(e,r);t.accept(u);const f=u.result,p=new OI(t,e,r).startWalking();return Uf([new wt({definition:f}),new wt({definition:p})],o)}function pu(e,t){e:for(let r=0;r<e.length;r++){const o=e[r];if(o.length===t.length){for(let u=0;u<o.length;u++){const f=t[u],h=o[u];if(0==(f===h||void 0!==h.categoryMatchesMap[f.tokenTypeIdx]))continue e}return!0}}return!1}function Kf(e){return Ln(e,t=>Ln(t,r=>Ln(r,o=>He(o.categoryMatches))))}function MI(e){return`${Pn(e)}_#_${e.idx}_#_${jf(e)}`}function jf(e){return e instanceof nt?e.terminalType.name:e instanceof Nt?e.nonTerminalName:""}class DI extends ds{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Wf(e,t,r,o=[]){const u=[],f=ro(t.definition);if(He(f))return[];{const h=e.name;kt(f,e)&&u.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:Pt.LEFT_RECURSION,ruleName:h});const _=Ha(f,o.concat([e])),E=sn(_,k=>{const B=_t(o);return B.push(k),Wf(e,k,r,B)});return u.concat(E)}}function ro(e){let t=[];if(He(e))return t;const r=Tn(e);if(r instanceof Nt)t.push(r.referencedRule);else if(r instanceof wt||r instanceof bt||r instanceof mn||r instanceof gn||r instanceof tn||r instanceof lt)t=t.concat(ro(r.definition));else if(r instanceof nn)t=_n(Ae(r.definition,f=>ro(f.definition)));else if(!(r instanceof nt))throw Error("non exhaustive match");if(Ga(r)&&e.length>1){const f=yt(e);return t.concat(ro(f))}return t}class mu extends ds{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}class KI extends ds{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}const Hf="MismatchedTokenException",Vf="NoViableAltException",zf="EarlyExitException",Xf="NotAllInputParsedException",Yf=[Hf,Vf,zf,Xf];function so(e){return kt(Yf,e.name)}Object.freeze(Yf);class io extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Qf extends io{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=Hf}}class QI extends io{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=Vf}}class JI extends io{constructor(t,r){super(t,r),this.name=Xf}}class qI extends io{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=zf}}const gu={},Jf="InRuleRecoveryException";class ZI extends Error{constructor(t){super(t),this.name=Jf}}function tC(e,t,r,o,u,f,h){const p=this.getKeyForAutomaticLookahead(o,u);let _=this.firstAfterRepMap[p];if(void 0===_){const V=this.getCurrRuleFullName();_=new f(this.getGAstProductions()[V],u).startWalking(),this.firstAfterRepMap[p]=_}let E=_.token,k=_.occurrence;1===this.RULE_STACK.length&&_.isEndOfRule&&void 0===E&&(E=fr,k=1),void 0!==E&&void 0!==k&&this.shouldInRepetitionRecoveryBeTried(E,k,h)&&this.tryInRepetitionRecovery(e,t,r,E)}function vu(e,t,r){return r|t|e}class ed{constructor(t){var r;this.maxLookahead=null!==(r=t?.maxLookahead)&&void 0!==r?r:Mn.maxLookahead}validate(t){const r=this.validateNoLeftRecursion(t.rules);if(He(r)){const o=this.validateEmptyOrAlternatives(t.rules),u=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),f=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...o,...u,...f]}return r}validateNoLeftRecursion(t){return sn(t,r=>Wf(r,r,Ur))}validateEmptyOrAlternatives(t){return sn(t,r=>function GI(e,t){const r=new mu;return e.accept(r),sn(r.alternations,f=>{const h=ci(f.definition);return sn(h,(p,_)=>{const E=Ff([p],[],oi,1);return He(E)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:f,emptyChoiceIdx:_}),type:Pt.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:f.idx,alternative:_+1}]:[]})})}(r,Ur))}validateAmbiguousAlternationAlternatives(t,r){return sn(t,o=>function UI(e,t,r){const o=new mu;e.accept(o);let u=o.alternations;return u=Wa(u,h=>!0===h.ignoreAmbiguities),sn(u,h=>{const E=to(h.idx,e,h.maxLookahead||t,h),k=function HI(e,t,r,o){const u=[],f=jt(e,(p,_,E)=>(!0===t.definition[E].ignoreAmbiguities||Se(_,k=>{const B=[E];Se(e,(V,ce)=>{E!==ce&&pu(V,k)&&!0!==t.definition[ce].ignoreAmbiguities&&B.push(ce)}),B.length>1&&!pu(u,k)&&(u.push(k),p.push({alts:B,path:k}))}),p),[]);return Ae(f,p=>{const _=Ae(p.alts,k=>k+1);return{message:o.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:_,prefixPath:p.path}),type:Pt.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:p.alts}})}(E,h,e,r),B=function VI(e,t,r,o){const u=jt(e,(h,p,_)=>{const E=Ae(p,k=>({idx:_,path:k}));return h.concat(E)},[]);return si(sn(u,h=>{if(!0===t.definition[h.idx].ignoreAmbiguities)return[];const _=h.idx,E=h.path,k=rn(u,V=>!0!==t.definition[V.idx].ignoreAmbiguities&&V.idx<_&&function wI(e,t){return e.length<t.length&&Ln(e,(r,o)=>{const u=t[o];return r===u||u.categoryMatchesMap[r.tokenTypeIdx]})}(V.path,E));return Ae(k,V=>{const ce=[V.idx+1,_+1],ge=0===t.idx?"":t.idx;return{message:o.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:ce,prefixPath:V.path}),type:Pt.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:ge,alternatives:ce}})}))}(E,h,e,r);return k.concat(B)})}(o,r,Ur))}validateSomeNonEmptyLookaheadPath(t,r){return function WI(e,t,r){const o=[];return Se(e,u=>{const f=new KI;u.accept(f),Se(f.allProductions,p=>{const _=du(p),V=no(p.idx,u,_,p.maxLookahead||t)[0];if(He(_n(V))){const ce=r.buildEmptyRepetitionError({topLevelRule:u,repetition:p});o.push({message:ce,type:Pt.NO_NON_EMPTY_LOOKAHEAD,ruleName:u.name})}})}),o}(t,r,Ur)}buildLookaheadForAlternation(t){return function SI(e,t,r,o,u,f){const h=to(e,t,r);return f(h,o,Kf(h)?Za:oi,u)}(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,bI)}buildLookaheadForOptional(t){return function xI(e,t,r,o,u,f){const h=no(e,t,u,r),p=Kf(h)?Za:oi;return f(h[0],p,o)}(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,du(t.prodType),$I)}}const oo=new class iC extends ds{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function td(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function nd(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function rd(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function cC(e,t){const r=gt(e),o=r.length;for(let u=0;u<o;u++){const h=e[r[u]],p=h.length;for(let _=0;_<p;_++){const E=h[_];void 0===E.tokenTypeIdx&&this[E.name](E.children,t)}}}var sd=function(e){return e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD",e}(sd||{});const EC=function AC(e,t){var r;return In(e,function(o,u,f){return!(r=t(o,u,f))}),!!r},lo={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(lo);const ad=Math.pow(2,8)-1,od=Pf({name:"RECORDING_PHASE_TOKEN",pattern:vn.NA});li([od]);const ld=uu(od,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(ld);const CC={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function fi(e,t,r,o=!1){uo(r);const u=ps(this.recordingProdStack),f=St(t)?t:t.DEF,h=new e({definition:[],idx:r});return o&&(h.separator=t.SEP),xe(t,"MAX_LOOKAHEAD")&&(h.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(h),f.call(this),u.definition.push(h),this.recordingProdStack.pop(),lo}function xC(e,t){uo(t);const r=ps(this.recordingProdStack),o=!1===ke(e),u=!1===o?e:e.DEF,f=new nn({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});xe(e,"MAX_LOOKAHEAD")&&(f.maxLookahead=e.MAX_LOOKAHEAD);const h=function RC(e,t,r){var o=ke(e)?rs:EC;return r&&Ka(e,t,r)&&(t=void 0),o(e,On(t))}(u,p=>St(p.GATE));return f.hasPredicates=h,r.definition.push(f),Se(u,p=>{const _=new wt({definition:[]});f.definition.push(_),xe(p,"IGNORE_AMBIGUITIES")?_.ignoreAmbiguities=p.IGNORE_AMBIGUITIES:xe(p,"GATE")&&(_.ignoreAmbiguities=!0),this.recordingProdStack.push(_),p.ALT.call(this),this.recordingProdStack.pop()}),lo}function ud(e){return 0===e?"":`${e}`}function uo(e){if(e<0||e>ad){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${ad+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const co=uu(fr,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(co);const Mn=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:cu,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),fo=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Pt=function(e){return e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",e}(Pt||{});function OC(e=void 0){return function(){return e}}let Au=(()=>{class e{static performSelfAnalysis(r){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let r;this.selfAnalysisDone=!0;const o=this.className;this.TRACE_INIT("toFastProps",()=>{Qu(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Se(this.definedRulesNames,f=>{const p=this[f].originalGrammarAction;let _;this.TRACE_INIT(`${f} Rule`,()=>{_=this.topLevelRuleRecord(f,p)}),this.gastProductionsCache[f]=_})}finally{this.disableRecording()}});let u=[];if(this.TRACE_INIT("Grammar Resolving",()=>{u=function XI(e){const t=ru(e,{errMsgProvider:Z0}),r={};return Se(e.rules,o=>{r[o.name]=o}),function eI(e,t){const r=new tI(e,t);return r.resolveRefs(),r.errors}(r,t.errMsgProvider)}({rules:st(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(u)}),this.TRACE_INIT("Grammar Validations",()=>{if(He(u)&&!1===this.skipValidations){const f=function YI(e){return function PI(e,t,r,o){const u=sn(e,_=>function LI(e,t){const r=new DI;e.accept(r);const u=dI(r.allProductions,MI),f=yI(u,p=>p.length>1);return Ae(st(f),p=>{const _=Tn(p),E=t.buildDuplicateFoundError(e,p),k=Pn(_),B={message:E,type:Pt.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:k,occurrence:_.idx},V=jf(_);return V&&(B.parameter=V),B})}(_,r)),f=function zI(e,t,r){const o=[],u=Ae(t,f=>f.name);return Se(e,f=>{const h=f.name;if(kt(u,h)){const p=r.buildNamespaceConflictError(f);o.push({message:p,type:Pt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:h})}}),o}(e,t,r),h=sn(e,_=>function jI(e,t){const r=new mu;return e.accept(r),sn(r.alternations,f=>f.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:f}),type:Pt.TOO_MANY_ALTS,ruleName:e.name,occurrence:f.idx}]:[])}(_,r)),p=sn(e,_=>function FI(e,t,r,o){const u=[];if(jt(t,(h,p)=>p.name===e.name?h+1:h,0)>1){const h=o.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});u.push({message:h,type:Pt.DUPLICATE_RULE_NAME,ruleName:e.name})}return u}(_,e,o,r));return u.concat(f,h,p)}((e=ru(e,{errMsgProvider:Ur})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}({rules:st(this.gastProductionsCache),tokenTypes:st(this.tokensMap),errMsgProvider:Ur,grammarName:o}),h=function kI(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Ae(t,r=>Object.assign({type:Pt.CUSTOM_LOOKAHEAD_VALIDATION},r))}({lookaheadStrategy:this.lookaheadStrategy,rules:st(this.gastProductionsCache),tokenTypes:st(this.tokensMap),grammarName:o});this.definitionErrors=this.definitionErrors.concat(f,h)}}),He(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const f=function CR(e){const t={};return Se(e,r=>{const o=new IR(r).startWalking();nu(t,o)}),t}(st(this.gastProductionsCache));this.resyncFollows=f}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var f,h;null===(h=(f=this.lookaheadStrategy).initialize)||void 0===h||h.call(f,{rules:st(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(st(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!He(this.definitionErrors))throw r=Ae(this.definitionErrors,f=>f.message),new Error(`Parser Definition Errors detected:\n ${r.join("\n-------------------------------\n")}`)})}constructor(r,o){this.definitionErrors=[],this.selfAnalysisDone=!1;const u=this;if(u.initErrorHandler(o),u.initLexerAdapter(),u.initLooksAhead(o),u.initRecognizerEngine(r,o),u.initRecoverable(o),u.initTreeBuilder(o),u.initContentAssist(),u.initGastRecorder(o),u.initPerformanceTracer(o),xe(o,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=xe(o,"skipValidations")?o.skipValidations:Mn.skipValidations}}return e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e})();!function $C(e,t){t.forEach(r=>{const o=r.prototype;Object.getOwnPropertyNames(o).forEach(u=>{if("constructor"===u)return;const f=Object.getOwnPropertyDescriptor(o,u);f&&(f.get||f.set)?Object.defineProperty(e.prototype,u,f):e.prototype[u]=r.prototype[u]})})}(Au,[class eC{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=xe(t,"recoveryEnabled")?t.recoveryEnabled:Mn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=tC)}getTokenToInsert(t){const r=uu(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,o,u){const f=this.findReSyncTokenType(),h=this.exportLexerState(),p=[];let _=!1;const E=this.LA(1);let k=this.LA(1);const B=()=>{const V=this.LA(0),ce=this.errorMessageProvider.buildMismatchTokenMessage({expected:u,actual:E,previous:V,ruleName:this.getCurrRuleFullName()}),ge=new Qf(ce,E,this.LA(0));ge.resyncedTokens=ci(p),this.SAVE_ERROR(ge)};for(;!_;){if(this.tokenMatcher(k,u))return void B();if(o.call(this))return B(),void t.apply(this,r);this.tokenMatcher(k,f)?_=!0:(k=this.SKIP_TOKEN(),this.addToResyncTokens(k,p))}this.importLexerState(h)}shouldInRepetitionRecoveryBeTried(t,r,o){return!(!1===o||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){const o=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(o)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const o=this.SKIP_TOKEN();return this.consumeToken(),o}throw new ZI("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||He(r))return!1;const o=this.LA(1);return void 0!==hs(r,f=>this.tokenMatcher(o,f))}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const r=this.getCurrFollowKey(),o=this.getFollowSetFromFollowKey(r);return kt(o,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let r=this.LA(1),o=2;for(;;){const u=hs(t,f=>Lf(r,f));if(void 0!==u)return u;r=this.LA(o),o++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return gu;const t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),o=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(o)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Ae(t,(o,u)=>0===u?gu:{ruleName:this.shortRuleNameToFullName(o),idxInCallingRule:r[u],inRule:this.shortRuleNameToFullName(t[u-1])})}flattenFollowSet(){const t=Ae(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return _n(t)}getFollowSetFromFollowKey(t){return t===gu?[fr]:this.resyncFollows[t.ruleName+t.idxInCallingRule+"_~IN~_"+t.inRule]}addToResyncTokens(t,r){return this.tokenMatcher(t,fr)||r.push(t),r}reSyncTo(t){const r=[];let o=this.LA(1);for(;!1===this.tokenMatcher(o,t);)o=this.SKIP_TOKEN(),this.addToResyncTokens(o,r);return ci(r)}attemptInRepetitionRecovery(t,r,o,u,f,h,p){}getCurrentGrammarPath(t,r){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:_t(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Ae(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}},class sC{initLooksAhead(t){this.dynamicTokensEnabled=xe(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Mn.dynamicTokensEnabled,this.maxLookahead=xe(t,"maxLookahead")?t.maxLookahead:Mn.maxLookahead,this.lookaheadStrategy=xe(t,"lookaheadStrategy")?t.lookaheadStrategy:new ed({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){Se(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:o,repetition:u,option:f,repetitionMandatory:h,repetitionMandatoryWithSeparator:p,repetitionWithSeparator:_}=function aC(e){oo.reset(),e.accept(oo);const t=oo.dslMethods;return oo.reset(),t}(r);Se(o,E=>{const k=0===E.idx?"":E.idx;this.TRACE_INIT(`${Pn(E)}${k}`,()=>{const B=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:E.idx,rule:r,maxLookahead:E.maxLookahead||this.maxLookahead,hasPredicates:E.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),V=vu(this.fullRuleNameToShort[r.name],256,E.idx);this.setLaFuncCache(V,B)})}),Se(u,E=>{this.computeLookaheadFunc(r,E.idx,768,"Repetition",E.maxLookahead,Pn(E))}),Se(f,E=>{this.computeLookaheadFunc(r,E.idx,512,"Option",E.maxLookahead,Pn(E))}),Se(h,E=>{this.computeLookaheadFunc(r,E.idx,1024,"RepetitionMandatory",E.maxLookahead,Pn(E))}),Se(p,E=>{this.computeLookaheadFunc(r,E.idx,1536,"RepetitionMandatoryWithSeparator",E.maxLookahead,Pn(E))}),Se(_,E=>{this.computeLookaheadFunc(r,E.idx,1280,"RepetitionWithSeparator",E.maxLookahead,Pn(E))})})})}computeLookaheadFunc(t,r,o,u,f,h){this.TRACE_INIT(`${h}${0===r?"":r}`,()=>{const p=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:f||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:u}),_=vu(this.fullRuleNameToShort[t.name],o,r);this.setLaFuncCache(_,p)})}getKeyForAutomaticLookahead(t,r){return vu(this.getLastExplicitRuleShortName(),t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},class mC{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=xe(t,"nodeLocationTracking")?t.nodeLocationTracking:Mn.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=nd,this.setNodeLocationFromNode=nd,this.cstPostRule=dt,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=dt,this.setNodeLocationFromNode=dt,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=td,this.setNodeLocationFromNode=td,this.cstPostRule=dt,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=dt,this.setNodeLocationFromNode=dt,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=dt,this.setNodeLocationFromNode=dt,this.cstPostRule=dt,this.setInitialNodeLocation=dt}else this.cstInvocationStateUpdate=dt,this.cstFinallyStateUpdate=dt,this.cstPostTerminal=dt,this.cstPostNonTerminal=dt,this.cstPostRule=dt}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const r=this.LA(0),o=t.location;o.startOffset<=r.startOffset?(o.endOffset=r.endOffset,o.endLine=r.endLine,o.endColumn=r.endColumn):(o.startOffset=NaN,o.startLine=NaN,o.startColumn=NaN)}cstPostRuleOnlyOffset(t){const r=this.LA(0),o=t.location;o.startOffset<=r.startOffset?o.endOffset=r.endOffset:o.startOffset=NaN}cstPostTerminal(t,r){const o=this.CST_STACK[this.CST_STACK.length-1];(function oC(e,t,r){void 0===e.children[r]?e.children[r]=[t]:e.children[r].push(t)})(o,r,t),this.setNodeLocationFromToken(o.location,r)}cstPostNonTerminal(t,r){const o=this.CST_STACK[this.CST_STACK.length-1];(function lC(e,t,r){void 0===e.children[t]?e.children[t]=[r]:e.children[t].push(r)})(o,r,t),this.setNodeLocationFromNode(o.location,t.location)}getBaseCstVisitorConstructor(){if(Vn(this.baseCstVisitorConstructor)){const t=function fC(e,t){const r=function(){};rd(r,e+"BaseSemantics");const o={visit:function(u,f){if(ke(u)&&(u=u[0]),!Vn(u))return this[u.name](u.children,f)},validateVisitor:function(){const u=function hC(e,t){return function pC(e,t){const r=rn(t,u=>!1===St(e[u])),o=Ae(r,u=>({msg:`Missing visitor method: <${u}> on ${e.constructor.name} CST Visitor.`,type:sd.MISSING_METHOD,methodName:u}));return si(o)}(e,t)}(this,t);if(!He(u)){const f=Ae(u,h=>h.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${f.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(r.prototype=o).constructor=r,r._RULE_NAMES=t,r}(this.className,gt(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Vn(this.baseCstVisitorWithDefaultsConstructor)){const t=function dC(e,t,r){const o=function(){};rd(o,e+"BaseSemanticsWithDefaults");const u=Object.create(r.prototype);return Se(t,f=>{u[f]=cC}),(o.prototype=u).constructor=o,o}(this.className,gt(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class gC{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):co}LA(t){const r=this.currIdx+t;return r<0||this.tokVectorLength<=r?co:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class yC{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Za,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},xe(r,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(ke(t)){if(He(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(ke(t))this.tokensMap=jt(t,(f,h)=>(f[h.name]=h,f),{});else if(xe(t,"modes")&&Ln(_n(st(t.modes)),Q0)){const f=_n(st(t.modes)),h=Zl(f);this.tokensMap=jt(h,(p,_)=>(p[_.name]=_,p),{})}else{if(!ft(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=_t(t)}this.tokensMap.EOF=fr;const o=xe(t,"modes")?_n(st(t.modes)):st(t),u=Ln(o,f=>He(f.categoryMatches));this.tokenMatcher=u?Za:oi,li(st(this.tokensMap))}defineRule(t,r,o){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const u=xe(o,"resyncEnabled")?o.resyncEnabled:fo.resyncEnabled,f=xe(o,"recoveryValueFunc")?o.recoveryValueFunc:fo.recoveryValueFunc,h=this.ruleShortNameIdx<<12;let p;return this.ruleShortNameIdx++,this.shortRuleNameToFull[h]=t,this.fullRuleNameToShort[t]=h,p=!0===this.outputCst?function(...k){try{this.ruleInvocationStateUpdate(h,t,this.subruleIdx),r.apply(this,k);const B=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(B),B}catch(B){return this.invokeRuleCatch(B,u,f)}finally{this.ruleFinallyStateUpdate()}}:function(...k){try{return this.ruleInvocationStateUpdate(h,t,this.subruleIdx),r.apply(this,k)}catch(B){return this.invokeRuleCatch(B,u,f)}finally{this.ruleFinallyStateUpdate()}},Object.assign(p,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,o){const u=1===this.RULE_STACK.length,f=r&&!this.isBackTracking()&&this.recoveryEnabled;if(so(t)){const h=t;if(f){const p=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(p)){if(h.resyncedTokens=this.reSyncTo(p),this.outputCst){const _=this.CST_STACK[this.CST_STACK.length-1];return _.recoveredNode=!0,_}return o(t)}if(this.outputCst){const _=this.CST_STACK[this.CST_STACK.length-1];_.recoveredNode=!0,h.partialCstResult=_}throw h}if(u)return this.moveToTerminatedState(),o(t);throw h}throw t}optionInternal(t,r){const o=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,o)}optionInternalLogic(t,r,o){let f,u=this.getLaFuncFromCache(o);if("function"!=typeof t){f=t.DEF;const h=t.GATE;if(void 0!==h){const p=u;u=()=>h.call(this)&&p.call(this)}}else f=t;if(!0===u.call(this))return f.call(this)}atLeastOneInternal(t,r){const o=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,o)}atLeastOneInternalLogic(t,r,o){let f,u=this.getLaFuncFromCache(o);if("function"!=typeof r){f=r.DEF;const h=r.GATE;if(void 0!==h){const p=u;u=()=>h.call(this)&&p.call(this)}}else f=r;if(!0!==u.call(this))throw this.raiseEarlyExitException(t,it.REPETITION_MANDATORY,r.ERR_MSG);{let h=this.doSingleRepetition(f);for(;!0===u.call(this)&&!0===h;)h=this.doSingleRepetition(f)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],u,1024,t,RI)}atLeastOneSepFirstInternal(t,r){const o=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,o)}atLeastOneSepFirstInternalLogic(t,r,o){const u=r.DEF,f=r.SEP;if(!0!==this.getLaFuncFromCache(o).call(this))throw this.raiseEarlyExitException(t,it.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG);{u.call(this);const p=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,p,u,Df],p,1536,t,Df)}}manyInternal(t,r){const o=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,o)}manyInternalLogic(t,r,o){let f,u=this.getLaFuncFromCache(o);if("function"!=typeof r){f=r.DEF;const p=r.GATE;if(void 0!==p){const _=u;u=()=>p.call(this)&&_.call(this)}}else f=r;let h=!0;for(;!0===u.call(this)&&!0===h;)h=this.doSingleRepetition(f);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],u,768,t,EI,h)}manySepFirstInternal(t,r){const o=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,o)}manySepFirstInternalLogic(t,r,o){const u=r.DEF,f=r.SEP;if(!0===this.getLaFuncFromCache(o).call(this)){u.call(this);const p=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,p,u,Mf],p,1280,t,Mf)}}repetitionSepSecondInternal(t,r,o,u,f){for(;o();)this.CONSUME(r),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,o,u,f],o,1536,t,f)}doSingleRepetition(t){const r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){const o=this.getKeyForAutomaticLookahead(256,r),u=ke(t)?t:t.DEF,h=this.getLaFuncFromCache(o).call(this,u);if(void 0!==h)return u[h].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new JI(r,t))}}subruleInternal(t,r,o){let u;try{const f=void 0!==o?o.ARGS:void 0;return this.subruleIdx=r,u=t.apply(this,f),this.cstPostNonTerminal(u,void 0!==o&&void 0!==o.LABEL?o.LABEL:t.ruleName),u}catch(f){throw this.subruleInternalError(f,o,t.ruleName)}}subruleInternalError(t,r,o){throw so(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==r&&void 0!==r.LABEL?r.LABEL:o),delete t.partialCstResult),t}consumeInternal(t,r,o){let u;try{const f=this.LA(1);!0===this.tokenMatcher(f,t)?(this.consumeToken(),u=f):this.consumeInternalError(t,f,o)}catch(f){u=this.consumeInternalRecovery(t,r,f)}return this.cstPostTerminal(void 0!==o&&void 0!==o.LABEL?o.LABEL:t.name,u),u}consumeInternalError(t,r,o){let u;const f=this.LA(0);throw u=void 0!==o&&o.ERR_MSG?o.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:f,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Qf(u,r,f))}consumeInternalRecovery(t,r,o){if(!this.recoveryEnabled||"MismatchedTokenException"!==o.name||this.isBackTracking())throw o;{const u=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,u)}catch(f){throw f.name===Jf?o:f}}}saveRecogState(){const t=this.errors,r=_t(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,o){this.RULE_OCCURRENCE_STACK.push(o),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),fr)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class _C{ACTION(t){return t.call(this)}consume(t,r,o){return this.consumeInternal(r,t,o)}subrule(t,r,o){return this.subruleInternal(r,t,o)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,o=fo){if(kt(this.definedRulesNames,t)){const h={message:Ur.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:Pt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(h)}this.definedRulesNames.push(t);const u=this.defineRule(t,r,o);return this[t]=u,u}OVERRIDE_RULE(t,r,o=fo){const u=function BI(e,t,r){const o=[];let u;return kt(t,e)||(u=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,o.push({message:u,type:Pt.INVALID_RULE_OVERRIDE,ruleName:e})),o}(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(u);const f=this.defineRule(t,r,o);return this[t]=f,f}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);const o=this.saveRecogState();try{return t.apply(this,r),!0}catch(u){if(so(u))return!1;throw u}finally{this.reloadRecogState(o),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return function jA(e){return Vc(e,Ba)}(st(this.gastProductionsCache))}},class TC{initErrorHandler(t){this._errors=[],this.errorMessageProvider=xe(t,"errorMessageProvider")?t.errorMessageProvider:Mn.errorMessageProvider}SAVE_ERROR(t){if(so(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:_t(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return _t(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,o){const u=this.getCurrRuleFullName(),p=no(t,this.getGAstProductions()[u],r,this.maxLookahead)[0],_=[];for(let k=1;k<=this.maxLookahead;k++)_.push(this.LA(k));const E=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:p,actual:_,previous:this.LA(0),customUserDescription:o,ruleName:u});throw this.SAVE_ERROR(new qI(E,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){const o=this.getCurrRuleFullName(),f=to(t,this.getGAstProductions()[o],this.maxLookahead),h=[];for(let E=1;E<=this.maxLookahead;E++)h.push(this.LA(E));const p=this.LA(0),_=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:f,actual:h,previous:p,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new QI(_,this.LA(1),p))}},class vC{initContentAssist(){}computeContentAssist(t,r){const o=this.gastProductionsCache[t];if(Vn(o))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Ff([o],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const r=Tn(t.ruleStack),u=this.getGAstProductions()[r];return new AI(u,t).startWalking()}},class SC{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const r=t>0?t:"";this[`CONSUME${r}`]=function(o,u){return this.consumeInternalRecord(o,t,u)},this[`SUBRULE${r}`]=function(o,u){return this.subruleInternalRecord(o,t,u)},this[`OPTION${r}`]=function(o){return this.optionInternalRecord(o,t)},this[`OR${r}`]=function(o){return this.orInternalRecord(o,t)},this[`MANY${r}`]=function(o){this.manyInternalRecord(t,o)},this[`MANY_SEP${r}`]=function(o){this.manySepFirstInternalRecord(t,o)},this[`AT_LEAST_ONE${r}`]=function(o){this.atLeastOneInternalRecord(t,o)},this[`AT_LEAST_ONE_SEP${r}`]=function(o){this.atLeastOneSepFirstInternalRecord(t,o)}}this.consume=function(t,r,o){return this.consumeInternalRecord(r,t,o)},this.subrule=function(t,r,o){return this.subruleInternalRecord(r,t,o)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let r=0;r<10;r++){const o=r>0?r:"";delete t[`CONSUME${o}`],delete t[`SUBRULE${o}`],delete t[`OPTION${o}`],delete t[`OR${o}`],delete t[`MANY${o}`],delete t[`MANY_SEP${o}`],delete t[`AT_LEAST_ONE${o}`],delete t[`AT_LEAST_ONE_SEP${o}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return co}topLevelRuleRecord(t,r){try{const o=new fs({definition:[],name:t});return o.name=t,this.recordingProdStack.push(o),r.call(this),this.recordingProdStack.pop(),o}catch(o){if(!0!==o.KNOWN_RECORDER_ERROR)try{o.message=o.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw o}throw o}}optionInternalRecord(t,r){return fi.call(this,bt,t,r)}atLeastOneInternalRecord(t,r){fi.call(this,mn,r,t)}atLeastOneSepFirstInternalRecord(t,r){fi.call(this,gn,r,t,!0)}manyInternalRecord(t,r){fi.call(this,lt,r,t)}manySepFirstInternalRecord(t,r){fi.call(this,tn,r,t,!0)}orInternalRecord(t,r){return xC.call(this,t,r)}subruleInternalRecord(t,r,o){if(uo(r),!t||!1===xe(t,"ruleName")){const p=new Error(`<SUBRULE${ud(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw p.KNOWN_RECORDER_ERROR=!0,p}const u=ps(this.recordingProdStack),h=new Nt({idx:r,nonTerminalName:t.ruleName,label:o?.LABEL,referencedRule:void 0});return u.definition.push(h),this.outputCst?CC:lo}consumeInternalRecord(t,r,o){if(uo(r),!Ef(t)){const h=new Error(`<CONSUME${ud(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw h.KNOWN_RECORDER_ERROR=!0,h}const u=ps(this.recordingProdStack),f=new nt({idx:r,terminalType:t,label:o?.LABEL});return u.definition.push(f),ld}},class bC{initPerformanceTracer(t){if(xe(t,"traceInitPerf")){const r=t.traceInitPerf,o="number"==typeof r;this.traceInitMaxIdent=o?r:1/0,this.traceInitPerf=o?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Mn.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(!0===this.traceInitPerf){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--\x3e <${t}>`);const{time:u,value:f}=yf(r),h=u>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&h(`${o}<-- <${t}> time: ${u}ms`),this.traceInitIndent--,f}return r()}}]);class NC extends Au{constructor(t,r=Mn){const o=_t(r);o.outputCst=!1,super(t,o)}}},2286(Be,te,b){b.d(te,{t:()=>Nl,u:()=>wl});var w=b(807),L=b(3528),Z=b(84),N=b(2917),D=b(8365),j=b(5644),Y=b(7965);function C(l,n,s){return`${l.name}_${n}_${s}`}class ie{constructor(n){this.target=n}isEpsilon(){return!1}}class oe extends ie{constructor(n,s){super(n),this.tokenType=s}}class ve extends ie{constructor(n){super(n)}isEpsilon(){return!0}}class be extends ie{constructor(n,s,i){super(n),this.rule=s,this.followState=i}isEpsilon(){return!0}}function fe(l,n,s){return s instanceof D.BK?At(l,n,s.terminalType,s):s instanceof D.wL?function on(l,n,s){const i=s.referencedRule,a=l.ruleToStartState.get(i),c=R(l,n,s,{type:1}),d=R(l,n,s,{type:1});return W(c,new be(a,i,d)),{left:c,right:d}}(l,n,s):s instanceof D.ak?function ue(l,n,s){const i=R(l,n,s,{type:1});Me(l,i);const a=(0,j.A)(s.definition,d=>fe(l,n,d));return Le(l,n,i,s,...a)}(l,n,s):s instanceof D.c$?function de(l,n,s){const i=R(l,n,s,{type:1});Me(l,i);return function Qe(l,n,s,i){const a=i.left;return De(a,i.right),l.decisionMap[C(n,"Option",s.idx)]=a,i}(l,n,s,Le(l,n,i,s,$e(l,n,s)))}(l,n,s):s instanceof D.Y2?function Ee(l,n,s){const i=R(l,n,s,{type:5});Me(l,i);return ye(l,n,s,Le(l,n,i,s,$e(l,n,s)))}(l,n,s):s instanceof D.Pp?function Oe(l,n,s){const i=R(l,n,s,{type:5});Me(l,i);return ye(l,n,s,Le(l,n,i,s,$e(l,n,s)),At(l,n,s.separator,s))}(l,n,s):s instanceof D.$P?function q(l,n,s){const i=R(l,n,s,{type:4});Me(l,i);return Ne(l,n,s,Le(l,n,i,s,$e(l,n,s)))}(l,n,s):s instanceof D.Cy?function F(l,n,s){const i=R(l,n,s,{type:4});Me(l,i);return Ne(l,n,s,Le(l,n,i,s,$e(l,n,s)),At(l,n,s.separator,s))}(l,n,s):$e(l,n,s)}function $e(l,n,s){const i=(0,Y.A)((0,j.A)(s.definition,a=>fe(l,n,a)),a=>void 0!==a);return 1===i.length?i[0]:0===i.length?void 0:function ke(l,n){const s=n.length;for(let c=0;c<s-1;c++){const d=n[c];let m;1===d.left.transitions.length&&(m=d.left.transitions[0]);const A=m instanceof be,U=n[c+1].left;1===d.left.type&&1===d.right.type&&void 0!==m&&(A&&m.followState===d.right||m.target===d.right)?(A?m.followState=U:m.target=U,ae(l,d.right)):De(d.right,U)}return{left:n[0].left,right:n[s-1].right}}(l,i)}function Ne(l,n,s,i,a){const c=i.left,d=i.right,m=R(l,n,s,{type:11});Me(l,m);const A=R(l,n,s,{type:12});return c.loopback=m,A.loopback=m,l.decisionMap[C(n,a?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",s.idx)]=m,De(d,m),void 0===a?(De(m,c),De(m,A)):(De(m,A),De(m,a.left),De(a.right,c)),{left:c,right:A}}function ye(l,n,s,i,a){const c=i.left,d=i.right,m=R(l,n,s,{type:10});Me(l,m);const A=R(l,n,s,{type:12}),$=R(l,n,s,{type:9});return m.loopback=$,A.loopback=$,De(m,c),De(m,A),De(d,$),void 0!==a?(De($,A),De($,a.left),De(a.right,c)):De($,m),l.decisionMap[C(n,a?"RepetitionWithSeparator":"Repetition",s.idx)]=m,{left:m,right:A}}function Me(l,n){return l.decisionStates.push(n),n.decision=l.decisionStates.length-1,n.decision}function Le(l,n,s,i,...a){const c=R(l,n,i,{type:8,start:s});s.end=c;for(const m of a)void 0!==m?(De(s,m.left),De(m.right,c)):De(s,c);const d={left:s,right:c};return l.decisionMap[C(n,function ot(l){if(l instanceof D.ak)return"Alternation";if(l instanceof D.c$)return"Option";if(l instanceof D.Y2)return"Repetition";if(l instanceof D.Pp)return"RepetitionWithSeparator";if(l instanceof D.$P)return"RepetitionMandatory";if(l instanceof D.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(i),i.idx)]=s,d}function At(l,n,s,i){const a=R(l,n,i,{type:1}),c=R(l,n,i,{type:1});return W(a,new oe(c,s)),{left:a,right:c}}function ut(l,n,s){const i=l.ruleToStartState.get(n);De(i,s.left);const a=l.ruleToStopState.get(n);return De(s.right,a),{left:i,right:a}}function De(l,n){W(l,new ve(n))}function R(l,n,s,i){const a=Object.assign({atn:l,production:s,epsilonOnlyTransitions:!1,rule:n,transitions:[],nextTokenWithinRule:[],stateNumber:l.states.length},i);return l.states.push(a),a}function W(l,n){0===l.transitions.length&&(l.epsilonOnlyTransitions=n.isEpsilon()),l.transitions.push(n)}function ae(l,n){l.states.splice(l.states.indexOf(n),1)}const Ce={};class Re{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(n){const s=Ue(n);s in this.map||(this.map[s]=this.configs.length,this.configs.push(n))}get elements(){return this.configs}get alts(){return(0,j.A)(this.configs,n=>n.alt)}get key(){let n="";for(const s in this.map)n+=s+":";return n}}function Ue(l,n=!0){return`${n?`a${l.alt}`:""}s${l.state.stateNumber}:${l.stack.map(s=>s.stateNumber.toString()).join("_")}`}var Ke=b(1834),Ht=b(2383);var Lt=b(5382),Vt=b(5883);const Dn=function Mt(l,n){return l&&l.length?(0,Vt.A)(l,(0,Lt.A)(n,2)):[]};var zt=b(300),ht=b(9412),Xt=b(3551),Yn=b(3360);function Yt(l,n){const s={};return i=>{const a=i.toString();let c=s[a];return void 0!==c||(c={atnStartState:l,decision:n,states:{}},s[a]=c),c}}class Qn{constructor(){this.predicates=[]}is(n){return n>=this.predicates.length||this.predicates[n]}set(n,s){this.predicates[n]=s}toString(){let n="";const s=this.predicates.length;for(let i=0;i<s;i++)n+=!0===this.predicates[i]?"1":"0";return n}}const Dt=new Qn;class _r extends D.T6{constructor(n){var s;super(),this.logging=null!==(s=n?.logging)&&void 0!==s?s:i=>console.log(i)}initialize(n){this.atn=function G(l){const n={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function le(l,n){const s=n.length;for(let i=0;i<s;i++){const a=n[i],c=R(l,a,void 0,{type:2}),d=R(l,a,void 0,{type:7});c.stop=d,l.ruleToStartState.set(a,c),l.ruleToStopState.set(a,d)}}(n,l);const s=l.length;for(let i=0;i<s;i++){const a=l[i],c=$e(n,a,a);void 0!==c&&ut(n,a,c)}return n}(n.rules),this.dfas=function yr(l){const n=l.decisionStates.length,s=Array(n);for(let i=0;i<n;i++)s[i]=Yt(l.decisionStates[i],i);return s}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(n){const{prodOccurrence:s,rule:i,hasPredicates:a,dynamicTokensEnabled:c}=n,d=this.dfas,m=this.logging,A=C(i,"Alternation",s),U=this.atn.decisionMap[A].decision,re=(0,j.A)((0,D.jk)({maxLookahead:1,occurrence:s,prodType:"Alternation",rule:i}),se=>(0,j.A)(se,J=>J[0]));if(Ft(re,!1)&&!c){const se=(0,Yn.A)(re,(J,Ge,Xe)=>((0,ht.A)(Ge,tt=>{tt&&(J[tt.tokenTypeIdx]=Xe,(0,ht.A)(tt.categoryMatches,Kt=>{J[Kt]=Xe}))}),J),{});return a?function(J){var Ge;const Xe=this.LA(1),tt=se[Xe.tokenTypeIdx];if(void 0!==J&&void 0!==tt){const Kt=null===(Ge=J[tt])||void 0===Ge?void 0:Ge.GATE;if(void 0!==Kt&&!1===Kt.call(this))return}return tt}:function(){const J=this.LA(1);return se[J.tokenTypeIdx]}}return a?function(se){const J=new Qn,Ge=void 0===se?0:se.length;for(let tt=0;tt<Ge;tt++){const Kt=se?.[tt].GATE;J.set(tt,void 0===Kt||Kt.call(this))}const Xe=$t.call(this,d,U,J,m);return"number"==typeof Xe?Xe:void 0}:function(){const se=$t.call(this,d,U,Dt,m);return"number"==typeof se?se:void 0}}buildLookaheadForOptional(n){const{prodOccurrence:s,rule:i,prodType:a,dynamicTokensEnabled:c}=n,d=this.dfas,m=this.logging,A=C(i,a,s),U=this.atn.decisionMap[A].decision,re=(0,j.A)((0,D.jk)({maxLookahead:1,occurrence:s,prodType:a,rule:i}),se=>(0,j.A)(se,J=>J[0]));if(Ft(re)&&re[0][0]&&!c){const J=(0,zt.A)(re[0]);if(1===J.length&&(0,Xt.A)(J[0].categoryMatches)){const Xe=J[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===Xe}}{const Ge=(0,Yn.A)(J,(Xe,tt)=>(void 0!==tt&&(Xe[tt.tokenTypeIdx]=!0,(0,ht.A)(tt.categoryMatches,Kt=>{Xe[Kt]=!0})),Xe),{});return function(){const Xe=this.LA(1);return!0===Ge[Xe.tokenTypeIdx]}}}return function(){const se=$t.call(this,d,U,Dt,m);return"object"!=typeof se&&0===se}}}function Ft(l,n=!0){const s=new Set;for(const i of l){const a=new Set;for(const c of i){if(void 0===c){if(n)break;return!1}const d=[c.tokenTypeIdx].concat(c.categoryMatches);for(const m of d)if(s.has(m)){if(!a.has(m))return!1}else s.add(m),a.add(m)}}return!0}function $t(l,n,s,i){const a=l[n](s);let c=a.start;if(void 0===c){const m=function fn(l){const n=new Re,s=l.transitions.length;for(let i=0;i<s;i++)En({state:l.transitions[i].target,alt:i,stack:[]},n);return n}(a.atnStartState);c=qn(a,Jn(m)),a.start=c}return Tr.apply(this,[a,c,s,i])}function Tr(l,n,s,i){let a=n,c=1;const d=[];let m=this.LA(c++);for(;;){let A=Er(a,m);if(void 0===A&&(A=Qt.apply(this,[l,a,m,c,s,i])),A===Ce)return ln(d,a,m);if(!0===A.isAcceptState)return A.prediction;a=A,d.push(m),m=this.LA(c++)}}function Qt(l,n,s,i,a,c){const d=function un(l,n,s){const i=new Re,a=[];for(const d of l.elements){if(!1===s.is(d.alt))continue;if(7===d.state.type){a.push(d);continue}const m=d.state.transitions.length;for(let A=0;A<m;A++){const U=Rr(d.state.transitions[A],n);void 0!==U&&i.add({state:U,alt:d.alt,stack:d.stack})}}let c;if(0===a.length&&1===i.size&&(c=i),void 0===c){c=new Re;for(const d of i.elements)En(d,c)}if(a.length>0&&!function Zn(l){for(const n of l.elements)if(7===n.state.type)return!0;return!1}(c))for(const d of a)c.add(d);return c}(n.configs,s,a);if(0===d.size)return Fe(l,n,s,Ce),Ce;let m=Jn(d);const A=function cn(l,n){let s;for(const i of l.elements)if(!0===n.is(i.alt))if(void 0===s)s=i.alt;else if(s!==i.alt)return;return s}(d,a);if(void 0!==A)m.isAcceptState=!0,m.prediction=A,m.configs.uniqueAlt=A;else if(function Ir(l){if(function Rt(l){for(const n of l.elements)if(7!==n.state.type)return!1;return!0}(l))return!0;const n=function Bt(l){const n=new Map;for(const s of l){const i=Ue(s,!1);let a=n.get(i);void 0===a&&(a={},n.set(i,a)),a[s.alt]=!0}return n}(l.elements);return function Cr(l){for(const n of Array.from(l.values()))if(Object.keys(n).length>1)return!0;return!1}(n)&&!function pt(l){for(const n of Array.from(l.values()))if(1===Object.keys(n).length)return!0;return!1}(n)}(d)){const $=(0,Ke.A)(d.alts);m.isAcceptState=!0,m.prediction=$,m.configs.uniqueAlt=$,vr.apply(this,[l,i,d.alts,c])}return m=Fe(l,n,s,m),m}function vr(l,n,s,i){const a=[];for(let $=1;$<=n;$++)a.push(this.LA($).tokenType);const c=l.atnStartState,A=function Jt(l){const n=(0,j.A)(l.prefixPath,a=>(0,D.Sk)(a)).join(", "),s=0===l.production.idx?"":l.production.idx;let i=`Ambiguous Alternatives Detected: <${l.ambiguityIndices.join(", ")}> in <${function Ar(l){if(l instanceof D.wL)return"SUBRULE";if(l instanceof D.c$)return"OPTION";if(l instanceof D.ak)return"OR";if(l instanceof D.$P)return"AT_LEAST_ONE";if(l instanceof D.Cy)return"AT_LEAST_ONE_SEP";if(l instanceof D.Pp)return"MANY_SEP";if(l instanceof D.Y2)return"MANY";if(l instanceof D.BK)return"CONSUME";throw Error("non exhaustive match")}(l.production)}${s}> inside <${l.topLevelRule.name}> Rule,\n<${n}> may appears as a prefix path in all these alternatives.\n`;return i+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",i}({topLevelRule:c.rule,ambiguityIndices:s,production:c.production,prefixPath:a});i(A)}function ln(l,n,s){const i=function ct(l,n){return(0,Ht.A)((0,j.A)(l,n),1)}(n.configs.elements,c=>c.state.transitions);return{actualToken:s,possibleTokenTypes:Dn(i.filter(c=>c instanceof oe).map(c=>c.tokenType),c=>c.tokenTypeIdx),tokenPath:l}}function Er(l,n){return l.edges[n.tokenTypeIdx]}function Rr(l,n){if(l instanceof oe&&(0,D.G)(n,l.tokenType))return l.target}function Jn(l){return{configs:l,edges:{},isAcceptState:!1,prediction:-1}}function Fe(l,n,s,i){return i=qn(l,i),n.edges[s.tokenTypeIdx]=i,i}function qn(l,n){if(n===Ce)return n;const s=n.configs.key,i=l.states[s];return void 0!==i?i:(n.configs.finalize(),l.states[s]=n,n)}function En(l,n){const s=l.state;if(7===s.type){if(l.stack.length>0){const a=[...l.stack];En({state:a.pop(),alt:l.alt,stack:a},n)}else n.add(l);return}s.epsilonOnlyTransitions||n.add(l);const i=s.transitions.length;for(let a=0;a<i;a++){const d=Et(l,s.transitions[a]);void 0!==d&&En(d,n)}}function Et(l,n){if(n instanceof ve)return{state:n.target,alt:l.alt,stack:l.stack};if(n instanceof be){const s=[...l.stack,n.followState];return{state:n.target,alt:l.alt,stack:s}}}var qt,Zt,Fn,Te,M,ee,we,It,et,Ct,ys,Ti,Ts,vs,jr,ft,dn,er,mt,Rn,Wr,St,Sr,Tt,As,Ai,To,Hr,In,Es,en,Se,tr,Ei,Ri,Vr,st,Ii,zr,Si,xi,bi,Cn,We=b(265);(qt||(qt={})).is=function n(s){return"string"==typeof s},(Zt||(Zt={})).is=function n(s){return"string"==typeof s},function(l){l.MIN_VALUE=-2147483648,l.MAX_VALUE=2147483647,l.is=function n(s){return"number"==typeof s&&l.MIN_VALUE<=s&&s<=l.MAX_VALUE}}(Fn||(Fn={})),function(l){l.MIN_VALUE=0,l.MAX_VALUE=2147483647,l.is=function n(s){return"number"==typeof s&&l.MIN_VALUE<=s&&s<=l.MAX_VALUE}}(Te||(Te={})),function(l){l.create=function n(i,a){return i===Number.MAX_VALUE&&(i=Te.MAX_VALUE),a===Number.MAX_VALUE&&(a=Te.MAX_VALUE),{line:i,character:a}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&P.uinteger(a.line)&&P.uinteger(a.character)}}(M||(M={})),function(l){l.create=function n(i,a,c,d){if(P.uinteger(i)&&P.uinteger(a)&&P.uinteger(c)&&P.uinteger(d))return{start:M.create(i,a),end:M.create(c,d)};if(M.is(i)&&M.is(a))return{start:i,end:a};throw new Error(`Range#create called with invalid arguments[${i}, ${a}, ${c}, ${d}]`)},l.is=function s(i){let a=i;return P.objectLiteral(a)&&M.is(a.start)&&M.is(a.end)}}(ee||(ee={})),function(l){l.create=function n(i,a){return{uri:i,range:a}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&ee.is(a.range)&&(P.string(a.uri)||P.undefined(a.uri))}}(we||(we={})),function(l){l.create=function n(i,a,c,d){return{targetUri:i,targetRange:a,targetSelectionRange:c,originSelectionRange:d}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&ee.is(a.targetRange)&&P.string(a.targetUri)&&ee.is(a.targetSelectionRange)&&(ee.is(a.originSelectionRange)||P.undefined(a.originSelectionRange))}}(It||(It={})),function(l){l.create=function n(i,a,c,d){return{red:i,green:a,blue:c,alpha:d}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.numberRange(a.red,0,1)&&P.numberRange(a.green,0,1)&&P.numberRange(a.blue,0,1)&&P.numberRange(a.alpha,0,1)}}(et||(et={})),function(l){l.create=function n(i,a){return{range:i,color:a}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&ee.is(a.range)&&et.is(a.color)}}(Ct||(Ct={})),function(l){l.create=function n(i,a,c){return{label:i,textEdit:a,additionalTextEdits:c}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.string(a.label)&&(P.undefined(a.textEdit)||dn.is(a))&&(P.undefined(a.additionalTextEdits)||P.typedArray(a.additionalTextEdits,dn.is))}}(ys||(ys={})),function(l){l.create=function n(i,a,c,d,m,A){const $={startLine:i,endLine:a};return P.defined(c)&&($.startCharacter=c),P.defined(d)&&($.endCharacter=d),P.defined(m)&&($.kind=m),P.defined(A)&&($.collapsedText=A),$},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.uinteger(a.startLine)&&P.uinteger(a.startLine)&&(P.undefined(a.startCharacter)||P.uinteger(a.startCharacter))&&(P.undefined(a.endCharacter)||P.uinteger(a.endCharacter))&&(P.undefined(a.kind)||P.string(a.kind))}}(Ti||(Ti={})),function(l){l.create=function n(i,a){return{location:i,message:a}},l.is=function s(i){let a=i;return P.defined(a)&&we.is(a.location)&&P.string(a.message)}}(Ts||(Ts={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(i)&&P.string(i.href)}}(vs||(vs={})),function(l){l.create=function n(i,a,c,d,m,A){let $={range:i,message:a};return P.defined(c)&&($.severity=c),P.defined(d)&&($.code=d),P.defined(m)&&($.source=m),P.defined(A)&&($.relatedInformation=A),$},l.is=function s(i){var a;let c=i;return P.defined(c)&&ee.is(c.range)&&P.string(c.message)&&(P.number(c.severity)||P.undefined(c.severity))&&(P.integer(c.code)||P.string(c.code)||P.undefined(c.code))&&(P.undefined(c.codeDescription)||P.string(null===(a=c.codeDescription)||void 0===a?void 0:a.href))&&(P.string(c.source)||P.undefined(c.source))&&(P.undefined(c.relatedInformation)||P.typedArray(c.relatedInformation,Ts.is))}}(jr||(jr={})),function(l){l.create=function n(i,a,...c){let d={title:i,command:a};return P.defined(c)&&c.length>0&&(d.arguments=c),d},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.title)&&P.string(a.command)}}(ft||(ft={})),function(l){l.replace=function n(c,d){return{range:c,newText:d}},l.insert=function s(c,d){return{range:{start:c,end:c},newText:d}},l.del=function i(c){return{range:c,newText:""}},l.is=function a(c){const d=c;return P.objectLiteral(d)&&P.string(d.newText)&&ee.is(d.range)}}(dn||(dn={})),function(l){l.create=function n(i,a,c){const d={label:i};return void 0!==a&&(d.needsConfirmation=a),void 0!==c&&(d.description=c),d},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.string(a.label)&&(P.boolean(a.needsConfirmation)||void 0===a.needsConfirmation)&&(P.string(a.description)||void 0===a.description)}}(er||(er={})),function(l){l.is=function n(s){return P.string(s)}}(mt||(mt={})),function(l){l.replace=function n(c,d,m){return{range:c,newText:d,annotationId:m}},l.insert=function s(c,d,m){return{range:{start:c,end:c},newText:d,annotationId:m}},l.del=function i(c,d){return{range:c,newText:"",annotationId:d}},l.is=function a(c){const d=c;return dn.is(d)&&(er.is(d.annotationId)||mt.is(d.annotationId))}}(Rn||(Rn={})),function(l){l.create=function n(i,a){return{textDocument:i,edits:a}},l.is=function s(i){let a=i;return P.defined(a)&&Hr.is(a.textDocument)&&Array.isArray(a.edits)}}(Wr||(Wr={})),function(l){l.create=function n(i,a,c){let d={kind:"create",uri:i};return void 0!==a&&(void 0!==a.overwrite||void 0!==a.ignoreIfExists)&&(d.options=a),void 0!==c&&(d.annotationId=c),d},l.is=function s(i){let a=i;return a&&"create"===a.kind&&P.string(a.uri)&&(void 0===a.options||(void 0===a.options.overwrite||P.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||P.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||mt.is(a.annotationId))}}(St||(St={})),function(l){l.create=function n(i,a,c,d){let m={kind:"rename",oldUri:i,newUri:a};return void 0!==c&&(void 0!==c.overwrite||void 0!==c.ignoreIfExists)&&(m.options=c),void 0!==d&&(m.annotationId=d),m},l.is=function s(i){let a=i;return a&&"rename"===a.kind&&P.string(a.oldUri)&&P.string(a.newUri)&&(void 0===a.options||(void 0===a.options.overwrite||P.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||P.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||mt.is(a.annotationId))}}(Sr||(Sr={})),function(l){l.create=function n(i,a,c){let d={kind:"delete",uri:i};return void 0!==a&&(void 0!==a.recursive||void 0!==a.ignoreIfNotExists)&&(d.options=a),void 0!==c&&(d.annotationId=c),d},l.is=function s(i){let a=i;return a&&"delete"===a.kind&&P.string(a.uri)&&(void 0===a.options||(void 0===a.options.recursive||P.boolean(a.options.recursive))&&(void 0===a.options.ignoreIfNotExists||P.boolean(a.options.ignoreIfNotExists)))&&(void 0===a.annotationId||mt.is(a.annotationId))}}(Tt||(Tt={})),function(l){l.is=function n(s){return s&&(void 0!==s.changes||void 0!==s.documentChanges)&&(void 0===s.documentChanges||s.documentChanges.every(a=>P.string(a.kind)?St.is(a)||Sr.is(a)||Tt.is(a):Wr.is(a)))}}(As||(As={})),function(l){l.create=function n(i){return{uri:i}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)}}(Ai||(Ai={})),function(l){l.create=function n(i,a){return{uri:i,version:a}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)&&P.integer(a.version)}}(To||(To={})),function(l){l.create=function n(i,a){return{uri:i,version:a}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)&&(null===a.version||P.integer(a.version))}}(Hr||(Hr={})),function(l){l.create=function n(i,a,c,d){return{uri:i,languageId:a,version:c,text:d}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)&&P.string(a.languageId)&&P.integer(a.version)&&P.string(a.text)}}(In||(In={})),function(l){l.PlainText="plaintext",l.Markdown="markdown",l.is=function n(s){return s===l.PlainText||s===l.Markdown}}(Es||(Es={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(s)&&Es.is(i.kind)&&P.string(i.value)}}(en||(en={})),function(l){l.create=function n(i,a,c){return{newText:i,insert:a,replace:c}},l.is=function s(i){const a=i;return a&&P.string(a.newText)&&ee.is(a.insert)&&ee.is(a.replace)}}(Se||(Se={})),function(l){l.is=function n(s){const i=s;return i&&(P.string(i.detail)||void 0===i.detail)&&(P.string(i.description)||void 0===i.description)}}(tr||(tr={})),function(l){l.create=function n(s){return{label:s}}}(Ei||(Ei={})),function(l){l.create=function n(s,i){return{items:s||[],isIncomplete:!!i}}}(Ri||(Ri={})),function(l){l.fromPlainText=function n(i){return i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},l.is=function s(i){const a=i;return P.string(a)||P.objectLiteral(a)&&P.string(a.language)&&P.string(a.value)}}(Vr||(Vr={})),function(l){l.is=function n(s){let i=s;return!!i&&P.objectLiteral(i)&&(en.is(i.contents)||Vr.is(i.contents)||P.typedArray(i.contents,Vr.is))&&(void 0===s.range||ee.is(s.range))}}(st||(st={})),function(l){l.create=function n(s,i){return i?{label:s,documentation:i}:{label:s}}}(Ii||(Ii={})),function(l){l.create=function n(s,i,...a){let c={label:s};return P.defined(i)&&(c.documentation=i),c.parameters=P.defined(a)?a:[],c}}(zr||(zr={})),function(l){l.create=function n(s,i){let a={range:s};return P.number(i)&&(a.kind=i),a}}(Si||(Si={})),function(l){l.create=function n(s,i,a,c,d){let m={name:s,kind:i,location:{uri:c,range:a}};return d&&(m.containerName=d),m}}(xi||(xi={})),function(l){l.create=function n(s,i,a,c){return void 0!==c?{name:s,kind:i,location:{uri:a,range:c}}:{name:s,kind:i,location:{uri:a}}}}(bi||(bi={})),function(l){l.create=function n(i,a,c,d,m,A){let $={name:i,detail:a,kind:c,range:d,selectionRange:m};return void 0!==A&&($.children=A),$},l.is=function s(i){let a=i;return a&&P.string(a.name)&&P.number(a.kind)&&ee.is(a.range)&&ee.is(a.selectionRange)&&(void 0===a.detail||P.string(a.detail))&&(void 0===a.deprecated||P.boolean(a.deprecated))&&(void 0===a.children||Array.isArray(a.children))&&(void 0===a.tags||Array.isArray(a.tags))}}(Cn||(Cn={}));var $i,Oi,Ni,wi,ki,Pi,Li,Mi,Sn,Di,Xr,Is,Bn,Fi,Yr,Bi,Gn,Qr,Cs,Gi,Ss,P,Rs=function(l){return l.Invoked=1,l.Automatic=2,l}(Rs||{});!function(l){l.create=function n(i,a,c){let d={diagnostics:i};return null!=a&&(d.only=a),null!=c&&(d.triggerKind=c),d},l.is=function s(i){let a=i;return P.defined(a)&&P.typedArray(a.diagnostics,jr.is)&&(void 0===a.only||P.typedArray(a.only,P.string))&&(void 0===a.triggerKind||a.triggerKind===Rs.Invoked||a.triggerKind===Rs.Automatic)}}($i||($i={})),function(l){l.create=function n(i,a,c){let d={title:i},m=!0;return"string"==typeof a?(m=!1,d.kind=a):ft.is(a)?d.command=a:d.edit=a,m&&void 0!==c&&(d.kind=c),d},l.is=function s(i){let a=i;return a&&P.string(a.title)&&(void 0===a.diagnostics||P.typedArray(a.diagnostics,jr.is))&&(void 0===a.kind||P.string(a.kind))&&(void 0!==a.edit||void 0!==a.command)&&(void 0===a.command||ft.is(a.command))&&(void 0===a.isPreferred||P.boolean(a.isPreferred))&&(void 0===a.edit||As.is(a.edit))}}(Oi||(Oi={})),function(l){l.create=function n(i,a){let c={range:i};return P.defined(a)&&(c.data=a),c},l.is=function s(i){let a=i;return P.defined(a)&&ee.is(a.range)&&(P.undefined(a.command)||ft.is(a.command))}}(Ni||(Ni={})),function(l){l.create=function n(i,a){return{tabSize:i,insertSpaces:a}},l.is=function s(i){let a=i;return P.defined(a)&&P.uinteger(a.tabSize)&&P.boolean(a.insertSpaces)}}(wi||(wi={})),function(l){l.create=function n(i,a,c){return{range:i,target:a,data:c}},l.is=function s(i){let a=i;return P.defined(a)&&ee.is(a.range)&&(P.undefined(a.target)||P.string(a.target))}}(ki||(ki={})),function(l){l.create=function n(i,a){return{range:i,parent:a}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&ee.is(a.range)&&(void 0===a.parent||l.is(a.parent))}}(Pi||(Pi={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(i)&&(void 0===i.resultId||"string"==typeof i.resultId)&&Array.isArray(i.data)&&(0===i.data.length||"number"==typeof i.data[0])}}(Li||(Li={})),function(l){l.create=function n(i,a){return{range:i,text:a}},l.is=function s(i){const a=i;return null!=a&&ee.is(a.range)&&P.string(a.text)}}(Mi||(Mi={})),function(l){l.create=function n(i,a,c){return{range:i,variableName:a,caseSensitiveLookup:c}},l.is=function s(i){const a=i;return null!=a&&ee.is(a.range)&&P.boolean(a.caseSensitiveLookup)&&(P.string(a.variableName)||void 0===a.variableName)}}(Sn||(Sn={})),function(l){l.create=function n(i,a){return{range:i,expression:a}},l.is=function s(i){const a=i;return null!=a&&ee.is(a.range)&&(P.string(a.expression)||void 0===a.expression)}}(Di||(Di={})),function(l){l.create=function n(i,a){return{frameId:i,stoppedLocation:a}},l.is=function s(i){return P.defined(i)&&ee.is(i.stoppedLocation)}}(Xr||(Xr={})),function(l){l.Type=1,l.Parameter=2,l.is=function n(s){return 1===s||2===s}}(Is||(Is={})),function(l){l.create=function n(i){return{value:i}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&(void 0===a.tooltip||P.string(a.tooltip)||en.is(a.tooltip))&&(void 0===a.location||we.is(a.location))&&(void 0===a.command||ft.is(a.command))}}(Bn||(Bn={})),function(l){l.create=function n(i,a,c){const d={position:i,label:a};return void 0!==c&&(d.kind=c),d},l.is=function s(i){const a=i;return P.objectLiteral(a)&&M.is(a.position)&&(P.string(a.label)||P.typedArray(a.label,Bn.is))&&(void 0===a.kind||Is.is(a.kind))&&void 0===a.textEdits||P.typedArray(a.textEdits,dn.is)&&(void 0===a.tooltip||P.string(a.tooltip)||en.is(a.tooltip))&&(void 0===a.paddingLeft||P.boolean(a.paddingLeft))&&(void 0===a.paddingRight||P.boolean(a.paddingRight))}}(Fi||(Fi={})),function(l){l.createSnippet=function n(s){return{kind:"snippet",value:s}}}(Yr||(Yr={})),function(l){l.create=function n(s,i,a,c){return{insertText:s,filterText:i,range:a,command:c}}}(Bi||(Bi={})),function(l){l.create=function n(s){return{items:s}}}(Gn||(Gn={})),function(l){l.create=function n(s,i){return{range:s,text:i}}}(Qr||(Qr={})),function(l){l.create=function n(s,i){return{triggerKind:s,selectedCompletionInfo:i}}}(Cs||(Cs={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(i)&&Zt.is(i.uri)&&P.string(i.name)}}(Gi||(Gi={})),function(l){function a(c,d){if(c.length<=1)return c;const m=c.length/2|0,A=c.slice(0,m),$=c.slice(m);a(A,d),a($,d);let U=0,re=0,se=0;for(;U<A.length&&re<$.length;)d(A[U],$[re])<=0?c[se++]=A[U++]:c[se++]=$[re++];for(;U<A.length;)c[se++]=A[U++];for(;re<$.length;)c[se++]=$[re++];return c}l.create=function n(c,d,m,A){return new Ui(c,d,m,A)},l.is=function s(c){let d=c;return!!(P.defined(d)&&P.string(d.uri)&&(P.undefined(d.languageId)||P.string(d.languageId))&&P.uinteger(d.lineCount)&&P.func(d.getText)&&P.func(d.positionAt)&&P.func(d.offsetAt))},l.applyEdits=function i(c,d){let m=c.getText(),A=a(d,(U,re)=>{let se=U.range.start.line-re.range.start.line;return 0===se?U.range.start.character-re.range.start.character:se}),$=m.length;for(let U=A.length-1;U>=0;U--){let re=A[U],se=c.offsetAt(re.range.start),J=c.offsetAt(re.range.end);if(!(J<=$))throw new Error("Overlapping edit");m=m.substring(0,se)+re.newText+m.substring(J,m.length),$=se}return m}}(Ss||(Ss={}));class Ui{constructor(n,s,i,a){this._uri=n,this._languageId=s,this._version=i,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){let s=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(s,i)}return this._content}update(n,s){this._content=n.text,this._version=s,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let n=[],s=this._content,i=!0;for(let a=0;a<s.length;a++){i&&(n.push(a),i=!1);let c=s.charAt(a);i="\r"===c||"\n"===c,"\r"===c&&a+1<s.length&&"\n"===s.charAt(a+1)&&a++}i&&s.length>0&&n.push(s.length),this._lineOffsets=n}return this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);let s=this.getLineOffsets(),i=0,a=s.length;if(0===a)return M.create(0,n);for(;i<a;){let d=Math.floor((i+a)/2);s[d]>n?a=d:i=d+1}let c=i-1;return M.create(c,n-s[c])}offsetAt(n){let s=this.getLineOffsets();if(n.line>=s.length)return this._content.length;if(n.line<0)return 0;let i=s[n.line];return Math.max(Math.min(i+n.character,n.line+1<s.length?s[n.line+1]:this._content.length),i)}get lineCount(){return this.getLineOffsets().length}}!function(l){const n=Object.prototype.toString;l.defined=function s(J){return typeof J<"u"},l.undefined=function i(J){return typeof J>"u"},l.boolean=function a(J){return!0===J||!1===J},l.string=function c(J){return"[object String]"===n.call(J)},l.number=function d(J){return"[object Number]"===n.call(J)},l.numberRange=function m(J,Ge,Xe){return"[object Number]"===n.call(J)&&Ge<=J&&J<=Xe},l.integer=function A(J){return"[object Number]"===n.call(J)&&-2147483648<=J&&J<=2147483647},l.uinteger=function $(J){return"[object Number]"===n.call(J)&&0<=J&&J<=2147483647},l.func=function U(J){return"[object Function]"===n.call(J)},l.objectLiteral=function re(J){return null!==J&&"object"==typeof J},l.typedArray=function se(J,Ge){return Array.isArray(J)&&J.every(Ge)}}(P||(P={}));class No{constructor(){this.nodeStack=[]}get current(){var n;return null!==(n=this.nodeStack[this.nodeStack.length-1])&&void 0!==n?n:this.rootNode}buildRootNode(n){return this.rootNode=new xn(n),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(n){const s=new bs;return s.grammarSource=n,s.root=this.rootNode,this.current.content.push(s),this.nodeStack.push(s),s}buildLeafNode(n,s){const i=new xs(n.startOffset,n.image.length,(0,w.wf)(n),n.tokenType,!s);return i.grammarSource=s,i.root=this.rootNode,this.current.content.push(i),i}removeNode(n){const s=n.container;if(s){const i=s.content.indexOf(n);i>=0&&s.content.splice(i,1)}}addHiddenNodes(n){const s=[];for(const c of n){const d=new xs(c.startOffset,c.image.length,(0,w.wf)(c),c.tokenType,!0);d.root=this.rootNode,s.push(d)}let i=this.current,a=!1;if(i.content.length>0)i.content.push(...s);else{for(;i.container;){const c=i.container.content.indexOf(i);if(c>0){i.container.content.splice(c,0,...s),a=!0;break}i=i.container}a||this.rootNode.content.unshift(...s)}}construct(n){const s=this.current;"string"==typeof n.$type&&(this.current.astNode=n),n.$cstNode=s;const i=this.nodeStack.pop();0===i?.content.length&&this.removeNode(i)}}class Ki{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var n,s;const i="string"==typeof(null===(n=this._astNode)||void 0===n?void 0:n.$type)?this._astNode:null===(s=this.container)||void 0===s?void 0:s.astNode;if(!i)throw new Error("This node has no associated AST element");return i}set astNode(n){this._astNode=n}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class xs extends Ki{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(n,s,i,a,c=!1){super(),this._hidden=c,this._offset=n,this._tokenType=a,this._length=s,this._range=i}}class bs extends Ki{constructor(){super(...arguments),this.content=new $s(this)}get children(){return this.content}get offset(){var n,s;return null!==(s=null===(n=this.firstNonHiddenNode)||void 0===n?void 0:n.offset)&&void 0!==s?s:0}get length(){return this.end-this.offset}get end(){var n,s;return null!==(s=null===(n=this.lastNonHiddenNode)||void 0===n?void 0:n.end)&&void 0!==s?s:0}get range(){const n=this.firstNonHiddenNode,s=this.lastNonHiddenNode;if(n&&s){if(void 0===this._rangeCache){const{range:i}=n,{range:a}=s;this._rangeCache={start:i.start,end:a.end.line<i.start.line?i.start:a.end}}return this._rangeCache}return{start:M.create(0,0),end:M.create(0,0)}}get firstNonHiddenNode(){for(const n of this.content)if(!n.hidden)return n;return this.content[0]}get lastNonHiddenNode(){for(let n=this.content.length-1;n>=0;n--){const s=this.content[n];if(!s.hidden)return s}return this.content[this.content.length-1]}}class $s extends Array{constructor(n){super(),this.parent=n,Object.setPrototypeOf(this,$s.prototype)}push(...n){return this.addParents(n),super.push(...n)}unshift(...n){return this.addParents(n),super.unshift(...n)}splice(n,s,...i){return this.addParents(i),super.splice(n,s,...i)}addParents(n){for(const s of n)s.container=this.parent}}class xn extends bs{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(n){super(),this._text="",this._text=n??""}}const bn=Symbol("Datatype");function Os(l){return l.$type===bn}const Wi=l=>l.endsWith("\u200b")?l:l+"\u200b";class Hi{constructor(n){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=n.parser.Lexer;const i="production"===n.LanguageMetaData.mode;this.wrapper=new xr(this.lexer.definition,Object.assign(Object.assign({},n.parser.ParserConfig),{skipValidations:i,errorMessageProvider:n.parser.ParserErrorMessageProvider}))}alternatives(n,s){this.wrapper.wrapOr(n,s)}optional(n,s){this.wrapper.wrapOption(n,s)}many(n,s){this.wrapper.wrapMany(n,s)}atLeastOne(n,s){this.wrapper.wrapAtLeastOne(n,s)}getRule(n){return this.allRules.get(n)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class wo extends Hi{get current(){return this.stack[this.stack.length-1]}constructor(n){super(n),this.nodeBuilder=new No,this.stack=[],this.assignmentMap=new Map,this.linker=n.references.Linker,this.converter=n.parser.ValueConverter,this.astReflection=n.shared.AstReflection}rule(n,s){const i=this.computeRuleType(n),a=this.wrapper.DEFINE_RULE(Wi(n.name),this.startImplementation(i,s).bind(this));return this.allRules.set(n.name,a),n.entry&&(this.mainRule=a),a}computeRuleType(n){if(!n.fragment)return(0,L.Xq)(n)?bn:(0,L.PV)(n)??n.name}parse(n,s={}){this.nodeBuilder.buildRootNode(n);const i=this.lexerResult=this.lexer.tokenize(n);this.wrapper.input=i.tokens;const a=s.rule?this.allRules.get(s.rule):this.mainRule;if(!a)throw new Error(s.rule?`No rule found with name '${s.rule}'`:"No main rule available.");const c=a.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(i.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:c,lexerErrors:i.errors,lexerReport:i.report,parserErrors:this.wrapper.errors}}startImplementation(n,s){return i=>{const a=!this.isRecording()&&void 0!==n;if(a){const d={$type:n};this.stack.push(d),n===bn&&(d.value="")}let c;try{c=s(i)}catch{c=void 0}return void 0===c&&a&&(c=this.construct()),c}}extractHiddenTokens(n){const s=this.lexerResult.hidden;if(!s.length)return[];const i=n.startOffset;for(let a=0;a<s.length;a++)if(s[a].startOffset>i)return s.splice(0,a);return s.splice(0,s.length)}consume(n,s,i){const a=this.wrapper.wrapConsume(n,s);if(!this.isRecording()&&this.isValidToken(a)){const c=this.extractHiddenTokens(a);this.nodeBuilder.addHiddenNodes(c);const d=this.nodeBuilder.buildLeafNode(a,i),{assignment:m,isCrossRef:A}=this.getAssignment(i),$=this.current;if(m){const U=(0,N.wb)(i)?a.image:this.converter.convert(a.image,d);this.assign(m.operator,m.feature,U,d,A)}else if(Os($)){let U=a.image;(0,N.wb)(i)||(U=this.converter.convert(U,d).toString()),$.value+=U}}}isValidToken(n){return!n.isInsertedInRecovery&&!isNaN(n.startOffset)&&"number"==typeof n.endOffset&&!isNaN(n.endOffset)}subrule(n,s,i,a,c){let d;!this.isRecording()&&!i&&(d=this.nodeBuilder.buildCompositeNode(a));const m=this.wrapper.wrapSubrule(n,s,c);!this.isRecording()&&d&&d.length>0&&this.performSubruleAssignment(m,a,d)}performSubruleAssignment(n,s,i){const{assignment:a,isCrossRef:c}=this.getAssignment(s);if(a)this.assign(a.operator,a.feature,n,i,c);else if(!a){const d=this.current;if(Os(d))d.value+=n.toString();else if("object"==typeof n&&n){const A=this.assignWithoutOverride(n,d);this.stack.pop(),this.stack.push(A)}}}action(n,s){if(!this.isRecording()){let i=this.current;s.feature&&s.operator?(i=this.construct(),this.nodeBuilder.removeNode(i.$cstNode),this.nodeBuilder.buildCompositeNode(s).content.push(i.$cstNode),this.stack.push({$type:n}),this.assign(s.operator,s.feature,i,i.$cstNode,!1)):i.$type=n}}construct(){if(this.isRecording())return;const n=this.current;return(0,We.SD)(n),this.nodeBuilder.construct(n),this.stack.pop(),Os(n)?this.converter.convert(n.value,n.$cstNode):((0,We.OP)(this.astReflection,n),n)}getAssignment(n){if(!this.assignmentMap.has(n)){const s=(0,We.XG)(n,N.wh);this.assignmentMap.set(n,{assignment:s,isCrossRef:!!s&&(0,N._c)(s.terminal)})}return this.assignmentMap.get(n)}assign(n,s,i,a,c){const d=this.current;let m;switch(m=c&&"string"==typeof i?this.linker.buildReference(d,s,a,i):i,n){case"=":d[s]=m;break;case"?=":d[s]=!0;break;case"+=":Array.isArray(d[s])||(d[s]=[]),d[s].push(m)}}assignWithoutOverride(n,s){for(const[a,c]of Object.entries(s)){const d=n[a];void 0===d?n[a]=c:Array.isArray(d)&&Array.isArray(c)&&(c.push(...d),n[a]=c)}const i=n.$cstNode;return i&&(i.astNode=void 0,n.$cstNode=void 0),n}get definitionErrors(){return this.wrapper.definitionErrors}}class He{buildMismatchTokenMessage(n){return D.my.buildMismatchTokenMessage(n)}buildNotAllInputParsedMessage(n){return D.my.buildNotAllInputParsedMessage(n)}buildNoViableAltMessage(n){return D.my.buildNoViableAltMessage(n)}buildEarlyExitMessage(n){return D.my.buildEarlyExitMessage(n)}}class Vi extends He{buildMismatchTokenMessage({expected:n,actual:s}){return`Expecting ${n.LABEL?"`"+n.LABEL+"`":n.name.endsWith(":KW")?`keyword '${n.name.substring(0,n.name.length-3)}'`:`token of type '${n.name}'`} but found \`${s.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:n}){return`Expecting end of file but found \`${n.image}\`.`}}class ko extends Hi{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(n){this.resetState();const s=this.lexer.tokenize(n,{mode:"partial"});return this.tokens=s.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(n,s){const i=this.wrapper.DEFINE_RULE(Wi(n.name),this.startImplementation(s).bind(this));return this.allRules.set(n.name,i),n.entry&&(this.mainRule=i),i}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(n){return s=>{const i=this.keepStackSize();try{n(s)}finally{this.resetStackSize(i)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const n=this.elementStack.length;return this.stackSize=n,n}resetStackSize(n){this.removeUnexpectedElements(),this.stackSize=n}consume(n,s,i){this.wrapper.wrapConsume(n,s),this.isRecording()||(this.lastElementStack=[...this.elementStack,i],this.nextTokenIndex=this.currIdx+1)}subrule(n,s,i,a,c){this.before(a),this.wrapper.wrapSubrule(n,s,c),this.after(a)}before(n){this.isRecording()||this.elementStack.push(n)}after(n){if(!this.isRecording()){const s=this.elementStack.lastIndexOf(n);s>=0&&this.elementStack.splice(s)}}get currIdx(){return this.wrapper.currIdx}}const Po={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Vi};class xr extends D.jr{constructor(n,s){const i=s&&"maxLookahead"in s;super(n,Object.assign(Object.assign(Object.assign({},Po),{lookaheadStrategy:i?new D.T6({maxLookahead:s.maxLookahead}):new _r({logging:s.skipValidations?()=>{}:void 0})}),s))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(n,s){return this.RULE(n,s)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(n,s){return this.consume(n,s)}wrapSubrule(n,s,i){return this.subrule(n,s,{ARGS:[i]})}wrapOr(n,s){this.or(n,s)}wrapOption(n,s){this.option(n,s)}wrapMany(n,s){this.many(n,s)}wrapAtLeastOne(n,s){this.atLeastOne(n,s)}}var nr=b(8586),rt=b(4193);function zi(l,n,s){return function Lo(l,n){const s=(0,L.YV)(n,!1),i=(0,rt.Td)(n.rules).filter(N.s7).filter(a=>s.has(a));for(const a of i){const c=Object.assign(Object.assign({},l),{consume:1,optional:1,subrule:1,many:1,or:1});l.parser.rule(a,Un(c,a.definition))}}({parser:n,tokens:s,ruleNames:new Map},l),n}function Un(l,n,s=!1){let i;if((0,N.wb)(n))i=function Ko(l,n){const s=l.consume++,i=l.tokens[n.value];if(!i)throw new Error("Could not find token for keyword: "+n.value);return()=>l.parser.consume(s,i,n)}(l,n);else if((0,N.ve)(n))i=function Mo(l,n){const s=(0,L.Uz)(n);return()=>l.parser.action(s,n)}(l,n);else if((0,N.wh)(n))i=Un(l,n.terminal);else if((0,N._c)(n))i=br(l,n);else if((0,N.$g)(n))i=function Do(l,n){const s=n.rule.ref;if((0,N.s7)(s)){const i=l.subrule++,a=s.fragment,c=n.arguments.length>0?function Fo(l,n){const s=n.map(i=>hn(i.value));return i=>{const a={};for(let c=0;c<s.length;c++)a[l.parameters[c].name]=(0,s[c])(i);return a}}(s,n.arguments):()=>({});return d=>l.parser.subrule(i,Yi(l,s),a,n,c(d))}if((0,N.rE)(s)){const i=l.consume++,a=Ns(l,s.name);return()=>l.parser.consume(i,a,n)}if(!s)throw new nr.W(n.$cstNode,`Undefined rule: ${n.rule.$refText}`);(0,nr.d)(s)}(l,n);else if((0,N.jp)(n))i=function Bo(l,n){if(1===n.elements.length)return Un(l,n.elements[0]);{const s=[];for(const a of n.elements){const c={ALT:Un(l,a,!0)},d=pn(a);d&&(c.GATE=hn(d)),s.push(c)}const i=l.or++;return a=>l.parser.alternatives(i,s.map(c=>{const d={ALT:()=>c.ALT(a)},m=c.GATE;return m&&(d.GATE=()=>m(a)),d}))}}(l,n);else if((0,N.cY)(n))i=function Go(l,n){if(1===n.elements.length)return Un(l,n.elements[0]);const s=[];for(const m of n.elements){const A={ALT:Un(l,m,!0)},$=pn(m);$&&(A.GATE=hn($)),s.push(A)}const i=l.or++,a=(m,A)=>`uGroup_${m}_${A.getRuleStack().join("-")}`,d=Xi(l,pn(n),m=>l.parser.alternatives(i,s.map((A,$)=>{const U={ALT:()=>!0},re=l.parser;U.ALT=()=>{if(A.ALT(m),!re.isRecording()){const J=a(i,re);re.unorderedGroups.get(J)||re.unorderedGroups.set(J,[]);const Ge=re.unorderedGroups.get(J);typeof Ge?.[$]>"u"&&(Ge[$]=!0)}};const se=A.GATE;return U.GATE=se?()=>se(m):()=>{const J=re.unorderedGroups.get(a(i,re));return!J?.[$]},U})),"*");return m=>{d(m),l.parser.isRecording()||l.parser.unorderedGroups.delete(a(i,l.parser))}}(l,n);else if((0,N.IZ)(n))i=function Uo(l,n){const s=n.elements.map(i=>Un(l,i));return i=>s.forEach(a=>a(i))}(l,n);else{if(!(0,N.FO)(n))throw new nr.W(n.$cstNode,`Unexpected element type: ${n.$type}`);{const a=l.consume++;i=()=>l.parser.consume(a,D.LT,n)}}return Xi(l,s?void 0:pn(n),i,n.cardinality)}function hn(l){if((0,N.RP)(l)){const n=hn(l.left),s=hn(l.right);return i=>n(i)||s(i)}if((0,N.Tu)(l)){const n=hn(l.left),s=hn(l.right);return i=>n(i)&&s(i)}if((0,N.Ct)(l)){const n=hn(l.value);return s=>!n(s)}if((0,N.TF)(l)){const n=l.parameter.ref.name;return s=>void 0!==s&&!0===s[n]}if((0,N.Cz)(l)){const n=!!l.true;return()=>n}(0,nr.d)(l)}function pn(l){if((0,N.IZ)(l))return l.guardCondition}function br(l,n,s=n.terminal){if(s){if((0,N.$g)(s)&&(0,N.s7)(s.rule.ref)){const i=s.rule.ref,a=l.subrule++;return c=>l.parser.subrule(a,Yi(l,i),!1,n,c)}if((0,N.$g)(s)&&(0,N.rE)(s.rule.ref)){const i=l.consume++,a=Ns(l,s.rule.ref.name);return()=>l.parser.consume(i,a,n)}if((0,N.wb)(s)){const i=l.consume++,a=Ns(l,s.value);return()=>l.parser.consume(i,a,n)}throw new Error("Could not build cross reference parser")}{if(!n.type.ref)throw new Error("Could not resolve reference to type: "+n.type.$refText);const i=(0,L.U5)(n.type.ref),a=i?.terminal;if(!a)throw new Error("Could not find name assignment for type: "+(0,L.Uz)(n.type.ref));return br(l,n,a)}}function Xi(l,n,s,i){const a=n&&hn(n);if(!i){if(a){const c=l.or++;return d=>l.parser.alternatives(c,[{ALT:()=>s(d),GATE:()=>a(d)},{ALT:(0,D.mT)(),GATE:()=>!a(d)}])}return s}if("*"===i){const c=l.many++;return d=>l.parser.many(c,{DEF:()=>s(d),GATE:a?()=>a(d):void 0})}if("+"===i){const c=l.many++;if(a){const d=l.or++;return m=>l.parser.alternatives(d,[{ALT:()=>l.parser.atLeastOne(c,{DEF:()=>s(m)}),GATE:()=>a(m)},{ALT:(0,D.mT)(),GATE:()=>!a(m)}])}return d=>l.parser.atLeastOne(c,{DEF:()=>s(d)})}if("?"===i){const c=l.optional++;return d=>l.parser.optional(c,{DEF:()=>s(d),GATE:a?()=>a(d):void 0})}(0,nr.d)(i)}function Yi(l,n){const s=function jo(l,n){if((0,N.s7)(n))return n.name;if(l.ruleNames.has(n))return l.ruleNames.get(n);{let s=n,i=s.$container,a=n.$type;for(;!(0,N.s7)(i);)((0,N.IZ)(i)||(0,N.jp)(i)||(0,N.cY)(i))&&(a=i.elements.indexOf(s).toString()+":"+a),s=i,i=i.$container;return a=i.name+":"+a,l.ruleNames.set(n,a),a}}(l,n),i=l.parser.getRule(s);if(!i)throw new Error(`Rule "${s}" not found."`);return i}function Ns(l,n){const s=l.tokens[n];if(!s)throw new Error(`Token "${n}" not found."`);return s}var zo=b(3460),$r=b(6535),Pe=b(9204),Je=b(3302),Ve=b(7449);let Jr=0;const qr=Symbol("OperationCancelled");function Zr(l){return l===qr}function xt(l){return ws.apply(this,arguments)}function ws(){return ws=(0,Pe.A)(function*(l){if(l===Je.XO.None)return;const n=performance.now();if(n-Jr>=10&&(Jr=n,yield function Xo(){return new Promise(l=>{typeof setImmediate>"u"?setTimeout(l,0):setImmediate(l)})}(),Jr=performance.now()),l.isCancellationRequested)throw qr}),ws.apply(this,arguments)}class ks{constructor(){this.promise=new Promise((n,s)=>{this.resolve=i=>(n(i),this),this.reject=i=>(s(i),this)})}}class Or{constructor(n,s,i,a){this._uri=n,this._languageId=s,this._version=i,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){const s=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(s,i)}return this._content}update(n,s){for(const i of n)if(Or.isIncremental(i)){const a=Ji(i.range),c=this.offsetAt(a.start),d=this.offsetAt(a.end);this._content=this._content.substring(0,c)+i.text+this._content.substring(d,this._content.length);const m=Math.max(a.start.line,0),A=Math.max(a.end.line,0);let $=this._lineOffsets;const U=Kn(i.text,!1,c);if(A-m===U.length)for(let se=0,J=U.length;se<J;se++)$[se+m+1]=U[se];else U.length<1e4?$.splice(m+1,A-m,...U):this._lineOffsets=$=$.slice(0,m+1).concat(U,$.slice(A+1));const re=i.text.length-(d-c);if(0!==re)for(let se=m+1+U.length,J=$.length;se<J;se++)$[se]=$[se]+re}else{if(!Or.isFull(i))throw new Error("Unknown change event received");this._content=i.text,this._lineOffsets=void 0}this._version=s}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Kn(this._content,!0)),this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);const s=this.getLineOffsets();let i=0,a=s.length;if(0===a)return{line:0,character:n};for(;i<a;){const d=Math.floor((i+a)/2);s[d]>n?a=d:i=d+1}const c=i-1;return{line:c,character:(n=this.ensureBeforeEOL(n,s[c]))-s[c]}}offsetAt(n){const s=this.getLineOffsets();if(n.line>=s.length)return this._content.length;if(n.line<0)return 0;const i=s[n.line];if(n.character<=0)return i;const c=Math.min(i+n.character,n.line+1<s.length?s[n.line+1]:this._content.length);return this.ensureBeforeEOL(c,i)}ensureBeforeEOL(n,s){for(;n>s&&Ms(this._content.charCodeAt(n-1));)n--;return n}get lineCount(){return this.getLineOffsets().length}static isIncremental(n){return null!=n&&"string"==typeof n.text&&void 0!==n.range&&(void 0===n.rangeLength||"number"==typeof n.rangeLength)}static isFull(n){return null!=n&&"string"==typeof n.text&&void 0===n.range&&void 0===n.rangeLength}}var Ps;function Ls(l,n){if(l.length<=1)return l;const s=l.length/2|0,i=l.slice(0,s),a=l.slice(s);Ls(i,n),Ls(a,n);let c=0,d=0,m=0;for(;c<i.length&&d<a.length;)n(i[c],a[d])<=0?l[m++]=i[c++]:l[m++]=a[d++];for(;c<i.length;)l[m++]=i[c++];for(;d<a.length;)l[m++]=a[d++];return l}function Kn(l,n,s=0){const i=n?[s]:[];for(let a=0;a<l.length;a++){const c=l.charCodeAt(a);Ms(c)&&(13===c&&a+1<l.length&&10===l.charCodeAt(a+1)&&a++,i.push(s+a+1))}return i}function Ms(l){return 13===l||10===l}function Ji(l){const n=l.start,s=l.end;return n.line>s.line||n.line===s.line&&n.character>s.character?{start:s,end:n}:l}function Qo(l){const n=Ji(l.range);return n!==l.range?{newText:l.newText,range:n}:l}!function(l){l.create=function n(a,c,d,m){return new Or(a,c,d,m)},l.update=function s(a,c,d){if(a instanceof Or)return a.update(c,d),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")},l.applyEdits=function i(a,c){const d=a.getText(),m=Ls(c.map(Qo),(U,re)=>{const se=U.range.start.line-re.range.start.line;return 0===se?U.range.start.character-re.range.start.character:se});let A=0;const $=[];for(const U of m){const re=a.offsetAt(U.range.start);if(re<A)throw new Error("Overlapping edit");re>A&&$.push(d.substring(A,re)),U.newText.length&&$.push(U.newText),A=a.offsetAt(U.range.end)}return $.push(d.substr(A)),$.join("")}}(Ps||(Ps={}));var Gt=b(2510),qe=function(l){return l[l.Changed=0]="Changed",l[l.Parsed=1]="Parsed",l[l.IndexedContent=2]="IndexedContent",l[l.ComputedScopes=3]="ComputedScopes",l[l.Linked=4]="Linked",l[l.IndexedReferences=5]="IndexedReferences",l[l.Validated=6]="Validated",l}(qe||{});class Jo{constructor(n){this.serviceRegistry=n.ServiceRegistry,this.textDocuments=n.workspace.TextDocuments,this.fileSystemProvider=n.workspace.FileSystemProvider}fromUri(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){const c=yield s.fileSystemProvider.readFile(i);return s.createAsync(i,c,a)}).apply(this,arguments)}fromTextDocument(n,s,i){return s=s??Gt.r.parse(n.uri),Je.XO.is(i)?this.createAsync(s,n,i):this.create(s,n,i)}fromString(n,s,i){return Je.XO.is(i)?this.createAsync(s,n,i):this.create(s,n,i)}fromModel(n,s){return this.create(s,{$model:n})}create(n,s,i){if("string"==typeof s){const a=this.parse(n,s,i);return this.createLangiumDocument(a,n,void 0,s)}if("$model"in s)return this.createLangiumDocument({value:s.$model,parserErrors:[],lexerErrors:[]},n);{const a=this.parse(n,s.getText(),i);return this.createLangiumDocument(a,n,s)}}createAsync(n,s,i){var a=this;return(0,Pe.A)(function*(){if("string"==typeof s){const c=yield a.parseAsync(n,s,i);return a.createLangiumDocument(c,n,void 0,s)}{const c=yield a.parseAsync(n,s.getText(),i);return a.createLangiumDocument(c,n,s)}})()}createLangiumDocument(n,s,i,a){let c;if(i)c={parseResult:n,uri:s,state:qe.Parsed,references:[],textDocument:i};else{const d=this.createTextDocumentGetter(s,a);c={parseResult:n,uri:s,state:qe.Parsed,references:[],get textDocument(){return d()}}}return n.value.$document=c,c}update(n,s){var i=this;return(0,Pe.A)(function*(){var a,c;const d=null===(a=n.parseResult.value.$cstNode)||void 0===a?void 0:a.root.fullText,m=null===(c=i.textDocuments)||void 0===c?void 0:c.get(n.uri.toString()),A=m?m.getText():yield i.fileSystemProvider.readFile(n.uri);if(m)Object.defineProperty(n,"textDocument",{value:m});else{const $=i.createTextDocumentGetter(n.uri,A);Object.defineProperty(n,"textDocument",{get:$})}return d!==A&&(n.parseResult=yield i.parseAsync(n.uri,A,s),n.parseResult.value.$document=n),n.state=qe.Parsed,n})()}parse(n,s,i){return this.serviceRegistry.getServices(n).parser.LangiumParser.parse(s,i)}parseAsync(n,s,i){return this.serviceRegistry.getServices(n).parser.AsyncParser.parse(s,i)}createTextDocumentGetter(n,s){const i=this.serviceRegistry;let a;return()=>a??(a=Ps.create(n.toString(),i.getServices(n).LanguageMetaData.languageId,0,s??""))}}class es{constructor(n){this.documentMap=new Map,this.langiumDocumentFactory=n.workspace.LangiumDocumentFactory,this.serviceRegistry=n.ServiceRegistry}get all(){return(0,rt.Td)(this.documentMap.values())}addDocument(n){const s=n.uri.toString();if(this.documentMap.has(s))throw new Error(`A document with the URI '${s}' is already present.`);this.documentMap.set(s,n)}getDocument(n){const s=n.toString();return this.documentMap.get(s)}getOrCreateDocument(n,s){var i=this;return(0,Pe.A)(function*(){let a=i.getDocument(n);return a||(a=yield i.langiumDocumentFactory.fromUri(n,s),i.addDocument(a),a)})()}createDocument(n,s,i){if(i)return this.langiumDocumentFactory.fromString(s,n,i).then(a=>(this.addDocument(a),a));{const a=this.langiumDocumentFactory.fromString(s,n);return this.addDocument(a),a}}hasDocument(n){return this.documentMap.has(n.toString())}invalidateDocument(n){const s=n.toString(),i=this.documentMap.get(s);return i&&(this.serviceRegistry.getServices(n).references.Linker.unlink(i),i.state=qe.Changed,i.precomputedScopes=void 0,i.diagnostics=void 0),i}deleteDocument(n){const s=n.toString(),i=this.documentMap.get(s);return i&&(i.state=qe.Changed,this.documentMap.delete(s)),i}}const Ds=Symbol("ref_resolving");class qo{constructor(n){this.reflection=n.shared.AstReflection,this.langiumDocuments=()=>n.shared.workspace.LangiumDocuments,this.scopeProvider=n.references.ScopeProvider,this.astNodeLocator=n.workspace.AstNodeLocator}link(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){for(const c of(0,We.jm)(i.parseResult.value))yield xt(a),(0,We.DM)(c).forEach(d=>s.doLink(d,i))}).apply(this,arguments)}doLink(n,s){var i;const a=n.reference;if(void 0===a._ref){a._ref=Ds;try{const c=this.getCandidate(n);if((0,Ve.Zl)(c))a._ref=c;else if(a._nodeDescription=c,this.langiumDocuments().hasDocument(c.documentUri)){const d=this.loadAstNode(c);a._ref=d??this.createLinkingError(n,c)}else a._ref=void 0}catch(c){console.error(`An error occurred while resolving reference to '${a.$refText}':`,c);const d=null!==(i=c.message)&&void 0!==i?i:String(c);a._ref=Object.assign(Object.assign({},n),{message:`An error occurred while resolving reference to '${a.$refText}': ${d}`})}s.references.push(a)}}unlink(n){for(const s of n.references)delete s._ref,delete s._nodeDescription;n.references=[]}getCandidate(n){return this.scopeProvider.getScope(n).getElement(n.reference.$refText)??this.createLinkingError(n)}buildReference(n,s,i,a){const c=this,d={$refNode:i,$refText:a,get ref(){var m;if((0,Ve.ng)(this._ref))return this._ref;if((0,Ve.Nr)(this._nodeDescription)){const A=c.loadAstNode(this._nodeDescription);this._ref=A??c.createLinkingError({reference:d,container:n,property:s},this._nodeDescription)}else if(void 0===this._ref){this._ref=Ds;const A=(0,We.cQ)(n).$document,$=c.getLinkedNode({reference:d,container:n,property:s});if($.error&&A&&A.state<qe.ComputedScopes)return this._ref=void 0;this._ref=null!==(m=$.node)&&void 0!==m?m:$.error,this._nodeDescription=$.descr,A?.references.push(this)}else if(this._ref===Ds)throw new Error(`Cyclic reference resolution detected: ${c.astNodeLocator.getAstNodePath(n)}/${s} (symbol '${a}')`);return(0,Ve.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,Ve.Zl)(this._ref)?this._ref:void 0}};return d}getLinkedNode(n){var s;try{const i=this.getCandidate(n);if((0,Ve.Zl)(i))return{error:i};const a=this.loadAstNode(i);return a?{node:a,descr:i}:{descr:i,error:this.createLinkingError(n,i)}}catch(i){console.error(`An error occurred while resolving reference to '${n.reference.$refText}':`,i);const a=null!==(s=i.message)&&void 0!==s?s:String(i);return{error:Object.assign(Object.assign({},n),{message:`An error occurred while resolving reference to '${n.reference.$refText}': ${a}`})}}}loadAstNode(n){if(n.node)return n.node;const s=this.langiumDocuments().getDocument(n.documentUri);return s?this.astNodeLocator.getAstNode(s.parseResult.value,n.path):void 0}createLinkingError(n,s){const i=(0,We.cQ)(n.container).$document;i&&i.state<qe.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${i.uri}).`);const a=this.reflection.getReferenceType(n);return Object.assign(Object.assign({},n),{message:`Could not resolve reference to ${a} named '${n.reference.$refText}'.`,targetDescription:s})}}class el{getName(n){if(function Zo(l){return"string"==typeof l.name}(n))return n.name}getNameNode(n){return(0,L.qO)(n.$cstNode,"name")}}var $n;!function(l){l.basename=Gt.A.basename,l.dirname=Gt.A.dirname,l.extname=Gt.A.extname,l.joinPath=Gt.A.joinPath,l.resolvePath=Gt.A.resolvePath,l.equals=function n(a,c){return a?.toString()===c?.toString()},l.relative=function s(a,c){const m="string"==typeof c?c:c.path,A=("string"==typeof a?a:a.path).split("/").filter(J=>J.length>0),$=m.split("/").filter(J=>J.length>0);let U=0;for(;U<A.length&&A[U]===$[U];U++);return"../".repeat(A.length-U)+$.slice(U).join("/")},l.normalize=function i(a){return Gt.r.parse(a.toString()).toString()}}($n||($n={}));class tl{constructor(n){this.nameProvider=n.references.NameProvider,this.index=n.shared.workspace.IndexManager,this.nodeLocator=n.workspace.AstNodeLocator}findDeclaration(n){if(n){const s=(0,L.Rp)(n),i=n.astNode;if(s&&i){const a=i[s.feature];if((0,Ve.A_)(a))return a.ref;if(Array.isArray(a))for(const c of a)if((0,Ve.A_)(c)&&c.$refNode&&c.$refNode.offset<=n.offset&&c.$refNode.end>=n.end)return c.ref}if(i){const a=this.nameProvider.getNameNode(i);if(a&&(a===n||(0,w.pO)(n,a)))return i}}}findDeclarationNode(n){const s=this.findDeclaration(n);if(s?.$cstNode)return this.nameProvider.getNameNode(s)??s.$cstNode}findReferences(n,s){const i=[];if(s.includeDeclaration){const c=this.getReferenceToSelf(n);c&&i.push(c)}let a=this.index.findAllReferences(n,this.nodeLocator.getAstNodePath(n));return s.documentUri&&(a=a.filter(c=>$n.equals(c.sourceUri,s.documentUri))),i.push(...a),(0,rt.Td)(i)}getReferenceToSelf(n){const s=this.nameProvider.getNameNode(n);if(s){const i=(0,We.YE)(n),a=this.nodeLocator.getAstNodePath(n);return{sourceUri:i.uri,sourcePath:a,targetUri:i.uri,targetPath:a,segment:(0,w.SX)(s),local:!0}}}}class ts{constructor(n){if(this.map=new Map,n)for(const[s,i]of n)this.add(s,i)}get size(){return rt.iD.sum((0,rt.Td)(this.map.values()).map(n=>n.length))}clear(){this.map.clear()}delete(n,s){if(void 0===s)return this.map.delete(n);{const i=this.map.get(n);if(i){const a=i.indexOf(s);if(a>=0)return 1===i.length?this.map.delete(n):i.splice(a,1),!0}return!1}}get(n){var s;return null!==(s=this.map.get(n))&&void 0!==s?s:[]}has(n,s){if(void 0===s)return this.map.has(n);{const i=this.map.get(n);return!!i&&i.indexOf(s)>=0}}add(n,s){return this.map.has(n)?this.map.get(n).push(s):this.map.set(n,[s]),this}addAll(n,s){return this.map.has(n)?this.map.get(n).push(...s):this.map.set(n,Array.from(s)),this}forEach(n){this.map.forEach((s,i)=>s.forEach(a=>n(a,i,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,rt.Td)(this.map.entries()).flatMap(([n,s])=>s.map(i=>[n,i]))}keys(){return(0,rt.Td)(this.map.keys())}values(){return(0,rt.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,rt.Td)(this.map.entries())}}class qi{get size(){return this.map.size}constructor(n){if(this.map=new Map,this.inverse=new Map,n)for(const[s,i]of n)this.set(s,i)}clear(){this.map.clear(),this.inverse.clear()}set(n,s){return this.map.set(n,s),this.inverse.set(s,n),this}get(n){return this.map.get(n)}getKey(n){return this.inverse.get(n)}delete(n){const s=this.map.get(n);return void 0!==s&&(this.map.delete(n),this.inverse.delete(s),!0)}}class rr{constructor(n){this.nameProvider=n.references.NameProvider,this.descriptions=n.workspace.AstNodeDescriptionProvider}computeExports(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){return s.computeExportsForNode(i.parseResult.value,i,void 0,a)}).apply(this,arguments)}computeExportsForNode(n,s){var i=this;return(0,Pe.A)(function*(a,c,d=We.VN,m=Je.XO.None){const A=[];i.exportNode(a,A,c);for(const $ of d(a))yield xt(m),i.exportNode($,A,c);return A}).apply(this,arguments)}exportNode(n,s,i){const a=this.nameProvider.getName(n);a&&s.push(this.descriptions.createDescription(n,a,i))}computeLocalScopes(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){const c=i.parseResult.value,d=new ts;for(const m of(0,We.Uo)(c))yield xt(a),s.processNode(m,i,d);return d}).apply(this,arguments)}processNode(n,s,i){const a=n.$container;if(a){const c=this.nameProvider.getName(n);c&&i.add(a,this.descriptions.createDescription(n,c,s))}}}class Nr{constructor(n,s,i){var a;this.elements=n,this.outerScope=s,this.caseInsensitive=null!==(a=i?.caseInsensitive)&&void 0!==a&&a}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(n){return this.elements.find(this.caseInsensitive?i=>i.name.toLowerCase()===n.toLowerCase():i=>i.name===n)||(this.outerScope?this.outerScope.getElement(n):void 0)}}class nl{constructor(n,s,i){var a;this.elements=new Map,this.caseInsensitive=null!==(a=i?.caseInsensitive)&&void 0!==a&&a;for(const c of n){const d=this.caseInsensitive?c.name.toLowerCase():c.name;this.elements.set(d,c)}this.outerScope=s}getElement(n){const s=this.caseInsensitive?n.toLowerCase():n;return this.elements.get(s)||(this.outerScope?this.outerScope.getElement(n):void 0)}getAllElements(){let n=(0,rt.Td)(this.elements.values());return this.outerScope&&(n=n.concat(this.outerScope.getAllElements())),n}}class Zi{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(n){this.toDispose.push(n)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(n=>n.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class sr extends Zi{constructor(){super(...arguments),this.cache=new Map}has(n){return this.throwIfDisposed(),this.cache.has(n)}set(n,s){this.throwIfDisposed(),this.cache.set(n,s)}get(n,s){if(this.throwIfDisposed(),this.cache.has(n))return this.cache.get(n);if(s){const i=s();return this.cache.set(n,i),i}}delete(n){return this.throwIfDisposed(),this.cache.delete(n)}clear(){this.throwIfDisposed(),this.cache.clear()}}class ir extends Zi{constructor(n){super(),this.cache=new Map,this.converter=n??(s=>s)}has(n,s){return this.throwIfDisposed(),this.cacheForContext(n).has(s)}set(n,s,i){this.throwIfDisposed(),this.cacheForContext(n).set(s,i)}get(n,s,i){this.throwIfDisposed();const a=this.cacheForContext(n);if(a.has(s))return a.get(s);if(i){const c=i();return a.set(s,c),c}}delete(n,s){return this.throwIfDisposed(),this.cacheForContext(n).delete(s)}clear(n){if(this.throwIfDisposed(),n){const s=this.converter(n);this.cache.delete(s)}else this.cache.clear()}cacheForContext(n){const s=this.converter(n);let i=this.cache.get(s);return i||(i=new Map,this.cache.set(s,i)),i}}class rl extends sr{constructor(n,s){super(),s?(this.toDispose.push(n.workspace.DocumentBuilder.onBuildPhase(s,()=>{this.clear()})),this.toDispose.push(n.workspace.DocumentBuilder.onUpdate((i,a)=>{a.length>0&&this.clear()}))):this.toDispose.push(n.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class sl{constructor(n){this.reflection=n.shared.AstReflection,this.nameProvider=n.references.NameProvider,this.descriptions=n.workspace.AstNodeDescriptionProvider,this.indexManager=n.shared.workspace.IndexManager,this.globalScopeCache=new rl(n.shared)}getScope(n){const s=[],i=this.reflection.getReferenceType(n),a=(0,We.YE)(n.container).precomputedScopes;if(a){let d=n.container;do{const m=a.get(d);m.length>0&&s.push((0,rt.Td)(m).filter(A=>this.reflection.isSubtype(A.type,i))),d=d.$container}while(d)}let c=this.getGlobalScope(i,n);for(let d=s.length-1;d>=0;d--)c=this.createScope(s[d],c);return c}createScope(n,s,i){return new Nr((0,rt.Td)(n),s,i)}createScopeForNodes(n,s,i){const a=(0,rt.Td)(n).map(c=>{const d=this.nameProvider.getName(c);if(d)return this.descriptions.createDescription(c,d)}).nonNullable();return new Nr(a,s,i)}getGlobalScope(n,s){return this.globalScopeCache.get(n,()=>new nl(this.indexManager.allElements(n)))}}function ea(l){return"object"==typeof l&&!!l&&("$ref"in l||"$error"in l)}class ns{constructor(n){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=n.shared.workspace.LangiumDocuments,this.astNodeLocator=n.workspace.AstNodeLocator,this.nameProvider=n.references.NameProvider,this.commentProvider=n.documentation.CommentProvider}serialize(n,s){const i=s??{},a=s?.replacer,c=(m,A)=>this.replacer(m,A,i),d=a?(m,A)=>a(m,A,c):c;try{return this.currentDocument=(0,We.YE)(n),JSON.stringify(n,d,s?.space)}finally{this.currentDocument=void 0}}deserialize(n,s){const i=s??{},a=JSON.parse(n);return this.linkNode(a,a,i),a}replacer(n,s,{refText:i,sourceText:a,textRegions:c,comments:d,uriConverter:m}){var A,$,U,re;if(!this.ignoreProperties.has(n)){if((0,Ve.A_)(s)){const se=s.ref,J=i?s.$refText:void 0;if(se){const Ge=(0,We.YE)(se);let Xe="";return this.currentDocument&&this.currentDocument!==Ge&&(Xe=m?m(Ge.uri,s):Ge.uri.toString()),{$ref:`${Xe}#${this.astNodeLocator.getAstNodePath(se)}`,$refText:J}}return{$error:null!==($=null===(A=s.error)||void 0===A?void 0:A.message)&&void 0!==$?$:"Could not resolve reference",$refText:J}}if((0,Ve.ng)(s)){let se;if(c&&(se=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},s)),(!n||s.$document)&&se?.$textRegion&&(se.$textRegion.documentURI=null===(U=this.currentDocument)||void 0===U?void 0:U.uri.toString())),a&&!n&&(se??(se=Object.assign({},s)),se.$sourceText=null===(re=s.$cstNode)||void 0===re?void 0:re.text),d){se??(se=Object.assign({},s));const J=this.commentProvider.getComment(s);J&&(se.$comment=J.replace(/\r/g,""))}return se??s}return s}}addAstNodeRegionWithAssignmentsTo(n){const s=i=>({offset:i.offset,end:i.end,length:i.length,range:i.range});if(n.$cstNode){const a=(n.$textRegion=s(n.$cstNode)).assignments={};return Object.keys(n).filter(c=>!c.startsWith("$")).forEach(c=>{const d=(0,L.Bd)(n.$cstNode,c).map(s);0!==d.length&&(a[c]=d)}),n}}linkNode(n,s,i,a,c,d){for(const[A,$]of Object.entries(n))if(Array.isArray($))for(let U=0;U<$.length;U++){const re=$[U];ea(re)?$[U]=this.reviveReference(n,A,s,re,i):(0,Ve.ng)(re)&&this.linkNode(re,s,i,n,A,U)}else ea($)?n[A]=this.reviveReference(n,A,s,$,i):(0,Ve.ng)($)&&this.linkNode($,s,i,n,A);const m=n;m.$container=a,m.$containerProperty=c,m.$containerIndex=d}reviveReference(n,s,i,a,c){let d=a.$refText,m=a.$error;if(a.$ref){const A=this.getRefNode(i,a.$ref,c.uriConverter);if((0,Ve.ng)(A))return d||(d=this.nameProvider.getName(A)),{$refText:d??"",ref:A};m=A}if(m){const A={$refText:d??""};return A.error={container:n,property:s,message:m,reference:A},A}}getRefNode(n,s,i){try{const a=s.indexOf("#");if(0===a)return this.astNodeLocator.getAstNode(n,s.substring(1))||"Could not resolve path: "+s;if(a<0){const A=i?i(s):Gt.r.parse(s),$=this.langiumDocuments.getDocument(A);return $?$.parseResult.value:"Could not find document for URI: "+s}const c=i?i(s.substring(0,a)):Gt.r.parse(s.substring(0,a)),d=this.langiumDocuments.getDocument(c);return d?a===s.length-1?d.parseResult.value:this.astNodeLocator.getAstNode(d.parseResult.value,s.substring(a+1))||"Could not resolve URI: "+s:"Could not find document for URI: "+s}catch(a){return String(a)}}}class Fs{get map(){return this.fileExtensionMap}constructor(n){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=n?.workspace.TextDocuments}register(n){const s=n.LanguageMetaData;for(const i of s.fileExtensions)this.fileExtensionMap.has(i)&&console.warn(`The file extension ${i} is used by multiple languages. It is now assigned to '${s.languageId}'.`),this.fileExtensionMap.set(i,n);this.languageIdMap.set(s.languageId,n),this.singleton=1===this.languageIdMap.size?n:void 0}getServices(n){var s,i;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const a=null===(i=null===(s=this.textDocuments)||void 0===s?void 0:s.get(n))||void 0===i?void 0:i.languageId;if(void 0!==a){const m=this.languageIdMap.get(a);if(m)return m}const c=$n.extname(n),d=this.fileExtensionMap.get(c);if(!d)throw a?new Error(`The service registry contains no services for the extension '${c}' for language '${a}'.`):new Error(`The service registry contains no services for the extension '${c}'.`);return d}hasServices(n){try{return this.getServices(n),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function wr(l){return{code:l}}var rs=function(l){return l.all=["fast","slow","built-in"],l}(rs||{});class al{constructor(n){this.entries=new ts,this.entriesBefore=[],this.entriesAfter=[],this.reflection=n.shared.AstReflection}register(n,s=this,i="fast"){if("built-in"===i)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[a,c]of Object.entries(n)){const d=c;if(Array.isArray(d))for(const m of d){const A={check:this.wrapValidationException(m,s),category:i};this.addEntry(a,A)}else if("function"==typeof d){const m={check:this.wrapValidationException(d,s),category:i};this.addEntry(a,m)}else(0,nr.d)(d)}}wrapValidationException(n,s){var i=this;return function(){var a=(0,Pe.A)(function*(c,d,m){yield i.handleException(()=>n.call(s,c,d,m),"An error occurred during validation",d,c)});return function(c,d,m){return a.apply(this,arguments)}}()}handleException(n,s,i,a){return(0,Pe.A)(function*(){try{yield n()}catch(c){if(Zr(c))throw c;console.error(`${s}:`,c),c instanceof Error&&c.stack&&console.error(c.stack);const d=c instanceof Error?c.message:String(c);i("error",`${s}: ${d}`,{node:a})}})()}addEntry(n,s){if("AstNode"!==n)for(const i of this.reflection.getAllSubTypes(n))this.entries.add(i,s);else this.entries.add("AstNode",s)}getChecks(n,s){let i=(0,rt.Td)(this.entries.get(n)).concat(this.entries.get("AstNode"));return s&&(i=i.filter(a=>s.includes(a.category))),i.map(a=>a.check)}registerBeforeDocument(n,s=this){this.entriesBefore.push(this.wrapPreparationException(n,"An error occurred during set-up of the validation",s))}registerAfterDocument(n,s=this){this.entriesAfter.push(this.wrapPreparationException(n,"An error occurred during tear-down of the validation",s))}wrapPreparationException(n,s,i){var a=this;return function(){var c=(0,Pe.A)(function*(d,m,A,$){yield a.handleException(()=>n.call(i,d,m,A,$),s,m,d)});return function(d,m,A,$){return c.apply(this,arguments)}}()}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Bs{constructor(n){this.validationRegistry=n.validation.ValidationRegistry,this.metadata=n.LanguageMetaData}validateDocument(n){var s=this;return(0,Pe.A)(function*(i,a={},c=Je.XO.None){const d=i.parseResult,m=[];if(yield xt(c),(!a.categories||a.categories.includes("built-in"))&&(s.processLexingErrors(d,m,a),a.stopAfterLexingErrors&&m.some(A=>{var $;return(null===($=A.data)||void 0===$?void 0:$.code)===Ut.LexingError})||(s.processParsingErrors(d,m,a),a.stopAfterParsingErrors&&m.some(A=>{var $;return(null===($=A.data)||void 0===$?void 0:$.code)===Ut.ParsingError}))||(s.processLinkingErrors(i,m,a),a.stopAfterLinkingErrors&&m.some(A=>{var $;return(null===($=A.data)||void 0===$?void 0:$.code)===Ut.LinkingError}))))return m;try{m.push(...yield s.validateAst(d.value,a,c))}catch(A){if(Zr(A))throw A;console.error("An error occurred during validation:",A)}return yield xt(c),m}).apply(this,arguments)}processLexingErrors(n,s,i){var a,c,d;const m=[...n.lexerErrors,...null!==(c=null===(a=n.lexerReport)||void 0===a?void 0:a.diagnostics)&&void 0!==c?c:[]];for(const A of m){const $=null!==(d=A.severity)&&void 0!==d?d:"error",U={severity:Gs($),range:{start:{line:A.line-1,character:A.column-1},end:{line:A.line-1,character:A.column+A.length-1}},message:A.message,data:ll($),source:this.getSource()};s.push(U)}}processParsingErrors(n,s,i){for(const a of n.parserErrors){let c;if(isNaN(a.token.startOffset)){if("previousToken"in a){const d=a.previousToken;if(isNaN(d.startOffset)){const m={line:0,character:0};c={start:m,end:m}}else{const m={line:d.endLine-1,character:d.endColumn};c={start:m,end:m}}}}else c=(0,w.wf)(a.token);if(c){const d={severity:Gs("error"),range:c,message:a.message,data:wr(Ut.ParsingError),source:this.getSource()};s.push(d)}}}processLinkingErrors(n,s,i){for(const a of n.references){const c=a.error;c&&s.push(this.toDiagnostic("error",c.message,{node:c.container,property:c.property,index:c.index,data:{code:Ut.LinkingError,containerType:c.container.$type,property:c.property,refText:c.reference.$refText}}))}}validateAst(n,s){var i=this;return(0,Pe.A)(function*(a,c,d=Je.XO.None){const m=[],A=($,U,re)=>{m.push(i.toDiagnostic($,U,re))};return yield i.validateAstBefore(a,c,A,d),yield i.validateAstNodes(a,c,A,d),yield i.validateAstAfter(a,c,A,d),m}).apply(this,arguments)}validateAstBefore(n,s,i){var a=this;return(0,Pe.A)(function*(c,d,m,A=Je.XO.None){var $;const U=a.validationRegistry.checksBefore;for(const re of U)yield xt(A),yield re(c,m,null!==($=d.categories)&&void 0!==$?$:[],A)}).apply(this,arguments)}validateAstNodes(n,s,i){var a=this;return(0,Pe.A)(function*(c,d,m,A=Je.XO.None){yield Promise.all((0,We.jm)(c).map(function(){var $=(0,Pe.A)(function*(U){yield xt(A);const re=a.validationRegistry.getChecks(U.$type,d.categories);for(const se of re)yield se(U,m,A)});return function(U){return $.apply(this,arguments)}}()))}).apply(this,arguments)}validateAstAfter(n,s,i){var a=this;return(0,Pe.A)(function*(c,d,m,A=Je.XO.None){var $;const U=a.validationRegistry.checksAfter;for(const re of U)yield xt(A),yield re(c,m,null!==($=d.categories)&&void 0!==$?$:[],A)}).apply(this,arguments)}toDiagnostic(n,s,i){return{message:s,range:ol(i),severity:Gs(n),code:i.code,codeDescription:i.codeDescription,tags:i.tags,relatedInformation:i.relatedInformation,data:i.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function ol(l){if(l.range)return l.range;let n;return"string"==typeof l.property?n=(0,L.qO)(l.node.$cstNode,l.property,l.index):"string"==typeof l.keyword&&(n=(0,L.SS)(l.node.$cstNode,l.keyword,l.index)),n??(n=l.node.$cstNode),n?n.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Gs(l){switch(l){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+l)}}function ll(l){switch(l){case"error":return wr(Ut.LexingError);case"warning":return wr(Ut.LexingWarning);case"info":return wr(Ut.LexingInfo);case"hint":return wr(Ut.LexingHint);default:throw new Error("Invalid diagnostic severity: "+l)}}var Ut=function(l){return l.LexingError="lexing-error",l.LexingWarning="lexing-warning",l.LexingInfo="lexing-info",l.LexingHint="lexing-hint",l.ParsingError="parsing-error",l.LinkingError="linking-error",l}(Ut||{});class ul{constructor(n){this.astNodeLocator=n.workspace.AstNodeLocator,this.nameProvider=n.references.NameProvider}createDescription(n,s,i){const a=i??(0,We.YE)(n);s??(s=this.nameProvider.getName(n));const c=this.astNodeLocator.getAstNodePath(n);if(!s)throw new Error(`Node at path ${c} has no name.`);let d;const m=()=>{var A;return d??(d=(0,w.SX)(null!==(A=this.nameProvider.getNameNode(n))&&void 0!==A?A:n.$cstNode))};return{node:n,name:s,get nameSegment(){return m()},selectionSegment:(0,w.SX)(n.$cstNode),type:n.$type,documentUri:a.uri,path:c}}}class ss{constructor(n){this.nodeLocator=n.workspace.AstNodeLocator}createDescriptions(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){const c=[],d=i.parseResult.value;for(const m of(0,We.jm)(d))yield xt(a),(0,We.DM)(m).filter(A=>!(0,Ve.Zl)(A)).forEach(A=>{const $=s.createDescription(A);$&&c.push($)});return c}).apply(this,arguments)}createDescription(n){const s=n.reference.$nodeDescription,i=n.reference.$refNode;if(!s||!i)return;const a=(0,We.YE)(n.container).uri;return{sourceUri:a,sourcePath:this.nodeLocator.getAstNodePath(n.container),targetUri:s.documentUri,targetPath:s.path,segment:(0,w.SX)(i),local:$n.equals(s.documentUri,a)}}}class cl{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(n){if(n.$container){const s=this.getAstNodePath(n.$container),i=this.getPathSegment(n);return s+this.segmentSeparator+i}return""}getPathSegment({$containerProperty:n,$containerIndex:s}){if(!n)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==s?n+this.indexSeparator+s:n}getAstNode(n,s){return s.split(this.segmentSeparator).reduce((a,c)=>{if(!a||0===c.length)return a;const d=c.indexOf(this.indexSeparator);if(d>0){const m=c.substring(0,d),A=parseInt(c.substring(d+1)),$=a[m];return $?.[A]}return a[c]},n)}}var jn,fl=b(2240);class dl{constructor(n){this._ready=new ks,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new fl.Emitter,this.serviceRegistry=n.ServiceRegistry}get ready(){return this._ready.promise}initialize(n){var s,i;this.workspaceConfig=null!==(i=null===(s=n.capabilities.workspace)||void 0===s?void 0:s.configuration)&&void 0!==i&&i}initialized(n){var s=this;return(0,Pe.A)(function*(){if(s.workspaceConfig&&(n.register&&n.register({section:s.serviceRegistry.all.map(a=>s.toSectionName(a.LanguageMetaData.languageId))}),n.fetchConfiguration)){const i=s.serviceRegistry.all.map(c=>({section:s.toSectionName(c.LanguageMetaData.languageId)})),a=yield n.fetchConfiguration(i);i.forEach((c,d)=>{s.updateSectionConfiguration(c.section,a[d])})}s._ready.resolve()})()}updateConfiguration(n){n.settings&&Object.keys(n.settings).forEach(s=>{const i=n.settings[s];this.updateSectionConfiguration(s,i),this.onConfigurationSectionUpdateEmitter.fire({section:s,configuration:i})})}updateSectionConfiguration(n,s){this.settings[n]=s}getConfiguration(n,s){var i=this;return(0,Pe.A)(function*(){yield i.ready;const a=i.toSectionName(n);if(i.settings[a])return i.settings[a][s]})()}toSectionName(n){return`${n}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(l){l.create=function n(s){return{dispose:(i=(0,Pe.A)(function*(){return yield s()}),function(){return i.apply(this,arguments)})};var i}}(jn||(jn={}));class hl{constructor(n){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new ts,this.documentPhaseListeners=new ts,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=qe.Changed,this.langiumDocuments=n.workspace.LangiumDocuments,this.langiumDocumentFactory=n.workspace.LangiumDocumentFactory,this.textDocuments=n.workspace.TextDocuments,this.indexManager=n.workspace.IndexManager,this.serviceRegistry=n.ServiceRegistry}build(n){var s=this;return(0,Pe.A)(function*(i,a={},c=Je.XO.None){var d,m;for(const A of i){const $=A.uri.toString();if(A.state===qe.Validated){if("boolean"==typeof a.validation&&a.validation)A.state=qe.IndexedReferences,A.diagnostics=void 0,s.buildState.delete($);else if("object"==typeof a.validation){const U=s.buildState.get($),re=null===(d=U?.result)||void 0===d?void 0:d.validationChecks;if(re){const J=(null!==(m=a.validation.categories)&&void 0!==m?m:rs.all).filter(Ge=>!re.includes(Ge));J.length>0&&(s.buildState.set($,{completed:!1,options:{validation:Object.assign(Object.assign({},a.validation),{categories:J})},result:U.result}),A.state=qe.IndexedReferences)}}}else s.buildState.delete($)}s.currentState=qe.Changed,yield s.emitUpdate(i.map(A=>A.uri),[]),yield s.buildDocuments(i,a,c)}).apply(this,arguments)}update(n,s){var i=this;return(0,Pe.A)(function*(a,c,d=Je.XO.None){i.currentState=qe.Changed;for(const $ of c)i.langiumDocuments.deleteDocument($),i.buildState.delete($.toString()),i.indexManager.remove($);for(const $ of a){if(!i.langiumDocuments.invalidateDocument($)){const re=i.langiumDocumentFactory.fromModel({$type:"INVALID"},$);re.state=qe.Changed,i.langiumDocuments.addDocument(re)}i.buildState.delete($.toString())}const m=(0,rt.Td)(a).concat(c).map($=>$.toString()).toSet();i.langiumDocuments.all.filter($=>!m.has($.uri.toString())&&i.shouldRelink($,m)).forEach($=>{i.serviceRegistry.getServices($.uri).references.Linker.unlink($),$.state=Math.min($.state,qe.ComputedScopes),$.diagnostics=void 0}),yield i.emitUpdate(a,c),yield xt(d);const A=i.sortDocuments(i.langiumDocuments.all.filter($=>{var U;return $.state<qe.Linked||!(null!==(U=i.buildState.get($.uri.toString()))&&void 0!==U&&U.completed)}).toArray());yield i.buildDocuments(A,i.updateBuildOptions,d)}).apply(this,arguments)}emitUpdate(n,s){var i=this;return(0,Pe.A)(function*(){yield Promise.all(i.updateListeners.map(a=>a(n,s)))})()}sortDocuments(n){let s=0,i=n.length-1;for(;s<i;){for(;s<n.length&&this.hasTextDocument(n[s]);)s++;for(;i>=0&&!this.hasTextDocument(n[i]);)i--;s<i&&([n[s],n[i]]=[n[i],n[s]])}return n}hasTextDocument(n){var s;return!(null===(s=this.textDocuments)||void 0===s||!s.get(n.uri))}shouldRelink(n,s){return!!n.references.some(i=>void 0!==i.error)||this.indexManager.isAffected(n,s)}onUpdate(n){return this.updateListeners.push(n),jn.create(()=>{const s=this.updateListeners.indexOf(n);s>=0&&this.updateListeners.splice(s,1)})}buildDocuments(n,s,i){var a=this;return(0,Pe.A)(function*(){a.prepareBuild(n,s),yield a.runCancelable(n,qe.Parsed,i,d=>a.langiumDocumentFactory.update(d,i)),yield a.runCancelable(n,qe.IndexedContent,i,d=>a.indexManager.updateContent(d,i)),yield a.runCancelable(n,qe.ComputedScopes,i,function(){var d=(0,Pe.A)(function*(m){const A=a.serviceRegistry.getServices(m.uri).references.ScopeComputation;m.precomputedScopes=yield A.computeLocalScopes(m,i)});return function(m){return d.apply(this,arguments)}}()),yield a.runCancelable(n,qe.Linked,i,d=>a.serviceRegistry.getServices(d.uri).references.Linker.link(d,i)),yield a.runCancelable(n,qe.IndexedReferences,i,d=>a.indexManager.updateReferences(d,i));const c=n.filter(d=>a.shouldValidate(d));yield a.runCancelable(c,qe.Validated,i,d=>a.validate(d,i));for(const d of n){const m=a.buildState.get(d.uri.toString());m&&(m.completed=!0)}})()}prepareBuild(n,s){for(const i of n){const a=i.uri.toString(),c=this.buildState.get(a);(!c||c.completed)&&this.buildState.set(a,{completed:!1,options:s,result:c?.result})}}runCancelable(n,s,i,a){var c=this;return(0,Pe.A)(function*(){const d=n.filter(A=>A.state<s);for(const A of d)yield xt(i),yield a(A),A.state=s,yield c.notifyDocumentPhase(A,s,i);const m=n.filter(A=>A.state===s);yield c.notifyBuildPhase(m,s,i),c.currentState=s})()}onBuildPhase(n,s){return this.buildPhaseListeners.add(n,s),jn.create(()=>{this.buildPhaseListeners.delete(n,s)})}onDocumentPhase(n,s){return this.documentPhaseListeners.add(n,s),jn.create(()=>{this.documentPhaseListeners.delete(n,s)})}waitUntil(n,s,i){let a;if(s&&"path"in s?a=s:i=s,i??(i=Je.XO.None),a){const c=this.langiumDocuments.getDocument(a);if(c&&c.state>n)return Promise.resolve(a)}return this.currentState>=n?Promise.resolve(void 0):i.isCancellationRequested?Promise.reject(qr):new Promise((c,d)=>{const m=this.onBuildPhase(n,()=>{if(m.dispose(),A.dispose(),a){const $=this.langiumDocuments.getDocument(a);c($?.uri)}else c(void 0)}),A=i.onCancellationRequested(()=>{m.dispose(),A.dispose(),d(qr)})})}notifyDocumentPhase(n,s,i){var a=this;return(0,Pe.A)(function*(){const d=a.documentPhaseListeners.get(s).slice();for(const m of d)try{yield m(n,i)}catch(A){if(!Zr(A))throw A}})()}notifyBuildPhase(n,s,i){var a=this;return(0,Pe.A)(function*(){if(0===n.length)return;const d=a.buildPhaseListeners.get(s).slice();for(const m of d)yield xt(i),yield m(n,i)})()}shouldValidate(n){return!!this.getBuildOptions(n).validation}validate(n,s){var i=this;return(0,Pe.A)(function*(){var a,c;const d=i.serviceRegistry.getServices(n.uri).validation.DocumentValidator,m=i.getBuildOptions(n).validation,A="object"==typeof m?m:void 0,$=yield d.validateDocument(n,A,s);n.diagnostics?n.diagnostics.push(...$):n.diagnostics=$;const U=i.buildState.get(n.uri.toString());if(U){null!==(a=U.result)&&void 0!==a||(U.result={});const re=null!==(c=A?.categories)&&void 0!==c?c:rs.all;U.result.validationChecks?U.result.validationChecks.push(...re):U.result.validationChecks=[...re]}})()}getBuildOptions(n){var s,i;return null!==(i=null===(s=this.buildState.get(n.uri.toString()))||void 0===s?void 0:s.options)&&void 0!==i?i:{}}}class pl{constructor(n){this.symbolIndex=new Map,this.symbolByTypeIndex=new ir,this.referenceIndex=new Map,this.documents=n.workspace.LangiumDocuments,this.serviceRegistry=n.ServiceRegistry,this.astReflection=n.AstReflection}findAllReferences(n,s){const i=(0,We.YE)(n).uri,a=[];return this.referenceIndex.forEach(c=>{c.forEach(d=>{$n.equals(d.targetUri,i)&&d.targetPath===s&&a.push(d)})}),(0,rt.Td)(a)}allElements(n,s){let i=(0,rt.Td)(this.symbolIndex.keys());return s&&(i=i.filter(a=>!s||s.has(a))),i.map(a=>this.getFileDescriptions(a,n)).flat()}getFileDescriptions(n,s){var i;return s?this.symbolByTypeIndex.get(n,s,()=>{var c;return(null!==(c=this.symbolIndex.get(n))&&void 0!==c?c:[]).filter(m=>this.astReflection.isSubtype(m.type,s))}):null!==(i=this.symbolIndex.get(n))&&void 0!==i?i:[]}remove(n){const s=n.toString();this.symbolIndex.delete(s),this.symbolByTypeIndex.clear(s),this.referenceIndex.delete(s)}updateContent(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){const d=yield s.serviceRegistry.getServices(i.uri).references.ScopeComputation.computeExports(i,a),m=i.uri.toString();s.symbolIndex.set(m,d),s.symbolByTypeIndex.clear(m)}).apply(this,arguments)}updateReferences(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){const d=yield s.serviceRegistry.getServices(i.uri).workspace.ReferenceDescriptionProvider.createDescriptions(i,a);s.referenceIndex.set(i.uri.toString(),d)}).apply(this,arguments)}isAffected(n,s){const i=this.referenceIndex.get(n.uri.toString());return!!i&&i.some(a=>!a.local&&s.has(a.targetUri.toString()))}}class ml{constructor(n){this.initialBuildOptions={},this._ready=new ks,this.serviceRegistry=n.ServiceRegistry,this.langiumDocuments=n.workspace.LangiumDocuments,this.documentBuilder=n.workspace.DocumentBuilder,this.fileSystemProvider=n.workspace.FileSystemProvider,this.mutex=n.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(n){var s;this.folders=null!==(s=n.workspaceFolders)&&void 0!==s?s:void 0}initialized(n){return this.mutex.write(s=>{var i;return this.initializeWorkspace(null!==(i=this.folders)&&void 0!==i?i:[],s)})}initializeWorkspace(n){var s=this;return(0,Pe.A)(function*(i,a=Je.XO.None){const c=yield s.performStartup(i);yield xt(a),yield s.documentBuilder.build(c,s.initialBuildOptions,a)}).apply(this,arguments)}performStartup(n){var s=this;return(0,Pe.A)(function*(){const i=s.serviceRegistry.all.flatMap(d=>d.LanguageMetaData.fileExtensions),a=[],c=d=>{a.push(d),s.langiumDocuments.hasDocument(d.uri)||s.langiumDocuments.addDocument(d)};return yield s.loadAdditionalDocuments(n,c),yield Promise.all(n.map(d=>[d,s.getRootFolder(d)]).map(function(){var d=(0,Pe.A)(function*(m){return s.traverseFolder(...m,i,c)});return function(m){return d.apply(this,arguments)}}())),s._ready.resolve(),a})()}loadAdditionalDocuments(n,s){return Promise.resolve()}getRootFolder(n){return Gt.r.parse(n.uri)}traverseFolder(n,s,i,a){var c=this;return(0,Pe.A)(function*(){const d=yield c.fileSystemProvider.readDirectory(s);yield Promise.all(d.map(function(){var m=(0,Pe.A)(function*(A){if(c.includeEntry(n,A,i))if(A.isDirectory)yield c.traverseFolder(n,A.uri,i,a);else if(A.isFile){const $=yield c.langiumDocuments.getOrCreateDocument(A.uri);a($)}});return function(A){return m.apply(this,arguments)}}()))})()}includeEntry(n,s,i){const a=$n.basename(s.uri);if(a.startsWith("."))return!1;if(s.isDirectory)return"node_modules"!==a&&"out"!==a;if(s.isFile){const c=$n.extname(s.uri);return i.includes(c)}return!1}}class gl{buildUnexpectedCharactersMessage(n,s,i,a,c){return D.PW.buildUnexpectedCharactersMessage(n,s,i,a,c)}buildUnableToPopLexerModeMessage(n){return D.PW.buildUnableToPopLexerModeMessage(n)}}const _l={mode:"full"};class yl{constructor(n){this.errorMessageProvider=n.parser.LexerErrorMessageProvider,this.tokenBuilder=n.parser.TokenBuilder;const s=this.tokenBuilder.buildTokens(n.Grammar,{caseInsensitive:n.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(s);const i=na(s)?Object.values(s):s;this.chevrotainLexer=new D.JG(i,{positionTracking:"full",skipValidations:"production"===n.LanguageMetaData.mode,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(n,s=_l){var i,a,c;const d=this.chevrotainLexer.tokenize(n);return{tokens:d.tokens,errors:d.errors,hidden:null!==(i=d.groups.hidden)&&void 0!==i?i:[],report:null===(c=(a=this.tokenBuilder).flushLexingReport)||void 0===c?void 0:c.call(a,n)}}toTokenTypeDictionary(n){if(na(n))return n;const s=ta(n)?Object.values(n.modes).flat():n,i={};return s.forEach(a=>i[a.name]=a),i}}function ta(l){return l&&"modes"in l&&"defaultMode"in l}function na(l){return!function Tl(l){return Array.isArray(l)&&(0===l.length||"name"in l[0])}(l)&&!ta(l)}function ra(l){let n="";return n="string"==typeof l?l:l.text,n.split(Z.TH)}const sa=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,ia=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function El(l,n,s,i){const a=[];if(0===l.length){const c=M.create(s,i),d=M.create(s,i+n.length);a.push({type:"text",content:n,range:ee.create(c,d)})}else{let c=0;for(const m of l){const A=m.index,$=n.substring(c,A);$.length>0&&a.push({type:"text",content:n.substring(c,A),range:ee.create(M.create(s,c+i),M.create(s,A+i))});let U=$.length+1;const re=m[1];if(a.push({type:"inline-tag",content:re,range:ee.create(M.create(s,c+U+i),M.create(s,c+U+re.length+i))}),U+=re.length,4===m.length){U+=m[2].length;const se=m[3];a.push({type:"text",content:se,range:ee.create(M.create(s,c+U+i),M.create(s,c+U+se.length+i))})}else a.push({type:"text",content:"",range:ee.create(M.create(s,c+U+i),M.create(s,c+U+i))});c=A+m[0].length}const d=n.substring(c);d.length>0&&a.push({type:"text",content:d,range:ee.create(M.create(s,c+i),M.create(s,c+i+d.length))})}return a}const Rl=/\S/,Il=/\s*$/;function kr(l,n){const s=l.substring(n).match(Rl);return s?n+s.index:l.length}function Cl(l){const n=l.match(Il);if(n&&"number"==typeof n.index)return n.index}function Sl(l,n){const s=l.tokens[l.index];return"tag"===s.type?ua(l,!1):"text"===s.type||"inline-tag"===s.type?oa(l):(function Ks(l,n){if(n){const s=new fa("",l.range);"inlines"in n?n.inlines.push(s):n.content.inlines.push(s)}}(s,n),void l.index++)}function oa(l){let n=l.tokens[l.index];const s=n;let i=n;const a=[];for(;n&&"break"!==n.type&&"tag"!==n.type;)a.push(la(l)),i=n,n=l.tokens[l.index];return new Vs(a,ee.create(s.range.start,i.range.end))}function la(l){return"inline-tag"===l.tokens[l.index].type?ua(l,!0):ca(l)}function ua(l,n){const s=l.tokens[l.index++],i=s.content.substring(1),a=l.tokens[l.index];if("text"===a?.type){if(n){const c=ca(l);return new Ws(i,new Vs([c],c.range),n,ee.create(s.range.start,c.range.end))}{const c=oa(l);return new Ws(i,c,n,ee.create(s.range.start,c.range.end))}}{const c=s.range;return new Ws(i,new Vs([],c),n,c)}}function ca(l){const n=l.tokens[l.index++];return new fa(n.content,n.range)}function is(l){if(!l)return is({start:"/**",end:"*/",line:"*"});const{start:n,end:s,line:i}=l;return{start:js(n,!0),end:js(s,!1),line:js(i,!0)}}function js(l,n){if("string"==typeof l||"object"==typeof l){const s="string"==typeof l?(0,Z.Nt)(l):l.source;return n?new RegExp(`^\\s*${s}`):new RegExp(`\\s*${s}\\s*$`)}return l}class as{constructor(n,s){this.elements=n,this.range=s}getTag(n){return this.getAllTags().find(s=>s.name===n)}getTags(n){return this.getAllTags().filter(s=>s.name===n)}getAllTags(){return this.elements.filter(n=>"name"in n)}toString(){let n="";for(const s of this.elements)if(0===n.length)n=s.toString();else{const i=s.toString();n+=da(n)+i}return n.trim()}toMarkdown(n){let s="";for(const i of this.elements)if(0===s.length)s=i.toMarkdown(n);else{const a=i.toMarkdown(n);s+=da(s)+a}return s.trim()}}class Ws{constructor(n,s,i,a){this.name=n,this.content=s,this.inline=i,this.range=a}toString(){let n=`@${this.name}`;const s=this.content.toString();return 1===this.content.inlines.length?n=`${n} ${s}`:this.content.inlines.length>1&&(n=`${n}\n${s}`),this.inline?`{${n}}`:n}toMarkdown(n){var s,i;return null!==(i=null===(s=n?.renderTag)||void 0===s?void 0:s.call(n,this))&&void 0!==i?i:this.toMarkdownDefault(n)}toMarkdownDefault(n){const s=this.content.toMarkdown(n);if(this.inline){const c=function Hs(l,n,s){var i,a;if("linkplain"===l||"linkcode"===l||"link"===l){const c=n.indexOf(" ");let d=n;if(c>0){const A=kr(n,c);d=n.substring(A),n=n.substring(0,c)}return("linkcode"===l||"link"===l&&"code"===s.link)&&(d=`\`${d}\``),null!==(a=null===(i=s.renderLink)||void 0===i?void 0:i.call(s,n,d))&&void 0!==a?a:function xl(l,n){try{return Gt.r.parse(l,!0),`[${n}](${l})`}catch{return l}}(n,d)}}(this.name,s,n??{});if("string"==typeof c)return c}let i="";"italic"===n?.tag||void 0===n?.tag?i="*":"bold"===n?.tag?i="**":"bold-italic"===n?.tag&&(i="***");let a=`${i}@${this.name}${i}`;return 1===this.content.inlines.length?a=`${a} \u2014 ${s}`:this.content.inlines.length>1&&(a=`${a}\n${s}`),this.inline?`{${a}}`:a}}class Vs{constructor(n,s){this.inlines=n,this.range=s}toString(){let n="";for(let s=0;s<this.inlines.length;s++){const i=this.inlines[s],a=this.inlines[s+1];n+=i.toString(),a&&a.range.start.line>i.range.start.line&&(n+="\n")}return n}toMarkdown(n){let s="";for(let i=0;i<this.inlines.length;i++){const a=this.inlines[i],c=this.inlines[i+1];s+=a.toMarkdown(n),c&&c.range.start.line>a.range.start.line&&(s+="\n")}return s}}class fa{constructor(n,s){this.text=n,this.range=s}toString(){return this.text}toMarkdown(){return this.text}}function da(l){return l.endsWith("\n")?"\n":"\n\n"}class bl{constructor(n){this.indexManager=n.shared.workspace.IndexManager,this.commentProvider=n.documentation.CommentProvider}getDocumentation(n){const s=this.commentProvider.getComment(n);if(s&&function Al(l,n){const s=is(n),i=ra(l);if(0===i.length)return!1;const a=i[0],c=i[i.length-1],d=s.start,m=s.end;return!!d?.exec(a)&&!!m?.exec(c)}(s))return function vl(l,n,s){let i,a;"string"==typeof l?(a=n,i=s):(a=l.range.start,i=n),a||(a=M.create(0,0));const m=function Us(l){var n,s,i;const a=[];let c=l.position.line,d=l.position.character;for(let m=0;m<l.lines.length;m++){const $=m===l.lines.length-1;let U=l.lines[m],re=0;if(0===m&&l.options.start){const J=null===(n=l.options.start)||void 0===n?void 0:n.exec(U);J&&(re=J.index+J[0].length)}else{const J=null===(s=l.options.line)||void 0===s?void 0:s.exec(U);J&&(re=J.index+J[0].length)}if($){const J=null===(i=l.options.end)||void 0===i?void 0:i.exec(U);J&&(U=U.substring(0,J.index))}if(U=U.substring(0,Cl(U)),kr(U,re)>=U.length){if(a.length>0){const J=M.create(c,d);a.push({type:"break",content:"",range:ee.create(J,J)})}}else{sa.lastIndex=re;const J=sa.exec(U);if(J){const Ge=J[0],Xe=J[1],tt=M.create(c,d+re),Kt=M.create(c,d+re+Ge.length);a.push({type:"tag",content:Xe,range:ee.create(tt,Kt)}),re+=Ge.length,re=kr(U,re)}if(re<U.length){const Ge=U.substring(re),Xe=Array.from(Ge.matchAll(ia));a.push(...El(Xe,Ge,c,d+re))}}c++,d=0}return a.length>0&&"break"===a[a.length-1].type?a.slice(0,-1):a}({lines:ra(l),position:a,options:is(i)});return function aa(l){var n,s,i,a;const c=M.create(l.position.line,l.position.character);if(0===l.tokens.length)return new as([],ee.create(c,c));const d=[];for(;l.index<l.tokens.length;){const $=Sl(l,d[d.length-1]);$&&d.push($)}const m=null!==(s=null===(n=d[0])||void 0===n?void 0:n.range.start)&&void 0!==s?s:c,A=null!==(a=null===(i=d[d.length-1])||void 0===i?void 0:i.range.end)&&void 0!==a?a:c;return new as(d,ee.create(m,A))}({index:0,tokens:m,position:a})}(s).toMarkdown({renderLink:(a,c)=>this.documentationLinkRenderer(n,a,c),renderTag:a=>this.documentationTagRenderer(n,a)})}documentationLinkRenderer(n,s,i){var a;const c=null!==(a=this.findNameInPrecomputedScopes(n,s))&&void 0!==a?a:this.findNameInGlobalScope(n,s);if(c&&c.nameSegment)return`[${i}](${c.documentUri.with({fragment:`L${c.nameSegment.range.start.line+1},${c.nameSegment.range.start.character+1}`}).toString()})`}documentationTagRenderer(n,s){}findNameInPrecomputedScopes(n,s){const a=(0,We.YE)(n).precomputedScopes;if(!a)return;let c=n;do{const m=a.get(c).find(A=>A.name===s);if(m)return m;c=c.$container}while(c)}findNameInGlobalScope(n,s){return this.indexManager.allElements().find(a=>a.name===s)}}class $l{constructor(n){this.grammarConfig=()=>n.parser.GrammarConfig}getComment(n){var s;return function il(l){return"string"==typeof l.$comment}(n)?n.$comment:null===(s=(0,w.v)(n.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===s?void 0:s.text}}class ha{constructor(n){this.syncParser=n.parser.LangiumParser}parse(n,s){return Promise.resolve(this.syncParser.parse(n))}}class pa{constructor(){this.previousTokenSource=new Je.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(n){this.cancelWrite();const s=function Yo(){return Jr=performance.now(),new Je.Qi}();return this.previousTokenSource=s,this.enqueue(this.writeQueue,n,s.token)}read(n){return this.enqueue(this.readQueue,n)}enqueue(n,s,i=Je.XO.None){const a=new ks;return n.push({action:s,deferred:a,cancellationToken:i}),this.performNextOperation(),a.promise}performNextOperation(){var n=this;return(0,Pe.A)(function*(){if(!n.done)return;const s=[];if(n.writeQueue.length>0)s.push(n.writeQueue.shift());else{if(!(n.readQueue.length>0))return;s.push(...n.readQueue.splice(0,n.readQueue.length))}n.done=!1,yield Promise.all(s.map(function(){var i=(0,Pe.A)(function*({action:a,deferred:c,cancellationToken:d}){try{const m=yield Promise.resolve().then(()=>a(d));c.resolve(m)}catch(m){Zr(m)?c.resolve(void 0):c.reject(m)}});return function(a){return i.apply(this,arguments)}}())),n.done=!0,n.performNextOperation()})()}cancelWrite(){this.previousTokenSource.cancel()}}class ma{constructor(n){this.grammarElementIdMap=new qi,this.tokenTypeIdMap=new qi,this.grammar=n.Grammar,this.lexer=n.parser.Lexer,this.linker=n.references.Linker}dehydrate(n){return{lexerErrors:n.lexerErrors,lexerReport:n.lexerReport?this.dehydrateLexerReport(n.lexerReport):void 0,parserErrors:n.parserErrors.map(s=>Object.assign(Object.assign({},s),{message:s.message})),value:this.dehydrateAstNode(n.value,this.createDehyrationContext(n.value))}}dehydrateLexerReport(n){return n}createDehyrationContext(n){const s=new Map,i=new Map;for(const a of(0,We.jm)(n))s.set(a,{});if(n.$cstNode)for(const a of(0,w.NS)(n.$cstNode))i.set(a,{});return{astNodes:s,cstNodes:i}}dehydrateAstNode(n,s){const i=s.astNodes.get(n);i.$type=n.$type,i.$containerIndex=n.$containerIndex,i.$containerProperty=n.$containerProperty,void 0!==n.$cstNode&&(i.$cstNode=this.dehydrateCstNode(n.$cstNode,s));for(const[a,c]of Object.entries(n))if(!a.startsWith("$"))if(Array.isArray(c)){const d=[];i[a]=d;for(const m of c)(0,Ve.ng)(m)?d.push(this.dehydrateAstNode(m,s)):(0,Ve.A_)(m)?d.push(this.dehydrateReference(m,s)):d.push(m)}else(0,Ve.ng)(c)?i[a]=this.dehydrateAstNode(c,s):(0,Ve.A_)(c)?i[a]=this.dehydrateReference(c,s):void 0!==c&&(i[a]=c);return i}dehydrateReference(n,s){const i={};return i.$refText=n.$refText,n.$refNode&&(i.$refNode=s.cstNodes.get(n.$refNode)),i}dehydrateCstNode(n,s){const i=s.cstNodes.get(n);return(0,Ve.br)(n)?i.fullText=n.fullText:i.grammarSource=this.getGrammarElementId(n.grammarSource),i.hidden=n.hidden,i.astNode=s.astNodes.get(n.astNode),(0,Ve.mD)(n)?i.content=n.content.map(a=>this.dehydrateCstNode(a,s)):(0,Ve.FC)(n)&&(i.tokenType=n.tokenType.name,i.offset=n.offset,i.length=n.length,i.startLine=n.range.start.line,i.startColumn=n.range.start.character,i.endLine=n.range.end.line,i.endColumn=n.range.end.character),i}hydrate(n){const s=n.value,i=this.createHydrationContext(s);return"$cstNode"in s&&this.hydrateCstNode(s.$cstNode,i),{lexerErrors:n.lexerErrors,lexerReport:n.lexerReport,parserErrors:n.parserErrors,value:this.hydrateAstNode(s,i)}}createHydrationContext(n){const s=new Map,i=new Map;for(const c of(0,We.jm)(n))s.set(c,{});let a;if(n.$cstNode)for(const c of(0,w.NS)(n.$cstNode)){let d;"fullText"in c?(d=new xn(c.fullText),a=d):"content"in c?d=new bs:"tokenType"in c&&(d=this.hydrateCstLeafNode(c)),d&&(i.set(c,d),d.root=a)}return{astNodes:s,cstNodes:i}}hydrateAstNode(n,s){const i=s.astNodes.get(n);i.$type=n.$type,i.$containerIndex=n.$containerIndex,i.$containerProperty=n.$containerProperty,n.$cstNode&&(i.$cstNode=s.cstNodes.get(n.$cstNode));for(const[a,c]of Object.entries(n))if(!a.startsWith("$"))if(Array.isArray(c)){const d=[];i[a]=d;for(const m of c)(0,Ve.ng)(m)?d.push(this.setParent(this.hydrateAstNode(m,s),i)):(0,Ve.A_)(m)?d.push(this.hydrateReference(m,i,a,s)):d.push(m)}else(0,Ve.ng)(c)?i[a]=this.setParent(this.hydrateAstNode(c,s),i):(0,Ve.A_)(c)?i[a]=this.hydrateReference(c,i,a,s):void 0!==c&&(i[a]=c);return i}setParent(n,s){return n.$container=s,n}hydrateReference(n,s,i,a){return this.linker.buildReference(s,i,a.cstNodes.get(n.$refNode),n.$refText)}hydrateCstNode(n,s,i=0){const a=s.cstNodes.get(n);if("number"==typeof n.grammarSource&&(a.grammarSource=this.getGrammarElement(n.grammarSource)),a.astNode=s.astNodes.get(n.astNode),(0,Ve.mD)(a))for(const c of n.content){const d=this.hydrateCstNode(c,s,i++);a.content.push(d)}return a}hydrateCstLeafNode(n){const s=this.getTokenType(n.tokenType);return new xs(n.offset,n.length,{start:{line:n.startLine,character:n.startColumn},end:{line:n.endLine,character:n.endColumn}},s,n.hidden)}getTokenType(n){return this.lexer.definition[n]}getGrammarElementId(n){if(n)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(n)}getGrammarElement(n){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(n)}createGrammarElementIdMap(){let n=0;for(const s of(0,We.jm)(this.grammar))(0,N.r1)(s)&&this.grammarElementIdMap.set(s,n++)}}function Nl(l){return{documentation:{CommentProvider:n=>new $l(n),DocumentationProvider:n=>new bl(n)},parser:{AsyncParser:n=>new ha(n),GrammarConfig:n=>function H(l){const n=[],s=l.Grammar;for(const i of s.rules)(0,N.rE)(i)&&(0,L.eb)(i)&&(0,Z.lU)((0,L.S)(i))&&n.push(i.name);return{multilineCommentRules:n,nameRegexp:w.El}}(n),LangiumParser:n=>function Ho(l){const n=function Vo(l){const s=l.parser.Lexer;return zi(l.Grammar,new wo(l),s.definition)}(l);return n.finalize(),n}(n),CompletionParser:n=>function Wo(l){const n=l.Grammar,s=l.parser.Lexer,i=new ko(l);return zi(n,i,s.definition),i.finalize(),i}(n),ValueConverter:()=>new $r.d,TokenBuilder:()=>new zo.Q,Lexer:n=>new yl(n),ParserErrorMessageProvider:()=>new Vi,LexerErrorMessageProvider:()=>new gl},workspace:{AstNodeLocator:()=>new cl,AstNodeDescriptionProvider:n=>new ul(n),ReferenceDescriptionProvider:n=>new ss(n)},references:{Linker:n=>new qo(n),NameProvider:()=>new el,ScopeProvider:n=>new sl(n),ScopeComputation:n=>new rr(n),References:n=>new tl(n)},serializer:{Hydrator:n=>new ma(n),JsonSerializer:n=>new ns(n)},validation:{DocumentValidator:n=>new Bs(n),ValidationRegistry:n=>new al(n)},shared:()=>l.shared}}function wl(l){return{ServiceRegistry:n=>new Fs(n),workspace:{LangiumDocuments:n=>new es(n),LangiumDocumentFactory:n=>new Jo(n),DocumentBuilder:n=>new hl(n),IndexManager:n=>new pl(n),WorkspaceManager:n=>new ml(n),FileSystemProvider:n=>l.fileSystemProvider(n),WorkspaceLock:()=>new pa,ConfigurationProvider:n=>new dl(n)}}}},1326(Be,te,b){function L(C,T,I,g,v,x,O,y,S){return H([C,T,I,g,v,x,O,y,S].reduce(Y,{}))}b.d(te,{WQ:()=>L});const Z=Symbol("isProxy");function H(C,T){const I=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(g,v)=>v===Z||j(g,v,C,T||I),getOwnPropertyDescriptor:(g,v)=>(j(g,v,C,T||I),Object.getOwnPropertyDescriptor(g,v)),has:(g,v)=>v in C,ownKeys:()=>[...Object.getOwnPropertyNames(C)]});return I}const D=Symbol();function j(C,T,I,g){if(T in C){if(C[T]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:C[T]});if(C[T]===D)throw new Error('Cycle detected. Please make "'+String(T)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return C[T]}if(T in I){const v=I[T];C[T]=D;try{C[T]="function"==typeof v?v(g):H(v,g)}catch(x){throw C[T]=x instanceof Error?x:void 0,x}return C[T]}}function Y(C,T){if(T)for(const[I,g]of Object.entries(T))if(void 0!==g){const v=C[I];C[I]=null!==v&&null!==g&&"object"==typeof v&&"object"==typeof g?Y(v,g):g}return C}},2917(Be,te,b){b.d(te,{$g:()=>qn,Bg:()=>yr,Ct:()=>Qe,Cz:()=>ie,D8:()=>Ue,FO:()=>vr,Fy:()=>En,GL:()=>Rr,IZ:()=>Ar,Mz:()=>We,O4:()=>Zn,QX:()=>Fn,RP:()=>G,S2:()=>de,SP:()=>F,TF:()=>on,Tu:()=>ve,Xj:()=>Vt,_c:()=>Tr,cY:()=>Cr,fG:()=>Ce,jp:()=>Qn,lF:()=>Ir,r1:()=>y,rE:()=>gr,s7:()=>De,vd:()=>Jn,ve:()=>Yn,wb:()=>Er,wh:()=>_r,z2:()=>Zt});var w=b(7449);const Z="AbstractRule",H="AbstractType",j="Condition",I="TypeDefinition",v="ValueLiteral",O="AbstractElement";function y(M){return Te.isInstance(M,O)}const S="ArrayLiteral",X="ArrayType",Q="BooleanLiteral";function ie(M){return Te.isInstance(M,Q)}const oe="Conjunction";function ve(M){return Te.isInstance(M,oe)}const be="Disjunction";function G(M){return Te.isInstance(M,be)}const le="Grammar",Ee="GrammarImport",q="InferredType";function F(M){return Te.isInstance(M,q)}const ue="Interface";function de(M){return Te.isInstance(M,ue)}const $e="NamedArgument",ye="Negation";function Qe(M){return Te.isInstance(M,ye)}const Me="NumberLiteral",ot="Parameter",At="ParameterReference";function on(M){return Te.isInstance(M,At)}const ut="ParserRule";function De(M){return Te.isInstance(M,ut)}const R="ReferenceType",ae="ReturnType";function Ce(M){return Te.isInstance(M,ae)}const Re="SimpleType";function Ue(M){return Te.isInstance(M,Re)}const Ke="StringLiteral",ct="TerminalRule";function gr(M){return Te.isInstance(M,ct)}const Lt="Type";function Vt(M){return Te.isInstance(M,Lt)}const Mt="TypeAttribute",zt="UnionType",Xt="Action";function Yn(M){return Te.isInstance(M,Xt)}const Yt="Alternatives";function Qn(M){return Te.isInstance(M,Yt)}const Dt="Assignment";function _r(M){return Te.isInstance(M,Dt)}const Ft="CharacterRange";function yr(M){return Te.isInstance(M,Ft)}const $t="CrossReference";function Tr(M){return Te.isInstance(M,$t)}const Qt="EndOfFile";function vr(M){return Te.isInstance(M,Qt)}const Jt="Group";function Ar(M){return Te.isInstance(M,Jt)}const ln="Keyword";function Er(M){return Te.isInstance(M,ln)}const un="NegatedToken";function Rr(M){return Te.isInstance(M,un)}const cn="RegexToken";function Jn(M){return Te.isInstance(M,cn)}const Fe="RuleCall";function qn(M){return Te.isInstance(M,Fe)}const fn="TerminalAlternatives";function En(M){return Te.isInstance(M,fn)}const Et="TerminalGroup";function Zn(M){return Te.isInstance(M,Et)}const Rt="TerminalRuleCall";function Ir(M){return Te.isInstance(M,Rt)}const Bt="UnorderedGroup";function Cr(M){return Te.isInstance(M,Bt)}const pt="UntilToken";function We(M){return Te.isInstance(M,pt)}const qt="Wildcard";function Zt(M){return Te.isInstance(M,qt)}class Fn extends w.kD{getAllTypes(){return[O,Z,H,Xt,Yt,S,X,Dt,Q,Ft,j,oe,$t,be,Qt,le,Ee,Jt,q,ue,ln,$e,un,ye,Me,ot,At,ut,R,cn,ae,Fe,Re,Ke,fn,Et,ct,Rt,Lt,Mt,I,zt,Bt,pt,v,qt]}computeIsSubtype(ee,we){switch(ee){case Xt:case Yt:case Dt:case Ft:case $t:case Qt:case Jt:case ln:case un:case cn:case Fe:case fn:case Et:case Rt:case Bt:case pt:case qt:return this.isSubtype(O,we);case S:case Me:case Ke:return this.isSubtype(v,we);case X:case R:case Re:case zt:return this.isSubtype(I,we);case Q:return this.isSubtype(j,we)||this.isSubtype(v,we);case oe:case be:case ye:case At:return this.isSubtype(j,we);case q:case ue:case Lt:return this.isSubtype(H,we);case ut:return this.isSubtype(Z,we)||this.isSubtype(H,we);case ct:return this.isSubtype(Z,we);default:return!1}}getReferenceType(ee){const we=`${ee.container.$type}:${ee.property}`;switch(we){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return H;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Z;case"Grammar:usedGrammars":return le;case"NamedArgument:parameter":case"ParameterReference:parameter":return ot;case"TerminalRuleCall:rule":return ct;default:throw new Error(`${we} is not a valid reference id.`)}}getTypeMetaData(ee){switch(ee){case O:return{name:O,properties:[{name:"cardinality"},{name:"lookahead"}]};case S:return{name:S,properties:[{name:"elements",defaultValue:[]}]};case X:return{name:X,properties:[{name:"elementType"}]};case Q:return{name:Q,properties:[{name:"true",defaultValue:!1}]};case oe:return{name:oe,properties:[{name:"left"},{name:"right"}]};case be:return{name:be,properties:[{name:"left"},{name:"right"}]};case le:return{name:le,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Ee:return{name:Ee,properties:[{name:"path"}]};case q:return{name:q,properties:[{name:"name"}]};case ue:return{name:ue,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case $e:return{name:$e,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case ye:return{name:ye,properties:[{name:"value"}]};case Me:return{name:Me,properties:[{name:"value"}]};case ot:return{name:ot,properties:[{name:"name"}]};case At:return{name:At,properties:[{name:"parameter"}]};case ut:return{name:ut,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case R:return{name:R,properties:[{name:"referenceType"}]};case ae:return{name:ae,properties:[{name:"name"}]};case Re:return{name:Re,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Ke:return{name:Ke,properties:[{name:"value"}]};case ct:return{name:ct,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Lt:return{name:Lt,properties:[{name:"name"},{name:"type"}]};case Mt:return{name:Mt,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case zt:return{name:zt,properties:[{name:"types",defaultValue:[]}]};case Xt:return{name:Xt,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Yt:return{name:Yt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Dt:return{name:Dt,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Ft:return{name:Ft,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case $t:return{name:$t,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case Qt:return{name:Qt,properties:[{name:"cardinality"},{name:"lookahead"}]};case Jt:return{name:Jt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case ln:return{name:ln,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case un:return{name:un,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case cn:return{name:cn,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Fe:return{name:Fe,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case fn:return{name:fn,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Et:return{name:Et,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Rt:return{name:Rt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Bt:return{name:Bt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case pt:return{name:pt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case qt:return{name:qt,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:ee,properties:[]}}}}const Te=new Fn},3460(Be,te,b){b.d(te,{Q:()=>j});var w=b(8365),L=b(2917),Z=b(265),N=b(3528),H=b(84),D=b(4193);class j{constructor(){this.diagnostics=[]}buildTokens(C,T){const I=(0,D.Td)((0,N.YV)(C,!1)),g=this.buildTerminalTokens(I),v=this.buildKeywordTokens(I,g,T);return g.forEach(x=>{const O=x.PATTERN;"object"==typeof O&&O&&"test"in O&&(0,H.Yv)(O)?v.unshift(x):v.push(x)}),v}flushLexingReport(C){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const C=[...this.diagnostics];return this.diagnostics=[],C}buildTerminalTokens(C){return C.filter(L.rE).filter(T=>!T.fragment).map(T=>this.buildTerminalToken(T)).toArray()}buildTerminalToken(C){const T=(0,N.S)(C),I=this.requiresCustomPattern(T)?this.regexPatternFunction(T):T,g={name:C.name,PATTERN:I};return"function"==typeof I&&(g.LINE_BREAKS=!0),C.hidden&&(g.GROUP=(0,H.Yv)(T)?w.JG.SKIPPED:"hidden"),g}requiresCustomPattern(C){return!!(C.flags.includes("u")||C.flags.includes("s")||C.source.includes("?<=")||C.source.includes("?<!"))}regexPatternFunction(C){const T=new RegExp(C,C.flags+"y");return(I,g)=>(T.lastIndex=g,T.exec(I))}buildKeywordTokens(C,T,I){return C.filter(L.s7).flatMap(g=>(0,Z.Uo)(g).filter(L.wb)).distinct(g=>g.value).toArray().sort((g,v)=>v.value.length-g.value.length).map(g=>this.buildKeywordToken(g,T,!!I?.caseInsensitive))}buildKeywordToken(C,T,I){const g=this.buildKeywordPattern(C,I),v={name:C.value,PATTERN:g,LONGER_ALT:this.findLongerAlt(C,T)};return"function"==typeof g&&(v.LINE_BREAKS=!0),v}buildKeywordPattern(C,T){return T?new RegExp((0,H.Ao)(C.value)):C.value}findLongerAlt(C,T){return T.reduce((I,g)=>{const v=g?.PATTERN;return v?.source&&(0,H.PC)("^"+v.source+"$",C.value)&&I.push(g),I},[])}}},6535(Be,te,b){b.d(te,{d:()=>Z});var N,w=b(2917),L=b(3528);class Z{convert(D,j){let Y=j.grammarSource;if((0,w._c)(Y)&&(Y=(0,L.g4)(Y)),(0,w.$g)(Y)){const C=Y.rule.ref;if(!C)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(C,D,j)}return D}runConverter(D,j,Y){var C;switch(D.name.toUpperCase()){case"INT":return N.convertInt(j);case"STRING":return N.convertString(j);case"ID":return N.convertID(j)}switch(null===(C=(0,L.P3)(D))||void 0===C?void 0:C.toLowerCase()){case"number":return N.convertNumber(j);case"boolean":return N.convertBoolean(j);case"bigint":return N.convertBigint(j);case"date":return N.convertDate(j);default:return j}}}!function(H){function j(x){switch(x){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return x}}H.convertString=function D(x){let O="";for(let y=1;y<x.length-1;y++){const S=x.charAt(y);O+="\\"===S?j(x.charAt(++y)):S}return O},H.convertID=function Y(x){return"^"===x.charAt(0)?x.substring(1):x},H.convertInt=function C(x){return parseInt(x)},H.convertBigint=function T(x){return BigInt(x)},H.convertDate=function I(x){return new Date(x)},H.convertNumber=function g(x){return Number(x)},H.convertBoolean=function v(x){return"true"===x.toLowerCase()}}(N||(N={}))},7449(Be,te,b){function w(C){return"object"==typeof C&&null!==C&&"string"==typeof C.$type}function L(C){return"object"==typeof C&&null!==C&&"string"==typeof C.$refText}function Z(C){return"object"==typeof C&&null!==C&&"string"==typeof C.name&&"string"==typeof C.type&&"string"==typeof C.path}function N(C){return"object"==typeof C&&null!==C&&w(C.container)&&L(C.reference)&&"string"==typeof C.message}b.d(te,{A_:()=>L,FC:()=>j,Nr:()=>Z,Zl:()=>N,br:()=>Y,kD:()=>H,mD:()=>D,ng:()=>w});class H{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(T,I){return w(T)&&this.isSubtype(T.$type,I)}isSubtype(T,I){if(T===I)return!0;let g=this.subtypes[T];g||(g=this.subtypes[T]={});const v=g[I];if(void 0!==v)return v;{const x=this.computeIsSubtype(T,I);return g[I]=x,x}}getAllSubTypes(T){const I=this.allSubtypes[T];if(I)return I;{const g=this.getAllTypes(),v=[];for(const x of g)this.isSubtype(x,T)&&v.push(x);return this.allSubtypes[T]=v,v}}}function D(C){return"object"==typeof C&&null!==C&&Array.isArray(C.content)}function j(C){return"object"==typeof C&&null!==C&&"object"==typeof C.tokenType}function Y(C){return D(C)&&"string"==typeof C.fullText}},265(Be,te,b){b.d(te,{DM:()=>y,OP:()=>K,SD:()=>j,Uo:()=>v,VN:()=>g,XG:()=>Y,YE:()=>T,cQ:()=>I,jm:()=>x});var N=b(7449),H=b(4193),D=b(807);function j(Q){for(const[ie,oe]of Object.entries(Q))ie.startsWith("$")||(Array.isArray(oe)?oe.forEach((ve,be)=>{(0,N.ng)(ve)&&(ve.$container=Q,ve.$containerProperty=ie,ve.$containerIndex=be)}):(0,N.ng)(oe)&&(oe.$container=Q,oe.$containerProperty=ie))}function Y(Q,ie){let oe=Q;for(;oe;){if(ie(oe))return oe;oe=oe.$container}}function T(Q){const oe=I(Q).$document;if(!oe)throw new Error("AST node has no document.");return oe}function I(Q){for(;Q.$container;)Q=Q.$container;return Q}function g(Q,ie){if(!Q)throw new Error("Node must be an AstNode.");const oe=ie?.range;return new H.fq(()=>({keys:Object.keys(Q),keyIndex:0,arrayIndex:0}),ve=>{for(;ve.keyIndex<ve.keys.length;){const be=ve.keys[ve.keyIndex];if(!be.startsWith("$")){const G=Q[be];if((0,N.ng)(G)){if(ve.keyIndex++,O(G,oe))return{done:!1,value:G}}else if(Array.isArray(G)){for(;ve.arrayIndex<G.length;){const fe=G[ve.arrayIndex++];if((0,N.ng)(fe)&&O(fe,oe))return{done:!1,value:fe}}ve.arrayIndex=0}}ve.keyIndex++}return H.Rf})}function v(Q,ie){if(!Q)throw new Error("Root node must be an AstNode.");return new H.Vj(Q,oe=>g(oe,ie))}function x(Q,ie){if(!Q)throw new Error("Root node must be an AstNode.");return ie?.range&&!O(Q,ie.range)?new H.Vj(Q,()=>[]):new H.Vj(Q,oe=>g(oe,ie),{includeRoot:!0})}function O(Q,ie){var oe;if(!ie)return!0;const ve=null===(oe=Q.$cstNode)||void 0===oe?void 0:oe.range;return!!ve&&(0,D.r4)(ve,ie)}function y(Q){return new H.fq(()=>({keys:Object.keys(Q),keyIndex:0,arrayIndex:0}),ie=>{for(;ie.keyIndex<ie.keys.length;){const oe=ie.keys[ie.keyIndex];if(!oe.startsWith("$")){const ve=Q[oe];if((0,N.A_)(ve))return ie.keyIndex++,{done:!1,value:{reference:ve,container:Q,property:oe}};if(Array.isArray(ve)){for(;ie.arrayIndex<ve.length;){const be=ie.arrayIndex++,G=ve[be];if((0,N.A_)(G))return{done:!1,value:{reference:G,container:Q,property:oe,index:be}}}ie.arrayIndex=0}}ie.keyIndex++}return H.Rf})}function K(Q,ie){const oe=Q.getTypeMetaData(ie.$type),ve=ie;for(const be of oe.properties)void 0!==be.defaultValue&&void 0===ve[be.name]&&(ve[be.name]=X(be.defaultValue))}function X(Q){return Array.isArray(Q)?[...Q.map(X)]:Q}},807(Be,te,b){b.d(te,{El:()=>v,NS:()=>H,SX:()=>C,pO:()=>j,r4:()=>g,v:()=>O,wf:()=>Y});var Z=b(7449),N=b(4193);function H(G){return new N.Vj(G,le=>(0,Z.mD)(le)?le.content:[],{includeRoot:!0})}function j(G,le){for(;G.container;)if((G=G.container)===le)return!0;return!1}function Y(G){return{start:{character:G.startColumn-1,line:G.startLine-1},end:{character:G.endColumn,line:G.endLine-1}}}function C(G){if(!G)return;const{offset:le,end:fe,range:Ee}=G;return{range:Ee,offset:le,end:fe,length:fe-le}}var T=function(G){return G[G.Before=0]="Before",G[G.After=1]="After",G[G.OverlapFront=2]="OverlapFront",G[G.OverlapBack=3]="OverlapBack",G[G.Inside=4]="Inside",G[G.Outside=5]="Outside",G}(T||{});function g(G,le){return function I(G,le){if(G.end.line<le.start.line||G.end.line===le.start.line&&G.end.character<=le.start.character)return T.Before;if(G.start.line>le.end.line||G.start.line===le.end.line&&G.start.character>=le.end.character)return T.After;const fe=G.start.line>le.start.line||G.start.line===le.start.line&&G.start.character>=le.start.character,Ee=G.end.line<le.end.line||G.end.line===le.end.line&&G.end.character<=le.end.character;return fe&&Ee?T.Inside:fe?T.OverlapBack:Ee?T.OverlapFront:T.Outside}(G,le)>T.After}const v=/^[\w\p{L}]$/u;function O(G,le){if(G){const fe=function z(G,le=!0){for(;G.container;){const fe=G.container;let Ee=fe.content.indexOf(G);for(;Ee>0;){Ee--;const Oe=fe.content[Ee];if(le||!Oe.hidden)return Oe}G=fe}}(G,!0);if(fe&&y(fe,le))return fe;if((0,Z.br)(G)){const Ee=G.content.findIndex(Oe=>!Oe.hidden);for(let Oe=Ee-1;Oe>=0;Oe--){const q=G.content[Oe];if(y(q,le))return q}}}}function y(G,le){return(0,Z.FC)(G)&&le.includes(G.tokenType.name)}},8586(Be,te,b){b.d(te,{W:()=>w,d:()=>L});class w extends Error{constructor(N,H){super(N?`${H} at ${N.range.start.line}:${N.range.start.character}`:H)}}function L(Z){throw new Error("Error! The input value was not handled.")}},3528(Be,te,b){b.d(te,{Bd:()=>O,P3:()=>Ne,PV:()=>F,Rp:()=>Q,S:()=>ye,SS:()=>X,U5:()=>ie,Uz:()=>ue,Xq:()=>fe,YV:()=>I,eb:()=>x,g4:()=>v,qO:()=>y});var Z=b(8586),N=b(2917),H=b(7449),D=b(265),j=b(807),Y=b(84);function I(R,W){const ae=new Set,Ce=function C(R){return R.rules.find(W=>N.s7(W)&&W.entry)}(R);if(!Ce)return new Set(R.rules);const Re=[Ce].concat(function T(R){return R.rules.filter(W=>N.rE(W)&&W.hidden)}(R));for(const Ke of Re)g(Ke,ae,W);const Ue=new Set;for(const Ke of R.rules)(ae.has(Ke.name)||N.rE(Ke)&&Ke.hidden)&&Ue.add(Ke);return Ue}function g(R,W,ae){W.add(R.name),(0,D.Uo)(R).forEach(Ce=>{if(N.$g(Ce)||ae&&N.lF(Ce)){const Re=Ce.rule.ref;Re&&!W.has(Re.name)&&g(Re,W,ae)}})}function v(R){if(R.terminal)return R.terminal;if(R.type.ref){const W=ie(R.type.ref);return W?.terminal}}function x(R){return R.hidden&&!(0,Y.Yv)(ye(R))}function O(R,W){return R&&W?S(R,W,R.astNode,!0):[]}function y(R,W,ae){if(!R||!W)return;const Ce=S(R,W,R.astNode,!0);return 0!==Ce.length?Ce[ae=void 0!==ae?Math.max(0,Math.min(ae,Ce.length-1)):0]:void 0}function S(R,W,ae,Ce){if(!Ce){const Re=(0,D.XG)(R.grammarSource,N.wh);if(Re&&Re.feature===W)return[R]}return(0,H.mD)(R)&&R.astNode===ae?R.content.flatMap(Re=>S(Re,W,ae,!1)):[]}function X(R,W,ae){if(!R)return;const Ce=function z(R,W,ae){if(R.astNode!==ae)return[];if(N.wb(R.grammarSource)&&R.grammarSource.value===W)return[R];const Ce=(0,j.NS)(R).iterator();let Re;const Ue=[];do{if(Re=Ce.next(),!Re.done){const Ke=Re.value;Ke.astNode===ae?N.wb(Ke.grammarSource)&&Ke.grammarSource.value===W&&Ue.push(Ke):Ce.prune()}}while(!Re.done);return Ue}(R,W,R?.astNode);return 0!==Ce.length?Ce[ae=void 0!==ae?Math.max(0,Math.min(ae,Ce.length-1)):0]:void 0}function Q(R){var W;const ae=R.astNode;for(;ae===(null===(W=R.container)||void 0===W?void 0:W.astNode);){const Ce=(0,D.XG)(R.grammarSource,N.wh);if(Ce)return Ce;R=R.container}}function ie(R){let W=R;return N.SP(W)&&(N.ve(W.$container)?W=W.$container.$container:N.s7(W.$container)?W=W.$container:(0,Z.d)(W.$container)),oe(R,W,new Map)}function oe(R,W,ae){var Ce;function Re(Ue,Ke){let Ht;return(0,D.XG)(Ue,N.wh)||(Ht=oe(Ke,Ke,ae)),ae.set(R,Ht),Ht}if(ae.has(R))return ae.get(R);ae.set(R,void 0);for(const Ue of(0,D.Uo)(W)){if(N.wh(Ue)&&"name"===Ue.feature.toLowerCase())return ae.set(R,Ue),Ue;if(N.$g(Ue)&&N.s7(Ue.rule.ref))return Re(Ue,Ue.rule.ref);if(N.D8(Ue)&&null!==(Ce=Ue.typeRef)&&void 0!==Ce&&Ce.ref)return Re(Ue,Ue.typeRef.ref)}}function fe(R){return Ee(R,new Set)}function Ee(R,W){if(W.has(R))return!0;W.add(R);for(const ae of(0,D.Uo)(R))if(N.$g(ae)){if(!ae.rule.ref||N.s7(ae.rule.ref)&&!Ee(ae.rule.ref,W))return!1}else{if(N.wh(ae))return!1;if(N.ve(ae))return!1}return!!R.definition}function F(R){if(R.inferredType)return R.inferredType.name;if(R.dataType)return R.dataType;if(R.returnType){const W=R.returnType.ref;if(W){if(N.s7(W))return W.name;if(N.S2(W)||N.Xj(W))return W.name}}}function ue(R){var W;if(N.s7(R))return fe(R)?R.name:null!==(W=F(R))&&void 0!==W?W:R.name;if(N.S2(R)||N.Xj(R)||N.fG(R))return R.name;if(N.ve(R)){const ae=function de(R){var W;return R.inferredType?R.inferredType.name:null!==(W=R.type)&&void 0!==W&&W.ref?ue(R.type.ref):void 0}(R);if(ae)return ae}else if(N.SP(R))return R.name;throw new Error("Cannot get name of Unknown Type")}function Ne(R){var W,ae,Ce;return N.rE(R)?null!==(ae=null===(W=R.type)||void 0===W?void 0:W.name)&&void 0!==ae?ae:"string":null!==(Ce=F(R))&&void 0!==Ce?Ce:R.name}function ye(R){const W={s:!1,i:!1,u:!1},ae=Me(R.definition,W),Ce=Object.entries(W).filter(([,Re])=>Re).map(([Re])=>Re).join("");return new RegExp(ae,Ce)}const Qe=/[\s\S]/.source;function Me(R,W){if(N.Fy(R))return function Le(R){return De(R.elements.map(W=>Me(W)).join("|"),{cardinality:R.cardinality,lookahead:R.lookahead})}(R);if(N.O4(R))return function ot(R){return De(R.elements.map(W=>Me(W)).join(""),{cardinality:R.cardinality,lookahead:R.lookahead})}(R);if(N.Bg(R))return function on(R){return De(R.right?`[${ut(R.left)}-${ut(R.right)}]`:ut(R.left),{cardinality:R.cardinality,lookahead:R.lookahead,wrap:!1})}(R);if(N.lF(R)){const ae=R.rule.ref;if(!ae)throw new Error("Missing rule reference.");return De(Me(ae.definition),{cardinality:R.cardinality,lookahead:R.lookahead})}if(N.GL(R))return function At(R){return De(`(?!${Me(R.terminal)})${Qe}*?`,{cardinality:R.cardinality,lookahead:R.lookahead})}(R);if(N.Mz(R))return function ke(R){return De(`${Qe}*?${Me(R.terminal)}`,{cardinality:R.cardinality,lookahead:R.lookahead})}(R);if(N.vd(R)){const ae=R.regex.lastIndexOf("/"),Ce=R.regex.substring(1,ae),Re=R.regex.substring(ae+1);return W&&(W.i=Re.includes("i"),W.s=Re.includes("s"),W.u=Re.includes("u")),De(Ce,{cardinality:R.cardinality,lookahead:R.lookahead,wrap:!1})}if(N.z2(R))return De(Qe,{cardinality:R.cardinality,lookahead:R.lookahead});throw new Error(`Invalid terminal element: ${R?.$type}`)}function ut(R){return(0,Y.Nt)(R.value)}function De(R,W){var ae;return(!1!==W.wrap||W.lookahead)&&(R=`(${null!==(ae=W.lookahead)&&void 0!==ae?ae:""}${R})`),W.cardinality?`${R}${W.cardinality}`:R}},84(Be,te,b){b.d(te,{Ao:()=>I,Nt:()=>T,PC:()=>g,TH:()=>L,Yv:()=>C,lU:()=>j});var w=b(2909);const L=/\r?\n/gm,Z=new w.H,H=new class N extends w.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(O){this.multiline=!1,this.regex=O,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(O){O.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(O){const y=String.fromCharCode(O.value);if(!this.multiline&&"\n"===y&&(this.multiline=!0),O.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const S=T(y);this.endRegexpStack.push(S),this.isStarting&&(this.startRegexp+=S)}}visitSet(O){if(!this.multiline){const y=this.regex.substring(O.loc.begin,O.loc.end),S=new RegExp(y);this.multiline=!!"\n".match(S)}if(O.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const y=this.regex.substring(O.loc.begin,O.loc.end);this.endRegexpStack.push(y),this.isStarting&&(this.startRegexp+=y)}}visitChildren(O){"Group"===O.type&&O.quantifier||super.visitChildren(O)}};function j(x){try{return"string"==typeof x&&(x=new RegExp(x)),x=x.toString(),H.reset(x),H.visit(Z.pattern(x)),H.multiline}catch{return!1}}const Y="\f\n\r\t\v \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".split("");function C(x){const O="string"==typeof x?new RegExp(x):x;return Y.some(y=>O.test(y))}function T(x){return x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(x){return Array.prototype.map.call(x,O=>/\w/.test(O)?`[${O.toLowerCase()}${O.toUpperCase()}]`:T(O)).join("")}function g(x,O){const y=function v(x){"string"==typeof x&&(x=new RegExp(x));const O=x,y=x.source;let S=0;return new RegExp(function K(){let z,X="";function Q(oe){X+=y.substr(S,oe),S+=oe}function ie(oe){X+="(?:"+y.substr(S,oe)+"|$)",S+=oe}for(;S<y.length;)switch(y[S]){case"\\":switch(y[S+1]){case"c":ie(3);break;case"x":ie(4);break;case"u":ie(O.unicode?"{"===y[S+2]?y.indexOf("}",S)-S+1:6:2);break;case"p":case"P":ie(O.unicode?y.indexOf("}",S)-S+1:2);break;case"k":ie(y.indexOf(">",S)-S+1);break;default:ie(2)}break;case"[":z=/\[(?:\\.|.)*?\]/g,z.lastIndex=S,z=z.exec(y)||[],ie(z[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":Q(1);break;case"{":z=/\{\d+,?\d*\}/g,z.lastIndex=S,z=z.exec(y),z?Q(z[0].length):ie(1);break;case"(":if("?"===y[S+1])switch(y[S+2]){case":":X+="(?:",S+=3,X+=K()+"|$)";break;case"=":X+="(?=",S+=3,X+=K()+")";break;case"!":z=S,S+=3,K(),X+=y.substr(z,S-z);break;case"<":switch(y[S+3]){case"=":case"!":z=S,S+=4,K(),X+=y.substr(z,S-z);break;default:Q(y.indexOf(">",S)-S+1),X+=K()+"|$)"}}else Q(1),X+=K()+"|$)";break;case")":return++S,X;default:ie(1)}return X}(),x.flags)}(x),S=O.match(y);return!!S&&S[0].length>0}},4193(Be,te,b){b.d(te,{B5:()=>N,Rf:()=>H,Td:()=>D,Vj:()=>j,fq:()=>w,iD:()=>Y});class w{constructor(T,I){this.startFn=T,this.nextFn=I}iterator(){const T={state:this.startFn(),next:()=>this.nextFn(T.state),[Symbol.iterator]:()=>T};return T}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const T=this.iterator();let I=0,g=T.next();for(;!g.done;)I++,g=T.next();return I}toArray(){const T=[],I=this.iterator();let g;do{g=I.next(),void 0!==g.value&&T.push(g.value)}while(!g.done);return T}toSet(){return new Set(this)}toMap(T,I){const g=this.map(v=>[T?T(v):v,I?I(v):v]);return new Map(g)}toString(){return this.join()}concat(T){return new w(()=>({first:this.startFn(),firstDone:!1,iterator:T[Symbol.iterator]()}),I=>{let g;if(!I.firstDone){do{if(g=this.nextFn(I.first),!g.done)return g}while(!g.done);I.firstDone=!0}do{if(g=I.iterator.next(),!g.done)return g}while(!g.done);return H})}join(T=","){const I=this.iterator();let v,g="",x=!1;do{v=I.next(),v.done||(x&&(g+=T),g+=L(v.value)),x=!0}while(!v.done);return g}indexOf(T,I=0){const g=this.iterator();let v=0,x=g.next();for(;!x.done;){if(v>=I&&x.value===T)return v;x=g.next(),v++}return-1}every(T){const I=this.iterator();let g=I.next();for(;!g.done;){if(!T(g.value))return!1;g=I.next()}return!0}some(T){const I=this.iterator();let g=I.next();for(;!g.done;){if(T(g.value))return!0;g=I.next()}return!1}forEach(T){const I=this.iterator();let g=0,v=I.next();for(;!v.done;)T(v.value,g),v=I.next(),g++}map(T){return new w(this.startFn,I=>{const{done:g,value:v}=this.nextFn(I);return g?H:{done:!1,value:T(v)}})}filter(T){return new w(this.startFn,I=>{let g;do{if(g=this.nextFn(I),!g.done&&T(g.value))return g}while(!g.done);return H})}nonNullable(){return this.filter(T=>null!=T)}reduce(T,I){const g=this.iterator();let v=I,x=g.next();for(;!x.done;)v=void 0===v?x.value:T(v,x.value),x=g.next();return v}reduceRight(T,I){return this.recursiveReduce(this.iterator(),T,I)}recursiveReduce(T,I,g){const v=T.next();if(v.done)return g;const x=this.recursiveReduce(T,I,g);return void 0===x?v.value:I(x,v.value)}find(T){const I=this.iterator();let g=I.next();for(;!g.done;){if(T(g.value))return g.value;g=I.next()}}findIndex(T){const I=this.iterator();let g=0,v=I.next();for(;!v.done;){if(T(v.value))return g;v=I.next(),g++}return-1}includes(T){const I=this.iterator();let g=I.next();for(;!g.done;){if(g.value===T)return!0;g=I.next()}return!1}flatMap(T){return new w(()=>({this:this.startFn()}),I=>{do{if(I.iterator){const x=I.iterator.next();if(!x.done)return x;I.iterator=void 0}const{done:g,value:v}=this.nextFn(I.this);if(!g){const x=T(v);if(!Z(x))return{done:!1,value:x};I.iterator=x[Symbol.iterator]()}}while(I.iterator);return H})}flat(T){if(void 0===T&&(T=1),T<=0)return this;const I=T>1?this.flat(T-1):this;return new w(()=>({this:I.startFn()}),g=>{do{if(g.iterator){const O=g.iterator.next();if(!O.done)return O;g.iterator=void 0}const{done:v,value:x}=I.nextFn(g.this);if(!v){if(!Z(x))return{done:!1,value:x};g.iterator=x[Symbol.iterator]()}}while(g.iterator);return H})}head(){const I=this.iterator().next();if(!I.done)return I.value}tail(T=1){return new w(()=>{const I=this.startFn();for(let g=0;g<T;g++)if(this.nextFn(I).done)return I;return I},this.nextFn)}limit(T){return new w(()=>({size:0,state:this.startFn()}),I=>(I.size++,I.size>T?H:this.nextFn(I.state)))}distinct(T){return new w(()=>({set:new Set,internalState:this.startFn()}),I=>{let g;do{if(g=this.nextFn(I.internalState),!g.done){const v=T?T(g.value):g.value;if(!I.set.has(v))return I.set.add(v),g}}while(!g.done);return H})}exclude(T,I){const g=new Set;for(const v of T){const x=I?I(v):v;g.add(x)}return this.filter(v=>{const x=I?I(v):v;return!g.has(x)})}}function L(C){return"string"==typeof C?C:typeof C>"u"?"undefined":"function"==typeof C.toString?C.toString():Object.prototype.toString.call(C)}function Z(C){return!!C&&"function"==typeof C[Symbol.iterator]}const N=new w(()=>{},()=>H),H=Object.freeze({done:!0,value:void 0});function D(...C){if(1===C.length){const T=C[0];if(T instanceof w)return T;if(Z(T))return new w(()=>T[Symbol.iterator](),I=>I.next());if("number"==typeof T.length)return new w(()=>({index:0}),I=>I.index<T.length?{done:!1,value:T[I.index++]}:H)}return C.length>1?new w(()=>({collIndex:0,arrIndex:0}),T=>{do{if(T.iterator){const I=T.iterator.next();if(!I.done)return I;T.iterator=void 0}if(T.array){if(T.arrIndex<T.array.length)return{done:!1,value:T.array[T.arrIndex++]};T.array=void 0,T.arrIndex=0}if(T.collIndex<C.length){const I=C[T.collIndex++];Z(I)?T.iterator=I[Symbol.iterator]():I&&"number"==typeof I.length&&(T.array=I)}}while(T.iterator||T.array||T.collIndex<C.length);return H}):N}class j extends w{constructor(T,I,g){super(()=>({iterators:g?.includeRoot?[[T][Symbol.iterator]()]:[I(T)[Symbol.iterator]()],pruned:!1}),v=>{for(v.pruned&&(v.iterators.pop(),v.pruned=!1);v.iterators.length>0;){const O=v.iterators[v.iterators.length-1].next();if(!O.done)return v.iterators.push(I(O.value)[Symbol.iterator]()),O;v.iterators.pop()}return H})}iterator(){const T={state:this.startFn(),next:()=>this.nextFn(T.state),prune:()=>{T.state.pruned=!0},[Symbol.iterator]:()=>T};return T}}var Y,C;(C=Y||(Y={})).sum=function T(x){return x.reduce((O,y)=>O+y,0)},C.product=function I(x){return x.reduce((O,y)=>O*y,0)},C.min=function g(x){return x.reduce((O,y)=>Math.min(O,y))},C.max=function v(x){return x.reduce((O,y)=>Math.max(O,y))}},7423(Be,te,b){b.d(te,{D:()=>Z});var w=b(9204);class L{readFile(){throw new Error("No file system is available.")}readDirectory(){return(0,w.A)(function*(){return[]})()}}const Z={fileSystemProvider:()=>new L}},3185(Be,te,b){b.d(te,{A:()=>Z});var w=b(1200);const Z=function L(N,H,D){for(var j=-1,Y=N.length;++j<Y;){var C=N[j],T=H(C);if(null!=T&&(void 0===I?T==T&&!(0,w.A)(T):D(T,I)))var I=T,g=C}return g}},4470(Be,te,b){b.d(te,{A:()=>L});const L=function w(Z,N){return Z<N}},7554(Be,te,b){b.d(te,{A:()=>N});var w=b(462),L=b(8200);const N=function Z(H,D){var j=-1,Y=(0,L.A)(H)?Array(H.length):[];return(0,w.A)(H,function(C,T,I){Y[++j]=D(C,T,I)}),Y}},300(Be,te,b){b.d(te,{A:()=>Z});var w=b(2383);const Z=function L(N){return null!=N&&N.length?(0,w.A)(N,1):[]}},5644(Be,te,b){b.d(te,{A:()=>D});var w=b(7786),L=b(5382),Z=b(7554),N=b(9247);const D=function H(j,Y){return((0,N.A)(j)?w.A:Z.A)(j,(0,L.A)(Y,3))}},1834(Be,te,b){b.d(te,{A:()=>H});var w=b(3185),L=b(4470),Z=b(5618);const H=function N(D){return D&&D.length?(0,w.A)(D,Z.A,L.A):void 0}},2510(Be,te,b){var w;b.d(te,{A:()=>Z,r:()=>L}),(()=>{var N={470:Y=>{function C(g){if("string"!=typeof g)throw new TypeError("Path must be a string. Received "+JSON.stringify(g))}function T(g,v){for(var x,O="",y=0,S=-1,K=0,X=0;X<=g.length;++X){if(X<g.length)x=g.charCodeAt(X);else{if(47===x)break;x=47}if(47===x){if(S!==X-1&&1!==K)if(S!==X-1&&2===K){if(O.length<2||2!==y||46!==O.charCodeAt(O.length-1)||46!==O.charCodeAt(O.length-2))if(O.length>2){var z=O.lastIndexOf("/");if(z!==O.length-1){-1===z?(O="",y=0):y=(O=O.slice(0,z)).length-1-O.lastIndexOf("/"),S=X,K=0;continue}}else if(2===O.length||1===O.length){O="",y=0,S=X,K=0;continue}v&&(O.length>0?O+="/..":O="..",y=2)}else O.length>0?O+="/"+g.slice(S+1,X):O=g.slice(S+1,X),y=X-S-1;S=X,K=0}else 46===x&&-1!==K?++K:K=-1}return O}var I={resolve:function(){for(var g,v="",x=!1,O=arguments.length-1;O>=-1&&!x;O--){var y;O>=0?y=arguments[O]:(void 0===g&&(g=process.cwd()),y=g),C(y),0!==y.length&&(v=y+"/"+v,x=47===y.charCodeAt(0))}return v=T(v,!x),x?v.length>0?"/"+v:"/":v.length>0?v:"."},normalize:function(g){if(C(g),0===g.length)return".";var v=47===g.charCodeAt(0),x=47===g.charCodeAt(g.length-1);return 0!==(g=T(g,!v)).length||v||(g="."),g.length>0&&x&&(g+="/"),v?"/"+g:g},isAbsolute:function(g){return C(g),g.length>0&&47===g.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var g,v=0;v<arguments.length;++v){var x=arguments[v];C(x),x.length>0&&(void 0===g?g=x:g+="/"+x)}return void 0===g?".":I.normalize(g)},relative:function(g,v){if(C(g),C(v),g===v||(g=I.resolve(g))===(v=I.resolve(v)))return"";for(var x=1;x<g.length&&47===g.charCodeAt(x);++x);for(var O=g.length,y=O-x,S=1;S<v.length&&47===v.charCodeAt(S);++S);for(var K=v.length-S,X=y<K?y:K,z=-1,Q=0;Q<=X;++Q){if(Q===X){if(K>X){if(47===v.charCodeAt(S+Q))return v.slice(S+Q+1);if(0===Q)return v.slice(S+Q)}else y>X&&(47===g.charCodeAt(x+Q)?z=Q:0===Q&&(z=0));break}var ie=g.charCodeAt(x+Q);if(ie!==v.charCodeAt(S+Q))break;47===ie&&(z=Q)}var oe="";for(Q=x+z+1;Q<=O;++Q)Q!==O&&47!==g.charCodeAt(Q)||(oe+=0===oe.length?"..":"/..");return oe.length>0?oe+v.slice(S+z):(47===v.charCodeAt(S+=z)&&++S,v.slice(S))},_makeLong:function(g){return g},dirname:function(g){if(C(g),0===g.length)return".";for(var v=g.charCodeAt(0),x=47===v,O=-1,y=!0,S=g.length-1;S>=1;--S)if(47===(v=g.charCodeAt(S))){if(!y){O=S;break}}else y=!1;return-1===O?x?"/":".":x&&1===O?"//":g.slice(0,O)},basename:function(g,v){if(void 0!==v&&"string"!=typeof v)throw new TypeError('"ext" argument must be a string');C(g);var x,O=0,y=-1,S=!0;if(void 0!==v&&v.length>0&&v.length<=g.length){if(v.length===g.length&&v===g)return"";var K=v.length-1,X=-1;for(x=g.length-1;x>=0;--x){var z=g.charCodeAt(x);if(47===z){if(!S){O=x+1;break}}else-1===X&&(S=!1,X=x+1),K>=0&&(z===v.charCodeAt(K)?-1==--K&&(y=x):(K=-1,y=X))}return O===y?y=X:-1===y&&(y=g.length),g.slice(O,y)}for(x=g.length-1;x>=0;--x)if(47===g.charCodeAt(x)){if(!S){O=x+1;break}}else-1===y&&(S=!1,y=x+1);return-1===y?"":g.slice(O,y)},extname:function(g){C(g);for(var v=-1,x=0,O=-1,y=!0,S=0,K=g.length-1;K>=0;--K){var X=g.charCodeAt(K);if(47!==X)-1===O&&(y=!1,O=K+1),46===X?-1===v?v=K:1!==S&&(S=1):-1!==v&&(S=-1);else if(!y){x=K+1;break}}return-1===v||-1===O||0===S||1===S&&v===O-1&&v===x+1?"":g.slice(v,O)},format:function(g){if(null===g||"object"!=typeof g)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof g);return y=(x=g).base||(x.name||"")+(x.ext||""),(O=x.dir||x.root)?O===x.root?O+y:O+"/"+y:y;var x,O,y},parse:function(g){C(g);var v={root:"",dir:"",base:"",ext:"",name:""};if(0===g.length)return v;var x,O=g.charCodeAt(0),y=47===O;y?(v.root="/",x=1):x=0;for(var S=-1,K=0,X=-1,z=!0,Q=g.length-1,ie=0;Q>=x;--Q)if(47!==(O=g.charCodeAt(Q)))-1===X&&(z=!1,X=Q+1),46===O?-1===S?S=Q:1!==ie&&(ie=1):-1!==S&&(ie=-1);else if(!z){K=Q+1;break}return-1===S||-1===X||0===ie||1===ie&&S===X-1&&S===K+1?-1!==X&&(v.base=v.name=g.slice(0===K&&y?1:K,X)):(0===K&&y?(v.name=g.slice(1,S),v.base=g.slice(1,X)):(v.name=g.slice(K,S),v.base=g.slice(K,X)),v.ext=g.slice(S,X)),K>0?v.dir=g.slice(0,K-1):y&&(v.dir="/"),v},sep:"/",delimiter:":",win32:null,posix:null};I.posix=I,Y.exports=I}},H={};function D(Y){var C=H[Y];if(void 0!==C)return C.exports;var T=H[Y]={exports:{}};return N[Y](T,T.exports,D),T.exports}D.d=(Y,C)=>{for(var T in C)D.o(C,T)&&!D.o(Y,T)&&Object.defineProperty(Y,T,{enumerable:!0,get:C[T]})},D.o=(Y,C)=>Object.prototype.hasOwnProperty.call(Y,C),D.r=Y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})};var j={};(()=>{let Y;D.r(j),D.d(j,{URI:()=>y,Utils:()=>Oe}),"object"==typeof process?Y="win32"===process.platform:"object"==typeof navigator&&(Y=navigator.userAgent.indexOf("Windows")>=0);const C=/^\w[\w\d+.-]*$/,T=/^\//,I=/^\/\//;function g(q,F){if(!q.scheme&&F)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${q.authority}", path: "${q.path}", query: "${q.query}", fragment: "${q.fragment}"}`);if(q.scheme&&!C.test(q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(q.path)if(q.authority){if(!T.test(q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(I.test(q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const v="",x="/",O=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class y{static isUri(F){return F instanceof y||!!F&&"string"==typeof F.authority&&"string"==typeof F.fragment&&"string"==typeof F.path&&"string"==typeof F.query&&"string"==typeof F.scheme&&"string"==typeof F.fsPath&&"function"==typeof F.with&&"function"==typeof F.toString}scheme;authority;path;query;fragment;constructor(F,ue,de,$e,Ne,ye=!1){"object"==typeof F?(this.scheme=F.scheme||v,this.authority=F.authority||v,this.path=F.path||v,this.query=F.query||v,this.fragment=F.fragment||v):(this.scheme=function(Qe,Me){return Qe||Me?Qe:"file"}(F,ye),this.authority=ue||v,this.path=function(Qe,Me){switch(Qe){case"https":case"http":case"file":Me?Me[0]!==x&&(Me=x+Me):Me=x}return Me}(this.scheme,de||v),this.query=$e||v,this.fragment=Ne||v,g(this,ye))}get fsPath(){return ie(this,!1)}with(F){if(!F)return this;let{scheme:ue,authority:de,path:$e,query:Ne,fragment:ye}=F;return void 0===ue?ue=this.scheme:null===ue&&(ue=v),void 0===de?de=this.authority:null===de&&(de=v),void 0===$e?$e=this.path:null===$e&&($e=v),void 0===Ne?Ne=this.query:null===Ne&&(Ne=v),void 0===ye?ye=this.fragment:null===ye&&(ye=v),ue===this.scheme&&de===this.authority&&$e===this.path&&Ne===this.query&&ye===this.fragment?this:new K(ue,de,$e,Ne,ye)}static parse(F,ue=!1){const de=O.exec(F);return de?new K(de[2]||v,G(de[4]||v),G(de[5]||v),G(de[7]||v),G(de[9]||v),ue):new K(v,v,v,v,v)}static file(F){let ue=v;if(Y&&(F=F.replace(/\\/g,x)),F[0]===x&&F[1]===x){const de=F.indexOf(x,2);-1===de?(ue=F.substring(2),F=x):(ue=F.substring(2,de),F=F.substring(de)||x)}return new K("file",ue,F,v,v)}static from(F){const ue=new K(F.scheme,F.authority,F.path,F.query,F.fragment);return g(ue,!0),ue}toString(F=!1){return oe(this,F)}toJSON(){return this}static revive(F){if(F){if(F instanceof y)return F;{const ue=new K(F);return ue._formatted=F.external,ue._fsPath=F._sep===S?F.fsPath:null,ue}}return F}}const S=Y?1:void 0;class K extends y{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=ie(this,!1)),this._fsPath}toString(F=!1){return F?oe(this,!0):(this._formatted||(this._formatted=oe(this,!1)),this._formatted)}toJSON(){const F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=S),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}}const X={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function z(q,F,ue){let de,$e=-1;for(let Ne=0;Ne<q.length;Ne++){const ye=q.charCodeAt(Ne);if(ye>=97&&ye<=122||ye>=65&&ye<=90||ye>=48&&ye<=57||45===ye||46===ye||95===ye||126===ye||F&&47===ye||ue&&91===ye||ue&&93===ye||ue&&58===ye)-1!==$e&&(de+=encodeURIComponent(q.substring($e,Ne)),$e=-1),void 0!==de&&(de+=q.charAt(Ne));else{void 0===de&&(de=q.substr(0,Ne));const Qe=X[ye];void 0!==Qe?(-1!==$e&&(de+=encodeURIComponent(q.substring($e,Ne)),$e=-1),de+=Qe):-1===$e&&($e=Ne)}}return-1!==$e&&(de+=encodeURIComponent(q.substring($e))),void 0!==de?de:q}function Q(q){let F;for(let ue=0;ue<q.length;ue++){const de=q.charCodeAt(ue);35===de||63===de?(void 0===F&&(F=q.substr(0,ue)),F+=X[de]):void 0!==F&&(F+=q[ue])}return void 0!==F?F:q}function ie(q,F){let ue;return ue=q.authority&&q.path.length>1&&"file"===q.scheme?`//${q.authority}${q.path}`:47===q.path.charCodeAt(0)&&(q.path.charCodeAt(1)>=65&&q.path.charCodeAt(1)<=90||q.path.charCodeAt(1)>=97&&q.path.charCodeAt(1)<=122)&&58===q.path.charCodeAt(2)?F?q.path.substr(1):q.path[1].toLowerCase()+q.path.substr(2):q.path,Y&&(ue=ue.replace(/\//g,"\\")),ue}function oe(q,F){const ue=F?Q:z;let de="",{scheme:$e,authority:Ne,path:ye,query:Qe,fragment:Me}=q;if($e&&(de+=$e,de+=":"),(Ne||"file"===$e)&&(de+=x,de+=x),Ne){let Le=Ne.indexOf("@");if(-1!==Le){const ot=Ne.substr(0,Le);Ne=Ne.substr(Le+1),Le=ot.lastIndexOf(":"),-1===Le?de+=ue(ot,!1,!1):(de+=ue(ot.substr(0,Le),!1,!1),de+=":",de+=ue(ot.substr(Le+1),!1,!0)),de+="@"}Ne=Ne.toLowerCase(),Le=Ne.lastIndexOf(":"),-1===Le?de+=ue(Ne,!1,!0):(de+=ue(Ne.substr(0,Le),!1,!0),de+=Ne.substr(Le))}if(ye){if(ye.length>=3&&47===ye.charCodeAt(0)&&58===ye.charCodeAt(2)){const Le=ye.charCodeAt(1);Le>=65&&Le<=90&&(ye=`/${String.fromCharCode(Le+32)}:${ye.substr(3)}`)}else if(ye.length>=2&&58===ye.charCodeAt(1)){const Le=ye.charCodeAt(0);Le>=65&&Le<=90&&(ye=`${String.fromCharCode(Le+32)}:${ye.substr(2)}`)}de+=ue(ye,!0,!1)}return Qe&&(de+="?",de+=ue(Qe,!1,!1)),Me&&(de+="#",de+=F?Me:z(Me,!1,!1)),de}function ve(q){try{return decodeURIComponent(q)}catch{return q.length>3?q.substr(0,3)+ve(q.substr(3)):q}}const be=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function G(q){return q.match(be)?q.replace(be,F=>ve(F)):q}var le=D(470);const fe=le.posix||le;var Oe,q;(q=Oe||(Oe={})).joinPath=function(F,...ue){return F.with({path:fe.join(F.path,...ue)})},q.resolvePath=function(F,...ue){let de=F.path,$e=!1;"/"!==de[0]&&(de="/"+de,$e=!0);let Ne=fe.resolve(de,...ue);return $e&&"/"===Ne[0]&&!F.authority&&(Ne=Ne.substring(1)),F.with({path:Ne})},q.dirname=function(F){if(0===F.path.length||"/"===F.path)return F;let ue=fe.dirname(F.path);return 1===ue.length&&46===ue.charCodeAt(0)&&(ue=""),F.with({path:ue})},q.basename=function(F){return fe.basename(F.path)},q.extname=function(F){return fe.extname(F.path)}})(),w=j})();const{URI:L,Utils:Z}=w}}]);
//# sourceMappingURL=233.083a304d31e677b6.js.map