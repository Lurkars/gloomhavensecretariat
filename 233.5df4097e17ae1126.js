"use strict";(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[233],{3302(Be,Z,$){Z.Qi=Z.XO=void 0;const q=$(362),J=$(4221),w=$(2240);var j,R;(R=j||(Z.XO=j={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),R.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:w.Event.None}),R.is=function T(b){const y=b;return y&&(y===R.None||y===R.Cancelled||J.boolean(y.isCancellationRequested)&&!!y.onCancellationRequested)};const M=Object.freeze(function(R,T){const b=(0,q.default)().timer.setTimeout(R.bind(T),0);return{dispose(){b.dispose()}}});class B{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?M:(this._emitter||(this._emitter=new w.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}Z.Qi=class H{get token(){return this._token||(this._token=new B),this._token}cancel(){this._token?this._token.cancel():this._token=j.Cancelled}dispose(){this._token?this._token instanceof B&&this._token.dispose():this._token=j.None}}},2240(Be,Z,$){Object.defineProperty(Z,"__esModule",{value:!0}),Z.Emitter=Z.Event=void 0;const S=$(362);var q;!function(j){const M={dispose(){}};j.None=function(){return M}}(q||(Z.Event=q={}));class J{add(M,B=null,H){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(M),this._contexts.push(B),Array.isArray(H)&&H.push({dispose:()=>this.remove(M,B)})}remove(M,B=null){if(!this._callbacks)return;let H=!1;for(let R=0,T=this._callbacks.length;R<T;R++)if(this._callbacks[R]===M){if(this._contexts[R]===B)return this._callbacks.splice(R,1),void this._contexts.splice(R,1);H=!0}if(H)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...M){if(!this._callbacks)return[];const B=[],H=this._callbacks.slice(0),R=this._contexts.slice(0);for(let T=0,b=H.length;T<b;T++)try{B.push(H[T].apply(R[T],M))}catch(y){(0,S.default)().console.error(y)}return B}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class w{constructor(M){this._options=M}get event(){return this._event||(this._event=(M,B,H)=>{this._callbacks||(this._callbacks=new J),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(M,B);const R={dispose:()=>{this._callbacks&&(this._callbacks.remove(M,B),R.dispose=w._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(H)&&H.push(R),R}),this._event}fire(M){this._callbacks&&this._callbacks.invoke.call(this._callbacks,M)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Z.Emitter=w,w._noop=function(){}},4221(Be,Z){function S(B){return"string"==typeof B||B instanceof String}function j(B){return Array.isArray(B)}Object.defineProperty(Z,"__esModule",{value:!0}),Z.stringArray=Z.array=Z.func=Z.error=Z.number=Z.string=Z.boolean=void 0,Z.boolean=function $(B){return!0===B||!1===B},Z.string=S,Z.number=function q(B){return"number"==typeof B||B instanceof Number},Z.error=function J(B){return B instanceof Error},Z.func=function w(B){return"function"==typeof B},Z.array=j,Z.stringArray=function M(B){return j(B)&&B.every(H=>S(H))}},362(Be,Z){let $;function S(){if(void 0===$)throw new Error("No runtime abstraction layer installed");return $}Object.defineProperty(Z,"__esModule",{value:!0}),(S||(S={})).install=function J(w){if(void 0===w)throw new Error("No runtime abstraction layer provided");$=w},Z.default=S},2909(Be,Z,$){function S(x){return x.charCodeAt(0)}function q(x,g){Array.isArray(x)?x.forEach(function(N){g.push(N)}):g.push(x)}function J(x,g){if(!0===x[g])throw"duplicate flag "+g;x[g]=!0}function w(x){if(void 0===x)throw Error("Internal Error - Should never get here!");return!0}function j(){throw Error("Internal Error - Should never get here!")}function M(x){return"Character"===x.type}$.d(Z,{z:()=>A,H:()=>v});const B=[];for(let x=S("0");x<=S("9");x++)B.push(x);const H=[S("_")].concat(B);for(let x=S("a");x<=S("z");x++)H.push(x);for(let x=S("A");x<=S("Z");x++)H.push(x);const R=[S(" "),S("\f"),S("\n"),S("\r"),S("\t"),S("\v"),S("\t"),S("\xa0"),S("\u1680"),S("\u2000"),S("\u2001"),S("\u2002"),S("\u2003"),S("\u2004"),S("\u2005"),S("\u2006"),S("\u2007"),S("\u2008"),S("\u2009"),S("\u200a"),S("\u2028"),S("\u2029"),S("\u202f"),S("\u205f"),S("\u3000"),S("\ufeff")],T=/[0-9a-fA-F]/,b=/[0-9]/,y=/[1-9]/;class v{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(g){this.idx=g.idx,this.input=g.input,this.groupIdx=g.groupIdx}pattern(g){this.idx=0,this.input=g,this.groupIdx=0,this.consumeChar("/");const N=this.disjunction();this.consumeChar("/");const V={type:"Flags",loc:{begin:this.idx,end:g.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":J(V,"global");break;case"i":J(V,"ignoreCase");break;case"m":J(V,"multiLine");break;case"u":J(V,"unicode");break;case"y":J(V,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:V,value:N,loc:this.loc(0)}}disjunction(){const g=[],N=this.idx;for(g.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),g.push(this.alternative());return{type:"Disjunction",value:g,loc:this.loc(N)}}alternative(){const g=[],N=this.idx;for(;this.isTerm();)g.push(this.term());return{type:"Alternative",value:g,loc:this.loc(N)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const g=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(g)};case"$":return{type:"EndAnchor",loc:this.loc(g)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(g)};case"B":return{type:"NonWordBoundary",loc:this.loc(g)}}throw Error("Invalid Assertion Escape");case"(":let N;switch(this.consumeChar("?"),this.popChar()){case"=":N="Lookahead";break;case"!":N="NegativeLookahead"}w(N);const V=this.disjunction();return this.consumeChar(")"),{type:N,value:V,loc:this.loc(g)}}return j()}quantifier(g=!1){let N;const V=this.idx;switch(this.popChar()){case"*":N={atLeast:0,atMost:1/0};break;case"+":N={atLeast:1,atMost:1/0};break;case"?":N={atLeast:0,atMost:1};break;case"{":const Q=this.integerIncludingZero();switch(this.popChar()){case"}":N={atLeast:Q,atMost:Q};break;case",":let me;this.isDigit()?(me=this.integerIncludingZero(),N={atLeast:Q,atMost:me}):N={atLeast:Q,atMost:1/0},this.consumeChar("}")}if(!0===g&&void 0===N)return;w(N)}if((!0!==g||void 0!==N)&&w(N))return"?"===this.peekChar(0)?(this.consumeChar("?"),N.greedy=!1):N.greedy=!0,N.type="Quantifier",N.loc=this.loc(V),N}atom(){let g;const N=this.idx;switch(this.peekChar()){case".":g=this.dotAll();break;case"\\":g=this.atomEscape();break;case"[":g=this.characterClass();break;case"(":g=this.group()}return void 0===g&&this.isPatternCharacter()&&(g=this.patternCharacter()),w(g)?(g.loc=this.loc(N),this.isQuantifier()&&(g.quantifier=this.quantifier()),g):j()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[S("\n"),S("\r"),S("\u2028"),S("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let g,N=!1;switch(this.popChar()){case"d":g=B;break;case"D":g=B,N=!0;break;case"s":g=R;break;case"S":g=R,N=!0;break;case"w":g=H;break;case"W":g=H,N=!0}return w(g)?{type:"Set",value:g,complement:N}:j()}controlEscapeAtom(){let g;switch(this.popChar()){case"f":g=S("\f");break;case"n":g=S("\n");break;case"r":g=S("\r");break;case"t":g=S("\t");break;case"v":g=S("\v")}return w(g)?{type:"Character",value:g}:j()}controlLetterEscapeAtom(){this.consumeChar("c");const g=this.popChar();if(!1===/[a-zA-Z]/.test(g))throw Error("Invalid ");return{type:"Character",value:g.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:S("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:S(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:S(this.popChar())}}}characterClass(){const g=[];let N=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),N=!0);this.isClassAtom();){const V=this.classAtom();if(M(V)&&this.isRangeDash()){this.consumeChar("-");const me=this.classAtom();if(M(me)){if(me.value<V.value)throw Error("Range out of order in character class");g.push({from:V.value,to:me.value})}else q(V.value,g),g.push(S("-")),q(me.value,g)}else q(V.value,g)}return this.consumeChar("]"),{type:"Set",complement:N,value:g}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:S("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let g=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),g=!1):this.groupIdx++;const N=this.disjunction();this.consumeChar(")");const V={type:"Group",capturing:g,value:N};return g&&(V.idx=this.groupIdx),V}positiveInteger(){let g=this.popChar();if(!1===y.test(g))throw Error("Expecting a positive integer");for(;b.test(this.peekChar(0));)g+=this.popChar();return parseInt(g,10)}integerIncludingZero(){let g=this.popChar();if(!1===b.test(g))throw Error("Expecting an integer");for(;b.test(this.peekChar(0));)g+=this.popChar();return parseInt(g,10)}patternCharacter(){const g=this.popChar();switch(g){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:S(g)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return b.test(this.peekChar(0))}isClassAtom(g=0){switch(this.peekChar(g)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const g=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(g)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(g){let N="";for(let Q=0;Q<g;Q++){const me=this.popChar();if(!1===T.test(me))throw Error("Expecting a HexDecimal digits");N+=me}return{type:"Character",value:parseInt(N,16)}}peekChar(g=0){return this.input[this.idx+g]}popChar(){const g=this.peekChar(0);return this.consumeChar(void 0),g}consumeChar(g){if(void 0!==g&&this.input[this.idx]!==g)throw Error("Expected: '"+g+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(g){return{begin:g,end:this.idx}}}class A{visitChildren(g){for(const N in g){const V=g[N];g.hasOwnProperty(N)&&(void 0!==V.type?this.visit(V):Array.isArray(V)&&V.forEach(Q=>{this.visit(Q)},this))}}visit(g){switch(g.type){case"Pattern":this.visitPattern(g);break;case"Flags":this.visitFlags(g);break;case"Disjunction":this.visitDisjunction(g);break;case"Alternative":this.visitAlternative(g);break;case"StartAnchor":this.visitStartAnchor(g);break;case"EndAnchor":this.visitEndAnchor(g);break;case"WordBoundary":this.visitWordBoundary(g);break;case"NonWordBoundary":this.visitNonWordBoundary(g);break;case"Lookahead":this.visitLookahead(g);break;case"NegativeLookahead":this.visitNegativeLookahead(g);break;case"Character":this.visitCharacter(g);break;case"Set":this.visitSet(g);break;case"Group":this.visitGroup(g);break;case"GroupBackReference":this.visitGroupBackReference(g);break;case"Quantifier":this.visitQuantifier(g)}this.visitChildren(g)}visitPattern(g){}visitFlags(g){}visitDisjunction(g){}visitAlternative(g){}visitStartAnchor(g){}visitEndAnchor(g){}visitWordBoundary(g){}visitNonWordBoundary(g){}visitLookahead(g){}visitNegativeLookahead(g){}visitCharacter(g){}visitSet(g){}visitGroup(g){}visitGroupBackReference(g){}visitQuantifier(g){}}},7172(Be,Z,$){$.d(Z,{$:()=>B,T:()=>M});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"PacketTokenBuilder")}constructor(){super(["packet"])}},M={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new S.Tm,"ValueConverter")}};function B(H=w.D){const R=(0,J.WQ)((0,q.u)(H),S.sr),T=(0,J.WQ)((0,q.t)({shared:R}),S.AM,M);return R.ServiceRegistry.register(T),{shared:R,Packet:T}}(0,S.K2)(B,"createPacketServices")},3445(Be,Z,$){$.d(Z,{mR:()=>Zn,dg:()=>Jn,jE:()=>Yn,Tm:()=>Ft,eZ:()=>Fe,e5:()=>sn,sr:()=>Ar,AM:()=>Er,KX:()=>an,YP:()=>qn,eV:()=>on,K2:()=>A});var S=$(7449),q=$(2286),J=$(1326),w=$(2917),j=$(7423),M=$(2510);const B={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},H={AstReflection:()=>new w.QX};function T(ue){var Ue;const lt=function R(){const ue=(0,J.WQ)((0,q.u)(j.D),H),Ue=(0,J.WQ)((0,q.t)({shared:ue}),B);return ue.ServiceRegistry.register(Ue),Ue}(),rt=lt.serializer.JsonSerializer.deserialize(ue);return lt.shared.workspace.LangiumDocumentFactory.fromModel(rt,M.r.parse(`memory://${null!==(Ue=rt.name)&&void 0!==Ue?Ue:"grammar"}.langium`)),rt}var b=$(6535),y=$(3460),v=Object.defineProperty,A=(ue,Ue)=>v(ue,"name",{value:Ue,configurable:!0}),x="Statement",g="Architecture";A(function N(ue){return Tt.isInstance(ue,g)},"isArchitecture");var V="Axis",Q="Branch";A(function me(ue){return Tt.isInstance(ue,Q)},"isBranch");var X="Checkout",re="CherryPicking",se="ClassDefStatement",Te="Commit";A(function Oe(ue){return Tt.isInstance(ue,Te)},"isCommit");var D="Curve",ae="Edge",fe="Entry",ve="GitGraph";A(function we(ue){return Tt.isInstance(ue,ve)},"isGitGraph");var Y="Group",F="Info";A(function oe(ue){return Tt.isInstance(ue,F)},"isInfo");var ce="Item",$e="Junction",be="Merge";A(function Ae(ue){return Tt.isInstance(ue,be)},"isMerge");var Ze="Option",Pe="Packet";A(function De(ue){return Tt.isInstance(ue,Pe)},"isPacket");var at="PacketBlock";A(function Le(ue){return Tt.isInstance(ue,at)},"isPacketBlock");var pt="Pie";A(function kn(ue){return Tt.isInstance(ue,pt)},"isPie");var ft="PieSection";A(function Me(ue){return Tt.isInstance(ue,ft)},"isPieSection");var C="Radar",K="Service",ie="Treemap";A(function Ie(ue){return Tt.isInstance(ue,ie)},"isTreemap");var Wt,en,Ht,Vt,zt,Lt,Mt,Ce="TreemapRow",Ge="Direction",je="Leaf",Pt="Section",yt=class extends S.kD{static{A(this,"MermaidAstReflection")}getAllTypes(){return[g,V,Q,X,re,se,Te,D,Ge,ae,fe,ve,Y,F,ce,$e,je,be,Ze,Pe,at,pt,ft,C,Pt,K,x,ie,Ce]}computeIsSubtype(ue,Ue){switch(ue){case Q:case X:case re:case Te:case be:return this.isSubtype(x,Ue);case Ge:return this.isSubtype(ve,Ue);case je:case Pt:return this.isSubtype(ce,Ue);default:return!1}}getReferenceType(ue){const Ue=`${ue.container.$type}:${ue.property}`;if("Entry:axis"===Ue)return V;throw new Error(`${Ue} is not a valid reference id.`)}getTypeMetaData(ue){switch(ue){case g:return{name:g,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case V:return{name:V,properties:[{name:"label"},{name:"name"}]};case Q:return{name:Q,properties:[{name:"name"},{name:"order"}]};case X:return{name:X,properties:[{name:"branch"}]};case re:return{name:re,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case se:return{name:se,properties:[{name:"className"},{name:"styleText"}]};case Te:return{name:Te,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case D:return{name:D,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case ae:return{name:ae,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case fe:return{name:fe,properties:[{name:"axis"},{name:"value"}]};case ve:return{name:ve,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case Y:return{name:Y,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case F:return{name:F,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case ce:return{name:ce,properties:[{name:"classSelector"},{name:"name"}]};case $e:return{name:$e,properties:[{name:"id"},{name:"in"}]};case be:return{name:be,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case Ze:return{name:Ze,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case Pe:return{name:Pe,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case at:return{name:at,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case pt:return{name:pt,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case ft:return{name:ft,properties:[{name:"label"},{name:"value"}]};case C:return{name:C,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case K:return{name:K,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case ie:return{name:ie,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case Ce:return{name:Ce,properties:[{name:"indent"},{name:"item"}]};case Ge:return{name:Ge,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case je:return{name:je,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Pt:return{name:Pt,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:ue,properties:[]}}}},Tt=new yt,Pn=A(()=>Wt??(Wt=T('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Ur=A(()=>en??(en=T('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),Vn=A(()=>Ht??(Ht=T('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),zn=A(()=>Vt??(Vt=T('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Xn=A(()=>zt??(zt=T('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),gr=A(()=>Lt??(Lt=T('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),_r=A(()=>Mt??(Mt=T('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),Dt={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},yr={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},tn={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Tr={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},nn={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},vr={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},rn={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ar={AstReflection:A(()=>new yt,"AstReflection")},sn={Grammar:A(()=>Pn(),"Grammar"),LanguageMetaData:A(()=>Dt,"LanguageMetaData"),parser:{}},Er={Grammar:A(()=>Ur(),"Grammar"),LanguageMetaData:A(()=>yr,"LanguageMetaData"),parser:{}},an={Grammar:A(()=>Vn(),"Grammar"),LanguageMetaData:A(()=>tn,"LanguageMetaData"),parser:{}},Yn={Grammar:A(()=>zn(),"Grammar"),LanguageMetaData:A(()=>Tr,"LanguageMetaData"),parser:{}},Fe={Grammar:A(()=>Xn(),"Grammar"),LanguageMetaData:A(()=>nn,"LanguageMetaData"),parser:{}},qn={Grammar:A(()=>gr(),"Grammar"),LanguageMetaData:A(()=>vr,"LanguageMetaData"),parser:{}},on={Grammar:A(()=>_r(),"Grammar"),LanguageMetaData:A(()=>rn,"LanguageMetaData"),parser:{}},Ct={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Jn=class extends b.d{static{A(this,"AbstractMermaidValueConverter")}runConverter(ue,Ue,lt){let rt=this.runCommonConverter(ue,Ue,lt);return void 0===rt&&(rt=this.runCustomConverter(ue,Ue,lt)),void 0===rt?super.runConverter(ue,Ue,lt):rt}runCommonConverter(ue,Ue,lt){const rt=Ct[ue.name];if(void 0===rt)return;const ge=rt.exec(Ue);if(null!==ge){if(void 0!==ge[1])return ge[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==ge[2])return ge[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},Ft=class extends Jn{static{A(this,"CommonValueConverter")}runCustomConverter(ue,Ue,lt){}},Zn=class extends y.Q{static{A(this,"AbstractMermaidTokenBuilder")}constructor(ue){super(),this.keywords=new Set(ue)}buildKeywordTokens(ue,Ue,lt){const rt=super.buildKeywordTokens(ue,Ue,lt);return rt.forEach(ge=>{this.keywords.has(ge.name)&&void 0!==ge.PATTERN&&(ge.PATTERN=new RegExp(ge.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),rt}};(class extends Zn{static{A(this,"CommonTokenBuilder")}})},7611(Be,Z,$){$.d(Z,{F:()=>T,d:()=>b});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"TreemapTokenBuilder")}constructor(){super(["treemap"])}},M=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,B=class extends S.dg{static{(0,S.K2)(this,"TreemapValueConverter")}runCustomConverter(y,v,A){if("NUMBER2"===y.name)return parseFloat(v.replace(/,/g,""));if("SEPARATOR"===y.name)return v.substring(1,v.length-1);if("STRING2"===y.name)return v.substring(1,v.length-1);if("INDENTATION"===y.name)return v.length;if("ClassDef"===y.name){if("string"!=typeof v)return v;const x=M.exec(v);if(x)return{$type:"ClassDefStatement",className:x[1],styleText:x[2]||void 0}}}};function H(y){const v=y.validation.TreemapValidator,A=y.validation.ValidationRegistry;if(A){const x={Treemap:v.checkSingleRoot.bind(v)};A.register(x,v)}}(0,S.K2)(H,"registerValidationChecks");var R=class{static{(0,S.K2)(this,"TreemapValidator")}checkSingleRoot(y,v){let A;for(const x of y.TreemapRows)x.item&&(void 0===A&&void 0===x.indent?A=0:(void 0===x.indent||void 0!==A&&A>=parseInt(x.indent,10))&&v("error","Multiple root nodes are not allowed in a treemap.",{node:x,property:"item"}))}},T={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new B,"ValueConverter")},validation:{TreemapValidator:(0,S.K2)(()=>new R,"TreemapValidator")}};function b(y=w.D){const v=(0,J.WQ)((0,q.u)(y),S.sr),A=(0,J.WQ)((0,q.t)({shared:v}),S.eV,T);return v.ServiceRegistry.register(A),H(A),{shared:v,Treemap:A}}(0,S.K2)(b,"createTreemapServices")},9499(Be,Z,$){$.d(Z,{p:()=>M,v:()=>B});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},M={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new S.Tm,"ValueConverter")}};function B(H=w.D){const R=(0,J.WQ)((0,q.u)(H),S.sr),T=(0,J.WQ)((0,q.t)({shared:R}),S.e5,M);return R.ServiceRegistry.register(T),{shared:R,Info:T}}(0,S.K2)(B,"createInfoServices")},5284(Be,Z,$){$.d(Z,{f:()=>B,l:()=>M});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},M={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new S.Tm,"ValueConverter")}};function B(H=w.D){const R=(0,J.WQ)((0,q.u)(H),S.sr),T=(0,J.WQ)((0,q.t)({shared:R}),S.YP,M);return R.ServiceRegistry.register(T),{shared:R,Radar:T}}(0,S.K2)(B,"createRadarServices")},4658(Be,Z,$){$.d(Z,{S:()=>H,i:()=>B});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},M=class extends S.dg{static{(0,S.K2)(this,"ArchitectureValueConverter")}runCustomConverter(R,T,b){return"ARCH_ICON"===R.name?T.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===R.name?T.replace(/["()]/g,""):"ARCH_TITLE"===R.name?T.replace(/[[\]]/g,"").trim():void 0}},B={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new M,"ValueConverter")}};function H(R=w.D){const T=(0,J.WQ)((0,q.u)(R),S.sr),b=(0,J.WQ)((0,q.t)({shared:T}),S.jE,B);return T.ServiceRegistry.register(b),{shared:T,Architecture:b}}(0,S.K2)(H,"createArchitectureServices")},2114(Be,Z,$){$.d(Z,{L:()=>M,b:()=>B});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},M={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new S.Tm,"ValueConverter")}};function B(H=w.D){const R=(0,J.WQ)((0,q.u)(H),S.sr),T=(0,J.WQ)((0,q.t)({shared:R}),S.eZ,M);return R.ServiceRegistry.register(T),{shared:R,GitGraph:T}}(0,S.K2)(B,"createGitGraphServices")},1348(Be,Z,$){$.d(Z,{B:()=>B,f:()=>H});var S=$(3445),q=$(2286),J=$(1326),w=$(7423),j=class extends S.mR{static{(0,S.K2)(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},M=class extends S.dg{static{(0,S.K2)(this,"PieValueConverter")}runCustomConverter(R,T,b){if("PIE_SECTION_LABEL"===R.name)return T.replace(/"/g,"").trim()}},B={parser:{TokenBuilder:(0,S.K2)(()=>new j,"TokenBuilder"),ValueConverter:(0,S.K2)(()=>new M,"ValueConverter")}};function H(R=w.D){const T=(0,J.WQ)((0,q.u)(R),S.sr),b=(0,J.WQ)((0,q.t)({shared:T}),S.KX,B);return T.ServiceRegistry.register(b),{shared:T,Pie:b}}(0,S.K2)(H,"createPieServices")},2233(Be,Z,$){$.d(Z,{qg:()=>y});var S=$(9204),R=($(2114),$(9499),$(7172),$(1348),$(4658),$(5284),$(7611),$(3445)),T={},b={info:(0,R.K2)((0,S.A)(function*(){const{createInfoServices:x}=yield $.e(20).then($.bind($,4020)),g=x().Info.parser.LangiumParser;T.info=g}),"info"),packet:(0,R.K2)((0,S.A)(function*(){const{createPacketServices:x}=yield $.e(615).then($.bind($,1615)),g=x().Packet.parser.LangiumParser;T.packet=g}),"packet"),pie:(0,R.K2)((0,S.A)(function*(){const{createPieServices:x}=yield $.e(371).then($.bind($,6371)),g=x().Pie.parser.LangiumParser;T.pie=g}),"pie"),architecture:(0,R.K2)((0,S.A)(function*(){const{createArchitectureServices:x}=yield $.e(695).then($.bind($,3076)),g=x().Architecture.parser.LangiumParser;T.architecture=g}),"architecture"),gitGraph:(0,R.K2)((0,S.A)(function*(){const{createGitGraphServices:x}=yield $.e(703).then($.bind($,9703)),g=x().GitGraph.parser.LangiumParser;T.gitGraph=g}),"gitGraph"),radar:(0,R.K2)((0,S.A)(function*(){const{createRadarServices:x}=yield $.e(721).then($.bind($,6102)),g=x().Radar.parser.LangiumParser;T.radar=g}),"radar"),treemap:(0,R.K2)((0,S.A)(function*(){const{createTreemapServices:x}=yield $.e(995).then($.bind($,4995)),g=x().Treemap.parser.LangiumParser;T.treemap=g}),"treemap")};function y(x,g){return v.apply(this,arguments)}function v(){return(v=(0,S.A)(function*(x,g){const N=b[x];if(!N)throw new Error(`Unknown diagram type: ${x}`);T[x]||(yield N());const Q=T[x].parse(g);if(Q.lexerErrors.length>0||Q.parserErrors.length>0)throw new A(Q);return Q.value})).apply(this,arguments)}(0,R.K2)(y,"parse");var A=class extends Error{constructor(x){super(`Parsing failed: ${x.lexerErrors.map(V=>V.message).join("\n")} ${x.parserErrors.map(V=>V.message).join("\n")}`),this.result=x}static{(0,R.K2)(this,"MermaidParseError")}}},8365(Be,Z,$){$.d(Z,{ak:()=>qt,mT:()=>OC,LT:()=>fr,jr:()=>NC,T6:()=>ed,JG:()=>gn,wL:()=>Ot,c$:()=>bt,Y2:()=>ct,$P:()=>fn,Cy:()=>dn,Pp:()=>Yt,BK:()=>tt,PW:()=>If,my:()=>cu,jk:()=>C0,Sk:()=>hs,G:()=>Lf});const q=function S(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e};var j=function J(e){return function(t,r,o){for(var u=-1,f=Object(t),h=o(t),p=h.length;p--;){var _=h[e?p:++u];if(!1===r(f[_],_,f))break}return t}}();const M=j,T="object"==typeof global&&global&&global.Object===Object&&global;var b="object"==typeof self&&self&&self.Object===Object&&self;const v=T||b||Function("return this")(),x=v.Symbol;var g=Object.prototype,N=g.hasOwnProperty,V=g.toString,Q=x?x.toStringTag:void 0;var se=Object.prototype.toString;var fe=x?x.toStringTag:void 0;const we=function ve(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":fe&&fe in Object(e)?function me(e){var t=N.call(e,Q),r=e[Q];try{e[Q]=void 0;var o=!0}catch{}var u=V.call(e);return o&&(t?e[Q]=r:delete e[Q]),u}(e):function Te(e){return se.call(e)}(e)},F=function Y(e){return null!=e&&"object"==typeof e},$e=function ce(e){return F(e)&&"[object Arguments]"==we(e)};var be=Object.prototype,Ae=be.hasOwnProperty,Ze=be.propertyIsEnumerable,Pe=$e(function(){return arguments}())?$e:function(e){return F(e)&&Ae.call(e,"callee")&&!Ze.call(e,"callee")};const De=Pe,Le=Array.isArray;var ft="object"==typeof exports&&exports&&!exports.nodeType&&exports,Me=ft&&"object"==typeof module&&module&&!module.nodeType&&module,K=Me&&Me.exports===ft?v.Buffer:void 0;const Ce=(K?K.isBuffer:void 0)||function pt(){return!1};var je=/^(?:0|[1-9]\d*)$/;const yt=function Pt(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&je.test(e))&&e>-1&&e%1==0&&e<t},Pn=function Wt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Fe={};Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object DataView]"]=Fe["[object Date]"]=Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object WeakMap]"]=!1;const It=function yn(e){return function(t){return e(t)}};var Qn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ct=Qn&&"object"==typeof module&&module&&!module.nodeType&&module,Ft=Ct&&Ct.exports===Qn&&T.process;const vt=function(){try{return Ct&&Ct.require&&Ct.require("util").types||Ft&&Ft.binding&&Ft.binding("util")}catch{}}();var ue=vt&&vt.isTypedArray;const lt=ue?It(ue):function qn(e){return F(e)&&Pn(e.length)&&!!Fe[we(e)]};var ge=Object.prototype.hasOwnProperty;const Ne=function L(e,t){var r=Le(e),o=!r&&De(e),u=!r&&!o&&Ce(e),f=!r&&!o&&!u&&lt(e),h=r||o||u||f,p=h?function B(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}(e.length,String):[],_=p.length;for(var I in e)(t||ge.call(e,I))&&(!h||!("length"==I||u&&("offset"==I||"parent"==I)||f&&("buffer"==I||"byteLength"==I||"byteOffset"==I)||yt(I,_)))&&p.push(I);return p};var ut=Object.prototype;const Ln=function _i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ut)},gs=function yi(e,t){return function(r){return e(t(r))}},Ti=gs(Object.keys,Object);var _o=Object.prototype.hasOwnProperty;const ys=function yo(e){if(!Ln(e))return Ti(e);var t=[];for(var r in Object(e))_o.call(e,r)&&"constructor"!=r&&t.push(r);return t},dt=function Br(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},St=function Kr(e){if(!dt(e))return!1;var t=we(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Et=function Rr(e){return null!=e&&Pn(e.length)&&!St(e)},gt=function Ts(e){return Et(e)?Ne(e):ys(e)};var jr=function Ai(e,t){return function(r,o){if(null==r)return r;if(!Et(r))return e(r,o);for(var u=r.length,f=t?u:-1,h=Object(r);(t?f--:++f<u)&&!1!==o(h[f],f,h););return r}}(function vi(e,t){return e&&M(e,t,gt)});const vn=jr,Xt=function vs(e){return e},Se=function Eo(e,t){return(Le(e)?q:vn)(e,function vo(e){return"function"==typeof e?e:Xt}(t))},tr=function Ro(e,t){for(var r=-1,o=null==e?0:e.length,u=Array(o);++r<o;)u[r]=t(e[r],r,e);return u},st=function Wr(e){return null==e?[]:function Ei(e,t){return tr(t,function(r){return e[r]})}(e,gt(e))};var e,Ii=v["__core-js_shared__"],Ci=(e=/[^.]+$/.exec(Ii&&Ii.keys&&Ii.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var xi=Function.prototype.toString;const An=function bi(e){if(null!=e){try{return xi.call(e)}catch{}try{return e+""}catch{}}return""};var As=/^\[object .+?Constructor\]$/,ki=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const xo=function Pi(e){return!(!dt(e)||function Si(e){return!!Ci&&Ci in e}(e))&&(St(e)?ki:As).test(An(e))},En=function Mi(e,t){var r=function bo(e,t){return e?.[t]}(e,t);return xo(r)?r:void 0},Vr=En(v,"DataView"),Mn=En(v,"Map"),zr=En(v,"Promise"),Dn=En(v,"Set"),Xr=En(v,"WeakMap");var Rs="[object Map]",Oo="[object Promise]",Is="[object Set]",Bi="[object WeakMap]",P="[object DataView]",No=An(Vr),Ki=An(Mn),Cs=An(zr),Ss=An(Dn),xs=An(Xr),Rn=we;(Vr&&Rn(new Vr(new ArrayBuffer(1)))!=P||Mn&&Rn(new Mn)!=Rs||zr&&Rn(zr.resolve())!=Oo||Dn&&Rn(new Dn)!=Is||Xr&&Rn(new Xr)!=Bi)&&(Rn=function(e){var t=we(e),r="[object Object]"==t?e.constructor:void 0,o=r?An(r):"";if(o)switch(o){case No:return P;case Ki:return Rs;case Cs:return Oo;case Ss:return Is;case xs:return Bi}return t});const In=Rn;var Hi=Object.prototype.hasOwnProperty;const He=function wo(e){if(null==e)return!0;if(Et(e)&&(Le(e)||"string"==typeof e||"function"==typeof e.splice||Ce(e)||lt(e)||De(e)))return!e.length;var t=In(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Ln(e))return!ys(e).length;for(var r in e)if(Hi.call(e,r))return!1;return!0},Ir=function Po(e,t){return e===t||e!=e&&t!=t},nt=function nr(e,t){for(var r=e.length;r--;)if(Ir(e[r][0],t))return r;return-1};var Lo=Array.prototype.splice;function cn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}cn.prototype.clear=function Vi(){this.__data__=[],this.size=0},cn.prototype.delete=function Fn(e){var t=this.__data__,r=nt(t,e);return!(r<0||(r==t.length-1?t.pop():Lo.call(t,r,1),--this.size,0))},cn.prototype.get=function Do(e){var t=this.__data__,r=nt(t,e);return r<0?void 0:t[r][1]},cn.prototype.has=function un(e){return nt(this.__data__,e)>-1},cn.prototype.set=function Uo(e,t){var r=this.__data__,o=nt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};const Cr=cn,Sr=En(Object,"create");var Yo=Object.prototype.hasOwnProperty;var xt=Object.prototype.hasOwnProperty;function Gn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Gn.prototype.clear=function ke(){this.__data__=Sr?Sr(null):{},this.size=0},Gn.prototype.delete=function Ve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function Su(e){var t=this.__data__;if(Sr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Yo.call(t,e)?t[e]:void 0},Gn.prototype.has=function Os(e){var t=this.__data__;return Sr?void 0!==t[e]:xt.call(t,e)},Gn.prototype.set=function ws(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Sr&&void 0===t?"__lodash_hash_undefined__":t,this};const Ps=Gn,Jr=function Qo(e,t){var r=e.__data__;return function Gt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map};function rr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}rr.prototype.clear=function Qi(){this.size=0,this.__data__={hash:new Ps,map:new(Mn||Cr),string:new Ps}},rr.prototype.delete=function Ls(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},rr.prototype.get=function Zo(e){return Jr(this,e).get(e)},rr.prototype.has=function Cn(e){return Jr(this,e).has(e)},rr.prototype.set=function Zr(e,t){var r=Jr(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};const br=rr;function sr(e){var t=this.__data__=new Cr(e);this.size=t.size}sr.prototype.clear=function Ko(){this.__data__=new Cr,this.size=0},sr.prototype.delete=function Yi(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},sr.prototype.get=function $s(e){return this.__data__.get(e)},sr.prototype.has=function Ho(e){return this.__data__.has(e)},sr.prototype.set=function xu(e,t){var r=this.__data__;if(r instanceof Cr){var o=r.__data__;if(!Mn||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new br(o)}return r.set(e,t),this.size=r.size,this};const ir=sr;function es(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new br;++t<r;)this.add(e[t])}es.prototype.add=es.prototype.push=function rl(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},es.prototype.has=function il(e){return this.__data__.has(e)};const Ms=es,ts=function $r(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1},Ds=function al(e,t){return e.has(t)},Ut=function ll(e,t,r,o,u,f){var h=1&r,p=e.length,_=t.length;if(p!=_&&!(h&&_>p))return!1;var I=f.get(e),k=f.get(t);if(I&&k)return I==t&&k==e;var G=-1,W=!0,le=2&r?new Ms:void 0;for(f.set(e,t),f.set(t,e);++G<p;){var _e=e[G],pe=t[G];if(o)var ye=h?o(pe,_e,G,t,e,f):o(_e,pe,G,e,t,f);if(void 0!==ye){if(ye)continue;W=!1;break}if(le){if(!ts(t,function(he,de){if(!Ds(le,de)&&(_e===he||u(_e,he,r,o,f)))return le.push(de)})){W=!1;break}}else if(_e!==pe&&!u(_e,pe,r,o,f)){W=!1;break}}return f.delete(e),f.delete(t),W},ns=v.Uint8Array,fl=function cl(e){var t=-1,r=Array(e.size);return e.forEach(function(o,u){r[++t]=[u,o]}),r},Un=function dl(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r};var ia=x?x.prototype:void 0,Gs=ia?ia.valueOf:void 0;const Or=function Il(e,t){for(var r=-1,o=t.length,u=e.length;++r<o;)e[u+r]=t[r];return e},aa=function Cl(e,t,r){var o=t(e);return Le(e)?o:Or(o,r(e))},Us=function Sl(e,t){for(var r=-1,o=null==e?0:e.length,u=0,f=[];++r<o;){var h=e[r];t(h,r,e)&&(f[u++]=h)}return f},la=function oa(){return[]};var ca=Object.prototype.propertyIsEnumerable,rs=Object.getOwnPropertySymbols,Bs=rs?function(e){return null==e?[]:(e=Object(e),Us(rs(e),function(t){return ca.call(e,t)}))}:la;const ss=Bs,js=function Ks(e){return aa(e,gt,ss)};var fa=Object.prototype.hasOwnProperty;var Hs="[object Arguments]",Nr="[object Array]",wr="[object Object]",ha=Object.prototype.hasOwnProperty;const Ou=function $u(e,t,r,o,u,f){var h=Le(e),p=Le(t),_=h?Nr:In(e),I=p?Nr:In(t),k=(_=_==Hs?wr:_)==wr,G=(I=I==Hs?wr:I)==wr,W=_==I;if(W&&Ce(e)){if(!Ce(t))return!1;h=!0,k=!1}if(W&&!k)return f||(f=new ir),h||lt(e)?Ut(e,t,r,o,u,f):function El(e,t,r,o,u,f,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new ns(e),new ns(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ir(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=fl;case"[object Set]":if(p||(p=Un),e.size!=t.size&&!(1&o))return!1;var I=h.get(e);if(I)return I==t;o|=2,h.set(e,t);var k=Ut(p(e),p(t),o,u,f,h);return h.delete(e),k;case"[object Symbol]":if(Gs)return Gs.call(e)==Gs.call(t)}return!1}(e,t,_,r,o,u,f);if(!(1&r)){var le=k&&ha.call(e,"__wrapped__"),_e=G&&ha.call(t,"__wrapped__");if(le||_e){var pe=le?e.value():e,ye=_e?t.value():t;return f||(f=new ir),u(pe,ye,r,o,f)}}return!!W&&(f||(f=new ir),function da(e,t,r,o,u,f){var h=1&r,p=js(e),_=p.length;if(_!=js(t).length&&!h)return!1;for(var G=_;G--;){var W=p[G];if(!(h?W in t:fa.call(t,W)))return!1}var le=f.get(e),_e=f.get(t);if(le&&_e)return le==t&&_e==e;var pe=!0;f.set(e,t),f.set(t,e);for(var ye=h;++G<_;){var he=e[W=p[G]],de=t[W];if(o)var ee=h?o(de,he,W,t,e,f):o(he,de,W,e,t,f);if(!(void 0===ee?he===de||u(he,de,r,o,f):ee)){pe=!1;break}ye||(ye="constructor"==W)}if(pe&&!ye){var Re=e.constructor,We=t.constructor;Re!=We&&"constructor"in e&&"constructor"in t&&!("function"==typeof Re&&Re instanceof Re&&"function"==typeof We&&We instanceof We)&&(pe=!1)}return f.delete(e),f.delete(t),pe}(e,t,r,o,u,f))},ma=function pa(e,t,r,o,u){return e===t||(null==e||null==t||!F(e)&&!F(t)?e!=e&&t!=t:Ou(e,t,r,o,pa,u))},i=function s(e){return e==e&&!dt(e)},m=function d(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},O=function E(e){var t=function a(e){for(var t=gt(e),r=t.length;r--;){var o=t[r],u=e[o];t[r]=[o,u,i(u)]}return t}(e);return 1==t.length&&t[0][2]?m(t[0][0],t[0][1]):function(r){return r===e||function l(e,t,r,o){var u=r.length,f=u,h=!o;if(null==e)return!f;for(e=Object(e);u--;){var p=r[u];if(h&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<f;){var _=(p=r[u])[0],I=e[_],k=p[1];if(h&&p[2]){if(void 0===I&&!(_ in e))return!1}else{var G=new ir;if(o)var W=o(I,k,_,e,t,G);if(!(void 0===W?ma(k,I,3,o,G):W))return!1}}return!0}(r,e,t)}},ne=function te(e){return"symbol"==typeof e||F(e)&&"[object Symbol]"==we(e)};var z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ke=/^\w*$/;const et=function Xe(e,t){if(Le(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ne(e))||Ke.test(e)||!z.test(e)||null!=t&&e in Object(t)};function kl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var o=arguments,u=t?t.apply(this,o):o[0],f=r.cache;if(f.has(u))return f.get(u);var h=e.apply(this,o);return r.cache=f.set(u,h)||f,h};return r.cache=new(kl.Cache||br),r}kl.Cache=br;const gd=kl;var vd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ad=/\\(\\)?/g,Ed=function yd(e){var t=gd(e,function(o){return 500===r.size&&r.clear(),o}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(vd,function(r,o,u,f){t.push(u?f.replace(Ad,"$1"):o||r)}),t});const Rd=Ed;var Nu=x?x.prototype:void 0,wu=Nu?Nu.toString:void 0;const Cd=function ku(e){if("string"==typeof e)return e;if(Le(e))return tr(e,ku)+"";if(ne(e))return wu?wu.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},xd=function Sd(e){return null==e?"":Cd(e)},ga=function bd(e,t){return Le(e)?e:et(e,t)?[e]:Rd(xd(e))},Vs=function Od(e){if("string"==typeof e||ne(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Pl=function Nd(e,t){for(var r=0,o=(t=ga(t,e)).length;null!=e&&r<o;)e=e[Vs(t[r++])];return r&&r==o?e:void 0},Ld=function Pd(e,t){return null!=e&&t in Object(e)},Pu=function Md(e,t,r){for(var o=-1,u=(t=ga(t,e)).length,f=!1;++o<u;){var h=Vs(t[o]);if(!(f=null!=e&&r(e,h)))break;e=e[h]}return f||++o!=u?f:!!(u=null==e?0:e.length)&&Pn(u)&&yt(h,u)&&(Le(e)||De(e))},Kd=function Bd(e,t){return et(e)&&i(t)?m(Vs(e),t):function(r){var o=function wd(e,t,r){var o=null==e?void 0:Pl(e,t);return void 0===o?r:o}(r,e);return void 0===o&&o===t?function Dd(e,t){return null!=e&&Pu(e,t,Ld)}(r,e):ma(t,o,3)}},Xd=function zd(e){return et(e)?function jd(e){return function(t){return t?.[e]}}(Vs(e)):function Hd(e){return function(t){return Pl(t,e)}}(e)},Sn=function Yd(e){return"function"==typeof e?e:null==e?Xt:"object"==typeof e?Le(e)?Kd(e[0],e[1]):O(e):Xd(e)},Qd=function qd(e,t){var r=-1,o=Et(e)?Array(e.length):[];return vn(e,function(u,f,h){o[++r]=t(u,f,h)}),o},Ee=function Jd(e,t){return(Le(e)?tr:Qd)(e,Sn(t))};var eh=Object.prototype.hasOwnProperty;const nh=function th(e,t){return null!=e&&eh.call(e,t)},xe=function rh(e,t){return null!=e&&Pu(e,t,nh)};var sh=function(){try{var e=En(Object,"defineProperty");return e({},"",{}),e}catch{}}();const _a=sh,Ll=function ih(e,t,r){"__proto__"==t&&_a?_a(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var oh=Object.prototype.hasOwnProperty;const ya=function lh(e,t,r){var o=e[t];(!oh.call(e,t)||!Ir(o,r)||void 0===r&&!(t in e))&&Ll(e,t,r)},zs=function uh(e,t,r,o){var u=!r;r||(r={});for(var f=-1,h=t.length;++f<h;){var p=t[f],_=o?o(r[p],e[p],p,r,e):void 0;void 0===_&&(_=e[p]),u?Ll(r,p,_):ya(r,p,_)}return r};var mh=Object.prototype.hasOwnProperty;const _h=function gh(e){if(!dt(e))return function dh(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Ln(e),r=[];for(var o in e)"constructor"==o&&(t||!mh.call(e,o))||r.push(o);return r},Ta=function yh(e){return Et(e)?Ne(e,!0):_h(e)};var Lu="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mu=Lu&&"object"==typeof module&&module&&!module.nodeType&&module,Du=Mu&&Mu.exports===Lu?v.Buffer:void 0,Fu=Du?Du.allocUnsafe:void 0;const Gu=gs(Object.getPrototypeOf,Object);var Oh=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Or(t,ss(e)),e=Gu(e);return t}:la;const Uu=Oh,Bu=function kh(e){return aa(e,Ta,Uu)};var Lh=Object.prototype.hasOwnProperty;const Ml=function Fh(e){var t=new e.constructor(e.byteLength);return new ns(t).set(new ns(e)),t};var Bh=/\w*$/;var Ku=x?x.prototype:void 0,ju=Ku?Ku.valueOf:void 0;const pp=function hp(e,t,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Ml(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function Gh(e,t){var r=t?Ml(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function Vh(e,t){var r=t?Ml(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function Kh(e){var t=new e.constructor(e.source,Bh.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function Wh(e){return ju?Object(ju.call(e)):{}}(e)}};var Wu=Object.create,mp=function(){function e(){}return function(t){if(!dt(t))return{};if(Wu)return Wu(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const gp=mp;var Hu=vt&&vt.isMap;const Rp=Hu?It(Hu):function vp(e){return F(e)&&"[object Map]"==In(e)};var Vu=vt&&vt.isSet;const bp=Vu?It(Vu):function Cp(e){return F(e)&&"[object Set]"==In(e)};var zu="[object Arguments]",Xu="[object Function]",Yu="[object Object]",Ye={};Ye[zu]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object DataView]"]=Ye["[object Boolean]"]=Ye["[object Date]"]=Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye[Yu]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object Symbol]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Error]"]=Ye[Xu]=Ye["[object WeakMap]"]=!1;const tm=function va(e,t,r,o,u,f){var h,p=1&t,_=2&t,I=4&t;if(r&&(h=u?r(e,o,u,f):r(e)),void 0!==h)return h;if(!dt(e))return e;var k=Le(e);if(k){if(h=function Mh(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Lh.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!p)return function Ih(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}(e,h)}else{var G=In(e),W=G==Xu||"[object GeneratorFunction]"==G;if(Ce(e))return function Eh(e,t){if(t)return e.slice();var r=e.length,o=Fu?Fu(r):new e.constructor(r);return e.copy(o),o}(e,p);if(G==Yu||G==zu||W&&!u){if(h=_||W?{}:function _p(e){return"function"!=typeof e.constructor||Ln(e)?{}:gp(Gu(e))}(e),!p)return _?function Nh(e,t){return zs(e,Uu(e),t)}(e,function Th(e,t){return e&&zs(t,Ta(t),e)}(h,e)):function Sh(e,t){return zs(e,ss(e),t)}(e,function ch(e,t){return e&&zs(t,gt(t),e)}(h,e))}else{if(!Ye[G])return u?e:{};h=pp(e,G,p)}}f||(f=new ir);var le=f.get(e);if(le)return le;f.set(e,h),bp(e)?e.forEach(function(ye){h.add(va(ye,t,r,ye,e,f))}):Rp(e)&&e.forEach(function(ye,he){h.set(he,va(ye,t,r,he,e,f))});var pe=k?void 0:(I?_?Bu:js:_?Ta:gt)(e);return q(pe||e,function(ye,he){pe&&(ye=e[he=ye]),ya(h,he,va(ye,t,r,he,e,f))}),h},_t=function rm(e){return tm(e,4)};function qu(e){function t(){}t.prototype=e;const r=new t;function o(){return typeof r.bar}return o(),o(),e}const Qu=function sm(e,t,r){var o=-1,u=e.length;t<0&&(t=-t>u?0:u+t),(r=r>u?u:r)<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var f=Array(u);++o<u;)f[o]=e[o+t];return f};var im=/\s/;var lm=/^\s+/;const cm=function um(e){return e&&e.slice(0,function am(e){for(var t=e.length;t--&&im.test(e.charAt(t)););return t}(e)+1).replace(lm,"")};var fm=/^[-+]0x[0-9a-f]+$/i,dm=/^0b[01]+$/i,hm=/^0o[0-7]+$/i,pm=parseInt;var Zu=1/0;const Tm=function ym(e){return e?(e=function mm(e){if("number"==typeof e)return e;if(ne(e))return NaN;if(dt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=dt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=cm(e);var r=dm.test(e);return r||hm.test(e)?pm(e.slice(2),r?2:8):fm.test(e)?NaN:+e}(e))===Zu||e===-Zu?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Xs=function vm(e){var t=Tm(e),r=t%1;return t==t?r?t-r:t:0},At=function Am(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:Xs(t),Qu(e,t<0?0:t,o)):[]},ec="object"==typeof global&&global&&global.Object===Object&&global;var Rm="object"==typeof self&&self&&self.Object===Object&&self;const Bn=ec||Rm||Function("return this")(),ar=Bn.Symbol;var tc=Object.prototype,Sm=tc.hasOwnProperty,xm=tc.toString,Ys=ar?ar.toStringTag:void 0;var Nm=Object.prototype.toString;var nc=ar?ar.toStringTag:void 0;const or=function Mm(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":nc&&nc in Object(e)?function bm(e){var t=Sm.call(e,Ys),r=e[Ys];try{e[Ys]=void 0;var o=!0}catch{}var u=xm.call(e);return o&&(t?e[Ys]=r:delete e[Ys]),u}(e):function wm(e){return Nm.call(e)}(e)},$t=Array.isArray,lr=function Fm(e){return null!=e&&"object"==typeof e},Aa=function Um(e){return"string"==typeof e||!$t(e)&&lr(e)&&"[object String]"==or(e)},Km=function Bm(e,t){for(var r=-1,o=null==e?0:e.length;++r<o&&!1!==t(e[r],r,e););return e};var Wm=function jm(e){return function(t,r,o){for(var u=-1,f=Object(t),h=o(t),p=h.length;p--;){var _=h[e?p:++u];if(!1===r(f[_],_,f))break}return t}}();const Hm=Wm,rc=function Ym(e){return lr(e)&&"[object Arguments]"==or(e)};var sc=Object.prototype,qm=sc.hasOwnProperty,Qm=sc.propertyIsEnumerable,Jm=rc(function(){return arguments}())?rc:function(e){return lr(e)&&qm.call(e,"callee")&&!Qm.call(e,"callee")};const ic=Jm;var ac="object"==typeof exports&&exports&&!exports.nodeType&&exports,oc=ac&&"object"==typeof module&&module&&!module.nodeType&&module,lc=oc&&oc.exports===ac?Bn.Buffer:void 0;const Dl=(lc?lc.isBuffer:void 0)||function Zm(){return!1};var ig=/^(?:0|[1-9]\d*)$/;const Ea=function ag(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&ig.test(e))&&e>-1&&e%1==0&&e<t},Fl=function lg(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Je={};Je["[object Float32Array]"]=Je["[object Float64Array]"]=Je["[object Int8Array]"]=Je["[object Int16Array]"]=Je["[object Int32Array]"]=Je["[object Uint8Array]"]=Je["[object Uint8ClampedArray]"]=Je["[object Uint16Array]"]=Je["[object Uint32Array]"]=!0,Je["[object Arguments]"]=Je["[object Array]"]=Je["[object ArrayBuffer]"]=Je["[object Boolean]"]=Je["[object DataView]"]=Je["[object Date]"]=Je["[object Error]"]=Je["[object Function]"]=Je["[object Map]"]=Je["[object Number]"]=Je["[object Object]"]=Je["[object RegExp]"]=Je["[object Set]"]=Je["[object String]"]=Je["[object WeakMap]"]=!1;const uc=function Lg(e){return function(t){return e(t)}};var cc="object"==typeof exports&&exports&&!exports.nodeType&&exports,qs=cc&&"object"==typeof module&&module&&!module.nodeType&&module,Gl=qs&&qs.exports===cc&&ec.process;const Ra=function(){try{return qs&&qs.require&&qs.require("util").types||Gl&&Gl.binding&&Gl.binding("util")}catch{}}();var fc=Ra&&Ra.isTypedArray;const dc=fc?uc(fc):function kg(e){return lr(e)&&Fl(e.length)&&!!Je[or(e)]};var Ug=Object.prototype.hasOwnProperty;const hc=function Bg(e,t){var r=$t(e),o=!r&&ic(e),u=!r&&!o&&Dl(e),f=!r&&!o&&!u&&dc(e),h=r||o||u||f,p=h?function Vm(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}(e.length,String):[],_=p.length;for(var I in e)(t||Ug.call(e,I))&&(!h||!("length"==I||u&&("offset"==I||"parent"==I)||f&&("buffer"==I||"byteLength"==I||"byteOffset"==I)||Ea(I,_)))&&p.push(I);return p};var Kg=Object.prototype;const Ul=function jg(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Kg)},pc=function Wg(e,t){return function(r){return e(t(r))}},Vg=pc(Object.keys,Object);var Xg=Object.prototype.hasOwnProperty;const Kn=function Qg(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},mc=function n_(e){if(!Kn(e))return!1;var t=or(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},kr=function r_(e){return null!=e&&Fl(e.length)&&!mc(e)},Qs=function s_(e){return kr(e)?hc(e):function Yg(e){if(!Ul(e))return Vg(e);var t=[];for(var r in Object(e))Xg.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)};var l_=function o_(e,t){return function(r,o){if(null==r)return r;if(!kr(r))return e(r,o);for(var u=r.length,f=t?u:-1,h=Object(r);(t?f--:++f<u)&&!1!==o(h[f],f,h););return r}}(function i_(e,t){return e&&Hm(e,t,Qs)});const Ia=l_,Ca=function u_(e){return e},h_=function d_(e,t){return($t(e)?Km:Ia)(e,function c_(e){return"function"==typeof e?e:Ca}(t))},Bl=Bn["__core-js_shared__"];var gc=function(){var e=/[^.]+$/.exec(Bl&&Bl.keys&&Bl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var y_=Function.prototype.toString;const Pr=function T_(e){if(null!=e){try{return y_.call(e)}catch{}try{return e+""}catch{}}return""};var A_=/^\[object .+?Constructor\]$/,S_=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const b_=function x_(e){return!(!Kn(e)||function m_(e){return!!gc&&gc in e}(e))&&(mc(e)?S_:A_).test(Pr(e))},Lr=function N_(e,t){var r=function $_(e,t){return e?.[t]}(e,t);return b_(r)?r:void 0};var w_=function(){try{var e=Lr(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Sa=w_,_c=function k_(e,t,r){"__proto__"==t&&Sa?Sa(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},xa=function P_(e,t){return e===t||e!=e&&t!=t};var M_=Object.prototype.hasOwnProperty;const Kl=function D_(e,t,r){var o=e[t];(!M_.call(e,t)||!xa(o,r)||void 0===r&&!(t in e))&&_c(e,t,r)};var yc=Math.max;const H_=function W_(e){return function(){return e}};var V_=Sa?function(e,t){return Sa(e,"toString",{configurable:!0,enumerable:!1,value:H_(t),writable:!0})}:Ca,q_=Date.now,J_=function Q_(e){var t=0,r=0;return function(){var o=q_(),u=16-(o-r);if(r=o,u>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(V_);const Z_=J_,ty=function ey(e,t){return Z_(function K_(e,t,r){return t=yc(void 0===t?e.length-1:t,0),function(){for(var o=arguments,u=-1,f=yc(o.length-t,0),h=Array(f);++u<f;)h[u]=o[t+u];u=-1;for(var p=Array(t+1);++u<t;)p[u]=o[u];return p[t]=r(h),function U_(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,p)}}(e,t,Ca),e+"")},jl=function ny(e,t,r){if(!Kn(r))return!1;var o=typeof t;return!!("number"==o?kr(r)&&Ea(t,r.length):"string"==o&&t in r)&&xa(r[t],e)};var ay=Object.prototype.hasOwnProperty,oy=function ry(e){return ty(function(t,r){var o=-1,u=r.length,f=u>1?r[u-1]:void 0,h=u>2?r[2]:void 0;for(f=e.length>3&&"function"==typeof f?(u--,f):void 0,h&&jl(r[0],r[1],h)&&(f=u<3?void 0:f,u=1),t=Object(t);++o<u;){var p=r[o];p&&e(t,p,o,f)}return t})}(function(e,t){if(Ul(t)||kr(t))!function F_(e,t,r,o){var u=!r;r||(r={});for(var f=-1,h=t.length;++f<h;){var p=t[f],_=o?o(r[p],e[p],p,r,e):void 0;void 0===_&&(_=e[p]),u?_c(r,p,_):Kl(r,p,_)}}(t,Qs(t),e);else for(var r in t)ay.call(t,r)&&Kl(e,r,t[r])});const xn=oy,ba=function ly(e,t){for(var r=-1,o=null==e?0:e.length,u=Array(o);++r<o;)u[r]=t(e[r],r,e);return u},$a=function fy(e,t){for(var r=e.length;r--;)if(xa(e[r][0],t))return r;return-1};var hy=Array.prototype.splice;function is(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}is.prototype.clear=function uy(){this.__data__=[],this.size=0},is.prototype.delete=function py(e){var t=this.__data__,r=$a(t,e);return!(r<0||(r==t.length-1?t.pop():hy.call(t,r,1),--this.size,0))},is.prototype.get=function gy(e){var t=this.__data__,r=$a(t,e);return r<0?void 0:t[r][1]},is.prototype.has=function yy(e){return $a(this.__data__,e)>-1},is.prototype.set=function vy(e,t){var r=this.__data__,o=$a(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};const Oa=is,Js=Lr(Bn,"Map"),Zs=Lr(Object,"create");var Fy=Object.prototype.hasOwnProperty;var Ky=Object.prototype.hasOwnProperty;function as(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}as.prototype.clear=function wy(){this.__data__=Zs?Zs(null):{},this.size=0},as.prototype.delete=function Py(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},as.prototype.get=function Gy(e){var t=this.__data__;if(Zs){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Fy.call(t,e)?t[e]:void 0},as.prototype.has=function jy(e){var t=this.__data__;return Zs?void 0!==t[e]:Ky.call(t,e)},as.prototype.set=function Vy(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zs&&void 0===t?"__lodash_hash_undefined__":t,this};const Tc=as,Na=function Jy(e,t){var r=e.__data__;return function qy(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map};function os(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}os.prototype.clear=function Xy(){this.size=0,this.__data__={hash:new Tc,map:new(Js||Oa),string:new Tc}},os.prototype.delete=function Zy(e){var t=Na(this,e).delete(e);return this.size-=t?1:0,t},os.prototype.get=function tT(e){return Na(this,e).get(e)},os.prototype.has=function rT(e){return Na(this,e).has(e)},os.prototype.set=function iT(e,t){var r=Na(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};const wa=os;function ls(e){var t=this.__data__=new Oa(e);this.size=t.size}ls.prototype.clear=function Ey(){this.__data__=new Oa,this.size=0},ls.prototype.delete=function Iy(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ls.prototype.get=function Sy(e){return this.__data__.get(e)},ls.prototype.has=function by(e){return this.__data__.has(e)},ls.prototype.set=function lT(e,t){var r=this.__data__;if(r instanceof Oa){var o=r.__data__;if(!Js||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new wa(o)}return r.set(e,t),this.size=r.size,this};const ka=ls;function Pa(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new wa;++t<r;)this.add(e[t])}Pa.prototype.add=Pa.prototype.push=function fT(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pa.prototype.has=function hT(e){return this.__data__.has(e)};const mT=Pa,vc=function gT(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1},yT=function _T(e,t){return e.has(t)},Ac=function AT(e,t,r,o,u,f){var h=1&r,p=e.length,_=t.length;if(p!=_&&!(h&&_>p))return!1;var I=f.get(e),k=f.get(t);if(I&&k)return I==t&&k==e;var G=-1,W=!0,le=2&r?new mT:void 0;for(f.set(e,t),f.set(t,e);++G<p;){var _e=e[G],pe=t[G];if(o)var ye=h?o(pe,_e,G,t,e,f):o(_e,pe,G,e,t,f);if(void 0!==ye){if(ye)continue;W=!1;break}if(le){if(!vc(t,function(he,de){if(!yT(le,de)&&(_e===he||u(_e,he,r,o,f)))return le.push(de)})){W=!1;break}}else if(_e!==pe&&!u(_e,pe,r,o,f)){W=!1;break}}return f.delete(e),f.delete(t),W},Ec=Bn.Uint8Array,IT=function RT(e){var t=-1,r=Array(e.size);return e.forEach(function(o,u){r[++t]=[u,o]}),r},ST=function CT(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r};var Rc=ar?ar.prototype:void 0,Wl=Rc?Rc.valueOf:void 0;const Ic=function KT(e,t){for(var r=-1,o=t.length,u=e.length;++r<o;)e[u+r]=t[r];return e},Cc=function jT(e,t,r){var o=t(e);return $t(e)?o:Ic(o,r(e))},Sc=function VT(){return[]};var XT=Object.prototype.propertyIsEnumerable,xc=Object.getOwnPropertySymbols,YT=xc?function(e){return null==e?[]:(e=Object(e),function WT(e,t){for(var r=-1,o=null==e?0:e.length,u=0,f=[];++r<o;){var h=e[r];t(h,r,e)&&(f[u++]=h)}return f}(xc(e),function(t){return XT.call(e,t)}))}:Sc;const bc=YT,$c=function qT(e){return Cc(e,Qs,bc)};var ZT=Object.prototype.hasOwnProperty;const Hl=Lr(Bn,"DataView"),Vl=Lr(Bn,"Promise"),zl=Lr(Bn,"Set"),Xl=Lr(Bn,"WeakMap");var Oc="[object Map]",Nc="[object Promise]",wc="[object Set]",kc="[object WeakMap]",Pc="[object DataView]",ov=Pr(Hl),lv=Pr(Js),uv=Pr(Vl),cv=Pr(zl),fv=Pr(Xl),Mr=or;(Hl&&Mr(new Hl(new ArrayBuffer(1)))!=Pc||Js&&Mr(new Js)!=Oc||Vl&&Mr(Vl.resolve())!=Nc||zl&&Mr(new zl)!=wc||Xl&&Mr(new Xl)!=kc)&&(Mr=function(e){var t=or(e),r="[object Object]"==t?e.constructor:void 0,o=r?Pr(r):"";if(o)switch(o){case ov:return Pc;case lv:return Oc;case uv:return Nc;case cv:return wc;case fv:return kc}return t});const Lc=Mr;var Mc="[object Arguments]",Dc="[object Array]",La="[object Object]",Fc=Object.prototype.hasOwnProperty;const mv=function pv(e,t,r,o,u,f){var h=$t(e),p=$t(t),_=h?Dc:Lc(e),I=p?Dc:Lc(t),k=(_=_==Mc?La:_)==La,G=(I=I==Mc?La:I)==La,W=_==I;if(W&&Dl(e)){if(!Dl(t))return!1;h=!0,k=!1}if(W&&!k)return f||(f=new ka),h||dc(e)?Ac(e,t,r,o,u,f):function UT(e,t,r,o,u,f,h){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new Ec(e),new Ec(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xa(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=IT;case"[object Set]":if(p||(p=ST),e.size!=t.size&&!(1&o))return!1;var I=h.get(e);if(I)return I==t;o|=2,h.set(e,t);var k=Ac(p(e),p(t),o,u,f,h);return h.delete(e),k;case"[object Symbol]":if(Wl)return Wl.call(e)==Wl.call(t)}return!1}(e,t,_,r,o,u,f);if(!(1&r)){var le=k&&Fc.call(e,"__wrapped__"),_e=G&&Fc.call(t,"__wrapped__");if(le||_e){var pe=le?e.value():e,ye=_e?t.value():t;return f||(f=new ka),u(pe,ye,r,o,f)}}return!!W&&(f||(f=new ka),function ev(e,t,r,o,u,f){var h=1&r,p=$c(e),_=p.length;if(_!=$c(t).length&&!h)return!1;for(var G=_;G--;){var W=p[G];if(!(h?W in t:ZT.call(t,W)))return!1}var le=f.get(e),_e=f.get(t);if(le&&_e)return le==t&&_e==e;var pe=!0;f.set(e,t),f.set(t,e);for(var ye=h;++G<_;){var he=e[W=p[G]],de=t[W];if(o)var ee=h?o(de,he,W,t,e,f):o(he,de,W,e,t,f);if(!(void 0===ee?he===de||u(he,de,r,o,f):ee)){pe=!1;break}ye||(ye="constructor"==W)}if(pe&&!ye){var Re=e.constructor,We=t.constructor;Re!=We&&"constructor"in e&&"constructor"in t&&!("function"==typeof Re&&Re instanceof Re&&"function"==typeof We&&We instanceof We)&&(pe=!1)}return f.delete(e),f.delete(t),pe}(e,t,r,o,u,f))},Uc=function Gc(e,t,r,o,u){return e===t||(null==e||null==t||!lr(e)&&!lr(t)?e!=e&&t!=t:mv(e,t,r,o,Gc,u))},Bc=function vv(e){return e==e&&!Kn(e)},Kc=function Rv(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},Cv=function Iv(e){var t=function Av(e){for(var t=Qs(e),r=t.length;r--;){var o=t[r],u=e[o];t[r]=[o,u,Bc(u)]}return t}(e);return 1==t.length&&t[0][2]?Kc(t[0][0],t[0][1]):function(r){return r===e||function yv(e,t,r,o){var u=r.length,f=u,h=!o;if(null==e)return!f;for(e=Object(e);u--;){var p=r[u];if(h&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<f;){var _=(p=r[u])[0],I=e[_],k=p[1];if(h&&p[2]){if(void 0===I&&!(_ in e))return!1}else{var G=new ka;if(o)var W=o(I,k,_,e,t,G);if(!(void 0===W?Uc(k,I,3,o,G):W))return!1}}return!0}(r,e,t)}},Ma=function xv(e){return"symbol"==typeof e||lr(e)&&"[object Symbol]"==or(e)};var bv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$v=/^\w*$/;const Yl=function Ov(e,t){if($t(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ma(e))||$v.test(e)||!bv.test(e)||null!=t&&e in Object(t)};function ql(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var o=arguments,u=t?t.apply(this,o):o[0],f=r.cache;if(f.has(u))return f.get(u);var h=e.apply(this,o);return r.cache=f.set(u,h)||f,h};return r.cache=new(ql.Cache||wa),r}ql.Cache=wa;const wv=ql;var Mv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dv=/\\(\\)?/g,Fv=function Pv(e){var t=wv(e,function(o){return 500===r.size&&r.clear(),o}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Mv,function(r,o,u,f){t.push(u?f.replace(Dv,"$1"):o||r)}),t});const Gv=Fv;var jc=ar?ar.prototype:void 0,Wc=jc?jc.toString:void 0;const Bv=function Hc(e){if("string"==typeof e)return e;if($t(e))return ba(e,Hc)+"";if(Ma(e))return Wc?Wc.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},jv=function Kv(e){return null==e?"":Bv(e)},Da=function Wv(e,t){return $t(e)?e:Yl(e,t)?[e]:Gv(jv(e))},ei=function Vv(e){if("string"==typeof e||Ma(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Ql=function zv(e,t){for(var r=0,o=(t=Da(t,e)).length;null!=e&&r<o;)e=e[ei(t[r++])];return r&&r==o?e:void 0},Qv=function qv(e,t){return null!=e&&t in Object(e)},tA=function eA(e,t){return null!=e&&function Jv(e,t,r){for(var o=-1,u=(t=Da(t,e)).length,f=!1;++o<u;){var h=ei(t[o]);if(!(f=null!=e&&r(e,h)))break;e=e[h]}return f||++o!=u?f:!!(u=null==e?0:e.length)&&Fl(u)&&Ea(h,u)&&($t(e)||ic(e))}(e,t,Qv)},iA=function sA(e,t){return Yl(e)&&Bc(t)?Kc(ei(e),t):function(r){var o=function Xv(e,t,r){var o=null==e?void 0:Ql(e,t);return void 0===o?r:o}(r,e);return void 0===o&&o===t?tA(r,e):Uc(t,o,3)}},fA=function cA(e){return Yl(e)?function aA(e){return function(t){return t?.[e]}}(ei(e)):function lA(e){return function(t){return Ql(t,e)}}(e)},Fa=function dA(e){return"function"==typeof e?e:null==e?Ca:"object"==typeof e?$t(e)?iA(e[0],e[1]):Cv(e):fA(e)},pA=function hA(e,t,r,o){if(!Kn(e))return e;for(var u=-1,f=(t=Da(t,e)).length,h=f-1,p=e;null!=p&&++u<f;){var _=ei(t[u]),I=r;if("__proto__"===_||"constructor"===_||"prototype"===_)return e;if(u!=h){var k=p[_];void 0===(I=o?o(k,_,p):void 0)&&(I=Kn(k)?k:Ea(t[u+1])?[]:{})}Kl(p,_,I),p=p[_]}return e},yA=pc(Object.getPrototypeOf,Object);var vA=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ic(t,bc(e)),e=yA(e);return t}:Sc;const AA=vA;var CA=Object.prototype.hasOwnProperty;const xA=function SA(e){if(!Kn(e))return function EA(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Ul(e),r=[];for(var o in e)"constructor"==o&&(t||!CA.call(e,o))||r.push(o);return r},$A=function bA(e){return kr(e)?hc(e,!0):xA(e)},bn=function wA(e,t){if(null==e)return{};var r=ba(function OA(e){return Cc(e,$A,AA)}(e),function(o){return[o]});return t=Fa(t),function mA(e,t,r){for(var o=-1,u=t.length,f={};++o<u;){var h=t[o],p=Ql(e,h);r(p,h)&&pA(f,Da(h,e),p)}return f}(e,r,function(o,u){return t(o,u[0])})},PA=function kA(e,t){var r=-1,o=kr(e)?Array(e.length):[];return Ia(e,function(u,f,h){o[++r]=t(u,f,h)}),o},Vc=function LA(e,t){return($t(e)?ba:PA)(e,Fa(t))};var zc=Ra&&Ra.isRegExp;const UA=zc?uc(zc):function DA(e){return lr(e)&&"[object RegExp]"==or(e)};function BA(e){return function KA(e){return Aa(e.LABEL)&&""!==e.LABEL}(e)?e.LABEL:e.name}class $n{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),h_(this.definition,r=>{r.accept(t)})}}class Ot extends $n{constructor(t){super([]),this.idx=1,xn(this,bn(t,r=>void 0!==r))}set definition(t){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class us extends $n{constructor(t){super(t.definition),this.orgText="",xn(this,bn(t,r=>void 0!==r))}}class Nt extends $n{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,xn(this,bn(t,r=>void 0!==r))}}class bt extends $n{constructor(t){super(t.definition),this.idx=1,xn(this,bn(t,r=>void 0!==r))}}class fn extends $n{constructor(t){super(t.definition),this.idx=1,xn(this,bn(t,r=>void 0!==r))}}class dn extends $n{constructor(t){super(t.definition),this.idx=1,xn(this,bn(t,r=>void 0!==r))}}class ct extends $n{constructor(t){super(t.definition),this.idx=1,xn(this,bn(t,r=>void 0!==r))}}class Yt extends $n{constructor(t){super(t.definition),this.idx=1,xn(this,bn(t,r=>void 0!==r))}}class qt extends $n{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,xn(this,bn(t,r=>void 0!==r))}}class tt{constructor(t){this.idx=1,xn(this,bn(t,r=>void 0!==r))}accept(t){t.visit(this)}}function Ga(e){function t(r){return Vc(r,Ga)}if(e instanceof Ot){const r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Aa(e.label)&&(r.label=e.label),r}if(e instanceof Nt)return{type:"Alternative",definition:t(e.definition)};if(e instanceof bt)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof fn)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof dn)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Ga(new tt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Yt)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Ga(new tt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof ct)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof qt)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof tt){const r={type:"Terminal",name:e.terminalType.name,label:BA(e.terminalType),idx:e.idx};Aa(e.label)&&(r.terminalLabel=e.label);const o=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=UA(o)?o.source:o),r}if(e instanceof us)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class cs{visit(t){const r=t;switch(r.constructor){case Ot:return this.visitNonTerminal(r);case Nt:return this.visitAlternative(r);case bt:return this.visitOption(r);case fn:return this.visitRepetitionMandatory(r);case dn:return this.visitRepetitionMandatoryWithSeparator(r);case Yt:return this.visitRepetitionWithSeparator(r);case ct:return this.visitRepetition(r);case qt:return this.visitAlternation(r);case tt:return this.visitTerminal(r);case us:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}const HA=function WA(e,t){var r;return Ia(e,function(o,u,f){return!(r=t(o,u,f))}),!!r},QA=function qA(e){return e!=e};var nE=/\s/;var iE=/^\s+/;const oE=function aE(e){return e&&e.slice(0,function rE(e){for(var t=e.length;t--&&nE.test(e.charAt(t)););return t}(e)+1).replace(iE,"")};var lE=/^[-+]0x[0-9a-f]+$/i,uE=/^0b[01]+$/i,cE=/^0o[0-7]+$/i,fE=parseInt;var Yc=1/0;const gE=function mE(e){return e?(e=function dE(e){if("number"==typeof e)return e;if(Ma(e))return NaN;if(Kn(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Kn(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=oE(e);var r=uE.test(e);return r||cE.test(e)?fE(e.slice(2),r?2:8):lE.test(e)?NaN:+e}(e))===Yc||e===-Yc?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},EE=function AE(e){return null==e?[]:function TE(e,t){return ba(t,function(r){return e[r]})}(e,Qs(e))};var RE=Math.max;const CE=function IE(e,t,r,o){e=kr(e)?e:EE(e),r=r&&!o?function _E(e){var t=gE(e),r=t%1;return t==t?r?t-r:t:0}(r):0;var u=e.length;return r<0&&(r=RE(u+r,0)),Aa(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&function eE(e,t,r){return t==t?function JA(e,t,r){for(var o=r-1,u=e.length;++o<u;)if(e[o]===t)return o;return-1}(e,t,r):function XA(e,t,r,o){for(var u=e.length,f=r+(o?1:-1);o?f--:++f<u;)if(t(e[f],f,e))return f;return-1}(e,QA,r)}(e,t,r)>-1},xE=function SE(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(!t(e[r],r,e))return!1;return!0},$E=function bE(e,t){var r=!0;return Ia(e,function(o,u,f){return r=!!t(o,u,f)}),r};function Ua(e,t=[]){return e instanceof bt||e instanceof ct||e instanceof Yt||(e instanceof qt?function VA(e,t,r){var o=$t(e)?vc:HA;return r&&jl(e,t,r)&&(t=void 0),o(e,Fa(t))}(e.definition,o=>Ua(o,t)):!(e instanceof Ot&&CE(t,e))&&e instanceof $n&&(e instanceof Ot&&t.push(e),function OE(e,t,r){var o=$t(e)?xE:$E;return r&&jl(e,t,r)&&(t=void 0),o(e,Fa(t))}(e.definition,o=>Ua(o,t))))}function On(e){if(e instanceof Ot)return"SUBRULE";if(e instanceof bt)return"OPTION";if(e instanceof qt)return"OR";if(e instanceof fn)return"AT_LEAST_ONE";if(e instanceof dn)return"AT_LEAST_ONE_SEP";if(e instanceof Yt)return"MANY_SEP";if(e instanceof ct)return"MANY";if(e instanceof tt)return"CONSUME";throw Error("non exhaustive match")}class Ba{walk(t,r=[]){Se(t.definition,(o,u)=>{const f=At(t.definition,u+1);if(o instanceof Ot)this.walkProdRef(o,f,r);else if(o instanceof tt)this.walkTerminal(o,f,r);else if(o instanceof Nt)this.walkFlat(o,f,r);else if(o instanceof bt)this.walkOption(o,f,r);else if(o instanceof fn)this.walkAtLeastOne(o,f,r);else if(o instanceof dn)this.walkAtLeastOneSep(o,f,r);else if(o instanceof Yt)this.walkManySep(o,f,r);else if(o instanceof ct)this.walkMany(o,f,r);else{if(!(o instanceof qt))throw Error("non exhaustive match");this.walkOr(o,f,r)}})}walkTerminal(t,r,o){}walkProdRef(t,r,o){}walkFlat(t,r,o){const u=r.concat(o);this.walk(t,u)}walkOption(t,r,o){const u=r.concat(o);this.walk(t,u)}walkAtLeastOne(t,r,o){const u=[new bt({definition:t.definition})].concat(r,o);this.walk(t,u)}walkAtLeastOneSep(t,r,o){const u=qc(t,r,o);this.walk(t,u)}walkMany(t,r,o){const u=[new bt({definition:t.definition})].concat(r,o);this.walk(t,u)}walkManySep(t,r,o){const u=qc(t,r,o);this.walk(t,u)}walkOr(t,r,o){const u=r.concat(o);Se(t.definition,f=>{const h=new Nt({definition:[f]});this.walk(h,u)})}}function qc(e,t,r){return[new bt({definition:[new tt({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}const Qc=function PE(e,t,r,o){for(var u=e.length,f=r+(o?1:-1);o?f--:++f<u;)if(t(e[f],f,e))return f;return-1},ME=function LE(e){return e!=e},Jl=function GE(e,t,r){return t==t?function DE(e,t,r){for(var o=r-1,u=e.length;++o<u;)if(e[o]===t)return o;return-1}(e,t,r):Qc(e,ME,r)},Jc=function UE(e,t){return!(null==e||!e.length)&&Jl(e,t,0)>-1},Zc=function BE(e,t,r){for(var o=-1,u=null==e?0:e.length;++o<u;)if(r(t,e[o]))return!0;return!1},ht=function KE(){};var WE=Dn&&1/Un(new Dn([,-0]))[1]==1/0?function(e){return new Dn(e)}:ht;const HE=WE,Zl=function YE(e){return e&&e.length?function zE(e,t,r){var o=-1,u=Jc,f=e.length,h=!0,p=[],_=p;if(r)h=!1,u=Zc;else if(f>=200){var I=t?null:HE(e);if(I)return Un(I);h=!1,u=Ds,_=new Ms}else _=t?[]:p;e:for(;++o<f;){var k=e[o],G=t?t(k):k;if(k=r||0!==k?k:0,h&&G==G){for(var W=_.length;W--;)if(_[W]===G)continue e;t&&_.push(G),p.push(k)}else u(_,G,r)||(_!==p&&_.push(G),p.push(k))}return p}(e):[]};var ef=x?x.isConcatSpreadable:void 0;const QE=function qE(e){return Le(e)||De(e)||!!(ef&&e&&e[ef])},eu=function tf(e,t,r,o,u){var f=-1,h=e.length;for(r||(r=QE),u||(u=[]);++f<h;){var p=e[f];t>0&&r(p)?t>1?tf(p,t-1,r,o,u):Or(u,p):o||(u[u.length]=p)}return u},hn=function JE(e){return null!=e&&e.length?eu(e,1):[]};function ti(e){if(e instanceof Ot)return ti(e.referencedRule);if(e instanceof tt)return function tR(e){return[e.terminalType]}(e);if(function wE(e){return e instanceof Nt||e instanceof bt||e instanceof ct||e instanceof fn||e instanceof dn||e instanceof Yt||e instanceof tt||e instanceof us}(e))return function ZE(e){let t=[];const r=e.definition;let f,o=0,u=r.length>o,h=!0;for(;u&&h;)f=r[o],h=Ua(f),t=t.concat(ti(f)),o+=1,u=r.length>o;return Zl(t)}(e);if(function kE(e){return e instanceof qt}(e))return function eR(e){const t=Ee(e.definition,r=>ti(r));return Zl(hn(t))}(e);throw Error("non exhaustive match")}var nf=Math.max;const oR=function aR(e){return function(){return e}};var lR=_a?function(e,t){return _a(e,"toString",{configurable:!0,enumerable:!1,value:oR(t),writable:!0})}:Xt,dR=Date.now,pR=function hR(e){var t=0,r=0;return function(){var o=dR(),u=16-(o-r);if(r=o,u>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(lR);const mR=pR,tu=function gR(e,t){return mR(function sR(e,t,r){return t=nf(void 0===t?e.length-1:t,0),function(){for(var o=arguments,u=-1,f=nf(o.length-t,0),h=Array(f);++u<f;)h[u]=o[t+u];u=-1;for(var p=Array(t+1);++u<t;)p[u]=o[u];return p[t]=r(h),function nR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,p)}}(e,t,Xt),e+"")},Ka=function _R(e,t,r){if(!dt(r))return!1;var o=typeof t;return!!("number"==o?Et(r)&&yt(t,r.length):"string"==o&&t in r)&&Ir(r[t],e)};var AR=Object.prototype.hasOwnProperty,ER=function yR(e){return tu(function(t,r){var o=-1,u=r.length,f=u>1?r[u-1]:void 0,h=u>2?r[2]:void 0;for(f=e.length>3&&"function"==typeof f?(u--,f):void 0,h&&Ka(r[0],r[1],h)&&(f=u<3?void 0:f,u=1),t=Object(t);++o<u;){var p=r[o];p&&e(t,p,o,f)}return t})}(function(e,t){if(Ln(t)||Et(t))zs(t,gt(t),e);else for(var r in t)AR.call(t,r)&&ya(e,r,t[r])});const nu=ER;class IR extends Ba{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,o){}walkProdRef(t,r,o){const u=function SR(e,t){return e.name+t+"_~IN~_"}(t.referencedRule,t.idx)+this.topProd.name,f=r.concat(o),p=ti(new Nt({definition:f}));this.follows[u]=p}}const pn=function bR(e){return"string"==typeof e||!Le(e)&&F(e)&&"[object String]"==we(e)},jn=function $R(e){return void 0===e};var ja=$(2909),sf=Object.prototype,OR=sf.hasOwnProperty,NR=tu(function(e,t){e=Object(e);var r=-1,o=t.length,u=o>2?t[2]:void 0;for(u&&Ka(t[0],t[1],u)&&(o=1);++r<o;)for(var f=t[r],h=Ta(f),p=-1,_=h.length;++p<_;){var I=h[p],k=e[I];(void 0===k||Ir(k,sf[I])&&!OR.call(e,I))&&(e[I]=f[I])}return e});const ru=NR,af=function wR(e,t){var r=[];return vn(e,function(o,u,f){t(o,u,f)&&r.push(o)}),r},Wa=function MR(e,t){return(Le(e)?Us:af)(e,function PR(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}(Sn(t)))};var of=vt&&vt.isRegExp;const ur=of?It(of):function FR(e){return F(e)&&"[object RegExp]"==we(e)};var BR=Math.max;const wt=function KR(e,t,r,o){e=Et(e)?e:st(e),r=r&&!o?Xs(r):0;var u=e.length;return r<0&&(r=BR(u+r,0)),pn(e)?r<=u&&e.indexOf(t,r)>-1:!!u&&Jl(e,t,r)>-1};var jR=Math.max;const lf=function WR(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var u=null==r?0:Xs(r);return u<0&&(u=jR(o+u,0)),Jl(e,t,u)},VR=function HR(e,t,r,o){var u=-1,f=null==e?0:e.length;for(o&&f&&(r=e[++u]);++u<f;)r=t(r,e[u],u,e);return r},XR=function zR(e,t,r,o,u){return u(e,function(f,h,p){r=o?(o=!1,f):t(r,f,h,p)}),r},Kt=function YR(e,t,r){var o=Le(e)?VR:XR,u=arguments.length<3;return o(e,Sn(t),r,u,vn)},Qt=function qR(e,t){return(Le(e)?Us:af)(e,Sn(t))},uf=function eI(e){return F(e)&&Et(e)};var tI=tu(function(e,t){return uf(e)?function JR(e,t,r,o){var u=-1,f=Jc,h=!0,p=e.length,_=[],I=t.length;if(!p)return _;r&&(t=tr(t,It(r))),o?(f=Zc,h=!1):t.length>=200&&(f=Ds,h=!1,t=new Ms(t));e:for(;++u<p;){var k=e[u],G=null==r?k:r(k);if(k=o||0!==k?k:0,h&&G==G){for(var W=I;W--;)if(t[W]===G)continue e;_.push(k)}else f(t,G,o)||_.push(k)}return _}(e,eu(t,1,uf,!0)):[]});const Ha=tI,ni=function nI(e){for(var t=-1,r=null==e?0:e.length,o=0,u=[];++t<r;){var f=e[t];f&&(u[o++]=f)}return u},mn=function rI(e){return e&&e.length?e[0]:void 0};var aI=Math.max,lI=function sI(e){return function(t,r,o){var u=Object(t);if(!Et(t)){var f=Sn(r);t=gt(t),r=function(p){return f(u[p],p,u)}}var h=e(t,r,o);return h>-1?u[f?t[h]:h]:void 0}}(function oI(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var u=null==r?0:Xs(r);return u<0&&(u=aI(o+u,0)),Qc(e,Sn(t),u)});const fs=lI;function su(e){console&&console.error&&console.error(`Error: ${e}`)}function cf(e){console&&console.warn&&console.warn(`Warning: ${e}`)}const cI=function uI(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(!t(e[r],r,e))return!1;return!0},dI=function fI(e,t){var r=!0;return vn(e,function(o,u,f){return r=!!t(o,u,f)}),r},Nn=function hI(e,t,r){var o=Le(e)?cI:dI;return r&&Ka(e,t,r)&&(t=void 0),o(e,Sn(t))};let Va={};const pI=new ja.H;function za(e){const t=e.toString();if(Va.hasOwnProperty(t))return Va[t];{const r=pI.pattern(t);return Va[t]=r,r}}const ff="Complement Sets are not supported for first char optimization",Xa='Unable to use "first char" lexer optimizations:\n';function gI(e,t=!1){try{const r=za(e);return iu(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===ff)t&&cf(`${Xa}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let o="";t&&(o="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),su(`${Xa}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+o)}}return[]}function iu(e,t,r){switch(e.type){case"Disjunction":for(let u=0;u<e.value.length;u++)iu(e.value[u],t,r);break;case"Alternative":const o=e.value;for(let u=0;u<o.length;u++){const f=o[u];switch(f.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const h=f;switch(h.type){case"Character":Ya(h.value,t,r);break;case"Set":if(!0===h.complement)throw Error(ff);Se(h.value,_=>{if("number"==typeof _)Ya(_,t,r);else{const I=_;if(!0===r)for(let k=I.from;k<=I.to;k++)Ya(k,t,r);else{for(let k=I.from;k<=I.to&&k<si;k++)Ya(k,t,r);if(I.to>=si){const G=I.to,W=cr(I.from>=si?I.from:si),le=cr(G);for(let _e=W;_e<=le;_e++)t[_e]=_e}}}});break;case"Group":iu(h.value,t,r);break;default:throw Error("Non Exhaustive Match")}const p=void 0!==h.quantifier&&0===h.quantifier.atLeast;if("Group"===h.type&&!1===au(h)||"Group"!==h.type&&!1===p)break}break;default:throw Error("non exhaustive match!")}return st(t)}function Ya(e,t,r){const o=cr(e);t[o]=o,!0===r&&function _I(e,t){const r=String.fromCharCode(e),o=r.toUpperCase();if(o!==r){const u=cr(o.charCodeAt(0));t[u]=u}else{const u=r.toLowerCase();if(u!==r){const f=cr(u.charCodeAt(0));t[f]=f}}}(e,t)}function df(e,t){return fs(e.value,r=>{if("number"==typeof r)return wt(t,r);{const o=r;return void 0!==fs(t,u=>o.from<=u&&u<=o.to)}})}function au(e){const t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(Le(e.value)?Nn(e.value,au):au(e.value))}class yI extends ja.z{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}super.visitChildren(t)}}visitCharacter(t){wt(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?void 0===df(t,this.targetCharCodes)&&(this.found=!0):void 0!==df(t,this.targetCharCodes)&&(this.found=!0)}}function ou(e,t){if(t instanceof RegExp){const r=za(t),o=new yI(e);return o.visit(r),o.found}return void 0!==fs(t,r=>wt(e,r.charCodeAt(0)))}const Dr="PATTERN",ri="defaultMode",qa="modes";let Qa="boolean"==typeof new RegExp("(?:)").sticky;const II=/[^\\][$]/,xI=/[^\\[][\^]|^\^/;function hf(e){return new RegExp(`^(?:${e.source})`,e.ignoreCase?"i":"")}function pf(e){return new RegExp(`${e.source}`,e.ignoreCase?"iy":"y")}function mf(e){const t=e.PATTERN;if(ur(t))return!1;if(St(t))return!0;if(xe(t,"exec"))return!0;if(pn(t))return!1;throw Error("non exhaustive match")}function GI(e){return!(!pn(e)||1!==e.length)&&e.charCodeAt(0)}const UI={test:function(e){const t=e.length;for(let r=this.lastIndex;r<t;r++){const o=e.charCodeAt(r);if(10===o)return this.lastIndex=r+1,!0;if(13===o)return this.lastIndex=10===e.charCodeAt(r+1)?r+2:r+1,!0}return!1},lastIndex:0};function gf(e,t){if(xe(e,"LINE_BREAKS"))return!1;if(ur(e.PATTERN)){try{ou(t,e.PATTERN)}catch(r){return{issue:ot.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}if(pn(e.PATTERN))return!1;if(mf(e))return{issue:ot.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function BI(e,t){if(t.issue===ot.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===ot.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function _f(e){return Ee(e,r=>pn(r)?r.charCodeAt(0):r)}function lu(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}const si=256;let Ja=[];function cr(e){return e<si?e:Ja[e]}const ds=function jI(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};function yf(e){const t=(new Date).getTime(),r=e();return{time:(new Date).getTime()-t,value:r}}function ii(e,t){const r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function Za(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}let Tf=1;const vf={};function ai(e){const t=function WI(e){let t=_t(e),r=e,o=!0;for(;o;){r=ni(hn(Ee(r,f=>f.CATEGORIES)));const u=Ha(r,t);t=t.concat(u),He(u)?o=!1:r=u}return t}(e);(function HI(e){Se(e,t=>{Ef(t)||(vf[Tf]=t,t.tokenTypeIdx=Tf++),Rf(t)&&!Le(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Rf(t)||(t.CATEGORIES=[]),function XI(e){return xe(e,"categoryMatches")}(t)||(t.categoryMatches=[]),function YI(e){return xe(e,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})})})(t),function zI(e){Se(e,t=>{Af([],t)})}(t),function VI(e){Se(e,t=>{t.categoryMatches=[],Se(t.categoryMatchesMap,(r,o)=>{t.categoryMatches.push(vf[o].tokenTypeIdx)})})}(t),Se(t,r=>{r.isParent=r.categoryMatches.length>0})}function Af(e,t){Se(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Se(t.CATEGORIES,r=>{const o=e.concat(t);wt(o,r)||Af(o,r)})}function Ef(e){return xe(e,"tokenTypeIdx")}function Rf(e){return xe(e,"CATEGORIES")}function qI(e){return xe(e,"tokenTypeIdx")}const If={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,o,u)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`};var ot=function(e){return e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE",e}(ot||{});const oi={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:If,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(oi);let gn=(()=>{class e{constructor(r,o=oi){if(this.lexerDefinition=r,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(f,h)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const p=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${p}--\x3e <${f}>`);const{time:_,value:I}=yf(h),k=_>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&k(`${p}<-- <${f}> time: ${_}ms`),this.traceInitIndent--,I}return h()},"boolean"==typeof o)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=nu({},oi,o);const u=this.config.traceInitPerf;!0===u?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof u&&(this.traceInitMaxIdent=u,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let f,h=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===oi.lineTerminatorsPattern)this.config.lineTerminatorsPattern=UI;else if(this.config.lineTerminatorCharacters===oi.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(o.safeMode&&o.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Le(r)?f={modes:{defaultMode:_t(r)},defaultMode:ri}:(h=!1,f=_t(r))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function MI(e){const o=[];return xe(e,ri)||o.push({message:"A MultiMode Lexer cannot be initialized without a <"+ri+"> property in its definition\n",type:ot.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),xe(e,qa)||o.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:ot.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),xe(e,qa)&&xe(e,ri)&&!xe(e.modes,e.defaultMode)&&o.push({message:`A MultiMode Lexer cannot be initialized with a ${ri}: <${e.defaultMode}>which does not exist\n`,type:ot.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),xe(e,qa)&&Se(e.modes,(u,f)=>{Se(u,(h,p)=>{if(jn(h))o.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${f}> at index: <${p}>\n`,type:ot.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(xe(h,"LONGER_ALT")){const _=Le(h.LONGER_ALT)?h.LONGER_ALT:[h.LONGER_ALT];Se(_,I=>{!jn(I)&&!wt(u,I)&&o.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${I.name}> on token <${h.name}> outside of mode <${f}>\n`,type:ot.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),o}(f))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function DI(e,t,r){const o=[];let u=!1;const f=ni(hn(st(e.modes))),h=Wa(f,_=>_[Dr]===gn.NA),p=_f(r);return t&&Se(h,_=>{const I=gf(_,p);if(!1!==I){const G={message:BI(_,I),type:I.issue,tokenType:_};o.push(G)}else xe(_,"LINE_BREAKS")?!0===_.LINE_BREAKS&&(u=!0):ou(p,_.PATTERN)&&(u=!0)}),t&&!u&&o.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:ot.NO_LINE_BREAKS_FLAGS}),o}(f,this.trackStartLines,this.config.lineTerminatorCharacters))})),f.modes=f.modes?f.modes:{},Se(f.modes,(_,I)=>{f.modes[I]=Wa(_,k=>jn(k))});const p=gt(f.modes);if(Se(f.modes,(_,I)=>{this.TRACE_INIT(`Mode: <${I}> processing`,()=>{if(this.modes.push(I),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function vI(e,t){let r=[];const o=function EI(e){const t=Qt(e,u=>!xe(u,Dr)),r=Ee(t,u=>({message:"Token Type: ->"+u.name+"<- missing static 'PATTERN' property",type:ot.MISSING_PATTERN,tokenTypes:[u]}));return{errors:r,valid:Ha(e,t)}}(e);r=r.concat(o.errors);const u=function RI(e){const t=Qt(e,u=>{const f=u[Dr];return!(ur(f)||St(f)||xe(f,"exec")||pn(f))}),r=Ee(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:ot.INVALID_PATTERN,tokenTypes:[u]}));return{errors:r,valid:Ha(e,t)}}(o.valid),f=u.valid;return r=r.concat(u.errors),r=r.concat(function AI(e){let t=[];const r=Qt(e,o=>ur(o[Dr]));return t=t.concat(function CI(e){class t extends ja.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(f){this.found=!0}}const r=Qt(e,u=>{const f=u.PATTERN;try{const h=za(f),p=new t;return p.visit(h),p.found}catch{return II.test(f.source)}});return Ee(r,u=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+u.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ot.EOI_ANCHOR_FOUND,tokenTypes:[u]}))}(r)),t=t.concat(function bI(e){class t extends ja.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(f){this.found=!0}}const r=Qt(e,u=>{const f=u.PATTERN;try{const h=za(f),p=new t;return p.visit(h),p.found}catch{return xI.test(f.source)}});return Ee(r,u=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+u.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:ot.SOI_ANCHOR_FOUND,tokenTypes:[u]}))}(r)),t=t.concat(function $I(e){const t=Qt(e,o=>{const u=o[Dr];return u instanceof RegExp&&(u.multiline||u.global)});return Ee(t,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:ot.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[o]}))}(r)),t=t.concat(function OI(e){const t=[];let r=Ee(e,f=>Kt(e,(h,p)=>(f.PATTERN.source===p.PATTERN.source&&!wt(t,p)&&p.PATTERN!==gn.NA&&(t.push(p),h.push(p)),h),[]));r=ni(r);const o=Qt(r,f=>f.length>1);return Ee(o,f=>{const h=Ee(f,_=>_.name);return{message:`The same RegExp pattern ->${mn(f).PATTERN}<-has been used in all of the following Token Types: ${h.join(", ")} <-`,type:ot.DUPLICATE_PATTERNS_FOUND,tokenTypes:f}})}(r)),t=t.concat(function SI(e){const t=Qt(e,o=>o.PATTERN.test(""));return Ee(t,o=>({message:"Token Type: ->"+o.name+"<- static 'PATTERN' must not match an empty string",type:ot.EMPTY_MATCH_PATTERN,tokenTypes:[o]}))}(r)),t}(f)),r=r.concat(function NI(e){const t=Qt(e,o=>{if(!xe(o,"GROUP"))return!1;const u=o.GROUP;return u!==gn.SKIPPED&&u!==gn.NA&&!pn(u)});return Ee(t,o=>({message:"Token Type: ->"+o.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:ot.INVALID_GROUP_TYPE_FOUND,tokenTypes:[o]}))}(f)),r=r.concat(function wI(e,t){const r=Qt(e,u=>void 0!==u.PUSH_MODE&&!wt(t,u.PUSH_MODE));return Ee(r,u=>({message:`Token Type: ->${u.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${u.PUSH_MODE}<-which does not exist`,type:ot.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[u]}))}(f,t)),r=r.concat(function kI(e){const t=[],r=Kt(e,(o,u,f)=>{const h=u.PATTERN;return h===gn.NA||(pn(h)?o.push({str:h,idx:f,tokenType:u}):ur(h)&&function LI(e){return void 0===fs([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>-1!==e.source.indexOf(r))}(h)&&o.push({str:h.source,idx:f,tokenType:u})),o},[]);return Se(e,(o,u)=>{Se(r,({str:f,idx:h,tokenType:p})=>{u<h&&function PI(e,t){if(ur(t)){const r=t.exec(e);return null!==r&&0===r.index}if(St(t))return t(e,0,[],{});if(xe(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(f,o.PATTERN)&&t.push({message:`Token: ->${p.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${o.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`,type:ot.UNREACHABLE_PATTERN,tokenTypes:[o,p]})})}),t}(f)),r}(_,p))}),He(this.lexerDefinitionErrors)){let k;ai(_),this.TRACE_INIT("analyzeTokenTypes",()=>{k=function TI(e,t){const r=(t=ru(t,{useSticky:Qa,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(de,ee)=>ee()})).tracer;let o;r("initCharCodeToOptimizedIndexMap",()=>{!function KI(){if(He(Ja)){Ja=new Array(65536);for(let e=0;e<65536;e++)Ja[e]=e>255?255+~~(e/255):e}}()}),r("Reject Lexer.NA",()=>{o=Wa(e,de=>de[Dr]===gn.NA)});let f,h,p,_,I,k,G,W,le,_e,pe,u=!1;r("Transform Patterns",()=>{u=!1,f=Ee(o,de=>{const ee=de[Dr];if(ur(ee)){const Re=ee.source;return 1!==Re.length||"^"===Re||"$"===Re||"."===Re||ee.ignoreCase?2!==Re.length||"\\"!==Re[0]||wt(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],Re[1])?t.useSticky?pf(ee):hf(ee):Re[1]:Re}if(St(ee))return u=!0,{exec:ee};if("object"==typeof ee)return u=!0,ee;if("string"==typeof ee){if(1===ee.length)return ee;{const Re=ee.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),We=new RegExp(Re);return t.useSticky?pf(We):hf(We)}}throw Error("non exhaustive match")})}),r("misc mapping",()=>{h=Ee(o,de=>de.tokenTypeIdx),p=Ee(o,de=>{const ee=de.GROUP;if(ee!==gn.SKIPPED){if(pn(ee))return ee;if(jn(ee))return!1;throw Error("non exhaustive match")}}),_=Ee(o,de=>{const ee=de.LONGER_ALT;if(ee)return Le(ee)?Ee(ee,We=>lf(o,We)):[lf(o,ee)]}),I=Ee(o,de=>de.PUSH_MODE),k=Ee(o,de=>xe(de,"POP_MODE"))}),r("Line Terminator Handling",()=>{const de=_f(t.lineTerminatorCharacters);G=Ee(o,ee=>!1),"onlyOffset"!==t.positionTracking&&(G=Ee(o,ee=>xe(ee,"LINE_BREAKS")?!!ee.LINE_BREAKS:!1===gf(ee,de)&&ou(de,ee.PATTERN)))}),r("Misc Mapping #2",()=>{W=Ee(o,mf),le=Ee(f,GI),_e=Kt(o,(de,ee)=>{const Re=ee.GROUP;return pn(Re)&&Re!==gn.SKIPPED&&(de[Re]=[]),de},{}),pe=Ee(f,(de,ee)=>({pattern:f[ee],longerAlt:_[ee],canLineTerminator:G[ee],isCustom:W[ee],short:le[ee],group:p[ee],push:I[ee],pop:k[ee],tokenTypeIdx:h[ee],tokenType:o[ee]}))});let ye=!0,he=[];return t.safeMode||r("First Char Optimization",()=>{he=Kt(o,(de,ee,Re)=>{if("string"==typeof ee.PATTERN){const ze=cr(ee.PATTERN.charCodeAt(0));lu(de,ze,pe[Re])}else if(Le(ee.START_CHARS_HINT)){let We;Se(ee.START_CHARS_HINT,ze=>{const di=cr("string"==typeof ze?ze.charCodeAt(0):ze);We!==di&&(We=di,lu(de,di,pe[Re]))})}else if(ur(ee.PATTERN))if(ee.PATTERN.unicode)ye=!1,t.ensureOptimizations&&su(`${Xa}\tUnable to analyze < ${ee.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const We=gI(ee.PATTERN,t.ensureOptimizations);He(We)&&(ye=!1),Se(We,ze=>{lu(de,ze,pe[Re])})}else t.ensureOptimizations&&su(`${Xa}\tTokenType: <${ee.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),ye=!1;return de},[])}),{emptyGroups:_e,patternIdxToConfig:pe,charCodeToPatternIdxToConfig:he,hasCustom:u,canBeOptimized:ye}}(_,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:o.positionTracking,ensureOptimizations:o.ensureOptimizations,safeMode:o.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[I]=k.patternIdxToConfig,this.charCodeToPatternIdxToConfig[I]=k.charCodeToPatternIdxToConfig,this.emptyGroups=nu({},this.emptyGroups,k.emptyGroups),this.hasCustom=k.hasCustom||this.hasCustom,this.canModeBeOptimized[I]=k.canBeOptimized}})}),this.defaultMode=f.defaultMode,!He(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const I=Ee(this.lexerDefinitionErrors,k=>k.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+I)}Se(this.lexerDefinitionWarning,_=>{cf(_.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(Qa?(this.chopInput=Xt,this.match=this.matchWithTest):(this.updateLastIndex=ht,this.match=this.matchWithExec),h&&(this.handleModes=ht),!1===this.trackStartLines&&(this.computeNewColumn=Xt),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=ht),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const _=Kt(this.canModeBeOptimized,(I,k,G)=>(!1===k&&I.push(G),I),[]);if(o.ensureOptimizations&&!He(_))throw Error(`Lexer Modes: < ${_.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{!function mI(){Va={}}()}),this.TRACE_INIT("toFastProperties",()=>{qu(this)})})}tokenize(r,o=this.defaultMode){if(!He(this.lexerDefinitionErrors)){const f=Ee(this.lexerDefinitionErrors,h=>h.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+f)}return this.tokenizeInternal(r,o)}tokenizeInternal(r,o){let u,f,h,p,_,I,k,G,W,le,_e,pe,ye,de,ee;const Re=r,We=Re.length;let ze=0,fi=0;const di=this.hasCustom?0:Math.floor(r.length/10),ps=new Array(di),Eu=[];let hi=this.trackStartLines?1:void 0,hr=this.trackStartLines?1:void 0;const pi=function FI(e){const t={},r=gt(e);return Se(r,o=>{if(!Le(e[o]))throw Error("non exhaustive match");t[o]=[]}),t}(this.emptyGroups),KC=this.trackStartLines,Ru=this.config.lineTerminatorsPattern;let po=0,pr=[],mi=[];const mo=[],cd=[];let gi;function fd(){return pr}function dd(Rt){const Zt=cr(Rt),ms=mi[Zt];return void 0===ms?cd:ms}Object.freeze(cd);const jC=Rt=>{if(1===mo.length&&void 0===Rt.tokenType.PUSH_MODE){const Zt=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Rt);Eu.push({offset:Rt.startOffset,line:Rt.startLine,column:Rt.startColumn,length:Rt.image.length,message:Zt})}else{mo.pop();const Zt=ds(mo);pr=this.patternIdxToConfig[Zt],mi=this.charCodeToPatternIdxToConfig[Zt],po=pr.length,gi=mi&&this.canModeBeOptimized[Zt]&&!1===this.config.safeMode?dd:fd}};function hd(Rt){mo.push(Rt),mi=this.charCodeToPatternIdxToConfig[Rt],pr=this.patternIdxToConfig[Rt],po=pr.length,po=pr.length,gi=mi&&this.canModeBeOptimized[Rt]&&!1===this.config.safeMode?dd:fd}let _n;hd.call(this,o);const pd=this.config.recoveryEnabled;for(;ze<We;){I=null;const Rt=Re.charCodeAt(ze),Zt=gi(Rt),ms=Zt.length;for(u=0;u<ms;u++){_n=Zt[u];const jt=_n.pattern;k=null;const Wn=_n.short;if(!1!==Wn?Rt===Wn&&(I=jt):!0===_n.isCustom?(ee=jt.exec(Re,ze,ps,pi),null!==ee?(I=ee[0],void 0!==ee.payload&&(k=ee.payload)):I=null):(this.updateLastIndex(jt,ze),I=this.match(jt,r,ze)),null!==I){if(_=_n.longerAlt,void 0!==_){const mr=_.length;for(h=0;h<mr;h++){const Hn=pr[_[h]],Gr=Hn.pattern;if(G=null,!0===Hn.isCustom?(ee=Gr.exec(Re,ze,ps,pi),null!==ee?(p=ee[0],void 0!==ee.payload&&(G=ee.payload)):p=null):(this.updateLastIndex(Gr,ze),p=this.match(Gr,r,ze)),p&&p.length>I.length){I=p,k=G,_n=Hn;break}}}break}}if(null!==I){if(W=I.length,le=_n.group,void 0!==le&&(_e=_n.tokenTypeIdx,pe=this.createTokenInstance(I,ze,_e,_n.tokenType,hi,hr,W),this.handlePayload(pe,k),!1===le?fi=this.addToken(ps,fi,pe):pi[le].push(pe)),r=this.chopInput(r,W),ze+=W,hr=this.computeNewColumn(hr,W),!0===KC&&!0===_n.canLineTerminator){let Wn,mr,jt=0;Ru.lastIndex=0;do{Wn=Ru.test(I),!0===Wn&&(mr=Ru.lastIndex-1,jt++)}while(!0===Wn);0!==jt&&(hi+=jt,hr=W-mr,this.updateTokenEndLineColumnLocation(pe,le,mr,jt,hi,hr,W))}this.handleModes(_n,jC,hd,pe)}else{const jt=ze,Wn=hi,mr=hr;let Hn=!1===pd;for(;!1===Hn&&ze<We;)for(r=this.chopInput(r,1),ze++,f=0;f<po;f++){const Gr=pr[f],Iu=Gr.pattern,md=Gr.short;if(!1!==md?Re.charCodeAt(ze)===md&&(Hn=!0):!0===Gr.isCustom?Hn=null!==Iu.exec(Re,ze,ps,pi):(this.updateLastIndex(Iu,ze),Hn=null!==Iu.exec(r)),!0===Hn)break}if(ye=ze-jt,hr=this.computeNewColumn(hr,ye),de=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(Re,jt,ye,Wn,mr),Eu.push({offset:jt,line:Wn,column:mr,length:ye,message:de}),!1===pd)break}}return this.hasCustom||(ps.length=fi),{tokens:ps,groups:pi,errors:Eu}}handleModes(r,o,u,f){if(!0===r.pop){const h=r.push;o(f),void 0!==h&&u.call(this,h)}else void 0!==r.push&&u.call(this,r.push)}chopInput(r,o){return r.substring(o)}updateLastIndex(r,o){r.lastIndex=o}updateTokenEndLineColumnLocation(r,o,u,f,h,p,_){let I,k;void 0!==o&&(I=u===_-1,k=I?-1:0,1===f&&!0===I||(r.endLine=h+k,r.endColumn=p-1-k))}computeNewColumn(r,o){return r+o}createOffsetOnlyToken(r,o,u,f){return{image:r,startOffset:o,tokenTypeIdx:u,tokenType:f}}createStartOnlyToken(r,o,u,f,h,p){return{image:r,startOffset:o,startLine:h,startColumn:p,tokenTypeIdx:u,tokenType:f}}createFullToken(r,o,u,f,h,p,_){return{image:r,startOffset:o,endOffset:o+_-1,startLine:h,endLine:h,startColumn:p,endColumn:p+_-1,tokenTypeIdx:u,tokenType:f}}addTokenUsingPush(r,o,u){return r.push(u),o}addTokenUsingMemberAccess(r,o,u){return r[o]=u,++o}handlePayloadNoCustom(r,o){}handlePayloadWithCustom(r,o){null!==o&&(r.payload=o)}matchWithTest(r,o,u){return!0===r.test(o)?o.substring(u,r.lastIndex):null}matchWithExec(r,o){const u=r.exec(o);return null!==u?u[0]:null}}return e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e})();function hs(e){return Cf(e)?e.LABEL:e.name}function Cf(e){return pn(e.LABEL)&&""!==e.LABEL}const Sf="categories",$f="push_mode",Of="pop_mode",Nf="longer_alt",wf="line_breaks",kf="start_chars_hint";function Pf(e){return function JI(e){const t=e.pattern,r={};if(r.name=e.name,jn(t)||(r.PATTERN=t),xe(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return xe(e,Sf)&&(r.CATEGORIES=e[Sf]),ai([r]),xe(e,"label")&&(r.LABEL=e.label),xe(e,"group")&&(r.GROUP=e.group),xe(e,Of)&&(r.POP_MODE=e[Of]),xe(e,$f)&&(r.PUSH_MODE=e[$f]),xe(e,Nf)&&(r.LONGER_ALT=e[Nf]),xe(e,wf)&&(r.LINE_BREAKS=e[wf]),xe(e,kf)&&(r.START_CHARS_HINT=e[kf]),r}(e)}const fr=Pf({name:"EOF",pattern:gn.NA});function uu(e,t,r,o,u,f,h,p){return{image:t,startOffset:r,endOffset:o,startLine:u,endLine:f,startColumn:h,endColumn:p,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Lf(e,t){return ii(e,t)}ai([fr]);const cu={buildMismatchTokenMessage:({expected:e,actual:t})=>`Expecting ${Cf(e)?`--\x3e ${hs(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,customUserDescription:o}){const f="Expecting: ",p="\nbut found: '"+mn(t).image+"'";if(o)return f+o+p;{const _=Kt(e,(W,le)=>W.concat(le),[]),I=Ee(_,W=>`[${Ee(W,le=>hs(le)).join(", ")}]`);return f+`one of these possible Token sequences:\n${Ee(I,(W,le)=>`  ${le+1}. ${W}`).join("\n")}`+p}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r}){const u="Expecting: ",h="\nbut found: '"+mn(t).image+"'";return r?u+r+h:u+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${Ee(e,I=>`[${Ee(I,k=>hs(k)).join(",")}]`).join(" ,")}>`+h}};Object.freeze(cu);const ZI={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},Fr={buildDuplicateFoundError(e,t){const o=e.name,u=mn(t),f=u.idx,h=On(u),p=function r(k){return k instanceof tt?k.terminalType.name:k instanceof Ot?k.nonTerminalName:""}(u);let I=`->${h}${f>0?f:""}<- ${p?`with argument: ->${p}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${o}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return I=I.replace(/[ \t]+/g," "),I=I.replace(/\s\s+/g,"\n"),I},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){const t=Ee(e.prefixPath,u=>hs(u)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){const t=Ee(e.prefixPath,u=>hs(u)).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;let o=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return o+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",o},buildEmptyRepetitionError(e){let t=On(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){const t=e.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${Ee(e.leftRecursionPath,f=>f.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof us?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};class t0 extends cs{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){Se(st(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{const o=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:o,type:kt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}const Jt=function n0(e,t){return eu(Ee(e,t),1)},s0=function r0(e,t,r,o){for(var u=-1,f=null==e?0:e.length;++u<f;){var h=e[u];t(o,h,r(h),e)}return o},a0=function i0(e,t,r,o){return vn(e,function(u,f,h){t(o,u,r(u),h)}),o};var c0=Object.prototype.hasOwnProperty,f0=function o0(e,t){return function(r,o){var u=Le(r)?s0:a0,f=t?t():{};return u(r,e,Sn(o),f)}}(function(e,t,r){c0.call(e,r)?e[r].push(t):Ll(e,r,[t])});const d0=f0,p0=function h0(e,t,r,o){if(!dt(e))return e;for(var u=-1,f=(t=ga(t,e)).length,h=f-1,p=e;null!=p&&++u<f;){var _=Vs(t[u]),I=r;if("__proto__"===_||"constructor"===_||"prototype"===_)return e;if(u!=h){var k=p[_];void 0===(I=o?o(k,_,p):void 0)&&(I=dt(k)?k:yt(t[u+1])?[]:{})}ya(p,_,I),p=p[_]}return e},y0=function _0(e,t){if(null==e)return{};var r=tr(Bu(e),function(o){return[o]});return t=Sn(t),function m0(e,t,r){for(var o=-1,u=t.length,f={};++o<u;){var h=t[o],p=Pl(e,h);r(p,h)&&p0(f,ga(h,e),p)}return f}(e,r,function(o,u){return t(o,u[0])})},li=function T0(e,t,r){var o=null==e?0:e.length;return o?(t=r||void 0===t?1:Xs(t),Qu(e,0,(t=o-t)<0?0:t)):[]};class v0 extends Ba{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=_t(this.path.ruleStack).reverse(),this.occurrenceStack=_t(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,o){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const u=r.concat(o);this.updateExpectedNext(),this.walk(t.referencedRule,u)}}updateExpectedNext(){He(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class A0 extends v0{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,o){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const u=r.concat(o),f=new Nt({definition:u});this.possibleTokTypes=ti(f),this.found=!0}}}class eo extends Ba{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class E0 extends eo{walkMany(t,r,o){if(t.idx===this.occurrence){const u=mn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof tt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkMany(t,r,o)}}class Mf extends eo{walkManySep(t,r,o){if(t.idx===this.occurrence){const u=mn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof tt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkManySep(t,r,o)}}class R0 extends eo{walkAtLeastOne(t,r,o){if(t.idx===this.occurrence){const u=mn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof tt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkAtLeastOne(t,r,o)}}class Df extends eo{walkAtLeastOneSep(t,r,o){if(t.idx===this.occurrence){const u=mn(r.concat(o));this.result.isEndOfRule=void 0===u,u instanceof tt&&(this.result.token=u.terminalType,this.result.occurrence=u.idx)}else super.walkAtLeastOneSep(t,r,o)}}function fu(e,t,r=[]){r=_t(r);let o=[],u=0;function h(p){const _=fu(function f(p){return p.concat(At(e,u+1))}(p),t,r);return o.concat(_)}for(;r.length<t&&u<e.length;){const p=e[u];if(p instanceof Nt)return h(p.definition);if(p instanceof Ot)return h(p.definition);if(p instanceof bt)o=h(p.definition);else{if(p instanceof fn)return h(p.definition.concat([new ct({definition:p.definition})]));if(p instanceof dn)return h([new Nt({definition:p.definition}),new ct({definition:[new tt({terminalType:p.separator})].concat(p.definition)})]);if(p instanceof Yt){const _=p.definition.concat([new ct({definition:[new tt({terminalType:p.separator})].concat(p.definition)})]);o=h(_)}else if(p instanceof ct){const _=p.definition.concat([new ct({definition:p.definition})]);o=h(_)}else{if(p instanceof qt)return Se(p.definition,_=>{!1===He(_.definition)&&(o=h(_.definition))}),o;if(!(p instanceof tt))throw Error("non exhaustive match");r.push(p.terminalType)}}u++}return o.push({partialPath:r,suffixDef:At(e,u)}),o}function Ff(e,t,r,o){const u="EXIT_NONE_TERMINAL",f=[u],h="EXIT_ALTERNATIVE";let p=!1;const _=t.length,I=_-o-1,k=[],G=[];for(G.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!He(G);){const W=G.pop();if(W===h){p&&ds(G).idx<=I&&G.pop();continue}const le=W.def,_e=W.idx,pe=W.ruleStack,ye=W.occurrenceStack;if(He(le))continue;const he=le[0];if(he===u){const de={idx:_e,def:At(le),ruleStack:li(pe),occurrenceStack:li(ye)};G.push(de)}else if(he instanceof tt)if(_e<_-1){const de=_e+1;if(r(t[de],he.terminalType)){const Re={idx:de,def:At(le),ruleStack:pe,occurrenceStack:ye};G.push(Re)}}else{if(_e!==_-1)throw Error("non exhaustive match");k.push({nextTokenType:he.terminalType,nextTokenOccurrence:he.idx,ruleStack:pe,occurrenceStack:ye}),p=!0}else if(he instanceof Ot){const de=_t(pe);de.push(he.nonTerminalName);const ee=_t(ye);ee.push(he.idx);const Re={idx:_e,def:he.definition.concat(f,At(le)),ruleStack:de,occurrenceStack:ee};G.push(Re)}else if(he instanceof bt){const de={idx:_e,def:At(le),ruleStack:pe,occurrenceStack:ye};G.push(de),G.push(h);const ee={idx:_e,def:he.definition.concat(At(le)),ruleStack:pe,occurrenceStack:ye};G.push(ee)}else if(he instanceof fn){const de=new ct({definition:he.definition,idx:he.idx}),ee=he.definition.concat([de],At(le));G.push({idx:_e,def:ee,ruleStack:pe,occurrenceStack:ye})}else if(he instanceof dn){const de=new tt({terminalType:he.separator}),ee=new ct({definition:[de].concat(he.definition),idx:he.idx}),Re=he.definition.concat([ee],At(le));G.push({idx:_e,def:Re,ruleStack:pe,occurrenceStack:ye})}else if(he instanceof Yt){const de={idx:_e,def:At(le),ruleStack:pe,occurrenceStack:ye};G.push(de),G.push(h);const ee=new tt({terminalType:he.separator}),Re=new ct({definition:[ee].concat(he.definition),idx:he.idx}),We=he.definition.concat([Re],At(le));G.push({idx:_e,def:We,ruleStack:pe,occurrenceStack:ye})}else if(he instanceof ct){const de={idx:_e,def:At(le),ruleStack:pe,occurrenceStack:ye};G.push(de),G.push(h);const ee=new ct({definition:he.definition,idx:he.idx}),Re=he.definition.concat([ee],At(le));G.push({idx:_e,def:Re,ruleStack:pe,occurrenceStack:ye})}else if(he instanceof qt)for(let de=he.definition.length-1;de>=0;de--){const Re={idx:_e,def:he.definition[de].definition.concat(At(le)),ruleStack:pe,occurrenceStack:ye};G.push(Re),G.push(h)}else if(he instanceof Nt)G.push({idx:_e,def:he.definition.concat(At(le)),ruleStack:pe,occurrenceStack:ye});else{if(!(he instanceof us))throw Error("non exhaustive match");G.push(I0(he,_e,pe,ye))}}return k}function I0(e,t,r,o){const u=_t(r);u.push(e.name);const f=_t(o);return f.push(1),{idx:t,def:e.definition,ruleStack:u,occurrenceStack:f}}var it=function(e){return e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION",e}(it||{});function du(e){if(e instanceof bt||"Option"===e)return it.OPTION;if(e instanceof ct||"Repetition"===e)return it.REPETITION;if(e instanceof fn||"RepetitionMandatory"===e)return it.REPETITION_MANDATORY;if(e instanceof dn||"RepetitionMandatoryWithSeparator"===e)return it.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Yt||"RepetitionWithSeparator"===e)return it.REPETITION_WITH_SEPARATOR;if(e instanceof qt||"Alternation"===e)return it.ALTERNATION;throw Error("non exhaustive match")}function C0(e){const{occurrence:t,rule:r,prodType:o,maxLookahead:u}=e,f=du(o);return f===it.ALTERNATION?to(t,r,u):no(t,r,f,u)}function b0(e,t,r,o){const u=e.length,f=Nn(e,h=>Nn(h,p=>1===p.length));if(t)return function(h){const p=Ee(h,_=>_.GATE);for(let _=0;_<u;_++){const I=e[_],k=I.length,G=p[_];if(void 0===G||!1!==G.call(this))e:for(let W=0;W<k;W++){const le=I[W],_e=le.length;for(let pe=0;pe<_e;pe++){const ye=this.LA(pe+1);if(!1===r(ye,le[pe]))continue e}return _}}};if(f&&!o){const h=Ee(e,_=>hn(_)),p=Kt(h,(_,I,k)=>(Se(I,G=>{xe(_,G.tokenTypeIdx)||(_[G.tokenTypeIdx]=k),Se(G.categoryMatches,W=>{xe(_,W)||(_[W]=k)})}),_),{});return function(){const _=this.LA(1);return p[_.tokenTypeIdx]}}return function(){for(let h=0;h<u;h++){const p=e[h],_=p.length;e:for(let I=0;I<_;I++){const k=p[I],G=k.length;for(let W=0;W<G;W++){const le=this.LA(W+1);if(!1===r(le,k[W]))continue e}return h}}}}function $0(e,t,r){const o=Nn(e,f=>1===f.length),u=e.length;if(o&&!r){const f=hn(e);if(1===f.length&&He(f[0].categoryMatches)){const p=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===p}}{const h=Kt(f,(p,_,I)=>(p[_.tokenTypeIdx]=!0,Se(_.categoryMatches,k=>{p[k]=!0}),p),[]);return function(){const p=this.LA(1);return!0===h[p.tokenTypeIdx]}}}return function(){e:for(let f=0;f<u;f++){const h=e[f],p=h.length;for(let _=0;_<p;_++){const I=this.LA(_+1);if(!1===t(I,h[_]))continue e}return!0}return!1}}class O0 extends Ba{constructor(t,r,o){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=o}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,o,u){return t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.restDef=o.concat(u),!0)}walkOption(t,r,o){this.checkIsTarget(t,it.OPTION,r,o)||super.walkOption(t,r,o)}walkAtLeastOne(t,r,o){this.checkIsTarget(t,it.REPETITION_MANDATORY,r,o)||super.walkOption(t,r,o)}walkAtLeastOneSep(t,r,o){this.checkIsTarget(t,it.REPETITION_MANDATORY_WITH_SEPARATOR,r,o)||super.walkOption(t,r,o)}walkMany(t,r,o){this.checkIsTarget(t,it.REPETITION,r,o)||super.walkOption(t,r,o)}walkManySep(t,r,o){this.checkIsTarget(t,it.REPETITION_WITH_SEPARATOR,r,o)||super.walkOption(t,r,o)}}class Gf extends cs{constructor(t,r,o){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=o,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(void 0===this.targetRef||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,it.OPTION)}visitRepetition(t){this.checkIsTarget(t,it.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,it.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,it.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,it.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,it.ALTERNATION)}}function Uf(e){const t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function hu(e){let t=[""];for(let r=0;r<e.length;r++){const o=e[r],u=[];for(let f=0;f<t.length;f++){const h=t[f];u.push(h+"_"+o.tokenTypeIdx);for(let p=0;p<o.categoryMatches.length;p++)u.push(h+"_"+o.categoryMatches[p])}t=u}return t}function N0(e,t,r){for(let o=0;o<e.length;o++){if(o===r)continue;const u=e[o];for(let f=0;f<t.length;f++)if(!0===u[t[f]])return!1}return!0}function Bf(e,t){const r=Ee(e,h=>fu([h],1)),o=Uf(r.length),u=Ee(r,h=>{const p={};return Se(h,_=>{const I=hu(_.partialPath);Se(I,k=>{p[k]=!0})}),p});let f=r;for(let h=1;h<=t;h++){const p=f;f=Uf(p.length);for(let _=0;_<p.length;_++){const I=p[_];for(let k=0;k<I.length;k++){const G=I[k].partialPath,W=I[k].suffixDef,le=hu(G);if(N0(u,le,_)||He(W)||G.length===t){const pe=o[_];if(!1===pu(pe,G)){pe.push(G);for(let ye=0;ye<le.length;ye++)u[_][le[ye]]=!0}}else{const pe=fu(W,h+1,G);f[_]=f[_].concat(pe),Se(pe,ye=>{const he=hu(ye.partialPath);Se(he,de=>{u[_][de]=!0})})}}}}return o}function to(e,t,r,o){const u=new Gf(e,it.ALTERNATION,o);return t.accept(u),Bf(u.result,r)}function no(e,t,r,o){const u=new Gf(e,r);t.accept(u);const f=u.result,p=new O0(t,e,r).startWalking();return Bf([new Nt({definition:f}),new Nt({definition:p})],o)}function pu(e,t){e:for(let r=0;r<e.length;r++){const o=e[r];if(o.length===t.length){for(let u=0;u<o.length;u++){const f=t[u],h=o[u];if(0==(f===h||void 0!==h.categoryMatchesMap[f.tokenTypeIdx]))continue e}return!0}}return!1}function Kf(e){return Nn(e,t=>Nn(t,r=>Nn(r,o=>He(o.categoryMatches))))}function M0(e){return`${On(e)}_#_${e.idx}_#_${jf(e)}`}function jf(e){return e instanceof tt?e.terminalType.name:e instanceof Ot?e.nonTerminalName:""}class D0 extends cs{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function Wf(e,t,r,o=[]){const u=[],f=ro(t.definition);if(He(f))return[];{const h=e.name;wt(f,e)&&u.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:o}),type:kt.LEFT_RECURSION,ruleName:h});const _=Ha(f,o.concat([e])),I=Jt(_,k=>{const G=_t(o);return G.push(k),Wf(e,k,r,G)});return u.concat(I)}}function ro(e){let t=[];if(He(e))return t;const r=mn(e);if(r instanceof Ot)t.push(r.referencedRule);else if(r instanceof Nt||r instanceof bt||r instanceof fn||r instanceof dn||r instanceof Yt||r instanceof ct)t=t.concat(ro(r.definition));else if(r instanceof qt)t=hn(Ee(r.definition,f=>ro(f.definition)));else if(!(r instanceof tt))throw Error("non exhaustive match");if(Ua(r)&&e.length>1){const f=At(e);return t.concat(ro(f))}return t}class mu extends cs{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}class K0 extends cs{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}const Hf="MismatchedTokenException",Vf="NoViableAltException",zf="EarlyExitException",Xf="NotAllInputParsedException",Yf=[Hf,Vf,zf,Xf];function so(e){return wt(Yf,e.name)}Object.freeze(Yf);class io extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class qf extends io{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=Hf}}class q0 extends io{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=Vf}}class Q0 extends io{constructor(t,r){super(t,r),this.name=Xf}}class J0 extends io{constructor(t,r,o){super(t,r),this.previousToken=o,this.name=zf}}const gu={},Qf="InRuleRecoveryException";class Z0 extends Error{constructor(t){super(t),this.name=Qf}}function tC(e,t,r,o,u,f,h){const p=this.getKeyForAutomaticLookahead(o,u);let _=this.firstAfterRepMap[p];if(void 0===_){const W=this.getCurrRuleFullName();_=new f(this.getGAstProductions()[W],u).startWalking(),this.firstAfterRepMap[p]=_}let I=_.token,k=_.occurrence;1===this.RULE_STACK.length&&_.isEndOfRule&&void 0===I&&(I=fr,k=1),void 0!==I&&void 0!==k&&this.shouldInRepetitionRecoveryBeTried(I,k,h)&&this.tryInRepetitionRecovery(e,t,r,I)}function vu(e,t,r){return r|t|e}class ed{constructor(t){var r;this.maxLookahead=null!==(r=t?.maxLookahead)&&void 0!==r?r:wn.maxLookahead}validate(t){const r=this.validateNoLeftRecursion(t.rules);if(He(r)){const o=this.validateEmptyOrAlternatives(t.rules),u=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),f=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...o,...u,...f]}return r}validateNoLeftRecursion(t){return Jt(t,r=>Wf(r,r,Fr))}validateEmptyOrAlternatives(t){return Jt(t,r=>function U0(e,t){const r=new mu;return e.accept(r),Jt(r.alternations,f=>{const h=li(f.definition);return Jt(h,(p,_)=>{const I=Ff([p],[],ii,1);return He(I)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:f,emptyChoiceIdx:_}),type:kt.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:f.idx,alternative:_+1}]:[]})})}(r,Fr))}validateAmbiguousAlternationAlternatives(t,r){return Jt(t,o=>function B0(e,t,r){const o=new mu;e.accept(o);let u=o.alternations;return u=Wa(u,h=>!0===h.ignoreAmbiguities),Jt(u,h=>{const I=to(h.idx,e,h.maxLookahead||t,h),k=function H0(e,t,r,o){const u=[],f=Kt(e,(p,_,I)=>(!0===t.definition[I].ignoreAmbiguities||Se(_,k=>{const G=[I];Se(e,(W,le)=>{I!==le&&pu(W,k)&&!0!==t.definition[le].ignoreAmbiguities&&G.push(le)}),G.length>1&&!pu(u,k)&&(u.push(k),p.push({alts:G,path:k}))}),p),[]);return Ee(f,p=>{const _=Ee(p.alts,k=>k+1);return{message:o.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:_,prefixPath:p.path}),type:kt.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:p.alts}})}(I,h,e,r),G=function V0(e,t,r,o){const u=Kt(e,(h,p,_)=>{const I=Ee(p,k=>({idx:_,path:k}));return h.concat(I)},[]);return ni(Jt(u,h=>{if(!0===t.definition[h.idx].ignoreAmbiguities)return[];const _=h.idx,I=h.path,k=Qt(u,W=>!0!==t.definition[W.idx].ignoreAmbiguities&&W.idx<_&&function w0(e,t){return e.length<t.length&&Nn(e,(r,o)=>{const u=t[o];return r===u||u.categoryMatchesMap[r.tokenTypeIdx]})}(W.path,I));return Ee(k,W=>{const le=[W.idx+1,_+1],_e=0===t.idx?"":t.idx;return{message:o.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:le,prefixPath:W.path}),type:kt.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:_e,alternatives:le}})}))}(I,h,e,r);return k.concat(G)})}(o,r,Fr))}validateSomeNonEmptyLookaheadPath(t,r){return function W0(e,t,r){const o=[];return Se(e,u=>{const f=new K0;u.accept(f),Se(f.allProductions,p=>{const _=du(p),W=no(p.idx,u,_,p.maxLookahead||t)[0];if(He(hn(W))){const le=r.buildEmptyRepetitionError({topLevelRule:u,repetition:p});o.push({message:le,type:kt.NO_NON_EMPTY_LOOKAHEAD,ruleName:u.name})}})}),o}(t,r,Fr)}buildLookaheadForAlternation(t){return function S0(e,t,r,o,u,f){const h=to(e,t,r);return f(h,o,Kf(h)?Za:ii,u)}(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,b0)}buildLookaheadForOptional(t){return function x0(e,t,r,o,u,f){const h=no(e,t,u,r),p=Kf(h)?Za:ii;return f(h[0],p,o)}(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,du(t.prodType),$0)}}const oo=new class iC extends cs{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function td(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function nd(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function rd(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function cC(e,t){const r=gt(e),o=r.length;for(let u=0;u<o;u++){const h=e[r[u]],p=h.length;for(let _=0;_<p;_++){const I=h[_];void 0===I.tokenTypeIdx&&this[I.name](I.children,t)}}}var sd=function(e){return e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD",e}(sd||{});const EC=function AC(e,t){var r;return vn(e,function(o,u,f){return!(r=t(o,u,f))}),!!r},lo={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(lo);const ad=Math.pow(2,8)-1,od=Pf({name:"RECORDING_PHASE_TOKEN",pattern:gn.NA});ai([od]);const ld=uu(od,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(ld);const CC={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function ui(e,t,r,o=!1){uo(r);const u=ds(this.recordingProdStack),f=St(t)?t:t.DEF,h=new e({definition:[],idx:r});return o&&(h.separator=t.SEP),xe(t,"MAX_LOOKAHEAD")&&(h.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(h),f.call(this),u.definition.push(h),this.recordingProdStack.pop(),lo}function xC(e,t){uo(t);const r=ds(this.recordingProdStack),o=!1===Le(e),u=!1===o?e:e.DEF,f=new qt({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});xe(e,"MAX_LOOKAHEAD")&&(f.maxLookahead=e.MAX_LOOKAHEAD);const h=function RC(e,t,r){var o=Le(e)?ts:EC;return r&&Ka(e,t,r)&&(t=void 0),o(e,Sn(t))}(u,p=>St(p.GATE));return f.hasPredicates=h,r.definition.push(f),Se(u,p=>{const _=new Nt({definition:[]});f.definition.push(_),xe(p,"IGNORE_AMBIGUITIES")?_.ignoreAmbiguities=p.IGNORE_AMBIGUITIES:xe(p,"GATE")&&(_.ignoreAmbiguities=!0),this.recordingProdStack.push(_),p.ALT.call(this),this.recordingProdStack.pop()}),lo}function ud(e){return 0===e?"":`${e}`}function uo(e){if(e<0||e>ad){const t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${ad+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const co=uu(fr,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(co);const wn=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:cu,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),fo=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var kt=function(e){return e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",e}(kt||{});function OC(e=void 0){return function(){return e}}let Au=(()=>{class e{static performSelfAnalysis(r){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let r;this.selfAnalysisDone=!0;const o=this.className;this.TRACE_INIT("toFastProps",()=>{qu(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Se(this.definedRulesNames,f=>{const p=this[f].originalGrammarAction;let _;this.TRACE_INIT(`${f} Rule`,()=>{_=this.topLevelRuleRecord(f,p)}),this.gastProductionsCache[f]=_})}finally{this.disableRecording()}});let u=[];if(this.TRACE_INIT("Grammar Resolving",()=>{u=function X0(e){const t=ru(e,{errMsgProvider:ZI}),r={};return Se(e.rules,o=>{r[o.name]=o}),function e0(e,t){const r=new t0(e,t);return r.resolveRefs(),r.errors}(r,t.errMsgProvider)}({rules:st(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(u)}),this.TRACE_INIT("Grammar Validations",()=>{if(He(u)&&!1===this.skipValidations){const f=function Y0(e){return function P0(e,t,r,o){const u=Jt(e,_=>function L0(e,t){const r=new D0;e.accept(r);const u=d0(r.allProductions,M0),f=y0(u,p=>p.length>1);return Ee(st(f),p=>{const _=mn(p),I=t.buildDuplicateFoundError(e,p),k=On(_),G={message:I,type:kt.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:k,occurrence:_.idx},W=jf(_);return W&&(G.parameter=W),G})}(_,r)),f=function z0(e,t,r){const o=[],u=Ee(t,f=>f.name);return Se(e,f=>{const h=f.name;if(wt(u,h)){const p=r.buildNamespaceConflictError(f);o.push({message:p,type:kt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:h})}}),o}(e,t,r),h=Jt(e,_=>function j0(e,t){const r=new mu;return e.accept(r),Jt(r.alternations,f=>f.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:f}),type:kt.TOO_MANY_ALTS,ruleName:e.name,occurrence:f.idx}]:[])}(_,r)),p=Jt(e,_=>function F0(e,t,r,o){const u=[];if(Kt(t,(h,p)=>p.name===e.name?h+1:h,0)>1){const h=o.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});u.push({message:h,type:kt.DUPLICATE_RULE_NAME,ruleName:e.name})}return u}(_,e,o,r));return u.concat(f,h,p)}((e=ru(e,{errMsgProvider:Fr})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}({rules:st(this.gastProductionsCache),tokenTypes:st(this.tokensMap),errMsgProvider:Fr,grammarName:o}),h=function k0(e){const t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Ee(t,r=>Object.assign({type:kt.CUSTOM_LOOKAHEAD_VALIDATION},r))}({lookaheadStrategy:this.lookaheadStrategy,rules:st(this.gastProductionsCache),tokenTypes:st(this.tokensMap),grammarName:o});this.definitionErrors=this.definitionErrors.concat(f,h)}}),He(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const f=function CR(e){const t={};return Se(e,r=>{const o=new IR(r).startWalking();nu(t,o)}),t}(st(this.gastProductionsCache));this.resyncFollows=f}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var f,h;null===(h=(f=this.lookaheadStrategy).initialize)||void 0===h||h.call(f,{rules:st(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(st(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!He(this.definitionErrors))throw r=Ee(this.definitionErrors,f=>f.message),new Error(`Parser Definition Errors detected:\n ${r.join("\n-------------------------------\n")}`)})}constructor(r,o){this.definitionErrors=[],this.selfAnalysisDone=!1;const u=this;if(u.initErrorHandler(o),u.initLexerAdapter(),u.initLooksAhead(o),u.initRecognizerEngine(r,o),u.initRecoverable(o),u.initTreeBuilder(o),u.initContentAssist(),u.initGastRecorder(o),u.initPerformanceTracer(o),xe(o,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=xe(o,"skipValidations")?o.skipValidations:wn.skipValidations}}return e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e})();!function $C(e,t){t.forEach(r=>{const o=r.prototype;Object.getOwnPropertyNames(o).forEach(u=>{if("constructor"===u)return;const f=Object.getOwnPropertyDescriptor(o,u);f&&(f.get||f.set)?Object.defineProperty(e.prototype,u,f):e.prototype[u]=r.prototype[u]})})}(Au,[class eC{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=xe(t,"recoveryEnabled")?t.recoveryEnabled:wn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=tC)}getTokenToInsert(t){const r=uu(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,o,u){const f=this.findReSyncTokenType(),h=this.exportLexerState(),p=[];let _=!1;const I=this.LA(1);let k=this.LA(1);const G=()=>{const W=this.LA(0),le=this.errorMessageProvider.buildMismatchTokenMessage({expected:u,actual:I,previous:W,ruleName:this.getCurrRuleFullName()}),_e=new qf(le,I,this.LA(0));_e.resyncedTokens=li(p),this.SAVE_ERROR(_e)};for(;!_;){if(this.tokenMatcher(k,u))return void G();if(o.call(this))return G(),void t.apply(this,r);this.tokenMatcher(k,f)?_=!0:(k=this.SKIP_TOKEN(),this.addToResyncTokens(k,p))}this.importLexerState(h)}shouldInRepetitionRecoveryBeTried(t,r,o){return!(!1===o||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){const o=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(o)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const o=this.SKIP_TOKEN();return this.consumeToken(),o}throw new Z0("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||He(r))return!1;const o=this.LA(1);return void 0!==fs(r,f=>this.tokenMatcher(o,f))}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const r=this.getCurrFollowKey(),o=this.getFollowSetFromFollowKey(r);return wt(o,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let r=this.LA(1),o=2;for(;;){const u=fs(t,f=>Lf(r,f));if(void 0!==u)return u;r=this.LA(o),o++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return gu;const t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),o=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(o)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Ee(t,(o,u)=>0===u?gu:{ruleName:this.shortRuleNameToFullName(o),idxInCallingRule:r[u],inRule:this.shortRuleNameToFullName(t[u-1])})}flattenFollowSet(){const t=Ee(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return hn(t)}getFollowSetFromFollowKey(t){return t===gu?[fr]:this.resyncFollows[t.ruleName+t.idxInCallingRule+"_~IN~_"+t.inRule]}addToResyncTokens(t,r){return this.tokenMatcher(t,fr)||r.push(t),r}reSyncTo(t){const r=[];let o=this.LA(1);for(;!1===this.tokenMatcher(o,t);)o=this.SKIP_TOKEN(),this.addToResyncTokens(o,r);return li(r)}attemptInRepetitionRecovery(t,r,o,u,f,h,p){}getCurrentGrammarPath(t,r){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:_t(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Ee(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}},class sC{initLooksAhead(t){this.dynamicTokensEnabled=xe(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:wn.dynamicTokensEnabled,this.maxLookahead=xe(t,"maxLookahead")?t.maxLookahead:wn.maxLookahead,this.lookaheadStrategy=xe(t,"lookaheadStrategy")?t.lookaheadStrategy:new ed({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){Se(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{const{alternation:o,repetition:u,option:f,repetitionMandatory:h,repetitionMandatoryWithSeparator:p,repetitionWithSeparator:_}=function aC(e){oo.reset(),e.accept(oo);const t=oo.dslMethods;return oo.reset(),t}(r);Se(o,I=>{const k=0===I.idx?"":I.idx;this.TRACE_INIT(`${On(I)}${k}`,()=>{const G=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:I.idx,rule:r,maxLookahead:I.maxLookahead||this.maxLookahead,hasPredicates:I.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),W=vu(this.fullRuleNameToShort[r.name],256,I.idx);this.setLaFuncCache(W,G)})}),Se(u,I=>{this.computeLookaheadFunc(r,I.idx,768,"Repetition",I.maxLookahead,On(I))}),Se(f,I=>{this.computeLookaheadFunc(r,I.idx,512,"Option",I.maxLookahead,On(I))}),Se(h,I=>{this.computeLookaheadFunc(r,I.idx,1024,"RepetitionMandatory",I.maxLookahead,On(I))}),Se(p,I=>{this.computeLookaheadFunc(r,I.idx,1536,"RepetitionMandatoryWithSeparator",I.maxLookahead,On(I))}),Se(_,I=>{this.computeLookaheadFunc(r,I.idx,1280,"RepetitionWithSeparator",I.maxLookahead,On(I))})})})}computeLookaheadFunc(t,r,o,u,f,h){this.TRACE_INIT(`${h}${0===r?"":r}`,()=>{const p=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:f||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:u}),_=vu(this.fullRuleNameToShort[t.name],o,r);this.setLaFuncCache(_,p)})}getKeyForAutomaticLookahead(t,r){return vu(this.getLastExplicitRuleShortName(),t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},class mC{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=xe(t,"nodeLocationTracking")?t.nodeLocationTracking:wn.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=nd,this.setNodeLocationFromNode=nd,this.cstPostRule=ht,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ht,this.setNodeLocationFromNode=ht,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=td,this.setNodeLocationFromNode=td,this.cstPostRule=ht,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ht,this.setNodeLocationFromNode=ht,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=ht,this.setNodeLocationFromNode=ht,this.cstPostRule=ht,this.setInitialNodeLocation=ht}else this.cstInvocationStateUpdate=ht,this.cstFinallyStateUpdate=ht,this.cstPostTerminal=ht,this.cstPostNonTerminal=ht,this.cstPostRule=ht}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const r=this.LA(0),o=t.location;o.startOffset<=r.startOffset?(o.endOffset=r.endOffset,o.endLine=r.endLine,o.endColumn=r.endColumn):(o.startOffset=NaN,o.startLine=NaN,o.startColumn=NaN)}cstPostRuleOnlyOffset(t){const r=this.LA(0),o=t.location;o.startOffset<=r.startOffset?o.endOffset=r.endOffset:o.startOffset=NaN}cstPostTerminal(t,r){const o=this.CST_STACK[this.CST_STACK.length-1];(function oC(e,t,r){void 0===e.children[r]?e.children[r]=[t]:e.children[r].push(t)})(o,r,t),this.setNodeLocationFromToken(o.location,r)}cstPostNonTerminal(t,r){const o=this.CST_STACK[this.CST_STACK.length-1];(function lC(e,t,r){void 0===e.children[t]?e.children[t]=[r]:e.children[t].push(r)})(o,r,t),this.setNodeLocationFromNode(o.location,t.location)}getBaseCstVisitorConstructor(){if(jn(this.baseCstVisitorConstructor)){const t=function fC(e,t){const r=function(){};rd(r,e+"BaseSemantics");const o={visit:function(u,f){if(Le(u)&&(u=u[0]),!jn(u))return this[u.name](u.children,f)},validateVisitor:function(){const u=function hC(e,t){return function pC(e,t){const r=Qt(t,u=>!1===St(e[u])),o=Ee(r,u=>({msg:`Missing visitor method: <${u}> on ${e.constructor.name} CST Visitor.`,type:sd.MISSING_METHOD,methodName:u}));return ni(o)}(e,t)}(this,t);if(!He(u)){const f=Ee(u,h=>h.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${f.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(r.prototype=o).constructor=r,r._RULE_NAMES=t,r}(this.className,gt(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(jn(this.baseCstVisitorWithDefaultsConstructor)){const t=function dC(e,t,r){const o=function(){};rd(o,e+"BaseSemanticsWithDefaults");const u=Object.create(r.prototype);return Se(t,f=>{u[f]=cC}),(o.prototype=u).constructor=o,o}(this.className,gt(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class gC{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):co}LA(t){const r=this.currIdx+t;return r<0||this.tokVectorLength<=r?co:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class yC{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Za,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},xe(r,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(Le(t)){if(He(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(Le(t))this.tokensMap=Kt(t,(f,h)=>(f[h.name]=h,f),{});else if(xe(t,"modes")&&Nn(hn(st(t.modes)),qI)){const f=hn(st(t.modes)),h=Zl(f);this.tokensMap=Kt(h,(p,_)=>(p[_.name]=_,p),{})}else{if(!dt(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=_t(t)}this.tokensMap.EOF=fr;const o=xe(t,"modes")?hn(st(t.modes)):st(t),u=Nn(o,f=>He(f.categoryMatches));this.tokenMatcher=u?Za:ii,ai(st(this.tokensMap))}defineRule(t,r,o){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const u=xe(o,"resyncEnabled")?o.resyncEnabled:fo.resyncEnabled,f=xe(o,"recoveryValueFunc")?o.recoveryValueFunc:fo.recoveryValueFunc,h=this.ruleShortNameIdx<<12;let p;return this.ruleShortNameIdx++,this.shortRuleNameToFull[h]=t,this.fullRuleNameToShort[t]=h,p=!0===this.outputCst?function(...k){try{this.ruleInvocationStateUpdate(h,t,this.subruleIdx),r.apply(this,k);const G=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(G),G}catch(G){return this.invokeRuleCatch(G,u,f)}finally{this.ruleFinallyStateUpdate()}}:function(...k){try{return this.ruleInvocationStateUpdate(h,t,this.subruleIdx),r.apply(this,k)}catch(G){return this.invokeRuleCatch(G,u,f)}finally{this.ruleFinallyStateUpdate()}},Object.assign(p,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,o){const u=1===this.RULE_STACK.length,f=r&&!this.isBackTracking()&&this.recoveryEnabled;if(so(t)){const h=t;if(f){const p=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(p)){if(h.resyncedTokens=this.reSyncTo(p),this.outputCst){const _=this.CST_STACK[this.CST_STACK.length-1];return _.recoveredNode=!0,_}return o(t)}if(this.outputCst){const _=this.CST_STACK[this.CST_STACK.length-1];_.recoveredNode=!0,h.partialCstResult=_}throw h}if(u)return this.moveToTerminatedState(),o(t);throw h}throw t}optionInternal(t,r){const o=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,o)}optionInternalLogic(t,r,o){let f,u=this.getLaFuncFromCache(o);if("function"!=typeof t){f=t.DEF;const h=t.GATE;if(void 0!==h){const p=u;u=()=>h.call(this)&&p.call(this)}}else f=t;if(!0===u.call(this))return f.call(this)}atLeastOneInternal(t,r){const o=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,o)}atLeastOneInternalLogic(t,r,o){let f,u=this.getLaFuncFromCache(o);if("function"!=typeof r){f=r.DEF;const h=r.GATE;if(void 0!==h){const p=u;u=()=>h.call(this)&&p.call(this)}}else f=r;if(!0!==u.call(this))throw this.raiseEarlyExitException(t,it.REPETITION_MANDATORY,r.ERR_MSG);{let h=this.doSingleRepetition(f);for(;!0===u.call(this)&&!0===h;)h=this.doSingleRepetition(f)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],u,1024,t,R0)}atLeastOneSepFirstInternal(t,r){const o=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,o)}atLeastOneSepFirstInternalLogic(t,r,o){const u=r.DEF,f=r.SEP;if(!0!==this.getLaFuncFromCache(o).call(this))throw this.raiseEarlyExitException(t,it.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG);{u.call(this);const p=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,p,u,Df],p,1536,t,Df)}}manyInternal(t,r){const o=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,o)}manyInternalLogic(t,r,o){let f,u=this.getLaFuncFromCache(o);if("function"!=typeof r){f=r.DEF;const p=r.GATE;if(void 0!==p){const _=u;u=()=>p.call(this)&&_.call(this)}}else f=r;let h=!0;for(;!0===u.call(this)&&!0===h;)h=this.doSingleRepetition(f);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],u,768,t,E0,h)}manySepFirstInternal(t,r){const o=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,o)}manySepFirstInternalLogic(t,r,o){const u=r.DEF,f=r.SEP;if(!0===this.getLaFuncFromCache(o).call(this)){u.call(this);const p=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,p,u,Mf],p,1280,t,Mf)}}repetitionSepSecondInternal(t,r,o,u,f){for(;o();)this.CONSUME(r),u.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,o,u,f],o,1536,t,f)}doSingleRepetition(t){const r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){const o=this.getKeyForAutomaticLookahead(256,r),u=Le(t)?t:t.DEF,h=this.getLaFuncFromCache(o).call(this,u);if(void 0!==h)return u[h].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Q0(r,t))}}subruleInternal(t,r,o){let u;try{const f=void 0!==o?o.ARGS:void 0;return this.subruleIdx=r,u=t.apply(this,f),this.cstPostNonTerminal(u,void 0!==o&&void 0!==o.LABEL?o.LABEL:t.ruleName),u}catch(f){throw this.subruleInternalError(f,o,t.ruleName)}}subruleInternalError(t,r,o){throw so(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==r&&void 0!==r.LABEL?r.LABEL:o),delete t.partialCstResult),t}consumeInternal(t,r,o){let u;try{const f=this.LA(1);!0===this.tokenMatcher(f,t)?(this.consumeToken(),u=f):this.consumeInternalError(t,f,o)}catch(f){u=this.consumeInternalRecovery(t,r,f)}return this.cstPostTerminal(void 0!==o&&void 0!==o.LABEL?o.LABEL:t.name,u),u}consumeInternalError(t,r,o){let u;const f=this.LA(0);throw u=void 0!==o&&o.ERR_MSG?o.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:f,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new qf(u,r,f))}consumeInternalRecovery(t,r,o){if(!this.recoveryEnabled||"MismatchedTokenException"!==o.name||this.isBackTracking())throw o;{const u=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,u)}catch(f){throw f.name===Qf?o:f}}}saveRecogState(){const t=this.errors,r=_t(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,o){this.RULE_OCCURRENCE_STACK.push(o),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),fr)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class _C{ACTION(t){return t.call(this)}consume(t,r,o){return this.consumeInternal(r,t,o)}subrule(t,r,o){return this.subruleInternal(r,t,o)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,o=fo){if(wt(this.definedRulesNames,t)){const h={message:Fr.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:kt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(h)}this.definedRulesNames.push(t);const u=this.defineRule(t,r,o);return this[t]=u,u}OVERRIDE_RULE(t,r,o=fo){const u=function G0(e,t,r){const o=[];let u;return wt(t,e)||(u=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,o.push({message:u,type:kt.INVALID_RULE_OVERRIDE,ruleName:e})),o}(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(u);const f=this.defineRule(t,r,o);return this[t]=f,f}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);const o=this.saveRecogState();try{return t.apply(this,r),!0}catch(u){if(so(u))return!1;throw u}finally{this.reloadRecogState(o),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return function jA(e){return Vc(e,Ga)}(st(this.gastProductionsCache))}},class TC{initErrorHandler(t){this._errors=[],this.errorMessageProvider=xe(t,"errorMessageProvider")?t.errorMessageProvider:wn.errorMessageProvider}SAVE_ERROR(t){if(so(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:_t(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return _t(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,o){const u=this.getCurrRuleFullName(),p=no(t,this.getGAstProductions()[u],r,this.maxLookahead)[0],_=[];for(let k=1;k<=this.maxLookahead;k++)_.push(this.LA(k));const I=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:p,actual:_,previous:this.LA(0),customUserDescription:o,ruleName:u});throw this.SAVE_ERROR(new J0(I,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){const o=this.getCurrRuleFullName(),f=to(t,this.getGAstProductions()[o],this.maxLookahead),h=[];for(let I=1;I<=this.maxLookahead;I++)h.push(this.LA(I));const p=this.LA(0),_=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:f,actual:h,previous:p,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new q0(_,this.LA(1),p))}},class vC{initContentAssist(){}computeContentAssist(t,r){const o=this.gastProductionsCache[t];if(jn(o))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Ff([o],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const r=mn(t.ruleStack),u=this.getGAstProductions()[r];return new A0(u,t).startWalking()}},class SC{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const r=t>0?t:"";this[`CONSUME${r}`]=function(o,u){return this.consumeInternalRecord(o,t,u)},this[`SUBRULE${r}`]=function(o,u){return this.subruleInternalRecord(o,t,u)},this[`OPTION${r}`]=function(o){return this.optionInternalRecord(o,t)},this[`OR${r}`]=function(o){return this.orInternalRecord(o,t)},this[`MANY${r}`]=function(o){this.manyInternalRecord(t,o)},this[`MANY_SEP${r}`]=function(o){this.manySepFirstInternalRecord(t,o)},this[`AT_LEAST_ONE${r}`]=function(o){this.atLeastOneInternalRecord(t,o)},this[`AT_LEAST_ONE_SEP${r}`]=function(o){this.atLeastOneSepFirstInternalRecord(t,o)}}this.consume=function(t,r,o){return this.consumeInternalRecord(r,t,o)},this.subrule=function(t,r,o){return this.subruleInternalRecord(r,t,o)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let r=0;r<10;r++){const o=r>0?r:"";delete t[`CONSUME${o}`],delete t[`SUBRULE${o}`],delete t[`OPTION${o}`],delete t[`OR${o}`],delete t[`MANY${o}`],delete t[`MANY_SEP${o}`],delete t[`AT_LEAST_ONE${o}`],delete t[`AT_LEAST_ONE_SEP${o}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return co}topLevelRuleRecord(t,r){try{const o=new us({definition:[],name:t});return o.name=t,this.recordingProdStack.push(o),r.call(this),this.recordingProdStack.pop(),o}catch(o){if(!0!==o.KNOWN_RECORDER_ERROR)try{o.message=o.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw o}throw o}}optionInternalRecord(t,r){return ui.call(this,bt,t,r)}atLeastOneInternalRecord(t,r){ui.call(this,fn,r,t)}atLeastOneSepFirstInternalRecord(t,r){ui.call(this,dn,r,t,!0)}manyInternalRecord(t,r){ui.call(this,ct,r,t)}manySepFirstInternalRecord(t,r){ui.call(this,Yt,r,t,!0)}orInternalRecord(t,r){return xC.call(this,t,r)}subruleInternalRecord(t,r,o){if(uo(r),!t||!1===xe(t,"ruleName")){const p=new Error(`<SUBRULE${ud(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw p.KNOWN_RECORDER_ERROR=!0,p}const u=ds(this.recordingProdStack),h=new Ot({idx:r,nonTerminalName:t.ruleName,label:o?.LABEL,referencedRule:void 0});return u.definition.push(h),this.outputCst?CC:lo}consumeInternalRecord(t,r,o){if(uo(r),!Ef(t)){const h=new Error(`<CONSUME${ud(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw h.KNOWN_RECORDER_ERROR=!0,h}const u=ds(this.recordingProdStack),f=new tt({idx:r,terminalType:t,label:o?.LABEL});return u.definition.push(f),ld}},class bC{initPerformanceTracer(t){if(xe(t,"traceInitPerf")){const r=t.traceInitPerf,o="number"==typeof r;this.traceInitMaxIdent=o?r:1/0,this.traceInitPerf=o?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=wn.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(!0===this.traceInitPerf){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--\x3e <${t}>`);const{time:u,value:f}=yf(r),h=u>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&h(`${o}<-- <${t}> time: ${u}ms`),this.traceInitIndent--,f}return r()}}]);class NC extends Au{constructor(t,r=wn){const o=_t(r);o.outputCst=!1,super(t,o)}}},2286(Be,Z,$){$.d(Z,{t:()=>Nl,u:()=>wl});var S=$(807),q=$(3528),J=$(84),w=$(2917),M=$(8365),B=$(5644),H=$(7965);function R(l,n,s){return`${l.name}_${n}_${s}`}class re{constructor(n){this.target=n}isEpsilon(){return!1}}class se extends re{constructor(n,s){super(n),this.tokenType=s}}class Te extends re{constructor(n){super(n)}isEpsilon(){return!0}}class Oe extends re{constructor(n,s,i){super(n),this.rule=s,this.followState=i}isEpsilon(){return!0}}function fe(l,n,s){return s instanceof M.BK?pt(l,n,s.terminalType,s):s instanceof M.wL?function kn(l,n,s){const i=s.referencedRule,a=l.ruleToStartState.get(i),c=C(l,n,s,{type:1}),d=C(l,n,s,{type:1});return K(c,new Oe(a,i,d)),{left:c,right:d}}(l,n,s):s instanceof M.ak?function oe(l,n,s){const i=C(l,n,s,{type:1});Pe(l,i);const a=(0,B.A)(s.definition,d=>fe(l,n,d));return De(l,n,i,s,...a)}(l,n,s):s instanceof M.c$?function ce(l,n,s){const i=C(l,n,s,{type:1});Pe(l,i);return function Ze(l,n,s,i){const a=i.left;return Me(a,i.right),l.decisionMap[R(n,"Option",s.idx)]=a,i}(l,n,s,De(l,n,i,s,$e(l,n,s)))}(l,n,s):s instanceof M.Y2?function ve(l,n,s){const i=C(l,n,s,{type:5});Pe(l,i);return Ae(l,n,s,De(l,n,i,s,$e(l,n,s)))}(l,n,s):s instanceof M.Pp?function we(l,n,s){const i=C(l,n,s,{type:5});Pe(l,i);return Ae(l,n,s,De(l,n,i,s,$e(l,n,s)),pt(l,n,s.separator,s))}(l,n,s):s instanceof M.$P?function Y(l,n,s){const i=C(l,n,s,{type:4});Pe(l,i);return be(l,n,s,De(l,n,i,s,$e(l,n,s)))}(l,n,s):s instanceof M.Cy?function F(l,n,s){const i=C(l,n,s,{type:4});Pe(l,i);return be(l,n,s,De(l,n,i,s,$e(l,n,s)),pt(l,n,s.separator,s))}(l,n,s):$e(l,n,s)}function $e(l,n,s){const i=(0,H.A)((0,B.A)(s.definition,a=>fe(l,n,a)),a=>void 0!==a);return 1===i.length?i[0]:0===i.length?void 0:function Le(l,n){const s=n.length;for(let c=0;c<s-1;c++){const d=n[c];let m;1===d.left.transitions.length&&(m=d.left.transitions[0]);const E=m instanceof Oe,U=n[c+1].left;1===d.left.type&&1===d.right.type&&void 0!==m&&(E&&m.followState===d.right||m.target===d.right)?(E?m.followState=U:m.target=U,ie(l,d.right)):Me(d.right,U)}return{left:n[0].left,right:n[s-1].right}}(l,i)}function be(l,n,s,i,a){const c=i.left,d=i.right,m=C(l,n,s,{type:11});Pe(l,m);const E=C(l,n,s,{type:12});return c.loopback=m,E.loopback=m,l.decisionMap[R(n,a?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",s.idx)]=m,Me(d,m),void 0===a?(Me(m,c),Me(m,E)):(Me(m,E),Me(m,a.left),Me(a.right,c)),{left:c,right:E}}function Ae(l,n,s,i,a){const c=i.left,d=i.right,m=C(l,n,s,{type:10});Pe(l,m);const E=C(l,n,s,{type:12}),O=C(l,n,s,{type:9});return m.loopback=O,E.loopback=O,Me(m,c),Me(m,E),Me(d,O),void 0!==a?(Me(O,E),Me(O,a.left),Me(a.right,c)):Me(O,m),l.decisionMap[R(n,a?"RepetitionWithSeparator":"Repetition",s.idx)]=m,{left:m,right:E}}function Pe(l,n){return l.decisionStates.push(n),n.decision=l.decisionStates.length-1,n.decision}function De(l,n,s,i,...a){const c=C(l,n,i,{type:8,start:s});s.end=c;for(const m of a)void 0!==m?(Me(s,m.left),Me(m.right,c)):Me(s,c);const d={left:s,right:c};return l.decisionMap[R(n,function at(l){if(l instanceof M.ak)return"Alternation";if(l instanceof M.c$)return"Option";if(l instanceof M.Y2)return"Repetition";if(l instanceof M.Pp)return"RepetitionWithSeparator";if(l instanceof M.$P)return"RepetitionMandatory";if(l instanceof M.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(i),i.idx)]=s,d}function pt(l,n,s,i){const a=C(l,n,i,{type:1}),c=C(l,n,i,{type:1});return K(a,new se(c,s)),{left:a,right:c}}function ft(l,n,s){const i=l.ruleToStartState.get(n);Me(i,s.left);const a=l.ruleToStopState.get(n);return Me(s.right,a),{left:i,right:a}}function Me(l,n){K(l,new Te(n))}function C(l,n,s,i){const a=Object.assign({atn:l,production:s,epsilonOnlyTransitions:!1,rule:n,transitions:[],nextTokenWithinRule:[],stateNumber:l.states.length},i);return l.states.push(a),a}function K(l,n){0===l.transitions.length&&(l.epsilonOnlyTransitions=n.isEpsilon()),l.transitions.push(n)}function ie(l,n){l.states.splice(l.states.indexOf(n),1)}const Ie={};class Ce{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(n){const s=Ge(n);s in this.map||(this.map[s]=this.configs.length,this.configs.push(n))}get elements(){return this.configs}get alts(){return(0,B.A)(this.configs,n=>n.alt)}get key(){let n="";for(const s in this.map)n+=s+":";return n}}function Ge(l,n=!0){return`${n?`a${l.alt}`:""}s${l.state.stateNumber}:${l.stack.map(s=>s.stateNumber.toString()).join("_")}`}var je=$(1834),Pt=$(2383);var Wt=$(5382),Pn=$(5883);const Ur=function en(l,n){return l&&l.length?(0,Pn.A)(l,(0,Wt.A)(n,2)):[]};var Ht=$(300),Vn=$(9412),Vt=$(3551),zn=$(3360);function zt(l,n){const s={};return i=>{const a=i.toString();let c=s[a];return void 0!==c||(c={atnStartState:l,decision:n,states:{}},s[a]=c),c}}class Xn{constructor(){this.predicates=[]}is(n){return n>=this.predicates.length||this.predicates[n]}set(n,s){this.predicates[n]=s}toString(){let n="";const s=this.predicates.length;for(let i=0;i<s;i++)n+=!0===this.predicates[i]?"1":"0";return n}}const Lt=new Xn;class gr extends M.T6{constructor(n){var s;super(),this.logging=null!==(s=n?.logging)&&void 0!==s?s:i=>console.log(i)}initialize(n){this.atn=function D(l){const n={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function ae(l,n){const s=n.length;for(let i=0;i<s;i++){const a=n[i],c=C(l,a,void 0,{type:2}),d=C(l,a,void 0,{type:7});c.stop=d,l.ruleToStartState.set(a,c),l.ruleToStopState.set(a,d)}}(n,l);const s=l.length;for(let i=0;i<s;i++){const a=l[i],c=$e(n,a,a);void 0!==c&&ft(n,a,c)}return n}(n.rules),this.dfas=function _r(l){const n=l.decisionStates.length,s=Array(n);for(let i=0;i<n;i++)s[i]=zt(l.decisionStates[i],i);return s}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(n){const{prodOccurrence:s,rule:i,hasPredicates:a,dynamicTokensEnabled:c}=n,d=this.dfas,m=this.logging,E=R(i,"Alternation",s),U=this.atn.decisionMap[E].decision,te=(0,B.A)((0,M.jk)({maxLookahead:1,occurrence:s,prodType:"Alternation",rule:i}),ne=>(0,B.A)(ne,z=>z[0]));if(Mt(te,!1)&&!c){const ne=(0,zn.A)(te,(z,Ke,Xe)=>((0,Vn.A)(Ke,et=>{et&&(z[et.tokenTypeIdx]=Xe,(0,Vn.A)(et.categoryMatches,Bt=>{z[Bt]=Xe}))}),z),{});return a?function(z){var Ke;const Xe=this.LA(1),et=ne[Xe.tokenTypeIdx];if(void 0!==z&&void 0!==et){const Bt=null===(Ke=z[et])||void 0===Ke?void 0:Ke.GATE;if(void 0!==Bt&&!1===Bt.call(this))return}return et}:function(){const z=this.LA(1);return ne[z.tokenTypeIdx]}}return a?function(ne){const z=new Xn,Ke=void 0===ne?0:ne.length;for(let et=0;et<Ke;et++){const Bt=ne?.[et].GATE;z.set(et,void 0===Bt||Bt.call(this))}const Xe=Dt.call(this,d,U,z,m);return"number"==typeof Xe?Xe:void 0}:function(){const ne=Dt.call(this,d,U,Lt,m);return"number"==typeof ne?ne:void 0}}buildLookaheadForOptional(n){const{prodOccurrence:s,rule:i,prodType:a,dynamicTokensEnabled:c}=n,d=this.dfas,m=this.logging,E=R(i,a,s),U=this.atn.decisionMap[E].decision,te=(0,B.A)((0,M.jk)({maxLookahead:1,occurrence:s,prodType:a,rule:i}),ne=>(0,B.A)(ne,z=>z[0]));if(Mt(te)&&te[0][0]&&!c){const z=(0,Ht.A)(te[0]);if(1===z.length&&(0,Vt.A)(z[0].categoryMatches)){const Xe=z[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===Xe}}{const Ke=(0,zn.A)(z,(Xe,et)=>(void 0!==et&&(Xe[et.tokenTypeIdx]=!0,(0,Vn.A)(et.categoryMatches,Bt=>{Xe[Bt]=!0})),Xe),{});return function(){const Xe=this.LA(1);return!0===Ke[Xe.tokenTypeIdx]}}}return function(){const ne=Dt.call(this,d,U,Lt,m);return"object"!=typeof ne&&0===ne}}}function Mt(l,n=!0){const s=new Set;for(const i of l){const a=new Set;for(const c of i){if(void 0===c){if(n)break;return!1}const d=[c.tokenTypeIdx].concat(c.categoryMatches);for(const m of d)if(s.has(m)){if(!a.has(m))return!1}else s.add(m),a.add(m)}}return!0}function Dt(l,n,s,i){const a=l[n](s);let c=a.start;if(void 0===c){const m=function on(l){const n=new Ce,s=l.transitions.length;for(let i=0;i<s;i++)yn({state:l.transitions[i].target,alt:i,stack:[]},n);return n}(a.atnStartState);c=qn(a,Yn(m)),a.start=c}return yr.apply(this,[a,c,s,i])}function yr(l,n,s,i){let a=n,c=1;const d=[];let m=this.LA(c++);for(;;){let E=Ar(a,m);if(void 0===E&&(E=tn.apply(this,[l,a,m,c,s,i])),E===Ie)return rn(d,a,m);if(!0===E.isAcceptState)return E.prediction;a=E,d.push(m),m=this.LA(c++)}}function tn(l,n,s,i,a,c){const d=function sn(l,n,s){const i=new Ce,a=[];for(const d of l.elements){if(!1===s.is(d.alt))continue;if(7===d.state.type){a.push(d);continue}const m=d.state.transitions.length;for(let E=0;E<m;E++){const U=Er(d.state.transitions[E],n);void 0!==U&&i.add({state:U,alt:d.alt,stack:d.stack})}}let c;if(0===a.length&&1===i.size&&(c=i),void 0===c){c=new Ce;for(const d of i.elements)yn(d,c)}if(a.length>0&&!function Qn(l){for(const n of l.elements)if(7===n.state.type)return!0;return!1}(c))for(const d of a)c.add(d);return c}(n.configs,s,a);if(0===d.size)return Fe(l,n,s,Ie),Ie;let m=Yn(d);const E=function an(l,n){let s;for(const i of l.elements)if(!0===n.is(i.alt))if(void 0===s)s=i.alt;else if(s!==i.alt)return;return s}(d,a);if(void 0!==E)m.isAcceptState=!0,m.prediction=E,m.configs.uniqueAlt=E;else if(function Jn(l){if(function Ct(l){for(const n of l.elements)if(7!==n.state.type)return!1;return!0}(l))return!0;const n=function Ft(l){const n=new Map;for(const s of l){const i=Ge(s,!1);let a=n.get(i);void 0===a&&(a={},n.set(i,a)),a[s.alt]=!0}return n}(l.elements);return function Zn(l){for(const n of Array.from(l.values()))if(Object.keys(n).length>1)return!0;return!1}(n)&&!function vt(l){for(const n of Array.from(l.values()))if(1===Object.keys(n).length)return!0;return!1}(n)}(d)){const O=(0,je.A)(d.alts);m.isAcceptState=!0,m.prediction=O,m.configs.uniqueAlt=O,Tr.apply(this,[l,i,d.alts,c])}return m=Fe(l,n,s,m),m}function Tr(l,n,s,i){const a=[];for(let O=1;O<=n;O++)a.push(this.LA(O).tokenType);const c=l.atnStartState,E=function nn(l){const n=(0,B.A)(l.prefixPath,a=>(0,M.Sk)(a)).join(", "),s=0===l.production.idx?"":l.production.idx;let i=`Ambiguous Alternatives Detected: <${l.ambiguityIndices.join(", ")}> in <${function vr(l){if(l instanceof M.wL)return"SUBRULE";if(l instanceof M.c$)return"OPTION";if(l instanceof M.ak)return"OR";if(l instanceof M.$P)return"AT_LEAST_ONE";if(l instanceof M.Cy)return"AT_LEAST_ONE_SEP";if(l instanceof M.Pp)return"MANY_SEP";if(l instanceof M.Y2)return"MANY";if(l instanceof M.BK)return"CONSUME";throw Error("non exhaustive match")}(l.production)}${s}> inside <${l.topLevelRule.name}> Rule,\n<${n}> may appears as a prefix path in all these alternatives.\n`;return i+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",i}({topLevelRule:c.rule,ambiguityIndices:s,production:c.production,prefixPath:a});i(E)}function rn(l,n,s){const i=function yt(l,n){return(0,Pt.A)((0,B.A)(l,n),1)}(n.configs.elements,c=>c.state.transitions);return{actualToken:s,possibleTokenTypes:Ur(i.filter(c=>c instanceof se).map(c=>c.tokenType),c=>c.tokenTypeIdx),tokenPath:l}}function Ar(l,n){return l.edges[n.tokenTypeIdx]}function Er(l,n){if(l instanceof se&&(0,M.G)(n,l.tokenType))return l.target}function Yn(l){return{configs:l,edges:{},isAcceptState:!1,prediction:-1}}function Fe(l,n,s,i){return i=qn(l,i),n.edges[s.tokenTypeIdx]=i,i}function qn(l,n){if(n===Ie)return n;const s=n.configs.key,i=l.states[s];return void 0!==i?i:(n.configs.finalize(),l.states[s]=n,n)}function yn(l,n){const s=l.state;if(7===s.type){if(l.stack.length>0){const a=[...l.stack];yn({state:a.pop(),alt:l.alt,stack:a},n)}else n.add(l);return}s.epsilonOnlyTransitions||n.add(l);const i=s.transitions.length;for(let a=0;a<i;a++){const d=It(l,s.transitions[a]);void 0!==d&&yn(d,n)}}function It(l,n){if(n instanceof Te)return{state:n.target,alt:l.alt,stack:l.stack};if(n instanceof Oe){const s=[...l.stack,n.followState];return{state:n.target,alt:l.alt,stack:s}}}var Ue,lt,rt,ge,L,Ne,ut,_i,Ln,yi,gs,Ti,_s,ys,Br,dt,ln,er,mt,Tn,Kr,St,Rr,Et,Ts,Ai,To,jr,vn,vs,Xt,Se,tr,Ei,Ri,Wr,st,Ii,Hr,Si,xi,bi,An,ue=$(265);(Ue||(Ue={})).is=function n(s){return"string"==typeof s},(lt||(lt={})).is=function n(s){return"string"==typeof s},function(l){l.MIN_VALUE=-2147483648,l.MAX_VALUE=2147483647,l.is=function n(s){return"number"==typeof s&&l.MIN_VALUE<=s&&s<=l.MAX_VALUE}}(rt||(rt={})),function(l){l.MIN_VALUE=0,l.MAX_VALUE=2147483647,l.is=function n(s){return"number"==typeof s&&l.MIN_VALUE<=s&&s<=l.MAX_VALUE}}(ge||(ge={})),function(l){l.create=function n(i,a){return i===Number.MAX_VALUE&&(i=ge.MAX_VALUE),a===Number.MAX_VALUE&&(a=ge.MAX_VALUE),{line:i,character:a}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&P.uinteger(a.line)&&P.uinteger(a.character)}}(L||(L={})),function(l){l.create=function n(i,a,c,d){if(P.uinteger(i)&&P.uinteger(a)&&P.uinteger(c)&&P.uinteger(d))return{start:L.create(i,a),end:L.create(c,d)};if(L.is(i)&&L.is(a))return{start:i,end:a};throw new Error(`Range#create called with invalid arguments[${i}, ${a}, ${c}, ${d}]`)},l.is=function s(i){let a=i;return P.objectLiteral(a)&&L.is(a.start)&&L.is(a.end)}}(Ne||(Ne={})),function(l){l.create=function n(i,a){return{uri:i,range:a}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&Ne.is(a.range)&&(P.string(a.uri)||P.undefined(a.uri))}}(ut||(ut={})),function(l){l.create=function n(i,a,c,d){return{targetUri:i,targetRange:a,targetSelectionRange:c,originSelectionRange:d}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&Ne.is(a.targetRange)&&P.string(a.targetUri)&&Ne.is(a.targetSelectionRange)&&(Ne.is(a.originSelectionRange)||P.undefined(a.originSelectionRange))}}(_i||(_i={})),function(l){l.create=function n(i,a,c,d){return{red:i,green:a,blue:c,alpha:d}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.numberRange(a.red,0,1)&&P.numberRange(a.green,0,1)&&P.numberRange(a.blue,0,1)&&P.numberRange(a.alpha,0,1)}}(Ln||(Ln={})),function(l){l.create=function n(i,a){return{range:i,color:a}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&Ne.is(a.range)&&Ln.is(a.color)}}(yi||(yi={})),function(l){l.create=function n(i,a,c){return{label:i,textEdit:a,additionalTextEdits:c}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.string(a.label)&&(P.undefined(a.textEdit)||ln.is(a))&&(P.undefined(a.additionalTextEdits)||P.typedArray(a.additionalTextEdits,ln.is))}}(gs||(gs={})),function(l){l.create=function n(i,a,c,d,m,E){const O={startLine:i,endLine:a};return P.defined(c)&&(O.startCharacter=c),P.defined(d)&&(O.endCharacter=d),P.defined(m)&&(O.kind=m),P.defined(E)&&(O.collapsedText=E),O},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.uinteger(a.startLine)&&P.uinteger(a.startLine)&&(P.undefined(a.startCharacter)||P.uinteger(a.startCharacter))&&(P.undefined(a.endCharacter)||P.uinteger(a.endCharacter))&&(P.undefined(a.kind)||P.string(a.kind))}}(Ti||(Ti={})),function(l){l.create=function n(i,a){return{location:i,message:a}},l.is=function s(i){let a=i;return P.defined(a)&&ut.is(a.location)&&P.string(a.message)}}(_s||(_s={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(i)&&P.string(i.href)}}(ys||(ys={})),function(l){l.create=function n(i,a,c,d,m,E){let O={range:i,message:a};return P.defined(c)&&(O.severity=c),P.defined(d)&&(O.code=d),P.defined(m)&&(O.source=m),P.defined(E)&&(O.relatedInformation=E),O},l.is=function s(i){var a;let c=i;return P.defined(c)&&Ne.is(c.range)&&P.string(c.message)&&(P.number(c.severity)||P.undefined(c.severity))&&(P.integer(c.code)||P.string(c.code)||P.undefined(c.code))&&(P.undefined(c.codeDescription)||P.string(null===(a=c.codeDescription)||void 0===a?void 0:a.href))&&(P.string(c.source)||P.undefined(c.source))&&(P.undefined(c.relatedInformation)||P.typedArray(c.relatedInformation,_s.is))}}(Br||(Br={})),function(l){l.create=function n(i,a,...c){let d={title:i,command:a};return P.defined(c)&&c.length>0&&(d.arguments=c),d},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.title)&&P.string(a.command)}}(dt||(dt={})),function(l){l.replace=function n(c,d){return{range:c,newText:d}},l.insert=function s(c,d){return{range:{start:c,end:c},newText:d}},l.del=function i(c){return{range:c,newText:""}},l.is=function a(c){const d=c;return P.objectLiteral(d)&&P.string(d.newText)&&Ne.is(d.range)}}(ln||(ln={})),function(l){l.create=function n(i,a,c){const d={label:i};return void 0!==a&&(d.needsConfirmation=a),void 0!==c&&(d.description=c),d},l.is=function s(i){const a=i;return P.objectLiteral(a)&&P.string(a.label)&&(P.boolean(a.needsConfirmation)||void 0===a.needsConfirmation)&&(P.string(a.description)||void 0===a.description)}}(er||(er={})),function(l){l.is=function n(s){return P.string(s)}}(mt||(mt={})),function(l){l.replace=function n(c,d,m){return{range:c,newText:d,annotationId:m}},l.insert=function s(c,d,m){return{range:{start:c,end:c},newText:d,annotationId:m}},l.del=function i(c,d){return{range:c,newText:"",annotationId:d}},l.is=function a(c){const d=c;return ln.is(d)&&(er.is(d.annotationId)||mt.is(d.annotationId))}}(Tn||(Tn={})),function(l){l.create=function n(i,a){return{textDocument:i,edits:a}},l.is=function s(i){let a=i;return P.defined(a)&&jr.is(a.textDocument)&&Array.isArray(a.edits)}}(Kr||(Kr={})),function(l){l.create=function n(i,a,c){let d={kind:"create",uri:i};return void 0!==a&&(void 0!==a.overwrite||void 0!==a.ignoreIfExists)&&(d.options=a),void 0!==c&&(d.annotationId=c),d},l.is=function s(i){let a=i;return a&&"create"===a.kind&&P.string(a.uri)&&(void 0===a.options||(void 0===a.options.overwrite||P.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||P.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||mt.is(a.annotationId))}}(St||(St={})),function(l){l.create=function n(i,a,c,d){let m={kind:"rename",oldUri:i,newUri:a};return void 0!==c&&(void 0!==c.overwrite||void 0!==c.ignoreIfExists)&&(m.options=c),void 0!==d&&(m.annotationId=d),m},l.is=function s(i){let a=i;return a&&"rename"===a.kind&&P.string(a.oldUri)&&P.string(a.newUri)&&(void 0===a.options||(void 0===a.options.overwrite||P.boolean(a.options.overwrite))&&(void 0===a.options.ignoreIfExists||P.boolean(a.options.ignoreIfExists)))&&(void 0===a.annotationId||mt.is(a.annotationId))}}(Rr||(Rr={})),function(l){l.create=function n(i,a,c){let d={kind:"delete",uri:i};return void 0!==a&&(void 0!==a.recursive||void 0!==a.ignoreIfNotExists)&&(d.options=a),void 0!==c&&(d.annotationId=c),d},l.is=function s(i){let a=i;return a&&"delete"===a.kind&&P.string(a.uri)&&(void 0===a.options||(void 0===a.options.recursive||P.boolean(a.options.recursive))&&(void 0===a.options.ignoreIfNotExists||P.boolean(a.options.ignoreIfNotExists)))&&(void 0===a.annotationId||mt.is(a.annotationId))}}(Et||(Et={})),function(l){l.is=function n(s){return s&&(void 0!==s.changes||void 0!==s.documentChanges)&&(void 0===s.documentChanges||s.documentChanges.every(a=>P.string(a.kind)?St.is(a)||Rr.is(a)||Et.is(a):Kr.is(a)))}}(Ts||(Ts={})),function(l){l.create=function n(i){return{uri:i}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)}}(Ai||(Ai={})),function(l){l.create=function n(i,a){return{uri:i,version:a}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)&&P.integer(a.version)}}(To||(To={})),function(l){l.create=function n(i,a){return{uri:i,version:a}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)&&(null===a.version||P.integer(a.version))}}(jr||(jr={})),function(l){l.create=function n(i,a,c,d){return{uri:i,languageId:a,version:c,text:d}},l.is=function s(i){let a=i;return P.defined(a)&&P.string(a.uri)&&P.string(a.languageId)&&P.integer(a.version)&&P.string(a.text)}}(vn||(vn={})),function(l){l.PlainText="plaintext",l.Markdown="markdown",l.is=function n(s){return s===l.PlainText||s===l.Markdown}}(vs||(vs={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(s)&&vs.is(i.kind)&&P.string(i.value)}}(Xt||(Xt={})),function(l){l.create=function n(i,a,c){return{newText:i,insert:a,replace:c}},l.is=function s(i){const a=i;return a&&P.string(a.newText)&&Ne.is(a.insert)&&Ne.is(a.replace)}}(Se||(Se={})),function(l){l.is=function n(s){const i=s;return i&&(P.string(i.detail)||void 0===i.detail)&&(P.string(i.description)||void 0===i.description)}}(tr||(tr={})),function(l){l.create=function n(s){return{label:s}}}(Ei||(Ei={})),function(l){l.create=function n(s,i){return{items:s||[],isIncomplete:!!i}}}(Ri||(Ri={})),function(l){l.fromPlainText=function n(i){return i.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},l.is=function s(i){const a=i;return P.string(a)||P.objectLiteral(a)&&P.string(a.language)&&P.string(a.value)}}(Wr||(Wr={})),function(l){l.is=function n(s){let i=s;return!!i&&P.objectLiteral(i)&&(Xt.is(i.contents)||Wr.is(i.contents)||P.typedArray(i.contents,Wr.is))&&(void 0===s.range||Ne.is(s.range))}}(st||(st={})),function(l){l.create=function n(s,i){return i?{label:s,documentation:i}:{label:s}}}(Ii||(Ii={})),function(l){l.create=function n(s,i,...a){let c={label:s};return P.defined(i)&&(c.documentation=i),c.parameters=P.defined(a)?a:[],c}}(Hr||(Hr={})),function(l){l.create=function n(s,i){let a={range:s};return P.number(i)&&(a.kind=i),a}}(Si||(Si={})),function(l){l.create=function n(s,i,a,c,d){let m={name:s,kind:i,location:{uri:c,range:a}};return d&&(m.containerName=d),m}}(xi||(xi={})),function(l){l.create=function n(s,i,a,c){return void 0!==c?{name:s,kind:i,location:{uri:a,range:c}}:{name:s,kind:i,location:{uri:a}}}}(bi||(bi={})),function(l){l.create=function n(i,a,c,d,m,E){let O={name:i,detail:a,kind:c,range:d,selectionRange:m};return void 0!==E&&(O.children=E),O},l.is=function s(i){let a=i;return a&&P.string(a.name)&&P.number(a.kind)&&Ne.is(a.range)&&Ne.is(a.selectionRange)&&(void 0===a.detail||P.string(a.detail))&&(void 0===a.deprecated||P.boolean(a.deprecated))&&(void 0===a.children||Array.isArray(a.children))&&(void 0===a.tags||Array.isArray(a.tags))}}(An||(An={}));var $i,Oi,Ni,wi,ki,Pi,Li,Mi,En,Di,Vr,Es,Mn,Fi,zr,Gi,Dn,Xr,Rs,Ui,Is,P,As=function(l){return l.Invoked=1,l.Automatic=2,l}(As||{});!function(l){l.create=function n(i,a,c){let d={diagnostics:i};return null!=a&&(d.only=a),null!=c&&(d.triggerKind=c),d},l.is=function s(i){let a=i;return P.defined(a)&&P.typedArray(a.diagnostics,Br.is)&&(void 0===a.only||P.typedArray(a.only,P.string))&&(void 0===a.triggerKind||a.triggerKind===As.Invoked||a.triggerKind===As.Automatic)}}($i||($i={})),function(l){l.create=function n(i,a,c){let d={title:i},m=!0;return"string"==typeof a?(m=!1,d.kind=a):dt.is(a)?d.command=a:d.edit=a,m&&void 0!==c&&(d.kind=c),d},l.is=function s(i){let a=i;return a&&P.string(a.title)&&(void 0===a.diagnostics||P.typedArray(a.diagnostics,Br.is))&&(void 0===a.kind||P.string(a.kind))&&(void 0!==a.edit||void 0!==a.command)&&(void 0===a.command||dt.is(a.command))&&(void 0===a.isPreferred||P.boolean(a.isPreferred))&&(void 0===a.edit||Ts.is(a.edit))}}(Oi||(Oi={})),function(l){l.create=function n(i,a){let c={range:i};return P.defined(a)&&(c.data=a),c},l.is=function s(i){let a=i;return P.defined(a)&&Ne.is(a.range)&&(P.undefined(a.command)||dt.is(a.command))}}(Ni||(Ni={})),function(l){l.create=function n(i,a){return{tabSize:i,insertSpaces:a}},l.is=function s(i){let a=i;return P.defined(a)&&P.uinteger(a.tabSize)&&P.boolean(a.insertSpaces)}}(wi||(wi={})),function(l){l.create=function n(i,a,c){return{range:i,target:a,data:c}},l.is=function s(i){let a=i;return P.defined(a)&&Ne.is(a.range)&&(P.undefined(a.target)||P.string(a.target))}}(ki||(ki={})),function(l){l.create=function n(i,a){return{range:i,parent:a}},l.is=function s(i){let a=i;return P.objectLiteral(a)&&Ne.is(a.range)&&(void 0===a.parent||l.is(a.parent))}}(Pi||(Pi={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(i)&&(void 0===i.resultId||"string"==typeof i.resultId)&&Array.isArray(i.data)&&(0===i.data.length||"number"==typeof i.data[0])}}(Li||(Li={})),function(l){l.create=function n(i,a){return{range:i,text:a}},l.is=function s(i){const a=i;return null!=a&&Ne.is(a.range)&&P.string(a.text)}}(Mi||(Mi={})),function(l){l.create=function n(i,a,c){return{range:i,variableName:a,caseSensitiveLookup:c}},l.is=function s(i){const a=i;return null!=a&&Ne.is(a.range)&&P.boolean(a.caseSensitiveLookup)&&(P.string(a.variableName)||void 0===a.variableName)}}(En||(En={})),function(l){l.create=function n(i,a){return{range:i,expression:a}},l.is=function s(i){const a=i;return null!=a&&Ne.is(a.range)&&(P.string(a.expression)||void 0===a.expression)}}(Di||(Di={})),function(l){l.create=function n(i,a){return{frameId:i,stoppedLocation:a}},l.is=function s(i){return P.defined(i)&&Ne.is(i.stoppedLocation)}}(Vr||(Vr={})),function(l){l.Type=1,l.Parameter=2,l.is=function n(s){return 1===s||2===s}}(Es||(Es={})),function(l){l.create=function n(i){return{value:i}},l.is=function s(i){const a=i;return P.objectLiteral(a)&&(void 0===a.tooltip||P.string(a.tooltip)||Xt.is(a.tooltip))&&(void 0===a.location||ut.is(a.location))&&(void 0===a.command||dt.is(a.command))}}(Mn||(Mn={})),function(l){l.create=function n(i,a,c){const d={position:i,label:a};return void 0!==c&&(d.kind=c),d},l.is=function s(i){const a=i;return P.objectLiteral(a)&&L.is(a.position)&&(P.string(a.label)||P.typedArray(a.label,Mn.is))&&(void 0===a.kind||Es.is(a.kind))&&void 0===a.textEdits||P.typedArray(a.textEdits,ln.is)&&(void 0===a.tooltip||P.string(a.tooltip)||Xt.is(a.tooltip))&&(void 0===a.paddingLeft||P.boolean(a.paddingLeft))&&(void 0===a.paddingRight||P.boolean(a.paddingRight))}}(Fi||(Fi={})),function(l){l.createSnippet=function n(s){return{kind:"snippet",value:s}}}(zr||(zr={})),function(l){l.create=function n(s,i,a,c){return{insertText:s,filterText:i,range:a,command:c}}}(Gi||(Gi={})),function(l){l.create=function n(s){return{items:s}}}(Dn||(Dn={})),function(l){l.create=function n(s,i){return{range:s,text:i}}}(Xr||(Xr={})),function(l){l.create=function n(s,i){return{triggerKind:s,selectedCompletionInfo:i}}}(Rs||(Rs={})),function(l){l.is=function n(s){const i=s;return P.objectLiteral(i)&&lt.is(i.uri)&&P.string(i.name)}}(Ui||(Ui={})),function(l){function a(c,d){if(c.length<=1)return c;const m=c.length/2|0,E=c.slice(0,m),O=c.slice(m);a(E,d),a(O,d);let U=0,te=0,ne=0;for(;U<E.length&&te<O.length;)d(E[U],O[te])<=0?c[ne++]=E[U++]:c[ne++]=O[te++];for(;U<E.length;)c[ne++]=E[U++];for(;te<O.length;)c[ne++]=O[te++];return c}l.create=function n(c,d,m,E){return new Bi(c,d,m,E)},l.is=function s(c){let d=c;return!!(P.defined(d)&&P.string(d.uri)&&(P.undefined(d.languageId)||P.string(d.languageId))&&P.uinteger(d.lineCount)&&P.func(d.getText)&&P.func(d.positionAt)&&P.func(d.offsetAt))},l.applyEdits=function i(c,d){let m=c.getText(),E=a(d,(U,te)=>{let ne=U.range.start.line-te.range.start.line;return 0===ne?U.range.start.character-te.range.start.character:ne}),O=m.length;for(let U=E.length-1;U>=0;U--){let te=E[U],ne=c.offsetAt(te.range.start),z=c.offsetAt(te.range.end);if(!(z<=O))throw new Error("Overlapping edit");m=m.substring(0,ne)+te.newText+m.substring(z,m.length),O=ne}return m}}(Is||(Is={}));class Bi{constructor(n,s,i,a){this._uri=n,this._languageId=s,this._version=i,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){let s=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(s,i)}return this._content}update(n,s){this._content=n.text,this._version=s,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let n=[],s=this._content,i=!0;for(let a=0;a<s.length;a++){i&&(n.push(a),i=!1);let c=s.charAt(a);i="\r"===c||"\n"===c,"\r"===c&&a+1<s.length&&"\n"===s.charAt(a+1)&&a++}i&&s.length>0&&n.push(s.length),this._lineOffsets=n}return this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);let s=this.getLineOffsets(),i=0,a=s.length;if(0===a)return L.create(0,n);for(;i<a;){let d=Math.floor((i+a)/2);s[d]>n?a=d:i=d+1}let c=i-1;return L.create(c,n-s[c])}offsetAt(n){let s=this.getLineOffsets();if(n.line>=s.length)return this._content.length;if(n.line<0)return 0;let i=s[n.line];return Math.max(Math.min(i+n.character,n.line+1<s.length?s[n.line+1]:this._content.length),i)}get lineCount(){return this.getLineOffsets().length}}!function(l){const n=Object.prototype.toString;l.defined=function s(z){return typeof z<"u"},l.undefined=function i(z){return typeof z>"u"},l.boolean=function a(z){return!0===z||!1===z},l.string=function c(z){return"[object String]"===n.call(z)},l.number=function d(z){return"[object Number]"===n.call(z)},l.numberRange=function m(z,Ke,Xe){return"[object Number]"===n.call(z)&&Ke<=z&&z<=Xe},l.integer=function E(z){return"[object Number]"===n.call(z)&&-2147483648<=z&&z<=2147483647},l.uinteger=function O(z){return"[object Number]"===n.call(z)&&0<=z&&z<=2147483647},l.func=function U(z){return"[object Function]"===n.call(z)},l.objectLiteral=function te(z){return null!==z&&"object"==typeof z},l.typedArray=function ne(z,Ke){return Array.isArray(z)&&z.every(Ke)}}(P||(P={}));class No{constructor(){this.nodeStack=[]}get current(){var n;return null!==(n=this.nodeStack[this.nodeStack.length-1])&&void 0!==n?n:this.rootNode}buildRootNode(n){return this.rootNode=new Rn(n),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(n){const s=new Ss;return s.grammarSource=n,s.root=this.rootNode,this.current.content.push(s),this.nodeStack.push(s),s}buildLeafNode(n,s){const i=new Cs(n.startOffset,n.image.length,(0,S.wf)(n),n.tokenType,!s);return i.grammarSource=s,i.root=this.rootNode,this.current.content.push(i),i}removeNode(n){const s=n.container;if(s){const i=s.content.indexOf(n);i>=0&&s.content.splice(i,1)}}addHiddenNodes(n){const s=[];for(const c of n){const d=new Cs(c.startOffset,c.image.length,(0,S.wf)(c),c.tokenType,!0);d.root=this.rootNode,s.push(d)}let i=this.current,a=!1;if(i.content.length>0)i.content.push(...s);else{for(;i.container;){const c=i.container.content.indexOf(i);if(c>0){i.container.content.splice(c,0,...s),a=!0;break}i=i.container}a||this.rootNode.content.unshift(...s)}}construct(n){const s=this.current;"string"==typeof n.$type&&(this.current.astNode=n),n.$cstNode=s;const i=this.nodeStack.pop();0===i?.content.length&&this.removeNode(i)}}class Ki{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var n,s;const i="string"==typeof(null===(n=this._astNode)||void 0===n?void 0:n.$type)?this._astNode:null===(s=this.container)||void 0===s?void 0:s.astNode;if(!i)throw new Error("This node has no associated AST element");return i}set astNode(n){this._astNode=n}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Cs extends Ki{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(n,s,i,a,c=!1){super(),this._hidden=c,this._offset=n,this._tokenType=a,this._length=s,this._range=i}}class Ss extends Ki{constructor(){super(...arguments),this.content=new xs(this)}get children(){return this.content}get offset(){var n,s;return null!==(s=null===(n=this.firstNonHiddenNode)||void 0===n?void 0:n.offset)&&void 0!==s?s:0}get length(){return this.end-this.offset}get end(){var n,s;return null!==(s=null===(n=this.lastNonHiddenNode)||void 0===n?void 0:n.end)&&void 0!==s?s:0}get range(){const n=this.firstNonHiddenNode,s=this.lastNonHiddenNode;if(n&&s){if(void 0===this._rangeCache){const{range:i}=n,{range:a}=s;this._rangeCache={start:i.start,end:a.end.line<i.start.line?i.start:a.end}}return this._rangeCache}return{start:L.create(0,0),end:L.create(0,0)}}get firstNonHiddenNode(){for(const n of this.content)if(!n.hidden)return n;return this.content[0]}get lastNonHiddenNode(){for(let n=this.content.length-1;n>=0;n--){const s=this.content[n];if(!s.hidden)return s}return this.content[this.content.length-1]}}class xs extends Array{constructor(n){super(),this.parent=n,Object.setPrototypeOf(this,xs.prototype)}push(...n){return this.addParents(n),super.push(...n)}unshift(...n){return this.addParents(n),super.unshift(...n)}splice(n,s,...i){return this.addParents(i),super.splice(n,s,...i)}addParents(n){for(const s of n)s.container=this.parent}}class Rn extends Ss{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(n){super(),this._text="",this._text=n??""}}const In=Symbol("Datatype");function bs(l){return l.$type===In}const Wi=l=>l.endsWith("\u200b")?l:l+"\u200b";class Hi{constructor(n){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=n.parser.Lexer;const i="production"===n.LanguageMetaData.mode;this.wrapper=new Ir(this.lexer.definition,Object.assign(Object.assign({},n.parser.ParserConfig),{skipValidations:i,errorMessageProvider:n.parser.ParserErrorMessageProvider}))}alternatives(n,s){this.wrapper.wrapOr(n,s)}optional(n,s){this.wrapper.wrapOption(n,s)}many(n,s){this.wrapper.wrapMany(n,s)}atLeastOne(n,s){this.wrapper.wrapAtLeastOne(n,s)}getRule(n){return this.allRules.get(n)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class wo extends Hi{get current(){return this.stack[this.stack.length-1]}constructor(n){super(n),this.nodeBuilder=new No,this.stack=[],this.assignmentMap=new Map,this.linker=n.references.Linker,this.converter=n.parser.ValueConverter,this.astReflection=n.shared.AstReflection}rule(n,s){const i=this.computeRuleType(n),a=this.wrapper.DEFINE_RULE(Wi(n.name),this.startImplementation(i,s).bind(this));return this.allRules.set(n.name,a),n.entry&&(this.mainRule=a),a}computeRuleType(n){if(!n.fragment)return(0,q.Xq)(n)?In:(0,q.PV)(n)??n.name}parse(n,s={}){this.nodeBuilder.buildRootNode(n);const i=this.lexerResult=this.lexer.tokenize(n);this.wrapper.input=i.tokens;const a=s.rule?this.allRules.get(s.rule):this.mainRule;if(!a)throw new Error(s.rule?`No rule found with name '${s.rule}'`:"No main rule available.");const c=a.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(i.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:c,lexerErrors:i.errors,lexerReport:i.report,parserErrors:this.wrapper.errors}}startImplementation(n,s){return i=>{const a=!this.isRecording()&&void 0!==n;if(a){const d={$type:n};this.stack.push(d),n===In&&(d.value="")}let c;try{c=s(i)}catch{c=void 0}return void 0===c&&a&&(c=this.construct()),c}}extractHiddenTokens(n){const s=this.lexerResult.hidden;if(!s.length)return[];const i=n.startOffset;for(let a=0;a<s.length;a++)if(s[a].startOffset>i)return s.splice(0,a);return s.splice(0,s.length)}consume(n,s,i){const a=this.wrapper.wrapConsume(n,s);if(!this.isRecording()&&this.isValidToken(a)){const c=this.extractHiddenTokens(a);this.nodeBuilder.addHiddenNodes(c);const d=this.nodeBuilder.buildLeafNode(a,i),{assignment:m,isCrossRef:E}=this.getAssignment(i),O=this.current;if(m){const U=(0,w.wb)(i)?a.image:this.converter.convert(a.image,d);this.assign(m.operator,m.feature,U,d,E)}else if(bs(O)){let U=a.image;(0,w.wb)(i)||(U=this.converter.convert(U,d).toString()),O.value+=U}}}isValidToken(n){return!n.isInsertedInRecovery&&!isNaN(n.startOffset)&&"number"==typeof n.endOffset&&!isNaN(n.endOffset)}subrule(n,s,i,a,c){let d;!this.isRecording()&&!i&&(d=this.nodeBuilder.buildCompositeNode(a));const m=this.wrapper.wrapSubrule(n,s,c);!this.isRecording()&&d&&d.length>0&&this.performSubruleAssignment(m,a,d)}performSubruleAssignment(n,s,i){const{assignment:a,isCrossRef:c}=this.getAssignment(s);if(a)this.assign(a.operator,a.feature,n,i,c);else if(!a){const d=this.current;if(bs(d))d.value+=n.toString();else if("object"==typeof n&&n){const E=this.assignWithoutOverride(n,d);this.stack.pop(),this.stack.push(E)}}}action(n,s){if(!this.isRecording()){let i=this.current;s.feature&&s.operator?(i=this.construct(),this.nodeBuilder.removeNode(i.$cstNode),this.nodeBuilder.buildCompositeNode(s).content.push(i.$cstNode),this.stack.push({$type:n}),this.assign(s.operator,s.feature,i,i.$cstNode,!1)):i.$type=n}}construct(){if(this.isRecording())return;const n=this.current;return(0,ue.SD)(n),this.nodeBuilder.construct(n),this.stack.pop(),bs(n)?this.converter.convert(n.value,n.$cstNode):((0,ue.OP)(this.astReflection,n),n)}getAssignment(n){if(!this.assignmentMap.has(n)){const s=(0,ue.XG)(n,w.wh);this.assignmentMap.set(n,{assignment:s,isCrossRef:!!s&&(0,w._c)(s.terminal)})}return this.assignmentMap.get(n)}assign(n,s,i,a,c){const d=this.current;let m;switch(m=c&&"string"==typeof i?this.linker.buildReference(d,s,a,i):i,n){case"=":d[s]=m;break;case"?=":d[s]=!0;break;case"+=":Array.isArray(d[s])||(d[s]=[]),d[s].push(m)}}assignWithoutOverride(n,s){for(const[a,c]of Object.entries(s)){const d=n[a];void 0===d?n[a]=c:Array.isArray(d)&&Array.isArray(c)&&(c.push(...d),n[a]=c)}const i=n.$cstNode;return i&&(i.astNode=void 0,n.$cstNode=void 0),n}get definitionErrors(){return this.wrapper.definitionErrors}}class He{buildMismatchTokenMessage(n){return M.my.buildMismatchTokenMessage(n)}buildNotAllInputParsedMessage(n){return M.my.buildNotAllInputParsedMessage(n)}buildNoViableAltMessage(n){return M.my.buildNoViableAltMessage(n)}buildEarlyExitMessage(n){return M.my.buildEarlyExitMessage(n)}}class Vi extends He{buildMismatchTokenMessage({expected:n,actual:s}){return`Expecting ${n.LABEL?"`"+n.LABEL+"`":n.name.endsWith(":KW")?`keyword '${n.name.substring(0,n.name.length-3)}'`:`token of type '${n.name}'`} but found \`${s.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:n}){return`Expecting end of file but found \`${n.image}\`.`}}class ko extends Hi{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(n){this.resetState();const s=this.lexer.tokenize(n,{mode:"partial"});return this.tokens=s.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(n,s){const i=this.wrapper.DEFINE_RULE(Wi(n.name),this.startImplementation(s).bind(this));return this.allRules.set(n.name,i),n.entry&&(this.mainRule=i),i}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(n){return s=>{const i=this.keepStackSize();try{n(s)}finally{this.resetStackSize(i)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const n=this.elementStack.length;return this.stackSize=n,n}resetStackSize(n){this.removeUnexpectedElements(),this.stackSize=n}consume(n,s,i){this.wrapper.wrapConsume(n,s),this.isRecording()||(this.lastElementStack=[...this.elementStack,i],this.nextTokenIndex=this.currIdx+1)}subrule(n,s,i,a,c){this.before(a),this.wrapper.wrapSubrule(n,s,c),this.after(a)}before(n){this.isRecording()||this.elementStack.push(n)}after(n){if(!this.isRecording()){const s=this.elementStack.lastIndexOf(n);s>=0&&this.elementStack.splice(s)}}get currIdx(){return this.wrapper.currIdx}}const Po={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new Vi};class Ir extends M.jr{constructor(n,s){const i=s&&"maxLookahead"in s;super(n,Object.assign(Object.assign(Object.assign({},Po),{lookaheadStrategy:i?new M.T6({maxLookahead:s.maxLookahead}):new gr({logging:s.skipValidations?()=>{}:void 0})}),s))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(n,s){return this.RULE(n,s)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(n,s){return this.consume(n,s)}wrapSubrule(n,s,i){return this.subrule(n,s,{ARGS:[i]})}wrapOr(n,s){this.or(n,s)}wrapOption(n,s){this.option(n,s)}wrapMany(n,s){this.many(n,s)}wrapAtLeastOne(n,s){this.atLeastOne(n,s)}}var nr=$(8586),nt=$(4193);function zi(l,n,s){return function Lo(l,n){const s=(0,q.YV)(n,!1),i=(0,nt.Td)(n.rules).filter(w.s7).filter(a=>s.has(a));for(const a of i){const c=Object.assign(Object.assign({},l),{consume:1,optional:1,subrule:1,many:1,or:1});l.parser.rule(a,Fn(c,a.definition))}}({parser:n,tokens:s,ruleNames:new Map},l),n}function Fn(l,n,s=!1){let i;if((0,w.wb)(n))i=function Ko(l,n){const s=l.consume++,i=l.tokens[n.value];if(!i)throw new Error("Could not find token for keyword: "+n.value);return()=>l.parser.consume(s,i,n)}(l,n);else if((0,w.ve)(n))i=function Mo(l,n){const s=(0,q.Uz)(n);return()=>l.parser.action(s,n)}(l,n);else if((0,w.wh)(n))i=Fn(l,n.terminal);else if((0,w._c)(n))i=Cr(l,n);else if((0,w.$g)(n))i=function Do(l,n){const s=n.rule.ref;if((0,w.s7)(s)){const i=l.subrule++,a=s.fragment,c=n.arguments.length>0?function Fo(l,n){const s=n.map(i=>un(i.value));return i=>{const a={};for(let c=0;c<s.length;c++)a[l.parameters[c].name]=(0,s[c])(i);return a}}(s,n.arguments):()=>({});return d=>l.parser.subrule(i,Yi(l,s),a,n,c(d))}if((0,w.rE)(s)){const i=l.consume++,a=$s(l,s.name);return()=>l.parser.consume(i,a,n)}if(!s)throw new nr.W(n.$cstNode,`Undefined rule: ${n.rule.$refText}`);(0,nr.d)(s)}(l,n);else if((0,w.jp)(n))i=function Go(l,n){if(1===n.elements.length)return Fn(l,n.elements[0]);{const s=[];for(const a of n.elements){const c={ALT:Fn(l,a,!0)},d=cn(a);d&&(c.GATE=un(d)),s.push(c)}const i=l.or++;return a=>l.parser.alternatives(i,s.map(c=>{const d={ALT:()=>c.ALT(a)},m=c.GATE;return m&&(d.GATE=()=>m(a)),d}))}}(l,n);else if((0,w.cY)(n))i=function Uo(l,n){if(1===n.elements.length)return Fn(l,n.elements[0]);const s=[];for(const m of n.elements){const E={ALT:Fn(l,m,!0)},O=cn(m);O&&(E.GATE=un(O)),s.push(E)}const i=l.or++,a=(m,E)=>`uGroup_${m}_${E.getRuleStack().join("-")}`,d=Xi(l,cn(n),m=>l.parser.alternatives(i,s.map((E,O)=>{const U={ALT:()=>!0},te=l.parser;U.ALT=()=>{if(E.ALT(m),!te.isRecording()){const z=a(i,te);te.unorderedGroups.get(z)||te.unorderedGroups.set(z,[]);const Ke=te.unorderedGroups.get(z);typeof Ke?.[O]>"u"&&(Ke[O]=!0)}};const ne=E.GATE;return U.GATE=ne?()=>ne(m):()=>{const z=te.unorderedGroups.get(a(i,te));return!z?.[O]},U})),"*");return m=>{d(m),l.parser.isRecording()||l.parser.unorderedGroups.delete(a(i,l.parser))}}(l,n);else if((0,w.IZ)(n))i=function Bo(l,n){const s=n.elements.map(i=>Fn(l,i));return i=>s.forEach(a=>a(i))}(l,n);else{if(!(0,w.FO)(n))throw new nr.W(n.$cstNode,`Unexpected element type: ${n.$type}`);{const a=l.consume++;i=()=>l.parser.consume(a,M.LT,n)}}return Xi(l,s?void 0:cn(n),i,n.cardinality)}function un(l){if((0,w.RP)(l)){const n=un(l.left),s=un(l.right);return i=>n(i)||s(i)}if((0,w.Tu)(l)){const n=un(l.left),s=un(l.right);return i=>n(i)&&s(i)}if((0,w.Ct)(l)){const n=un(l.value);return s=>!n(s)}if((0,w.TF)(l)){const n=l.parameter.ref.name;return s=>void 0!==s&&!0===s[n]}if((0,w.Cz)(l)){const n=!!l.true;return()=>n}(0,nr.d)(l)}function cn(l){if((0,w.IZ)(l))return l.guardCondition}function Cr(l,n,s=n.terminal){if(s){if((0,w.$g)(s)&&(0,w.s7)(s.rule.ref)){const i=s.rule.ref,a=l.subrule++;return c=>l.parser.subrule(a,Yi(l,i),!1,n,c)}if((0,w.$g)(s)&&(0,w.rE)(s.rule.ref)){const i=l.consume++,a=$s(l,s.rule.ref.name);return()=>l.parser.consume(i,a,n)}if((0,w.wb)(s)){const i=l.consume++,a=$s(l,s.value);return()=>l.parser.consume(i,a,n)}throw new Error("Could not build cross reference parser")}{if(!n.type.ref)throw new Error("Could not resolve reference to type: "+n.type.$refText);const i=(0,q.U5)(n.type.ref),a=i?.terminal;if(!a)throw new Error("Could not find name assignment for type: "+(0,q.Uz)(n.type.ref));return Cr(l,n,a)}}function Xi(l,n,s,i){const a=n&&un(n);if(!i){if(a){const c=l.or++;return d=>l.parser.alternatives(c,[{ALT:()=>s(d),GATE:()=>a(d)},{ALT:(0,M.mT)(),GATE:()=>!a(d)}])}return s}if("*"===i){const c=l.many++;return d=>l.parser.many(c,{DEF:()=>s(d),GATE:a?()=>a(d):void 0})}if("+"===i){const c=l.many++;if(a){const d=l.or++;return m=>l.parser.alternatives(d,[{ALT:()=>l.parser.atLeastOne(c,{DEF:()=>s(m)}),GATE:()=>a(m)},{ALT:(0,M.mT)(),GATE:()=>!a(m)}])}return d=>l.parser.atLeastOne(c,{DEF:()=>s(d)})}if("?"===i){const c=l.optional++;return d=>l.parser.optional(c,{DEF:()=>s(d),GATE:a?()=>a(d):void 0})}(0,nr.d)(i)}function Yi(l,n){const s=function jo(l,n){if((0,w.s7)(n))return n.name;if(l.ruleNames.has(n))return l.ruleNames.get(n);{let s=n,i=s.$container,a=n.$type;for(;!(0,w.s7)(i);)((0,w.IZ)(i)||(0,w.jp)(i)||(0,w.cY)(i))&&(a=i.elements.indexOf(s).toString()+":"+a),s=i,i=i.$container;return a=i.name+":"+a,l.ruleNames.set(n,a),a}}(l,n),i=l.parser.getRule(s);if(!i)throw new Error(`Rule "${s}" not found."`);return i}function $s(l,n){const s=l.tokens[n];if(!s)throw new Error(`Token "${n}" not found."`);return s}var zo=$(3460),Sr=$(6535),ke=$(9204),qe=$(3302),Ve=$(7449);let Yr=0;const qr=Symbol("OperationCancelled");function Qr(l){return l===qr}function xt(l){return Os.apply(this,arguments)}function Os(){return Os=(0,ke.A)(function*(l){if(l===qe.XO.None)return;const n=performance.now();if(n-Yr>=10&&(Yr=n,yield function Xo(){return new Promise(l=>{typeof setImmediate>"u"?setTimeout(l,0):setImmediate(l)})}(),Yr=performance.now()),l.isCancellationRequested)throw qr}),Os.apply(this,arguments)}class Ns{constructor(){this.promise=new Promise((n,s)=>{this.resolve=i=>(n(i),this),this.reject=i=>(s(i),this)})}}class xr{constructor(n,s,i,a){this._uri=n,this._languageId=s,this._version=i,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){const s=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(s,i)}return this._content}update(n,s){for(const i of n)if(xr.isIncremental(i)){const a=Qi(i.range),c=this.offsetAt(a.start),d=this.offsetAt(a.end);this._content=this._content.substring(0,c)+i.text+this._content.substring(d,this._content.length);const m=Math.max(a.start.line,0),E=Math.max(a.end.line,0);let O=this._lineOffsets;const U=Gn(i.text,!1,c);if(E-m===U.length)for(let ne=0,z=U.length;ne<z;ne++)O[ne+m+1]=U[ne];else U.length<1e4?O.splice(m+1,E-m,...U):this._lineOffsets=O=O.slice(0,m+1).concat(U,O.slice(E+1));const te=i.text.length-(d-c);if(0!==te)for(let ne=m+1+U.length,z=O.length;ne<z;ne++)O[ne]=O[ne]+te}else{if(!xr.isFull(i))throw new Error("Unknown change event received");this._content=i.text,this._lineOffsets=void 0}this._version=s}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Gn(this._content,!0)),this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);const s=this.getLineOffsets();let i=0,a=s.length;if(0===a)return{line:0,character:n};for(;i<a;){const d=Math.floor((i+a)/2);s[d]>n?a=d:i=d+1}const c=i-1;return{line:c,character:(n=this.ensureBeforeEOL(n,s[c]))-s[c]}}offsetAt(n){const s=this.getLineOffsets();if(n.line>=s.length)return this._content.length;if(n.line<0)return 0;const i=s[n.line];if(n.character<=0)return i;const c=Math.min(i+n.character,n.line+1<s.length?s[n.line+1]:this._content.length);return this.ensureBeforeEOL(c,i)}ensureBeforeEOL(n,s){for(;n>s&&Ps(this._content.charCodeAt(n-1));)n--;return n}get lineCount(){return this.getLineOffsets().length}static isIncremental(n){return null!=n&&"string"==typeof n.text&&void 0!==n.range&&(void 0===n.rangeLength||"number"==typeof n.rangeLength)}static isFull(n){return null!=n&&"string"==typeof n.text&&void 0===n.range&&void 0===n.rangeLength}}var ws;function ks(l,n){if(l.length<=1)return l;const s=l.length/2|0,i=l.slice(0,s),a=l.slice(s);ks(i,n),ks(a,n);let c=0,d=0,m=0;for(;c<i.length&&d<a.length;)n(i[c],a[d])<=0?l[m++]=i[c++]:l[m++]=a[d++];for(;c<i.length;)l[m++]=i[c++];for(;d<a.length;)l[m++]=a[d++];return l}function Gn(l,n,s=0){const i=n?[s]:[];for(let a=0;a<l.length;a++){const c=l.charCodeAt(a);Ps(c)&&(13===c&&a+1<l.length&&10===l.charCodeAt(a+1)&&a++,i.push(s+a+1))}return i}function Ps(l){return 13===l||10===l}function Qi(l){const n=l.start,s=l.end;return n.line>s.line||n.line===s.line&&n.character>s.character?{start:s,end:n}:l}function qo(l){const n=Qi(l.range);return n!==l.range?{newText:l.newText,range:n}:l}!function(l){l.create=function n(a,c,d,m){return new xr(a,c,d,m)},l.update=function s(a,c,d){if(a instanceof xr)return a.update(c,d),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")},l.applyEdits=function i(a,c){const d=a.getText(),m=ks(c.map(qo),(U,te)=>{const ne=U.range.start.line-te.range.start.line;return 0===ne?U.range.start.character-te.range.start.character:ne});let E=0;const O=[];for(const U of m){const te=a.offsetAt(U.range.start);if(te<E)throw new Error("Overlapping edit");te>E&&O.push(d.substring(E,te)),U.newText.length&&O.push(U.newText),E=a.offsetAt(U.range.end)}return O.push(d.substr(E)),O.join("")}}(ws||(ws={}));var Gt=$(2510),Qe=function(l){return l[l.Changed=0]="Changed",l[l.Parsed=1]="Parsed",l[l.IndexedContent=2]="IndexedContent",l[l.ComputedScopes=3]="ComputedScopes",l[l.Linked=4]="Linked",l[l.IndexedReferences=5]="IndexedReferences",l[l.Validated=6]="Validated",l}(Qe||{});class Qo{constructor(n){this.serviceRegistry=n.ServiceRegistry,this.textDocuments=n.workspace.TextDocuments,this.fileSystemProvider=n.workspace.FileSystemProvider}fromUri(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){const c=yield s.fileSystemProvider.readFile(i);return s.createAsync(i,c,a)}).apply(this,arguments)}fromTextDocument(n,s,i){return s=s??Gt.r.parse(n.uri),qe.XO.is(i)?this.createAsync(s,n,i):this.create(s,n,i)}fromString(n,s,i){return qe.XO.is(i)?this.createAsync(s,n,i):this.create(s,n,i)}fromModel(n,s){return this.create(s,{$model:n})}create(n,s,i){if("string"==typeof s){const a=this.parse(n,s,i);return this.createLangiumDocument(a,n,void 0,s)}if("$model"in s)return this.createLangiumDocument({value:s.$model,parserErrors:[],lexerErrors:[]},n);{const a=this.parse(n,s.getText(),i);return this.createLangiumDocument(a,n,s)}}createAsync(n,s,i){var a=this;return(0,ke.A)(function*(){if("string"==typeof s){const c=yield a.parseAsync(n,s,i);return a.createLangiumDocument(c,n,void 0,s)}{const c=yield a.parseAsync(n,s.getText(),i);return a.createLangiumDocument(c,n,s)}})()}createLangiumDocument(n,s,i,a){let c;if(i)c={parseResult:n,uri:s,state:Qe.Parsed,references:[],textDocument:i};else{const d=this.createTextDocumentGetter(s,a);c={parseResult:n,uri:s,state:Qe.Parsed,references:[],get textDocument(){return d()}}}return n.value.$document=c,c}update(n,s){var i=this;return(0,ke.A)(function*(){var a,c;const d=null===(a=n.parseResult.value.$cstNode)||void 0===a?void 0:a.root.fullText,m=null===(c=i.textDocuments)||void 0===c?void 0:c.get(n.uri.toString()),E=m?m.getText():yield i.fileSystemProvider.readFile(n.uri);if(m)Object.defineProperty(n,"textDocument",{value:m});else{const O=i.createTextDocumentGetter(n.uri,E);Object.defineProperty(n,"textDocument",{get:O})}return d!==E&&(n.parseResult=yield i.parseAsync(n.uri,E,s),n.parseResult.value.$document=n),n.state=Qe.Parsed,n})()}parse(n,s,i){return this.serviceRegistry.getServices(n).parser.LangiumParser.parse(s,i)}parseAsync(n,s,i){return this.serviceRegistry.getServices(n).parser.AsyncParser.parse(s,i)}createTextDocumentGetter(n,s){const i=this.serviceRegistry;let a;return()=>a??(a=ws.create(n.toString(),i.getServices(n).LanguageMetaData.languageId,0,s??""))}}class Jr{constructor(n){this.documentMap=new Map,this.langiumDocumentFactory=n.workspace.LangiumDocumentFactory,this.serviceRegistry=n.ServiceRegistry}get all(){return(0,nt.Td)(this.documentMap.values())}addDocument(n){const s=n.uri.toString();if(this.documentMap.has(s))throw new Error(`A document with the URI '${s}' is already present.`);this.documentMap.set(s,n)}getDocument(n){const s=n.toString();return this.documentMap.get(s)}getOrCreateDocument(n,s){var i=this;return(0,ke.A)(function*(){let a=i.getDocument(n);return a||(a=yield i.langiumDocumentFactory.fromUri(n,s),i.addDocument(a),a)})()}createDocument(n,s,i){if(i)return this.langiumDocumentFactory.fromString(s,n,i).then(a=>(this.addDocument(a),a));{const a=this.langiumDocumentFactory.fromString(s,n);return this.addDocument(a),a}}hasDocument(n){return this.documentMap.has(n.toString())}invalidateDocument(n){const s=n.toString(),i=this.documentMap.get(s);return i&&(this.serviceRegistry.getServices(n).references.Linker.unlink(i),i.state=Qe.Changed,i.precomputedScopes=void 0,i.diagnostics=void 0),i}deleteDocument(n){const s=n.toString(),i=this.documentMap.get(s);return i&&(i.state=Qe.Changed,this.documentMap.delete(s)),i}}const Ls=Symbol("ref_resolving");class Jo{constructor(n){this.reflection=n.shared.AstReflection,this.langiumDocuments=()=>n.shared.workspace.LangiumDocuments,this.scopeProvider=n.references.ScopeProvider,this.astNodeLocator=n.workspace.AstNodeLocator}link(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){for(const c of(0,ue.jm)(i.parseResult.value))yield xt(a),(0,ue.DM)(c).forEach(d=>s.doLink(d,i))}).apply(this,arguments)}doLink(n,s){var i;const a=n.reference;if(void 0===a._ref){a._ref=Ls;try{const c=this.getCandidate(n);if((0,Ve.Zl)(c))a._ref=c;else if(a._nodeDescription=c,this.langiumDocuments().hasDocument(c.documentUri)){const d=this.loadAstNode(c);a._ref=d??this.createLinkingError(n,c)}else a._ref=void 0}catch(c){console.error(`An error occurred while resolving reference to '${a.$refText}':`,c);const d=null!==(i=c.message)&&void 0!==i?i:String(c);a._ref=Object.assign(Object.assign({},n),{message:`An error occurred while resolving reference to '${a.$refText}': ${d}`})}s.references.push(a)}}unlink(n){for(const s of n.references)delete s._ref,delete s._nodeDescription;n.references=[]}getCandidate(n){return this.scopeProvider.getScope(n).getElement(n.reference.$refText)??this.createLinkingError(n)}buildReference(n,s,i,a){const c=this,d={$refNode:i,$refText:a,get ref(){var m;if((0,Ve.ng)(this._ref))return this._ref;if((0,Ve.Nr)(this._nodeDescription)){const E=c.loadAstNode(this._nodeDescription);this._ref=E??c.createLinkingError({reference:d,container:n,property:s},this._nodeDescription)}else if(void 0===this._ref){this._ref=Ls;const E=(0,ue.cQ)(n).$document,O=c.getLinkedNode({reference:d,container:n,property:s});if(O.error&&E&&E.state<Qe.ComputedScopes)return this._ref=void 0;this._ref=null!==(m=O.node)&&void 0!==m?m:O.error,this._nodeDescription=O.descr,E?.references.push(this)}else if(this._ref===Ls)throw new Error(`Cyclic reference resolution detected: ${c.astNodeLocator.getAstNodePath(n)}/${s} (symbol '${a}')`);return(0,Ve.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,Ve.Zl)(this._ref)?this._ref:void 0}};return d}getLinkedNode(n){var s;try{const i=this.getCandidate(n);if((0,Ve.Zl)(i))return{error:i};const a=this.loadAstNode(i);return a?{node:a,descr:i}:{descr:i,error:this.createLinkingError(n,i)}}catch(i){console.error(`An error occurred while resolving reference to '${n.reference.$refText}':`,i);const a=null!==(s=i.message)&&void 0!==s?s:String(i);return{error:Object.assign(Object.assign({},n),{message:`An error occurred while resolving reference to '${n.reference.$refText}': ${a}`})}}}loadAstNode(n){if(n.node)return n.node;const s=this.langiumDocuments().getDocument(n.documentUri);return s?this.astNodeLocator.getAstNode(s.parseResult.value,n.path):void 0}createLinkingError(n,s){const i=(0,ue.cQ)(n.container).$document;i&&i.state<Qe.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${i.uri}).`);const a=this.reflection.getReferenceType(n);return Object.assign(Object.assign({},n),{message:`Could not resolve reference to ${a} named '${n.reference.$refText}'.`,targetDescription:s})}}class el{getName(n){if(function Zo(l){return"string"==typeof l.name}(n))return n.name}getNameNode(n){return(0,q.qO)(n.$cstNode,"name")}}var Cn;!function(l){l.basename=Gt.A.basename,l.dirname=Gt.A.dirname,l.extname=Gt.A.extname,l.joinPath=Gt.A.joinPath,l.resolvePath=Gt.A.resolvePath,l.equals=function n(a,c){return a?.toString()===c?.toString()},l.relative=function s(a,c){const m="string"==typeof c?c:c.path,E=("string"==typeof a?a:a.path).split("/").filter(z=>z.length>0),O=m.split("/").filter(z=>z.length>0);let U=0;for(;U<E.length&&E[U]===O[U];U++);return"../".repeat(E.length-U)+O.slice(U).join("/")},l.normalize=function i(a){return Gt.r.parse(a.toString()).toString()}}(Cn||(Cn={}));class tl{constructor(n){this.nameProvider=n.references.NameProvider,this.index=n.shared.workspace.IndexManager,this.nodeLocator=n.workspace.AstNodeLocator}findDeclaration(n){if(n){const s=(0,q.Rp)(n),i=n.astNode;if(s&&i){const a=i[s.feature];if((0,Ve.A_)(a))return a.ref;if(Array.isArray(a))for(const c of a)if((0,Ve.A_)(c)&&c.$refNode&&c.$refNode.offset<=n.offset&&c.$refNode.end>=n.end)return c.ref}if(i){const a=this.nameProvider.getNameNode(i);if(a&&(a===n||(0,S.pO)(n,a)))return i}}}findDeclarationNode(n){const s=this.findDeclaration(n);if(s?.$cstNode)return this.nameProvider.getNameNode(s)??s.$cstNode}findReferences(n,s){const i=[];if(s.includeDeclaration){const c=this.getReferenceToSelf(n);c&&i.push(c)}let a=this.index.findAllReferences(n,this.nodeLocator.getAstNodePath(n));return s.documentUri&&(a=a.filter(c=>Cn.equals(c.sourceUri,s.documentUri))),i.push(...a),(0,nt.Td)(i)}getReferenceToSelf(n){const s=this.nameProvider.getNameNode(n);if(s){const i=(0,ue.YE)(n),a=this.nodeLocator.getAstNodePath(n);return{sourceUri:i.uri,sourcePath:a,targetUri:i.uri,targetPath:a,segment:(0,S.SX)(s),local:!0}}}}class Zr{constructor(n){if(this.map=new Map,n)for(const[s,i]of n)this.add(s,i)}get size(){return nt.iD.sum((0,nt.Td)(this.map.values()).map(n=>n.length))}clear(){this.map.clear()}delete(n,s){if(void 0===s)return this.map.delete(n);{const i=this.map.get(n);if(i){const a=i.indexOf(s);if(a>=0)return 1===i.length?this.map.delete(n):i.splice(a,1),!0}return!1}}get(n){var s;return null!==(s=this.map.get(n))&&void 0!==s?s:[]}has(n,s){if(void 0===s)return this.map.has(n);{const i=this.map.get(n);return!!i&&i.indexOf(s)>=0}}add(n,s){return this.map.has(n)?this.map.get(n).push(s):this.map.set(n,[s]),this}addAll(n,s){return this.map.has(n)?this.map.get(n).push(...s):this.map.set(n,Array.from(s)),this}forEach(n){this.map.forEach((s,i)=>s.forEach(a=>n(a,i,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,nt.Td)(this.map.entries()).flatMap(([n,s])=>s.map(i=>[n,i]))}keys(){return(0,nt.Td)(this.map.keys())}values(){return(0,nt.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,nt.Td)(this.map.entries())}}class Ji{get size(){return this.map.size}constructor(n){if(this.map=new Map,this.inverse=new Map,n)for(const[s,i]of n)this.set(s,i)}clear(){this.map.clear(),this.inverse.clear()}set(n,s){return this.map.set(n,s),this.inverse.set(s,n),this}get(n){return this.map.get(n)}getKey(n){return this.inverse.get(n)}delete(n){const s=this.map.get(n);return void 0!==s&&(this.map.delete(n),this.inverse.delete(s),!0)}}class rr{constructor(n){this.nameProvider=n.references.NameProvider,this.descriptions=n.workspace.AstNodeDescriptionProvider}computeExports(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){return s.computeExportsForNode(i.parseResult.value,i,void 0,a)}).apply(this,arguments)}computeExportsForNode(n,s){var i=this;return(0,ke.A)(function*(a,c,d=ue.VN,m=qe.XO.None){const E=[];i.exportNode(a,E,c);for(const O of d(a))yield xt(m),i.exportNode(O,E,c);return E}).apply(this,arguments)}exportNode(n,s,i){const a=this.nameProvider.getName(n);a&&s.push(this.descriptions.createDescription(n,a,i))}computeLocalScopes(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){const c=i.parseResult.value,d=new Zr;for(const m of(0,ue.Uo)(c))yield xt(a),s.processNode(m,i,d);return d}).apply(this,arguments)}processNode(n,s,i){const a=n.$container;if(a){const c=this.nameProvider.getName(n);c&&i.add(a,this.descriptions.createDescription(n,c,s))}}}class br{constructor(n,s,i){var a;this.elements=n,this.outerScope=s,this.caseInsensitive=null!==(a=i?.caseInsensitive)&&void 0!==a&&a}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(n){return this.elements.find(this.caseInsensitive?i=>i.name.toLowerCase()===n.toLowerCase():i=>i.name===n)||(this.outerScope?this.outerScope.getElement(n):void 0)}}class nl{constructor(n,s,i){var a;this.elements=new Map,this.caseInsensitive=null!==(a=i?.caseInsensitive)&&void 0!==a&&a;for(const c of n){const d=this.caseInsensitive?c.name.toLowerCase():c.name;this.elements.set(d,c)}this.outerScope=s}getElement(n){const s=this.caseInsensitive?n.toLowerCase():n;return this.elements.get(s)||(this.outerScope?this.outerScope.getElement(n):void 0)}getAllElements(){let n=(0,nt.Td)(this.elements.values());return this.outerScope&&(n=n.concat(this.outerScope.getAllElements())),n}}class Zi{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(n){this.toDispose.push(n)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(n=>n.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class sr extends Zi{constructor(){super(...arguments),this.cache=new Map}has(n){return this.throwIfDisposed(),this.cache.has(n)}set(n,s){this.throwIfDisposed(),this.cache.set(n,s)}get(n,s){if(this.throwIfDisposed(),this.cache.has(n))return this.cache.get(n);if(s){const i=s();return this.cache.set(n,i),i}}delete(n){return this.throwIfDisposed(),this.cache.delete(n)}clear(){this.throwIfDisposed(),this.cache.clear()}}class ir extends Zi{constructor(n){super(),this.cache=new Map,this.converter=n??(s=>s)}has(n,s){return this.throwIfDisposed(),this.cacheForContext(n).has(s)}set(n,s,i){this.throwIfDisposed(),this.cacheForContext(n).set(s,i)}get(n,s,i){this.throwIfDisposed();const a=this.cacheForContext(n);if(a.has(s))return a.get(s);if(i){const c=i();return a.set(s,c),c}}delete(n,s){return this.throwIfDisposed(),this.cacheForContext(n).delete(s)}clear(n){if(this.throwIfDisposed(),n){const s=this.converter(n);this.cache.delete(s)}else this.cache.clear()}cacheForContext(n){const s=this.converter(n);let i=this.cache.get(s);return i||(i=new Map,this.cache.set(s,i)),i}}class rl extends sr{constructor(n,s){super(),s?(this.toDispose.push(n.workspace.DocumentBuilder.onBuildPhase(s,()=>{this.clear()})),this.toDispose.push(n.workspace.DocumentBuilder.onUpdate((i,a)=>{a.length>0&&this.clear()}))):this.toDispose.push(n.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class sl{constructor(n){this.reflection=n.shared.AstReflection,this.nameProvider=n.references.NameProvider,this.descriptions=n.workspace.AstNodeDescriptionProvider,this.indexManager=n.shared.workspace.IndexManager,this.globalScopeCache=new rl(n.shared)}getScope(n){const s=[],i=this.reflection.getReferenceType(n),a=(0,ue.YE)(n.container).precomputedScopes;if(a){let d=n.container;do{const m=a.get(d);m.length>0&&s.push((0,nt.Td)(m).filter(E=>this.reflection.isSubtype(E.type,i))),d=d.$container}while(d)}let c=this.getGlobalScope(i,n);for(let d=s.length-1;d>=0;d--)c=this.createScope(s[d],c);return c}createScope(n,s,i){return new br((0,nt.Td)(n),s,i)}createScopeForNodes(n,s,i){const a=(0,nt.Td)(n).map(c=>{const d=this.nameProvider.getName(c);if(d)return this.descriptions.createDescription(c,d)}).nonNullable();return new br(a,s,i)}getGlobalScope(n,s){return this.globalScopeCache.get(n,()=>new nl(this.indexManager.allElements(n)))}}function ea(l){return"object"==typeof l&&!!l&&("$ref"in l||"$error"in l)}class es{constructor(n){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=n.shared.workspace.LangiumDocuments,this.astNodeLocator=n.workspace.AstNodeLocator,this.nameProvider=n.references.NameProvider,this.commentProvider=n.documentation.CommentProvider}serialize(n,s){const i=s??{},a=s?.replacer,c=(m,E)=>this.replacer(m,E,i),d=a?(m,E)=>a(m,E,c):c;try{return this.currentDocument=(0,ue.YE)(n),JSON.stringify(n,d,s?.space)}finally{this.currentDocument=void 0}}deserialize(n,s){const i=s??{},a=JSON.parse(n);return this.linkNode(a,a,i),a}replacer(n,s,{refText:i,sourceText:a,textRegions:c,comments:d,uriConverter:m}){var E,O,U,te;if(!this.ignoreProperties.has(n)){if((0,Ve.A_)(s)){const ne=s.ref,z=i?s.$refText:void 0;if(ne){const Ke=(0,ue.YE)(ne);let Xe="";return this.currentDocument&&this.currentDocument!==Ke&&(Xe=m?m(Ke.uri,s):Ke.uri.toString()),{$ref:`${Xe}#${this.astNodeLocator.getAstNodePath(ne)}`,$refText:z}}return{$error:null!==(O=null===(E=s.error)||void 0===E?void 0:E.message)&&void 0!==O?O:"Could not resolve reference",$refText:z}}if((0,Ve.ng)(s)){let ne;if(c&&(ne=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},s)),(!n||s.$document)&&ne?.$textRegion&&(ne.$textRegion.documentURI=null===(U=this.currentDocument)||void 0===U?void 0:U.uri.toString())),a&&!n&&(ne??(ne=Object.assign({},s)),ne.$sourceText=null===(te=s.$cstNode)||void 0===te?void 0:te.text),d){ne??(ne=Object.assign({},s));const z=this.commentProvider.getComment(s);z&&(ne.$comment=z.replace(/\r/g,""))}return ne??s}return s}}addAstNodeRegionWithAssignmentsTo(n){const s=i=>({offset:i.offset,end:i.end,length:i.length,range:i.range});if(n.$cstNode){const a=(n.$textRegion=s(n.$cstNode)).assignments={};return Object.keys(n).filter(c=>!c.startsWith("$")).forEach(c=>{const d=(0,q.Bd)(n.$cstNode,c).map(s);0!==d.length&&(a[c]=d)}),n}}linkNode(n,s,i,a,c,d){for(const[E,O]of Object.entries(n))if(Array.isArray(O))for(let U=0;U<O.length;U++){const te=O[U];ea(te)?O[U]=this.reviveReference(n,E,s,te,i):(0,Ve.ng)(te)&&this.linkNode(te,s,i,n,E,U)}else ea(O)?n[E]=this.reviveReference(n,E,s,O,i):(0,Ve.ng)(O)&&this.linkNode(O,s,i,n,E);const m=n;m.$container=a,m.$containerProperty=c,m.$containerIndex=d}reviveReference(n,s,i,a,c){let d=a.$refText,m=a.$error;if(a.$ref){const E=this.getRefNode(i,a.$ref,c.uriConverter);if((0,Ve.ng)(E))return d||(d=this.nameProvider.getName(E)),{$refText:d??"",ref:E};m=E}if(m){const E={$refText:d??""};return E.error={container:n,property:s,message:m,reference:E},E}}getRefNode(n,s,i){try{const a=s.indexOf("#");if(0===a)return this.astNodeLocator.getAstNode(n,s.substring(1))||"Could not resolve path: "+s;if(a<0){const E=i?i(s):Gt.r.parse(s),O=this.langiumDocuments.getDocument(E);return O?O.parseResult.value:"Could not find document for URI: "+s}const c=i?i(s.substring(0,a)):Gt.r.parse(s.substring(0,a)),d=this.langiumDocuments.getDocument(c);return d?a===s.length-1?d.parseResult.value:this.astNodeLocator.getAstNode(d.parseResult.value,s.substring(a+1))||"Could not resolve URI: "+s:"Could not find document for URI: "+s}catch(a){return String(a)}}}class Ms{get map(){return this.fileExtensionMap}constructor(n){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=n?.workspace.TextDocuments}register(n){const s=n.LanguageMetaData;for(const i of s.fileExtensions)this.fileExtensionMap.has(i)&&console.warn(`The file extension ${i} is used by multiple languages. It is now assigned to '${s.languageId}'.`),this.fileExtensionMap.set(i,n);this.languageIdMap.set(s.languageId,n),this.singleton=1===this.languageIdMap.size?n:void 0}getServices(n){var s,i;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const a=null===(i=null===(s=this.textDocuments)||void 0===s?void 0:s.get(n))||void 0===i?void 0:i.languageId;if(void 0!==a){const m=this.languageIdMap.get(a);if(m)return m}const c=Cn.extname(n),d=this.fileExtensionMap.get(c);if(!d)throw a?new Error(`The service registry contains no services for the extension '${c}' for language '${a}'.`):new Error(`The service registry contains no services for the extension '${c}'.`);return d}hasServices(n){try{return this.getServices(n),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function $r(l){return{code:l}}var ts=function(l){return l.all=["fast","slow","built-in"],l}(ts||{});class al{constructor(n){this.entries=new Zr,this.entriesBefore=[],this.entriesAfter=[],this.reflection=n.shared.AstReflection}register(n,s=this,i="fast"){if("built-in"===i)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[a,c]of Object.entries(n)){const d=c;if(Array.isArray(d))for(const m of d){const E={check:this.wrapValidationException(m,s),category:i};this.addEntry(a,E)}else if("function"==typeof d){const m={check:this.wrapValidationException(d,s),category:i};this.addEntry(a,m)}else(0,nr.d)(d)}}wrapValidationException(n,s){var i=this;return function(){var a=(0,ke.A)(function*(c,d,m){yield i.handleException(()=>n.call(s,c,d,m),"An error occurred during validation",d,c)});return function(c,d,m){return a.apply(this,arguments)}}()}handleException(n,s,i,a){return(0,ke.A)(function*(){try{yield n()}catch(c){if(Qr(c))throw c;console.error(`${s}:`,c),c instanceof Error&&c.stack&&console.error(c.stack);const d=c instanceof Error?c.message:String(c);i("error",`${s}: ${d}`,{node:a})}})()}addEntry(n,s){if("AstNode"!==n)for(const i of this.reflection.getAllSubTypes(n))this.entries.add(i,s);else this.entries.add("AstNode",s)}getChecks(n,s){let i=(0,nt.Td)(this.entries.get(n)).concat(this.entries.get("AstNode"));return s&&(i=i.filter(a=>s.includes(a.category))),i.map(a=>a.check)}registerBeforeDocument(n,s=this){this.entriesBefore.push(this.wrapPreparationException(n,"An error occurred during set-up of the validation",s))}registerAfterDocument(n,s=this){this.entriesAfter.push(this.wrapPreparationException(n,"An error occurred during tear-down of the validation",s))}wrapPreparationException(n,s,i){var a=this;return function(){var c=(0,ke.A)(function*(d,m,E,O){yield a.handleException(()=>n.call(i,d,m,E,O),s,m,d)});return function(d,m,E,O){return c.apply(this,arguments)}}()}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Ds{constructor(n){this.validationRegistry=n.validation.ValidationRegistry,this.metadata=n.LanguageMetaData}validateDocument(n){var s=this;return(0,ke.A)(function*(i,a={},c=qe.XO.None){const d=i.parseResult,m=[];if(yield xt(c),(!a.categories||a.categories.includes("built-in"))&&(s.processLexingErrors(d,m,a),a.stopAfterLexingErrors&&m.some(E=>{var O;return(null===(O=E.data)||void 0===O?void 0:O.code)===Ut.LexingError})||(s.processParsingErrors(d,m,a),a.stopAfterParsingErrors&&m.some(E=>{var O;return(null===(O=E.data)||void 0===O?void 0:O.code)===Ut.ParsingError}))||(s.processLinkingErrors(i,m,a),a.stopAfterLinkingErrors&&m.some(E=>{var O;return(null===(O=E.data)||void 0===O?void 0:O.code)===Ut.LinkingError}))))return m;try{m.push(...yield s.validateAst(d.value,a,c))}catch(E){if(Qr(E))throw E;console.error("An error occurred during validation:",E)}return yield xt(c),m}).apply(this,arguments)}processLexingErrors(n,s,i){var a,c,d;const m=[...n.lexerErrors,...null!==(c=null===(a=n.lexerReport)||void 0===a?void 0:a.diagnostics)&&void 0!==c?c:[]];for(const E of m){const O=null!==(d=E.severity)&&void 0!==d?d:"error",U={severity:Fs(O),range:{start:{line:E.line-1,character:E.column-1},end:{line:E.line-1,character:E.column+E.length-1}},message:E.message,data:ll(O),source:this.getSource()};s.push(U)}}processParsingErrors(n,s,i){for(const a of n.parserErrors){let c;if(isNaN(a.token.startOffset)){if("previousToken"in a){const d=a.previousToken;if(isNaN(d.startOffset)){const m={line:0,character:0};c={start:m,end:m}}else{const m={line:d.endLine-1,character:d.endColumn};c={start:m,end:m}}}}else c=(0,S.wf)(a.token);if(c){const d={severity:Fs("error"),range:c,message:a.message,data:$r(Ut.ParsingError),source:this.getSource()};s.push(d)}}}processLinkingErrors(n,s,i){for(const a of n.references){const c=a.error;c&&s.push(this.toDiagnostic("error",c.message,{node:c.container,property:c.property,index:c.index,data:{code:Ut.LinkingError,containerType:c.container.$type,property:c.property,refText:c.reference.$refText}}))}}validateAst(n,s){var i=this;return(0,ke.A)(function*(a,c,d=qe.XO.None){const m=[],E=(O,U,te)=>{m.push(i.toDiagnostic(O,U,te))};return yield i.validateAstBefore(a,c,E,d),yield i.validateAstNodes(a,c,E,d),yield i.validateAstAfter(a,c,E,d),m}).apply(this,arguments)}validateAstBefore(n,s,i){var a=this;return(0,ke.A)(function*(c,d,m,E=qe.XO.None){var O;const U=a.validationRegistry.checksBefore;for(const te of U)yield xt(E),yield te(c,m,null!==(O=d.categories)&&void 0!==O?O:[],E)}).apply(this,arguments)}validateAstNodes(n,s,i){var a=this;return(0,ke.A)(function*(c,d,m,E=qe.XO.None){yield Promise.all((0,ue.jm)(c).map(function(){var O=(0,ke.A)(function*(U){yield xt(E);const te=a.validationRegistry.getChecks(U.$type,d.categories);for(const ne of te)yield ne(U,m,E)});return function(U){return O.apply(this,arguments)}}()))}).apply(this,arguments)}validateAstAfter(n,s,i){var a=this;return(0,ke.A)(function*(c,d,m,E=qe.XO.None){var O;const U=a.validationRegistry.checksAfter;for(const te of U)yield xt(E),yield te(c,m,null!==(O=d.categories)&&void 0!==O?O:[],E)}).apply(this,arguments)}toDiagnostic(n,s,i){return{message:s,range:ol(i),severity:Fs(n),code:i.code,codeDescription:i.codeDescription,tags:i.tags,relatedInformation:i.relatedInformation,data:i.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function ol(l){if(l.range)return l.range;let n;return"string"==typeof l.property?n=(0,q.qO)(l.node.$cstNode,l.property,l.index):"string"==typeof l.keyword&&(n=(0,q.SS)(l.node.$cstNode,l.keyword,l.index)),n??(n=l.node.$cstNode),n?n.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Fs(l){switch(l){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+l)}}function ll(l){switch(l){case"error":return $r(Ut.LexingError);case"warning":return $r(Ut.LexingWarning);case"info":return $r(Ut.LexingInfo);case"hint":return $r(Ut.LexingHint);default:throw new Error("Invalid diagnostic severity: "+l)}}var Ut=function(l){return l.LexingError="lexing-error",l.LexingWarning="lexing-warning",l.LexingInfo="lexing-info",l.LexingHint="lexing-hint",l.ParsingError="parsing-error",l.LinkingError="linking-error",l}(Ut||{});class ul{constructor(n){this.astNodeLocator=n.workspace.AstNodeLocator,this.nameProvider=n.references.NameProvider}createDescription(n,s,i){const a=i??(0,ue.YE)(n);s??(s=this.nameProvider.getName(n));const c=this.astNodeLocator.getAstNodePath(n);if(!s)throw new Error(`Node at path ${c} has no name.`);let d;const m=()=>{var E;return d??(d=(0,S.SX)(null!==(E=this.nameProvider.getNameNode(n))&&void 0!==E?E:n.$cstNode))};return{node:n,name:s,get nameSegment(){return m()},selectionSegment:(0,S.SX)(n.$cstNode),type:n.$type,documentUri:a.uri,path:c}}}class ns{constructor(n){this.nodeLocator=n.workspace.AstNodeLocator}createDescriptions(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){const c=[],d=i.parseResult.value;for(const m of(0,ue.jm)(d))yield xt(a),(0,ue.DM)(m).filter(E=>!(0,Ve.Zl)(E)).forEach(E=>{const O=s.createDescription(E);O&&c.push(O)});return c}).apply(this,arguments)}createDescription(n){const s=n.reference.$nodeDescription,i=n.reference.$refNode;if(!s||!i)return;const a=(0,ue.YE)(n.container).uri;return{sourceUri:a,sourcePath:this.nodeLocator.getAstNodePath(n.container),targetUri:s.documentUri,targetPath:s.path,segment:(0,S.SX)(i),local:Cn.equals(s.documentUri,a)}}}class cl{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(n){if(n.$container){const s=this.getAstNodePath(n.$container),i=this.getPathSegment(n);return s+this.segmentSeparator+i}return""}getPathSegment({$containerProperty:n,$containerIndex:s}){if(!n)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==s?n+this.indexSeparator+s:n}getAstNode(n,s){return s.split(this.segmentSeparator).reduce((a,c)=>{if(!a||0===c.length)return a;const d=c.indexOf(this.indexSeparator);if(d>0){const m=c.substring(0,d),E=parseInt(c.substring(d+1)),O=a[m];return O?.[E]}return a[c]},n)}}var Un,fl=$(2240);class dl{constructor(n){this._ready=new Ns,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new fl.Emitter,this.serviceRegistry=n.ServiceRegistry}get ready(){return this._ready.promise}initialize(n){var s,i;this.workspaceConfig=null!==(i=null===(s=n.capabilities.workspace)||void 0===s?void 0:s.configuration)&&void 0!==i&&i}initialized(n){var s=this;return(0,ke.A)(function*(){if(s.workspaceConfig&&(n.register&&n.register({section:s.serviceRegistry.all.map(a=>s.toSectionName(a.LanguageMetaData.languageId))}),n.fetchConfiguration)){const i=s.serviceRegistry.all.map(c=>({section:s.toSectionName(c.LanguageMetaData.languageId)})),a=yield n.fetchConfiguration(i);i.forEach((c,d)=>{s.updateSectionConfiguration(c.section,a[d])})}s._ready.resolve()})()}updateConfiguration(n){n.settings&&Object.keys(n.settings).forEach(s=>{const i=n.settings[s];this.updateSectionConfiguration(s,i),this.onConfigurationSectionUpdateEmitter.fire({section:s,configuration:i})})}updateSectionConfiguration(n,s){this.settings[n]=s}getConfiguration(n,s){var i=this;return(0,ke.A)(function*(){yield i.ready;const a=i.toSectionName(n);if(i.settings[a])return i.settings[a][s]})()}toSectionName(n){return`${n}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(l){l.create=function n(s){return{dispose:(i=(0,ke.A)(function*(){return yield s()}),function(){return i.apply(this,arguments)})};var i}}(Un||(Un={}));class hl{constructor(n){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Zr,this.documentPhaseListeners=new Zr,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Qe.Changed,this.langiumDocuments=n.workspace.LangiumDocuments,this.langiumDocumentFactory=n.workspace.LangiumDocumentFactory,this.textDocuments=n.workspace.TextDocuments,this.indexManager=n.workspace.IndexManager,this.serviceRegistry=n.ServiceRegistry}build(n){var s=this;return(0,ke.A)(function*(i,a={},c=qe.XO.None){var d,m;for(const E of i){const O=E.uri.toString();if(E.state===Qe.Validated){if("boolean"==typeof a.validation&&a.validation)E.state=Qe.IndexedReferences,E.diagnostics=void 0,s.buildState.delete(O);else if("object"==typeof a.validation){const U=s.buildState.get(O),te=null===(d=U?.result)||void 0===d?void 0:d.validationChecks;if(te){const z=(null!==(m=a.validation.categories)&&void 0!==m?m:ts.all).filter(Ke=>!te.includes(Ke));z.length>0&&(s.buildState.set(O,{completed:!1,options:{validation:Object.assign(Object.assign({},a.validation),{categories:z})},result:U.result}),E.state=Qe.IndexedReferences)}}}else s.buildState.delete(O)}s.currentState=Qe.Changed,yield s.emitUpdate(i.map(E=>E.uri),[]),yield s.buildDocuments(i,a,c)}).apply(this,arguments)}update(n,s){var i=this;return(0,ke.A)(function*(a,c,d=qe.XO.None){i.currentState=Qe.Changed;for(const O of c)i.langiumDocuments.deleteDocument(O),i.buildState.delete(O.toString()),i.indexManager.remove(O);for(const O of a){if(!i.langiumDocuments.invalidateDocument(O)){const te=i.langiumDocumentFactory.fromModel({$type:"INVALID"},O);te.state=Qe.Changed,i.langiumDocuments.addDocument(te)}i.buildState.delete(O.toString())}const m=(0,nt.Td)(a).concat(c).map(O=>O.toString()).toSet();i.langiumDocuments.all.filter(O=>!m.has(O.uri.toString())&&i.shouldRelink(O,m)).forEach(O=>{i.serviceRegistry.getServices(O.uri).references.Linker.unlink(O),O.state=Math.min(O.state,Qe.ComputedScopes),O.diagnostics=void 0}),yield i.emitUpdate(a,c),yield xt(d);const E=i.sortDocuments(i.langiumDocuments.all.filter(O=>{var U;return O.state<Qe.Linked||!(null!==(U=i.buildState.get(O.uri.toString()))&&void 0!==U&&U.completed)}).toArray());yield i.buildDocuments(E,i.updateBuildOptions,d)}).apply(this,arguments)}emitUpdate(n,s){var i=this;return(0,ke.A)(function*(){yield Promise.all(i.updateListeners.map(a=>a(n,s)))})()}sortDocuments(n){let s=0,i=n.length-1;for(;s<i;){for(;s<n.length&&this.hasTextDocument(n[s]);)s++;for(;i>=0&&!this.hasTextDocument(n[i]);)i--;s<i&&([n[s],n[i]]=[n[i],n[s]])}return n}hasTextDocument(n){var s;return!(null===(s=this.textDocuments)||void 0===s||!s.get(n.uri))}shouldRelink(n,s){return!!n.references.some(i=>void 0!==i.error)||this.indexManager.isAffected(n,s)}onUpdate(n){return this.updateListeners.push(n),Un.create(()=>{const s=this.updateListeners.indexOf(n);s>=0&&this.updateListeners.splice(s,1)})}buildDocuments(n,s,i){var a=this;return(0,ke.A)(function*(){a.prepareBuild(n,s),yield a.runCancelable(n,Qe.Parsed,i,d=>a.langiumDocumentFactory.update(d,i)),yield a.runCancelable(n,Qe.IndexedContent,i,d=>a.indexManager.updateContent(d,i)),yield a.runCancelable(n,Qe.ComputedScopes,i,function(){var d=(0,ke.A)(function*(m){const E=a.serviceRegistry.getServices(m.uri).references.ScopeComputation;m.precomputedScopes=yield E.computeLocalScopes(m,i)});return function(m){return d.apply(this,arguments)}}()),yield a.runCancelable(n,Qe.Linked,i,d=>a.serviceRegistry.getServices(d.uri).references.Linker.link(d,i)),yield a.runCancelable(n,Qe.IndexedReferences,i,d=>a.indexManager.updateReferences(d,i));const c=n.filter(d=>a.shouldValidate(d));yield a.runCancelable(c,Qe.Validated,i,d=>a.validate(d,i));for(const d of n){const m=a.buildState.get(d.uri.toString());m&&(m.completed=!0)}})()}prepareBuild(n,s){for(const i of n){const a=i.uri.toString(),c=this.buildState.get(a);(!c||c.completed)&&this.buildState.set(a,{completed:!1,options:s,result:c?.result})}}runCancelable(n,s,i,a){var c=this;return(0,ke.A)(function*(){const d=n.filter(E=>E.state<s);for(const E of d)yield xt(i),yield a(E),E.state=s,yield c.notifyDocumentPhase(E,s,i);const m=n.filter(E=>E.state===s);yield c.notifyBuildPhase(m,s,i),c.currentState=s})()}onBuildPhase(n,s){return this.buildPhaseListeners.add(n,s),Un.create(()=>{this.buildPhaseListeners.delete(n,s)})}onDocumentPhase(n,s){return this.documentPhaseListeners.add(n,s),Un.create(()=>{this.documentPhaseListeners.delete(n,s)})}waitUntil(n,s,i){let a;if(s&&"path"in s?a=s:i=s,i??(i=qe.XO.None),a){const c=this.langiumDocuments.getDocument(a);if(c&&c.state>n)return Promise.resolve(a)}return this.currentState>=n?Promise.resolve(void 0):i.isCancellationRequested?Promise.reject(qr):new Promise((c,d)=>{const m=this.onBuildPhase(n,()=>{if(m.dispose(),E.dispose(),a){const O=this.langiumDocuments.getDocument(a);c(O?.uri)}else c(void 0)}),E=i.onCancellationRequested(()=>{m.dispose(),E.dispose(),d(qr)})})}notifyDocumentPhase(n,s,i){var a=this;return(0,ke.A)(function*(){const d=a.documentPhaseListeners.get(s).slice();for(const m of d)try{yield m(n,i)}catch(E){if(!Qr(E))throw E}})()}notifyBuildPhase(n,s,i){var a=this;return(0,ke.A)(function*(){if(0===n.length)return;const d=a.buildPhaseListeners.get(s).slice();for(const m of d)yield xt(i),yield m(n,i)})()}shouldValidate(n){return!!this.getBuildOptions(n).validation}validate(n,s){var i=this;return(0,ke.A)(function*(){var a,c;const d=i.serviceRegistry.getServices(n.uri).validation.DocumentValidator,m=i.getBuildOptions(n).validation,E="object"==typeof m?m:void 0,O=yield d.validateDocument(n,E,s);n.diagnostics?n.diagnostics.push(...O):n.diagnostics=O;const U=i.buildState.get(n.uri.toString());if(U){null!==(a=U.result)&&void 0!==a||(U.result={});const te=null!==(c=E?.categories)&&void 0!==c?c:ts.all;U.result.validationChecks?U.result.validationChecks.push(...te):U.result.validationChecks=[...te]}})()}getBuildOptions(n){var s,i;return null!==(i=null===(s=this.buildState.get(n.uri.toString()))||void 0===s?void 0:s.options)&&void 0!==i?i:{}}}class pl{constructor(n){this.symbolIndex=new Map,this.symbolByTypeIndex=new ir,this.referenceIndex=new Map,this.documents=n.workspace.LangiumDocuments,this.serviceRegistry=n.ServiceRegistry,this.astReflection=n.AstReflection}findAllReferences(n,s){const i=(0,ue.YE)(n).uri,a=[];return this.referenceIndex.forEach(c=>{c.forEach(d=>{Cn.equals(d.targetUri,i)&&d.targetPath===s&&a.push(d)})}),(0,nt.Td)(a)}allElements(n,s){let i=(0,nt.Td)(this.symbolIndex.keys());return s&&(i=i.filter(a=>!s||s.has(a))),i.map(a=>this.getFileDescriptions(a,n)).flat()}getFileDescriptions(n,s){var i;return s?this.symbolByTypeIndex.get(n,s,()=>{var c;return(null!==(c=this.symbolIndex.get(n))&&void 0!==c?c:[]).filter(m=>this.astReflection.isSubtype(m.type,s))}):null!==(i=this.symbolIndex.get(n))&&void 0!==i?i:[]}remove(n){const s=n.toString();this.symbolIndex.delete(s),this.symbolByTypeIndex.clear(s),this.referenceIndex.delete(s)}updateContent(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){const d=yield s.serviceRegistry.getServices(i.uri).references.ScopeComputation.computeExports(i,a),m=i.uri.toString();s.symbolIndex.set(m,d),s.symbolByTypeIndex.clear(m)}).apply(this,arguments)}updateReferences(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){const d=yield s.serviceRegistry.getServices(i.uri).workspace.ReferenceDescriptionProvider.createDescriptions(i,a);s.referenceIndex.set(i.uri.toString(),d)}).apply(this,arguments)}isAffected(n,s){const i=this.referenceIndex.get(n.uri.toString());return!!i&&i.some(a=>!a.local&&s.has(a.targetUri.toString()))}}class ml{constructor(n){this.initialBuildOptions={},this._ready=new Ns,this.serviceRegistry=n.ServiceRegistry,this.langiumDocuments=n.workspace.LangiumDocuments,this.documentBuilder=n.workspace.DocumentBuilder,this.fileSystemProvider=n.workspace.FileSystemProvider,this.mutex=n.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(n){var s;this.folders=null!==(s=n.workspaceFolders)&&void 0!==s?s:void 0}initialized(n){return this.mutex.write(s=>{var i;return this.initializeWorkspace(null!==(i=this.folders)&&void 0!==i?i:[],s)})}initializeWorkspace(n){var s=this;return(0,ke.A)(function*(i,a=qe.XO.None){const c=yield s.performStartup(i);yield xt(a),yield s.documentBuilder.build(c,s.initialBuildOptions,a)}).apply(this,arguments)}performStartup(n){var s=this;return(0,ke.A)(function*(){const i=s.serviceRegistry.all.flatMap(d=>d.LanguageMetaData.fileExtensions),a=[],c=d=>{a.push(d),s.langiumDocuments.hasDocument(d.uri)||s.langiumDocuments.addDocument(d)};return yield s.loadAdditionalDocuments(n,c),yield Promise.all(n.map(d=>[d,s.getRootFolder(d)]).map(function(){var d=(0,ke.A)(function*(m){return s.traverseFolder(...m,i,c)});return function(m){return d.apply(this,arguments)}}())),s._ready.resolve(),a})()}loadAdditionalDocuments(n,s){return Promise.resolve()}getRootFolder(n){return Gt.r.parse(n.uri)}traverseFolder(n,s,i,a){var c=this;return(0,ke.A)(function*(){const d=yield c.fileSystemProvider.readDirectory(s);yield Promise.all(d.map(function(){var m=(0,ke.A)(function*(E){if(c.includeEntry(n,E,i))if(E.isDirectory)yield c.traverseFolder(n,E.uri,i,a);else if(E.isFile){const O=yield c.langiumDocuments.getOrCreateDocument(E.uri);a(O)}});return function(E){return m.apply(this,arguments)}}()))})()}includeEntry(n,s,i){const a=Cn.basename(s.uri);if(a.startsWith("."))return!1;if(s.isDirectory)return"node_modules"!==a&&"out"!==a;if(s.isFile){const c=Cn.extname(s.uri);return i.includes(c)}return!1}}class gl{buildUnexpectedCharactersMessage(n,s,i,a,c){return M.PW.buildUnexpectedCharactersMessage(n,s,i,a,c)}buildUnableToPopLexerModeMessage(n){return M.PW.buildUnableToPopLexerModeMessage(n)}}const _l={mode:"full"};class yl{constructor(n){this.errorMessageProvider=n.parser.LexerErrorMessageProvider,this.tokenBuilder=n.parser.TokenBuilder;const s=this.tokenBuilder.buildTokens(n.Grammar,{caseInsensitive:n.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(s);const i=na(s)?Object.values(s):s;this.chevrotainLexer=new M.JG(i,{positionTracking:"full",skipValidations:"production"===n.LanguageMetaData.mode,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(n,s=_l){var i,a,c;const d=this.chevrotainLexer.tokenize(n);return{tokens:d.tokens,errors:d.errors,hidden:null!==(i=d.groups.hidden)&&void 0!==i?i:[],report:null===(c=(a=this.tokenBuilder).flushLexingReport)||void 0===c?void 0:c.call(a,n)}}toTokenTypeDictionary(n){if(na(n))return n;const s=ta(n)?Object.values(n.modes).flat():n,i={};return s.forEach(a=>i[a.name]=a),i}}function ta(l){return l&&"modes"in l&&"defaultMode"in l}function na(l){return!function Tl(l){return Array.isArray(l)&&(0===l.length||"name"in l[0])}(l)&&!ta(l)}function ra(l){let n="";return n="string"==typeof l?l:l.text,n.split(J.TH)}const sa=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,ia=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function El(l,n,s,i){const a=[];if(0===l.length){const c=L.create(s,i),d=L.create(s,i+n.length);a.push({type:"text",content:n,range:Ne.create(c,d)})}else{let c=0;for(const m of l){const E=m.index,O=n.substring(c,E);O.length>0&&a.push({type:"text",content:n.substring(c,E),range:Ne.create(L.create(s,c+i),L.create(s,E+i))});let U=O.length+1;const te=m[1];if(a.push({type:"inline-tag",content:te,range:Ne.create(L.create(s,c+U+i),L.create(s,c+U+te.length+i))}),U+=te.length,4===m.length){U+=m[2].length;const ne=m[3];a.push({type:"text",content:ne,range:Ne.create(L.create(s,c+U+i),L.create(s,c+U+ne.length+i))})}else a.push({type:"text",content:"",range:Ne.create(L.create(s,c+U+i),L.create(s,c+U+i))});c=E+m[0].length}const d=n.substring(c);d.length>0&&a.push({type:"text",content:d,range:Ne.create(L.create(s,c+i),L.create(s,c+i+d.length))})}return a}const Rl=/\S/,Il=/\s*$/;function Or(l,n){const s=l.substring(n).match(Rl);return s?n+s.index:l.length}function Cl(l){const n=l.match(Il);if(n&&"number"==typeof n.index)return n.index}function Sl(l,n){const s=l.tokens[l.index];return"tag"===s.type?ua(l,!1):"text"===s.type||"inline-tag"===s.type?oa(l):(function Us(l,n){if(n){const s=new fa("",l.range);"inlines"in n?n.inlines.push(s):n.content.inlines.push(s)}}(s,n),void l.index++)}function oa(l){let n=l.tokens[l.index];const s=n;let i=n;const a=[];for(;n&&"break"!==n.type&&"tag"!==n.type;)a.push(la(l)),i=n,n=l.tokens[l.index];return new Ws(a,Ne.create(s.range.start,i.range.end))}function la(l){return"inline-tag"===l.tokens[l.index].type?ua(l,!0):ca(l)}function ua(l,n){const s=l.tokens[l.index++],i=s.content.substring(1),a=l.tokens[l.index];if("text"===a?.type){if(n){const c=ca(l);return new Ks(i,new Ws([c],c.range),n,Ne.create(s.range.start,c.range.end))}{const c=oa(l);return new Ks(i,c,n,Ne.create(s.range.start,c.range.end))}}{const c=s.range;return new Ks(i,new Ws([],c),n,c)}}function ca(l){const n=l.tokens[l.index++];return new fa(n.content,n.range)}function rs(l){if(!l)return rs({start:"/**",end:"*/",line:"*"});const{start:n,end:s,line:i}=l;return{start:Bs(n,!0),end:Bs(s,!1),line:Bs(i,!0)}}function Bs(l,n){if("string"==typeof l||"object"==typeof l){const s="string"==typeof l?(0,J.Nt)(l):l.source;return n?new RegExp(`^\\s*${s}`):new RegExp(`\\s*${s}\\s*$`)}return l}class ss{constructor(n,s){this.elements=n,this.range=s}getTag(n){return this.getAllTags().find(s=>s.name===n)}getTags(n){return this.getAllTags().filter(s=>s.name===n)}getAllTags(){return this.elements.filter(n=>"name"in n)}toString(){let n="";for(const s of this.elements)if(0===n.length)n=s.toString();else{const i=s.toString();n+=da(n)+i}return n.trim()}toMarkdown(n){let s="";for(const i of this.elements)if(0===s.length)s=i.toMarkdown(n);else{const a=i.toMarkdown(n);s+=da(s)+a}return s.trim()}}class Ks{constructor(n,s,i,a){this.name=n,this.content=s,this.inline=i,this.range=a}toString(){let n=`@${this.name}`;const s=this.content.toString();return 1===this.content.inlines.length?n=`${n} ${s}`:this.content.inlines.length>1&&(n=`${n}\n${s}`),this.inline?`{${n}}`:n}toMarkdown(n){var s,i;return null!==(i=null===(s=n?.renderTag)||void 0===s?void 0:s.call(n,this))&&void 0!==i?i:this.toMarkdownDefault(n)}toMarkdownDefault(n){const s=this.content.toMarkdown(n);if(this.inline){const c=function js(l,n,s){var i,a;if("linkplain"===l||"linkcode"===l||"link"===l){const c=n.indexOf(" ");let d=n;if(c>0){const E=Or(n,c);d=n.substring(E),n=n.substring(0,c)}return("linkcode"===l||"link"===l&&"code"===s.link)&&(d=`\`${d}\``),null!==(a=null===(i=s.renderLink)||void 0===i?void 0:i.call(s,n,d))&&void 0!==a?a:function xl(l,n){try{return Gt.r.parse(l,!0),`[${n}](${l})`}catch{return l}}(n,d)}}(this.name,s,n??{});if("string"==typeof c)return c}let i="";"italic"===n?.tag||void 0===n?.tag?i="*":"bold"===n?.tag?i="**":"bold-italic"===n?.tag&&(i="***");let a=`${i}@${this.name}${i}`;return 1===this.content.inlines.length?a=`${a} \u2014 ${s}`:this.content.inlines.length>1&&(a=`${a}\n${s}`),this.inline?`{${a}}`:a}}class Ws{constructor(n,s){this.inlines=n,this.range=s}toString(){let n="";for(let s=0;s<this.inlines.length;s++){const i=this.inlines[s],a=this.inlines[s+1];n+=i.toString(),a&&a.range.start.line>i.range.start.line&&(n+="\n")}return n}toMarkdown(n){let s="";for(let i=0;i<this.inlines.length;i++){const a=this.inlines[i],c=this.inlines[i+1];s+=a.toMarkdown(n),c&&c.range.start.line>a.range.start.line&&(s+="\n")}return s}}class fa{constructor(n,s){this.text=n,this.range=s}toString(){return this.text}toMarkdown(){return this.text}}function da(l){return l.endsWith("\n")?"\n":"\n\n"}class bl{constructor(n){this.indexManager=n.shared.workspace.IndexManager,this.commentProvider=n.documentation.CommentProvider}getDocumentation(n){const s=this.commentProvider.getComment(n);if(s&&function Al(l,n){const s=rs(n),i=ra(l);if(0===i.length)return!1;const a=i[0],c=i[i.length-1],d=s.start,m=s.end;return!!d?.exec(a)&&!!m?.exec(c)}(s))return function vl(l,n,s){let i,a;"string"==typeof l?(a=n,i=s):(a=l.range.start,i=n),a||(a=L.create(0,0));const m=function Gs(l){var n,s,i;const a=[];let c=l.position.line,d=l.position.character;for(let m=0;m<l.lines.length;m++){const O=m===l.lines.length-1;let U=l.lines[m],te=0;if(0===m&&l.options.start){const z=null===(n=l.options.start)||void 0===n?void 0:n.exec(U);z&&(te=z.index+z[0].length)}else{const z=null===(s=l.options.line)||void 0===s?void 0:s.exec(U);z&&(te=z.index+z[0].length)}if(O){const z=null===(i=l.options.end)||void 0===i?void 0:i.exec(U);z&&(U=U.substring(0,z.index))}if(U=U.substring(0,Cl(U)),Or(U,te)>=U.length){if(a.length>0){const z=L.create(c,d);a.push({type:"break",content:"",range:Ne.create(z,z)})}}else{sa.lastIndex=te;const z=sa.exec(U);if(z){const Ke=z[0],Xe=z[1],et=L.create(c,d+te),Bt=L.create(c,d+te+Ke.length);a.push({type:"tag",content:Xe,range:Ne.create(et,Bt)}),te+=Ke.length,te=Or(U,te)}if(te<U.length){const Ke=U.substring(te),Xe=Array.from(Ke.matchAll(ia));a.push(...El(Xe,Ke,c,d+te))}}c++,d=0}return a.length>0&&"break"===a[a.length-1].type?a.slice(0,-1):a}({lines:ra(l),position:a,options:rs(i)});return function aa(l){var n,s,i,a;const c=L.create(l.position.line,l.position.character);if(0===l.tokens.length)return new ss([],Ne.create(c,c));const d=[];for(;l.index<l.tokens.length;){const O=Sl(l,d[d.length-1]);O&&d.push(O)}const m=null!==(s=null===(n=d[0])||void 0===n?void 0:n.range.start)&&void 0!==s?s:c,E=null!==(a=null===(i=d[d.length-1])||void 0===i?void 0:i.range.end)&&void 0!==a?a:c;return new ss(d,Ne.create(m,E))}({index:0,tokens:m,position:a})}(s).toMarkdown({renderLink:(a,c)=>this.documentationLinkRenderer(n,a,c),renderTag:a=>this.documentationTagRenderer(n,a)})}documentationLinkRenderer(n,s,i){var a;const c=null!==(a=this.findNameInPrecomputedScopes(n,s))&&void 0!==a?a:this.findNameInGlobalScope(n,s);if(c&&c.nameSegment)return`[${i}](${c.documentUri.with({fragment:`L${c.nameSegment.range.start.line+1},${c.nameSegment.range.start.character+1}`}).toString()})`}documentationTagRenderer(n,s){}findNameInPrecomputedScopes(n,s){const a=(0,ue.YE)(n).precomputedScopes;if(!a)return;let c=n;do{const m=a.get(c).find(E=>E.name===s);if(m)return m;c=c.$container}while(c)}findNameInGlobalScope(n,s){return this.indexManager.allElements().find(a=>a.name===s)}}class $l{constructor(n){this.grammarConfig=()=>n.parser.GrammarConfig}getComment(n){var s;return function il(l){return"string"==typeof l.$comment}(n)?n.$comment:null===(s=(0,S.v)(n.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===s?void 0:s.text}}class ha{constructor(n){this.syncParser=n.parser.LangiumParser}parse(n,s){return Promise.resolve(this.syncParser.parse(n))}}class pa{constructor(){this.previousTokenSource=new qe.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(n){this.cancelWrite();const s=function Yo(){return Yr=performance.now(),new qe.Qi}();return this.previousTokenSource=s,this.enqueue(this.writeQueue,n,s.token)}read(n){return this.enqueue(this.readQueue,n)}enqueue(n,s,i=qe.XO.None){const a=new Ns;return n.push({action:s,deferred:a,cancellationToken:i}),this.performNextOperation(),a.promise}performNextOperation(){var n=this;return(0,ke.A)(function*(){if(!n.done)return;const s=[];if(n.writeQueue.length>0)s.push(n.writeQueue.shift());else{if(!(n.readQueue.length>0))return;s.push(...n.readQueue.splice(0,n.readQueue.length))}n.done=!1,yield Promise.all(s.map(function(){var i=(0,ke.A)(function*({action:a,deferred:c,cancellationToken:d}){try{const m=yield Promise.resolve().then(()=>a(d));c.resolve(m)}catch(m){Qr(m)?c.resolve(void 0):c.reject(m)}});return function(a){return i.apply(this,arguments)}}())),n.done=!0,n.performNextOperation()})()}cancelWrite(){this.previousTokenSource.cancel()}}class ma{constructor(n){this.grammarElementIdMap=new Ji,this.tokenTypeIdMap=new Ji,this.grammar=n.Grammar,this.lexer=n.parser.Lexer,this.linker=n.references.Linker}dehydrate(n){return{lexerErrors:n.lexerErrors,lexerReport:n.lexerReport?this.dehydrateLexerReport(n.lexerReport):void 0,parserErrors:n.parserErrors.map(s=>Object.assign(Object.assign({},s),{message:s.message})),value:this.dehydrateAstNode(n.value,this.createDehyrationContext(n.value))}}dehydrateLexerReport(n){return n}createDehyrationContext(n){const s=new Map,i=new Map;for(const a of(0,ue.jm)(n))s.set(a,{});if(n.$cstNode)for(const a of(0,S.NS)(n.$cstNode))i.set(a,{});return{astNodes:s,cstNodes:i}}dehydrateAstNode(n,s){const i=s.astNodes.get(n);i.$type=n.$type,i.$containerIndex=n.$containerIndex,i.$containerProperty=n.$containerProperty,void 0!==n.$cstNode&&(i.$cstNode=this.dehydrateCstNode(n.$cstNode,s));for(const[a,c]of Object.entries(n))if(!a.startsWith("$"))if(Array.isArray(c)){const d=[];i[a]=d;for(const m of c)(0,Ve.ng)(m)?d.push(this.dehydrateAstNode(m,s)):(0,Ve.A_)(m)?d.push(this.dehydrateReference(m,s)):d.push(m)}else(0,Ve.ng)(c)?i[a]=this.dehydrateAstNode(c,s):(0,Ve.A_)(c)?i[a]=this.dehydrateReference(c,s):void 0!==c&&(i[a]=c);return i}dehydrateReference(n,s){const i={};return i.$refText=n.$refText,n.$refNode&&(i.$refNode=s.cstNodes.get(n.$refNode)),i}dehydrateCstNode(n,s){const i=s.cstNodes.get(n);return(0,Ve.br)(n)?i.fullText=n.fullText:i.grammarSource=this.getGrammarElementId(n.grammarSource),i.hidden=n.hidden,i.astNode=s.astNodes.get(n.astNode),(0,Ve.mD)(n)?i.content=n.content.map(a=>this.dehydrateCstNode(a,s)):(0,Ve.FC)(n)&&(i.tokenType=n.tokenType.name,i.offset=n.offset,i.length=n.length,i.startLine=n.range.start.line,i.startColumn=n.range.start.character,i.endLine=n.range.end.line,i.endColumn=n.range.end.character),i}hydrate(n){const s=n.value,i=this.createHydrationContext(s);return"$cstNode"in s&&this.hydrateCstNode(s.$cstNode,i),{lexerErrors:n.lexerErrors,lexerReport:n.lexerReport,parserErrors:n.parserErrors,value:this.hydrateAstNode(s,i)}}createHydrationContext(n){const s=new Map,i=new Map;for(const c of(0,ue.jm)(n))s.set(c,{});let a;if(n.$cstNode)for(const c of(0,S.NS)(n.$cstNode)){let d;"fullText"in c?(d=new Rn(c.fullText),a=d):"content"in c?d=new Ss:"tokenType"in c&&(d=this.hydrateCstLeafNode(c)),d&&(i.set(c,d),d.root=a)}return{astNodes:s,cstNodes:i}}hydrateAstNode(n,s){const i=s.astNodes.get(n);i.$type=n.$type,i.$containerIndex=n.$containerIndex,i.$containerProperty=n.$containerProperty,n.$cstNode&&(i.$cstNode=s.cstNodes.get(n.$cstNode));for(const[a,c]of Object.entries(n))if(!a.startsWith("$"))if(Array.isArray(c)){const d=[];i[a]=d;for(const m of c)(0,Ve.ng)(m)?d.push(this.setParent(this.hydrateAstNode(m,s),i)):(0,Ve.A_)(m)?d.push(this.hydrateReference(m,i,a,s)):d.push(m)}else(0,Ve.ng)(c)?i[a]=this.setParent(this.hydrateAstNode(c,s),i):(0,Ve.A_)(c)?i[a]=this.hydrateReference(c,i,a,s):void 0!==c&&(i[a]=c);return i}setParent(n,s){return n.$container=s,n}hydrateReference(n,s,i,a){return this.linker.buildReference(s,i,a.cstNodes.get(n.$refNode),n.$refText)}hydrateCstNode(n,s,i=0){const a=s.cstNodes.get(n);if("number"==typeof n.grammarSource&&(a.grammarSource=this.getGrammarElement(n.grammarSource)),a.astNode=s.astNodes.get(n.astNode),(0,Ve.mD)(a))for(const c of n.content){const d=this.hydrateCstNode(c,s,i++);a.content.push(d)}return a}hydrateCstLeafNode(n){const s=this.getTokenType(n.tokenType);return new Cs(n.offset,n.length,{start:{line:n.startLine,character:n.startColumn},end:{line:n.endLine,character:n.endColumn}},s,n.hidden)}getTokenType(n){return this.lexer.definition[n]}getGrammarElementId(n){if(n)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(n)}getGrammarElement(n){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(n)}createGrammarElementIdMap(){let n=0;for(const s of(0,ue.jm)(this.grammar))(0,w.r1)(s)&&this.grammarElementIdMap.set(s,n++)}}function Nl(l){return{documentation:{CommentProvider:n=>new $l(n),DocumentationProvider:n=>new bl(n)},parser:{AsyncParser:n=>new ha(n),GrammarConfig:n=>function j(l){const n=[],s=l.Grammar;for(const i of s.rules)(0,w.rE)(i)&&(0,q.eb)(i)&&(0,J.lU)((0,q.S)(i))&&n.push(i.name);return{multilineCommentRules:n,nameRegexp:S.El}}(n),LangiumParser:n=>function Ho(l){const n=function Vo(l){const s=l.parser.Lexer;return zi(l.Grammar,new wo(l),s.definition)}(l);return n.finalize(),n}(n),CompletionParser:n=>function Wo(l){const n=l.Grammar,s=l.parser.Lexer,i=new ko(l);return zi(n,i,s.definition),i.finalize(),i}(n),ValueConverter:()=>new Sr.d,TokenBuilder:()=>new zo.Q,Lexer:n=>new yl(n),ParserErrorMessageProvider:()=>new Vi,LexerErrorMessageProvider:()=>new gl},workspace:{AstNodeLocator:()=>new cl,AstNodeDescriptionProvider:n=>new ul(n),ReferenceDescriptionProvider:n=>new ns(n)},references:{Linker:n=>new Jo(n),NameProvider:()=>new el,ScopeProvider:n=>new sl(n),ScopeComputation:n=>new rr(n),References:n=>new tl(n)},serializer:{Hydrator:n=>new ma(n),JsonSerializer:n=>new es(n)},validation:{DocumentValidator:n=>new Ds(n),ValidationRegistry:n=>new al(n)},shared:()=>l.shared}}function wl(l){return{ServiceRegistry:n=>new Ms(n),workspace:{LangiumDocuments:n=>new Jr(n),LangiumDocumentFactory:n=>new Qo(n),DocumentBuilder:n=>new hl(n),IndexManager:n=>new pl(n),WorkspaceManager:n=>new ml(n),FileSystemProvider:n=>l.fileSystemProvider(n),WorkspaceLock:()=>new pa,ConfigurationProvider:n=>new dl(n)}}}},1326(Be,Z,$){function q(R,T,b,y,v,A,x,g,N){return j([R,T,b,y,v,A,x,g,N].reduce(H,{}))}$.d(Z,{WQ:()=>q});const J=Symbol("isProxy");function j(R,T){const b=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(y,v)=>v===J||B(y,v,R,T||b),getOwnPropertyDescriptor:(y,v)=>(B(y,v,R,T||b),Object.getOwnPropertyDescriptor(y,v)),has:(y,v)=>v in R,ownKeys:()=>[...Object.getOwnPropertyNames(R)]});return b}const M=Symbol();function B(R,T,b,y){if(T in R){if(R[T]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:R[T]});if(R[T]===M)throw new Error('Cycle detected. Please make "'+String(T)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return R[T]}if(T in b){const v=b[T];R[T]=M;try{R[T]="function"==typeof v?v(y):j(v,y)}catch(A){throw R[T]=A instanceof Error?A:void 0,A}return R[T]}}function H(R,T){if(T)for(const[b,y]of Object.entries(T))if(void 0!==y){const v=R[b];R[b]=null!==v&&null!==y&&"object"==typeof v&&"object"==typeof y?H(v,y):y}return R}},2917(Be,Z,$){$.d(Z,{$g:()=>qn,Bg:()=>_r,Ct:()=>Ze,Cz:()=>re,D8:()=>Ge,FO:()=>Tr,Fy:()=>yn,GL:()=>Er,IZ:()=>vr,Mz:()=>ue,O4:()=>Qn,QX:()=>rt,RP:()=>D,S2:()=>ce,SP:()=>F,TF:()=>kn,Tu:()=>Te,Xj:()=>Pn,_c:()=>yr,cY:()=>Zn,fG:()=>Ie,jp:()=>Xn,lF:()=>Jn,r1:()=>g,rE:()=>Tt,s7:()=>Me,vd:()=>Yn,ve:()=>zn,wb:()=>Ar,wh:()=>gr,z2:()=>lt});var S=$(7449);const J="AbstractRule",j="AbstractType",B="Condition",b="TypeDefinition",v="ValueLiteral",x="AbstractElement";function g(L){return ge.isInstance(L,x)}const N="ArrayLiteral",Q="ArrayType",X="BooleanLiteral";function re(L){return ge.isInstance(L,X)}const se="Conjunction";function Te(L){return ge.isInstance(L,se)}const Oe="Disjunction";function D(L){return ge.isInstance(L,Oe)}const ae="Grammar",ve="GrammarImport",Y="InferredType";function F(L){return ge.isInstance(L,Y)}const oe="Interface";function ce(L){return ge.isInstance(L,oe)}const $e="NamedArgument",Ae="Negation";function Ze(L){return ge.isInstance(L,Ae)}const Pe="NumberLiteral",at="Parameter",pt="ParameterReference";function kn(L){return ge.isInstance(L,pt)}const ft="ParserRule";function Me(L){return ge.isInstance(L,ft)}const C="ReferenceType",ie="ReturnType";function Ie(L){return ge.isInstance(L,ie)}const Ce="SimpleType";function Ge(L){return ge.isInstance(L,Ce)}const je="StringLiteral",yt="TerminalRule";function Tt(L){return ge.isInstance(L,yt)}const Wt="Type";function Pn(L){return ge.isInstance(L,Wt)}const en="TypeAttribute",Ht="UnionType",Vt="Action";function zn(L){return ge.isInstance(L,Vt)}const zt="Alternatives";function Xn(L){return ge.isInstance(L,zt)}const Lt="Assignment";function gr(L){return ge.isInstance(L,Lt)}const Mt="CharacterRange";function _r(L){return ge.isInstance(L,Mt)}const Dt="CrossReference";function yr(L){return ge.isInstance(L,Dt)}const tn="EndOfFile";function Tr(L){return ge.isInstance(L,tn)}const nn="Group";function vr(L){return ge.isInstance(L,nn)}const rn="Keyword";function Ar(L){return ge.isInstance(L,rn)}const sn="NegatedToken";function Er(L){return ge.isInstance(L,sn)}const an="RegexToken";function Yn(L){return ge.isInstance(L,an)}const Fe="RuleCall";function qn(L){return ge.isInstance(L,Fe)}const on="TerminalAlternatives";function yn(L){return ge.isInstance(L,on)}const It="TerminalGroup";function Qn(L){return ge.isInstance(L,It)}const Ct="TerminalRuleCall";function Jn(L){return ge.isInstance(L,Ct)}const Ft="UnorderedGroup";function Zn(L){return ge.isInstance(L,Ft)}const vt="UntilToken";function ue(L){return ge.isInstance(L,vt)}const Ue="Wildcard";function lt(L){return ge.isInstance(L,Ue)}class rt extends S.kD{getAllTypes(){return[x,J,j,Vt,zt,N,Q,Lt,X,Mt,B,se,Dt,Oe,tn,ae,ve,nn,Y,oe,rn,$e,sn,Ae,Pe,at,pt,ft,C,an,ie,Fe,Ce,je,on,It,yt,Ct,Wt,en,b,Ht,Ft,vt,v,Ue]}computeIsSubtype(Ne,ut){switch(Ne){case Vt:case zt:case Lt:case Mt:case Dt:case tn:case nn:case rn:case sn:case an:case Fe:case on:case It:case Ct:case Ft:case vt:case Ue:return this.isSubtype(x,ut);case N:case Pe:case je:return this.isSubtype(v,ut);case Q:case C:case Ce:case Ht:return this.isSubtype(b,ut);case X:return this.isSubtype(B,ut)||this.isSubtype(v,ut);case se:case Oe:case Ae:case pt:return this.isSubtype(B,ut);case Y:case oe:case Wt:return this.isSubtype(j,ut);case ft:return this.isSubtype(J,ut)||this.isSubtype(j,ut);case yt:return this.isSubtype(J,ut);default:return!1}}getReferenceType(Ne){const ut=`${Ne.container.$type}:${Ne.property}`;switch(ut){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return j;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return J;case"Grammar:usedGrammars":return ae;case"NamedArgument:parameter":case"ParameterReference:parameter":return at;case"TerminalRuleCall:rule":return yt;default:throw new Error(`${ut} is not a valid reference id.`)}}getTypeMetaData(Ne){switch(Ne){case x:return{name:x,properties:[{name:"cardinality"},{name:"lookahead"}]};case N:return{name:N,properties:[{name:"elements",defaultValue:[]}]};case Q:return{name:Q,properties:[{name:"elementType"}]};case X:return{name:X,properties:[{name:"true",defaultValue:!1}]};case se:return{name:se,properties:[{name:"left"},{name:"right"}]};case Oe:return{name:Oe,properties:[{name:"left"},{name:"right"}]};case ae:return{name:ae,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case ve:return{name:ve,properties:[{name:"path"}]};case Y:return{name:Y,properties:[{name:"name"}]};case oe:return{name:oe,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case $e:return{name:$e,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case Ae:return{name:Ae,properties:[{name:"value"}]};case Pe:return{name:Pe,properties:[{name:"value"}]};case at:return{name:at,properties:[{name:"name"}]};case pt:return{name:pt,properties:[{name:"parameter"}]};case ft:return{name:ft,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case C:return{name:C,properties:[{name:"referenceType"}]};case ie:return{name:ie,properties:[{name:"name"}]};case Ce:return{name:Ce,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case je:return{name:je,properties:[{name:"value"}]};case yt:return{name:yt,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Wt:return{name:Wt,properties:[{name:"name"},{name:"type"}]};case en:return{name:en,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Ht:return{name:Ht,properties:[{name:"types",defaultValue:[]}]};case Vt:return{name:Vt,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case zt:return{name:zt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Lt:return{name:Lt,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Mt:return{name:Mt,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Dt:return{name:Dt,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case tn:return{name:tn,properties:[{name:"cardinality"},{name:"lookahead"}]};case nn:return{name:nn,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case rn:return{name:rn,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case sn:return{name:sn,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case an:return{name:an,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case Fe:return{name:Fe,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case on:return{name:on,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case It:return{name:It,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Ct:return{name:Ct,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Ft:return{name:Ft,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case vt:return{name:vt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Ue:return{name:Ue,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Ne,properties:[]}}}}const ge=new rt},3460(Be,Z,$){$.d(Z,{Q:()=>B});var S=$(8365),q=$(2917),J=$(265),w=$(3528),j=$(84),M=$(4193);class B{constructor(){this.diagnostics=[]}buildTokens(R,T){const b=(0,M.Td)((0,w.YV)(R,!1)),y=this.buildTerminalTokens(b),v=this.buildKeywordTokens(b,y,T);return y.forEach(A=>{const x=A.PATTERN;"object"==typeof x&&x&&"test"in x&&(0,j.Yv)(x)?v.unshift(A):v.push(A)}),v}flushLexingReport(R){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const R=[...this.diagnostics];return this.diagnostics=[],R}buildTerminalTokens(R){return R.filter(q.rE).filter(T=>!T.fragment).map(T=>this.buildTerminalToken(T)).toArray()}buildTerminalToken(R){const T=(0,w.S)(R),b=this.requiresCustomPattern(T)?this.regexPatternFunction(T):T,y={name:R.name,PATTERN:b};return"function"==typeof b&&(y.LINE_BREAKS=!0),R.hidden&&(y.GROUP=(0,j.Yv)(T)?S.JG.SKIPPED:"hidden"),y}requiresCustomPattern(R){return!!(R.flags.includes("u")||R.flags.includes("s")||R.source.includes("?<=")||R.source.includes("?<!"))}regexPatternFunction(R){const T=new RegExp(R,R.flags+"y");return(b,y)=>(T.lastIndex=y,T.exec(b))}buildKeywordTokens(R,T,b){return R.filter(q.s7).flatMap(y=>(0,J.Uo)(y).filter(q.wb)).distinct(y=>y.value).toArray().sort((y,v)=>v.value.length-y.value.length).map(y=>this.buildKeywordToken(y,T,!!b?.caseInsensitive))}buildKeywordToken(R,T,b){const y=this.buildKeywordPattern(R,b),v={name:R.value,PATTERN:y,LONGER_ALT:this.findLongerAlt(R,T)};return"function"==typeof y&&(v.LINE_BREAKS=!0),v}buildKeywordPattern(R,T){return T?new RegExp((0,j.Ao)(R.value)):R.value}findLongerAlt(R,T){return T.reduce((b,y)=>{const v=y?.PATTERN;return v?.source&&(0,j.PC)("^"+v.source+"$",R.value)&&b.push(y),b},[])}}},6535(Be,Z,$){$.d(Z,{d:()=>J});var w,S=$(2917),q=$(3528);class J{convert(M,B){let H=B.grammarSource;if((0,S._c)(H)&&(H=(0,q.g4)(H)),(0,S.$g)(H)){const R=H.rule.ref;if(!R)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(R,M,B)}return M}runConverter(M,B,H){var R;switch(M.name.toUpperCase()){case"INT":return w.convertInt(B);case"STRING":return w.convertString(B);case"ID":return w.convertID(B)}switch(null===(R=(0,q.P3)(M))||void 0===R?void 0:R.toLowerCase()){case"number":return w.convertNumber(B);case"boolean":return w.convertBoolean(B);case"bigint":return w.convertBigint(B);case"date":return w.convertDate(B);default:return B}}}!function(j){function B(A){switch(A){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return A}}j.convertString=function M(A){let x="";for(let g=1;g<A.length-1;g++){const N=A.charAt(g);x+="\\"===N?B(A.charAt(++g)):N}return x},j.convertID=function H(A){return"^"===A.charAt(0)?A.substring(1):A},j.convertInt=function R(A){return parseInt(A)},j.convertBigint=function T(A){return BigInt(A)},j.convertDate=function b(A){return new Date(A)},j.convertNumber=function y(A){return Number(A)},j.convertBoolean=function v(A){return"true"===A.toLowerCase()}}(w||(w={}))},7449(Be,Z,$){function S(R){return"object"==typeof R&&null!==R&&"string"==typeof R.$type}function q(R){return"object"==typeof R&&null!==R&&"string"==typeof R.$refText}function J(R){return"object"==typeof R&&null!==R&&"string"==typeof R.name&&"string"==typeof R.type&&"string"==typeof R.path}function w(R){return"object"==typeof R&&null!==R&&S(R.container)&&q(R.reference)&&"string"==typeof R.message}$.d(Z,{A_:()=>q,FC:()=>B,Nr:()=>J,Zl:()=>w,br:()=>H,kD:()=>j,mD:()=>M,ng:()=>S});class j{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(T,b){return S(T)&&this.isSubtype(T.$type,b)}isSubtype(T,b){if(T===b)return!0;let y=this.subtypes[T];y||(y=this.subtypes[T]={});const v=y[b];if(void 0!==v)return v;{const A=this.computeIsSubtype(T,b);return y[b]=A,A}}getAllSubTypes(T){const b=this.allSubtypes[T];if(b)return b;{const y=this.getAllTypes(),v=[];for(const A of y)this.isSubtype(A,T)&&v.push(A);return this.allSubtypes[T]=v,v}}}function M(R){return"object"==typeof R&&null!==R&&Array.isArray(R.content)}function B(R){return"object"==typeof R&&null!==R&&"object"==typeof R.tokenType}function H(R){return M(R)&&"string"==typeof R.fullText}},265(Be,Z,$){$.d(Z,{DM:()=>g,OP:()=>V,SD:()=>B,Uo:()=>v,VN:()=>y,XG:()=>H,YE:()=>T,cQ:()=>b,jm:()=>A});var w=$(7449),j=$(4193),M=$(807);function B(X){for(const[re,se]of Object.entries(X))re.startsWith("$")||(Array.isArray(se)?se.forEach((Te,Oe)=>{(0,w.ng)(Te)&&(Te.$container=X,Te.$containerProperty=re,Te.$containerIndex=Oe)}):(0,w.ng)(se)&&(se.$container=X,se.$containerProperty=re))}function H(X,re){let se=X;for(;se;){if(re(se))return se;se=se.$container}}function T(X){const se=b(X).$document;if(!se)throw new Error("AST node has no document.");return se}function b(X){for(;X.$container;)X=X.$container;return X}function y(X,re){if(!X)throw new Error("Node must be an AstNode.");const se=re?.range;return new j.fq(()=>({keys:Object.keys(X),keyIndex:0,arrayIndex:0}),Te=>{for(;Te.keyIndex<Te.keys.length;){const Oe=Te.keys[Te.keyIndex];if(!Oe.startsWith("$")){const D=X[Oe];if((0,w.ng)(D)){if(Te.keyIndex++,x(D,se))return{done:!1,value:D}}else if(Array.isArray(D)){for(;Te.arrayIndex<D.length;){const fe=D[Te.arrayIndex++];if((0,w.ng)(fe)&&x(fe,se))return{done:!1,value:fe}}Te.arrayIndex=0}}Te.keyIndex++}return j.Rf})}function v(X,re){if(!X)throw new Error("Root node must be an AstNode.");return new j.Vj(X,se=>y(se,re))}function A(X,re){if(!X)throw new Error("Root node must be an AstNode.");return re?.range&&!x(X,re.range)?new j.Vj(X,()=>[]):new j.Vj(X,se=>y(se,re),{includeRoot:!0})}function x(X,re){var se;if(!re)return!0;const Te=null===(se=X.$cstNode)||void 0===se?void 0:se.range;return!!Te&&(0,M.r4)(Te,re)}function g(X){return new j.fq(()=>({keys:Object.keys(X),keyIndex:0,arrayIndex:0}),re=>{for(;re.keyIndex<re.keys.length;){const se=re.keys[re.keyIndex];if(!se.startsWith("$")){const Te=X[se];if((0,w.A_)(Te))return re.keyIndex++,{done:!1,value:{reference:Te,container:X,property:se}};if(Array.isArray(Te)){for(;re.arrayIndex<Te.length;){const Oe=re.arrayIndex++,D=Te[Oe];if((0,w.A_)(D))return{done:!1,value:{reference:D,container:X,property:se,index:Oe}}}re.arrayIndex=0}}re.keyIndex++}return j.Rf})}function V(X,re){const se=X.getTypeMetaData(re.$type),Te=re;for(const Oe of se.properties)void 0!==Oe.defaultValue&&void 0===Te[Oe.name]&&(Te[Oe.name]=Q(Oe.defaultValue))}function Q(X){return Array.isArray(X)?[...X.map(Q)]:X}},807(Be,Z,$){$.d(Z,{El:()=>v,NS:()=>j,SX:()=>R,pO:()=>B,r4:()=>y,v:()=>x,wf:()=>H});var J=$(7449),w=$(4193);function j(D){return new w.Vj(D,ae=>(0,J.mD)(ae)?ae.content:[],{includeRoot:!0})}function B(D,ae){for(;D.container;)if((D=D.container)===ae)return!0;return!1}function H(D){return{start:{character:D.startColumn-1,line:D.startLine-1},end:{character:D.endColumn,line:D.endLine-1}}}function R(D){if(!D)return;const{offset:ae,end:fe,range:ve}=D;return{range:ve,offset:ae,end:fe,length:fe-ae}}var T=function(D){return D[D.Before=0]="Before",D[D.After=1]="After",D[D.OverlapFront=2]="OverlapFront",D[D.OverlapBack=3]="OverlapBack",D[D.Inside=4]="Inside",D[D.Outside=5]="Outside",D}(T||{});function y(D,ae){return function b(D,ae){if(D.end.line<ae.start.line||D.end.line===ae.start.line&&D.end.character<=ae.start.character)return T.Before;if(D.start.line>ae.end.line||D.start.line===ae.end.line&&D.start.character>=ae.end.character)return T.After;const fe=D.start.line>ae.start.line||D.start.line===ae.start.line&&D.start.character>=ae.start.character,ve=D.end.line<ae.end.line||D.end.line===ae.end.line&&D.end.character<=ae.end.character;return fe&&ve?T.Inside:fe?T.OverlapBack:ve?T.OverlapFront:T.Outside}(D,ae)>T.After}const v=/^[\w\p{L}]$/u;function x(D,ae){if(D){const fe=function me(D,ae=!0){for(;D.container;){const fe=D.container;let ve=fe.content.indexOf(D);for(;ve>0;){ve--;const we=fe.content[ve];if(ae||!we.hidden)return we}D=fe}}(D,!0);if(fe&&g(fe,ae))return fe;if((0,J.br)(D)){const ve=D.content.findIndex(we=>!we.hidden);for(let we=ve-1;we>=0;we--){const Y=D.content[we];if(g(Y,ae))return Y}}}}function g(D,ae){return(0,J.FC)(D)&&ae.includes(D.tokenType.name)}},8586(Be,Z,$){$.d(Z,{W:()=>S,d:()=>q});class S extends Error{constructor(w,j){super(w?`${j} at ${w.range.start.line}:${w.range.start.character}`:j)}}function q(J){throw new Error("Error! The input value was not handled.")}},3528(Be,Z,$){$.d(Z,{Bd:()=>x,P3:()=>be,PV:()=>F,Rp:()=>X,S:()=>Ae,SS:()=>Q,U5:()=>re,Uz:()=>oe,Xq:()=>fe,YV:()=>b,eb:()=>A,g4:()=>v,qO:()=>g});var J=$(8586),w=$(2917),j=$(7449),M=$(265),B=$(807),H=$(84);function b(C,K){const ie=new Set,Ie=function R(C){return C.rules.find(K=>w.s7(K)&&K.entry)}(C);if(!Ie)return new Set(C.rules);const Ce=[Ie].concat(function T(C){return C.rules.filter(K=>w.rE(K)&&K.hidden)}(C));for(const je of Ce)y(je,ie,K);const Ge=new Set;for(const je of C.rules)(ie.has(je.name)||w.rE(je)&&je.hidden)&&Ge.add(je);return Ge}function y(C,K,ie){K.add(C.name),(0,M.Uo)(C).forEach(Ie=>{if(w.$g(Ie)||ie&&w.lF(Ie)){const Ce=Ie.rule.ref;Ce&&!K.has(Ce.name)&&y(Ce,K,ie)}})}function v(C){if(C.terminal)return C.terminal;if(C.type.ref){const K=re(C.type.ref);return K?.terminal}}function A(C){return C.hidden&&!(0,H.Yv)(Ae(C))}function x(C,K){return C&&K?N(C,K,C.astNode,!0):[]}function g(C,K,ie){if(!C||!K)return;const Ie=N(C,K,C.astNode,!0);return 0!==Ie.length?Ie[ie=void 0!==ie?Math.max(0,Math.min(ie,Ie.length-1)):0]:void 0}function N(C,K,ie,Ie){if(!Ie){const Ce=(0,M.XG)(C.grammarSource,w.wh);if(Ce&&Ce.feature===K)return[C]}return(0,j.mD)(C)&&C.astNode===ie?C.content.flatMap(Ce=>N(Ce,K,ie,!1)):[]}function Q(C,K,ie){if(!C)return;const Ie=function me(C,K,ie){if(C.astNode!==ie)return[];if(w.wb(C.grammarSource)&&C.grammarSource.value===K)return[C];const Ie=(0,B.NS)(C).iterator();let Ce;const Ge=[];do{if(Ce=Ie.next(),!Ce.done){const je=Ce.value;je.astNode===ie?w.wb(je.grammarSource)&&je.grammarSource.value===K&&Ge.push(je):Ie.prune()}}while(!Ce.done);return Ge}(C,K,C?.astNode);return 0!==Ie.length?Ie[ie=void 0!==ie?Math.max(0,Math.min(ie,Ie.length-1)):0]:void 0}function X(C){var K;const ie=C.astNode;for(;ie===(null===(K=C.container)||void 0===K?void 0:K.astNode);){const Ie=(0,M.XG)(C.grammarSource,w.wh);if(Ie)return Ie;C=C.container}}function re(C){let K=C;return w.SP(K)&&(w.ve(K.$container)?K=K.$container.$container:w.s7(K.$container)?K=K.$container:(0,J.d)(K.$container)),se(C,K,new Map)}function se(C,K,ie){var Ie;function Ce(Ge,je){let Pt;return(0,M.XG)(Ge,w.wh)||(Pt=se(je,je,ie)),ie.set(C,Pt),Pt}if(ie.has(C))return ie.get(C);ie.set(C,void 0);for(const Ge of(0,M.Uo)(K)){if(w.wh(Ge)&&"name"===Ge.feature.toLowerCase())return ie.set(C,Ge),Ge;if(w.$g(Ge)&&w.s7(Ge.rule.ref))return Ce(Ge,Ge.rule.ref);if(w.D8(Ge)&&null!==(Ie=Ge.typeRef)&&void 0!==Ie&&Ie.ref)return Ce(Ge,Ge.typeRef.ref)}}function fe(C){return ve(C,new Set)}function ve(C,K){if(K.has(C))return!0;K.add(C);for(const ie of(0,M.Uo)(C))if(w.$g(ie)){if(!ie.rule.ref||w.s7(ie.rule.ref)&&!ve(ie.rule.ref,K))return!1}else{if(w.wh(ie))return!1;if(w.ve(ie))return!1}return!!C.definition}function F(C){if(C.inferredType)return C.inferredType.name;if(C.dataType)return C.dataType;if(C.returnType){const K=C.returnType.ref;if(K){if(w.s7(K))return K.name;if(w.S2(K)||w.Xj(K))return K.name}}}function oe(C){var K;if(w.s7(C))return fe(C)?C.name:null!==(K=F(C))&&void 0!==K?K:C.name;if(w.S2(C)||w.Xj(C)||w.fG(C))return C.name;if(w.ve(C)){const ie=function ce(C){var K;return C.inferredType?C.inferredType.name:null!==(K=C.type)&&void 0!==K&&K.ref?oe(C.type.ref):void 0}(C);if(ie)return ie}else if(w.SP(C))return C.name;throw new Error("Cannot get name of Unknown Type")}function be(C){var K,ie,Ie;return w.rE(C)?null!==(ie=null===(K=C.type)||void 0===K?void 0:K.name)&&void 0!==ie?ie:"string":null!==(Ie=F(C))&&void 0!==Ie?Ie:C.name}function Ae(C){const K={s:!1,i:!1,u:!1},ie=Pe(C.definition,K),Ie=Object.entries(K).filter(([,Ce])=>Ce).map(([Ce])=>Ce).join("");return new RegExp(ie,Ie)}const Ze=/[\s\S]/.source;function Pe(C,K){if(w.Fy(C))return function De(C){return Me(C.elements.map(K=>Pe(K)).join("|"),{cardinality:C.cardinality,lookahead:C.lookahead})}(C);if(w.O4(C))return function at(C){return Me(C.elements.map(K=>Pe(K)).join(""),{cardinality:C.cardinality,lookahead:C.lookahead})}(C);if(w.Bg(C))return function kn(C){return Me(C.right?`[${ft(C.left)}-${ft(C.right)}]`:ft(C.left),{cardinality:C.cardinality,lookahead:C.lookahead,wrap:!1})}(C);if(w.lF(C)){const ie=C.rule.ref;if(!ie)throw new Error("Missing rule reference.");return Me(Pe(ie.definition),{cardinality:C.cardinality,lookahead:C.lookahead})}if(w.GL(C))return function pt(C){return Me(`(?!${Pe(C.terminal)})${Ze}*?`,{cardinality:C.cardinality,lookahead:C.lookahead})}(C);if(w.Mz(C))return function Le(C){return Me(`${Ze}*?${Pe(C.terminal)}`,{cardinality:C.cardinality,lookahead:C.lookahead})}(C);if(w.vd(C)){const ie=C.regex.lastIndexOf("/"),Ie=C.regex.substring(1,ie),Ce=C.regex.substring(ie+1);return K&&(K.i=Ce.includes("i"),K.s=Ce.includes("s"),K.u=Ce.includes("u")),Me(Ie,{cardinality:C.cardinality,lookahead:C.lookahead,wrap:!1})}if(w.z2(C))return Me(Ze,{cardinality:C.cardinality,lookahead:C.lookahead});throw new Error(`Invalid terminal element: ${C?.$type}`)}function ft(C){return(0,H.Nt)(C.value)}function Me(C,K){var ie;return(!1!==K.wrap||K.lookahead)&&(C=`(${null!==(ie=K.lookahead)&&void 0!==ie?ie:""}${C})`),K.cardinality?`${C}${K.cardinality}`:C}},84(Be,Z,$){$.d(Z,{Ao:()=>b,Nt:()=>T,PC:()=>y,TH:()=>q,Yv:()=>R,lU:()=>B});var S=$(2909);const q=/\r?\n/gm,J=new S.H,j=new class w extends S.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(x){this.multiline=!1,this.regex=x,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(x){x.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(x){const g=String.fromCharCode(x.value);if(!this.multiline&&"\n"===g&&(this.multiline=!0),x.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const N=T(g);this.endRegexpStack.push(N),this.isStarting&&(this.startRegexp+=N)}}visitSet(x){if(!this.multiline){const g=this.regex.substring(x.loc.begin,x.loc.end),N=new RegExp(g);this.multiline=!!"\n".match(N)}if(x.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const g=this.regex.substring(x.loc.begin,x.loc.end);this.endRegexpStack.push(g),this.isStarting&&(this.startRegexp+=g)}}visitChildren(x){"Group"===x.type&&x.quantifier||super.visitChildren(x)}};function B(A){try{return"string"==typeof A&&(A=new RegExp(A)),A=A.toString(),j.reset(A),j.visit(J.pattern(A)),j.multiline}catch{return!1}}const H="\f\n\r\t\v \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".split("");function R(A){const x="string"==typeof A?new RegExp(A):A;return H.some(g=>x.test(g))}function T(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(A){return Array.prototype.map.call(A,x=>/\w/.test(x)?`[${x.toLowerCase()}${x.toUpperCase()}]`:T(x)).join("")}function y(A,x){const g=function v(A){"string"==typeof A&&(A=new RegExp(A));const x=A,g=A.source;let N=0;return new RegExp(function V(){let me,Q="";function X(se){Q+=g.substr(N,se),N+=se}function re(se){Q+="(?:"+g.substr(N,se)+"|$)",N+=se}for(;N<g.length;)switch(g[N]){case"\\":switch(g[N+1]){case"c":re(3);break;case"x":re(4);break;case"u":re(x.unicode?"{"===g[N+2]?g.indexOf("}",N)-N+1:6:2);break;case"p":case"P":re(x.unicode?g.indexOf("}",N)-N+1:2);break;case"k":re(g.indexOf(">",N)-N+1);break;default:re(2)}break;case"[":me=/\[(?:\\.|.)*?\]/g,me.lastIndex=N,me=me.exec(g)||[],re(me[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":X(1);break;case"{":me=/\{\d+,?\d*\}/g,me.lastIndex=N,me=me.exec(g),me?X(me[0].length):re(1);break;case"(":if("?"===g[N+1])switch(g[N+2]){case":":Q+="(?:",N+=3,Q+=V()+"|$)";break;case"=":Q+="(?=",N+=3,Q+=V()+")";break;case"!":me=N,N+=3,V(),Q+=g.substr(me,N-me);break;case"<":switch(g[N+3]){case"=":case"!":me=N,N+=4,V(),Q+=g.substr(me,N-me);break;default:X(g.indexOf(">",N)-N+1),Q+=V()+"|$)"}}else X(1),Q+=V()+"|$)";break;case")":return++N,Q;default:re(1)}return Q}(),A.flags)}(A),N=x.match(g);return!!N&&N[0].length>0}},4193(Be,Z,$){$.d(Z,{B5:()=>w,Rf:()=>j,Td:()=>M,Vj:()=>B,fq:()=>S,iD:()=>H});class S{constructor(T,b){this.startFn=T,this.nextFn=b}iterator(){const T={state:this.startFn(),next:()=>this.nextFn(T.state),[Symbol.iterator]:()=>T};return T}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const T=this.iterator();let b=0,y=T.next();for(;!y.done;)b++,y=T.next();return b}toArray(){const T=[],b=this.iterator();let y;do{y=b.next(),void 0!==y.value&&T.push(y.value)}while(!y.done);return T}toSet(){return new Set(this)}toMap(T,b){const y=this.map(v=>[T?T(v):v,b?b(v):v]);return new Map(y)}toString(){return this.join()}concat(T){return new S(()=>({first:this.startFn(),firstDone:!1,iterator:T[Symbol.iterator]()}),b=>{let y;if(!b.firstDone){do{if(y=this.nextFn(b.first),!y.done)return y}while(!y.done);b.firstDone=!0}do{if(y=b.iterator.next(),!y.done)return y}while(!y.done);return j})}join(T=","){const b=this.iterator();let v,y="",A=!1;do{v=b.next(),v.done||(A&&(y+=T),y+=q(v.value)),A=!0}while(!v.done);return y}indexOf(T,b=0){const y=this.iterator();let v=0,A=y.next();for(;!A.done;){if(v>=b&&A.value===T)return v;A=y.next(),v++}return-1}every(T){const b=this.iterator();let y=b.next();for(;!y.done;){if(!T(y.value))return!1;y=b.next()}return!0}some(T){const b=this.iterator();let y=b.next();for(;!y.done;){if(T(y.value))return!0;y=b.next()}return!1}forEach(T){const b=this.iterator();let y=0,v=b.next();for(;!v.done;)T(v.value,y),v=b.next(),y++}map(T){return new S(this.startFn,b=>{const{done:y,value:v}=this.nextFn(b);return y?j:{done:!1,value:T(v)}})}filter(T){return new S(this.startFn,b=>{let y;do{if(y=this.nextFn(b),!y.done&&T(y.value))return y}while(!y.done);return j})}nonNullable(){return this.filter(T=>null!=T)}reduce(T,b){const y=this.iterator();let v=b,A=y.next();for(;!A.done;)v=void 0===v?A.value:T(v,A.value),A=y.next();return v}reduceRight(T,b){return this.recursiveReduce(this.iterator(),T,b)}recursiveReduce(T,b,y){const v=T.next();if(v.done)return y;const A=this.recursiveReduce(T,b,y);return void 0===A?v.value:b(A,v.value)}find(T){const b=this.iterator();let y=b.next();for(;!y.done;){if(T(y.value))return y.value;y=b.next()}}findIndex(T){const b=this.iterator();let y=0,v=b.next();for(;!v.done;){if(T(v.value))return y;v=b.next(),y++}return-1}includes(T){const b=this.iterator();let y=b.next();for(;!y.done;){if(y.value===T)return!0;y=b.next()}return!1}flatMap(T){return new S(()=>({this:this.startFn()}),b=>{do{if(b.iterator){const A=b.iterator.next();if(!A.done)return A;b.iterator=void 0}const{done:y,value:v}=this.nextFn(b.this);if(!y){const A=T(v);if(!J(A))return{done:!1,value:A};b.iterator=A[Symbol.iterator]()}}while(b.iterator);return j})}flat(T){if(void 0===T&&(T=1),T<=0)return this;const b=T>1?this.flat(T-1):this;return new S(()=>({this:b.startFn()}),y=>{do{if(y.iterator){const x=y.iterator.next();if(!x.done)return x;y.iterator=void 0}const{done:v,value:A}=b.nextFn(y.this);if(!v){if(!J(A))return{done:!1,value:A};y.iterator=A[Symbol.iterator]()}}while(y.iterator);return j})}head(){const b=this.iterator().next();if(!b.done)return b.value}tail(T=1){return new S(()=>{const b=this.startFn();for(let y=0;y<T;y++)if(this.nextFn(b).done)return b;return b},this.nextFn)}limit(T){return new S(()=>({size:0,state:this.startFn()}),b=>(b.size++,b.size>T?j:this.nextFn(b.state)))}distinct(T){return new S(()=>({set:new Set,internalState:this.startFn()}),b=>{let y;do{if(y=this.nextFn(b.internalState),!y.done){const v=T?T(y.value):y.value;if(!b.set.has(v))return b.set.add(v),y}}while(!y.done);return j})}exclude(T,b){const y=new Set;for(const v of T){const A=b?b(v):v;y.add(A)}return this.filter(v=>{const A=b?b(v):v;return!y.has(A)})}}function q(R){return"string"==typeof R?R:typeof R>"u"?"undefined":"function"==typeof R.toString?R.toString():Object.prototype.toString.call(R)}function J(R){return!!R&&"function"==typeof R[Symbol.iterator]}const w=new S(()=>{},()=>j),j=Object.freeze({done:!0,value:void 0});function M(...R){if(1===R.length){const T=R[0];if(T instanceof S)return T;if(J(T))return new S(()=>T[Symbol.iterator](),b=>b.next());if("number"==typeof T.length)return new S(()=>({index:0}),b=>b.index<T.length?{done:!1,value:T[b.index++]}:j)}return R.length>1?new S(()=>({collIndex:0,arrIndex:0}),T=>{do{if(T.iterator){const b=T.iterator.next();if(!b.done)return b;T.iterator=void 0}if(T.array){if(T.arrIndex<T.array.length)return{done:!1,value:T.array[T.arrIndex++]};T.array=void 0,T.arrIndex=0}if(T.collIndex<R.length){const b=R[T.collIndex++];J(b)?T.iterator=b[Symbol.iterator]():b&&"number"==typeof b.length&&(T.array=b)}}while(T.iterator||T.array||T.collIndex<R.length);return j}):w}class B extends S{constructor(T,b,y){super(()=>({iterators:y?.includeRoot?[[T][Symbol.iterator]()]:[b(T)[Symbol.iterator]()],pruned:!1}),v=>{for(v.pruned&&(v.iterators.pop(),v.pruned=!1);v.iterators.length>0;){const x=v.iterators[v.iterators.length-1].next();if(!x.done)return v.iterators.push(b(x.value)[Symbol.iterator]()),x;v.iterators.pop()}return j})}iterator(){const T={state:this.startFn(),next:()=>this.nextFn(T.state),prune:()=>{T.state.pruned=!0},[Symbol.iterator]:()=>T};return T}}var H,R;(R=H||(H={})).sum=function T(A){return A.reduce((x,g)=>x+g,0)},R.product=function b(A){return A.reduce((x,g)=>x*g,0)},R.min=function y(A){return A.reduce((x,g)=>Math.min(x,g))},R.max=function v(A){return A.reduce((x,g)=>Math.max(x,g))}},7423(Be,Z,$){$.d(Z,{D:()=>J});var S=$(9204);class q{readFile(){throw new Error("No file system is available.")}readDirectory(){return(0,S.A)(function*(){return[]})()}}const J={fileSystemProvider:()=>new q}},3185(Be,Z,$){$.d(Z,{A:()=>J});var S=$(1200);const J=function q(w,j,M){for(var B=-1,H=w.length;++B<H;){var R=w[B],T=j(R);if(null!=T&&(void 0===b?T==T&&!(0,S.A)(T):M(T,b)))var b=T,y=R}return y}},4470(Be,Z,$){$.d(Z,{A:()=>q});const q=function S(J,w){return J<w}},7554(Be,Z,$){$.d(Z,{A:()=>w});var S=$(462),q=$(8200);const w=function J(j,M){var B=-1,H=(0,q.A)(j)?Array(j.length):[];return(0,S.A)(j,function(R,T,b){H[++B]=M(R,T,b)}),H}},300(Be,Z,$){$.d(Z,{A:()=>J});var S=$(2383);const J=function q(w){return null!=w&&w.length?(0,S.A)(w,1):[]}},5644(Be,Z,$){$.d(Z,{A:()=>M});var S=$(7786),q=$(5382),J=$(7554),w=$(9247);const M=function j(B,H){return((0,w.A)(B)?S.A:J.A)(B,(0,q.A)(H,3))}},1834(Be,Z,$){$.d(Z,{A:()=>j});var S=$(3185),q=$(4470),J=$(5618);const j=function w(M){return M&&M.length?(0,S.A)(M,J.A,q.A):void 0}},2510(Be,Z,$){var S;$.d(Z,{A:()=>J,r:()=>q}),(()=>{var w={470:H=>{function R(y){if("string"!=typeof y)throw new TypeError("Path must be a string. Received "+JSON.stringify(y))}function T(y,v){for(var A,x="",g=0,N=-1,V=0,Q=0;Q<=y.length;++Q){if(Q<y.length)A=y.charCodeAt(Q);else{if(47===A)break;A=47}if(47===A){if(N!==Q-1&&1!==V)if(N!==Q-1&&2===V){if(x.length<2||2!==g||46!==x.charCodeAt(x.length-1)||46!==x.charCodeAt(x.length-2))if(x.length>2){var me=x.lastIndexOf("/");if(me!==x.length-1){-1===me?(x="",g=0):g=(x=x.slice(0,me)).length-1-x.lastIndexOf("/"),N=Q,V=0;continue}}else if(2===x.length||1===x.length){x="",g=0,N=Q,V=0;continue}v&&(x.length>0?x+="/..":x="..",g=2)}else x.length>0?x+="/"+y.slice(N+1,Q):x=y.slice(N+1,Q),g=Q-N-1;N=Q,V=0}else 46===A&&-1!==V?++V:V=-1}return x}var b={resolve:function(){for(var y,v="",A=!1,x=arguments.length-1;x>=-1&&!A;x--){var g;x>=0?g=arguments[x]:(void 0===y&&(y=process.cwd()),g=y),R(g),0!==g.length&&(v=g+"/"+v,A=47===g.charCodeAt(0))}return v=T(v,!A),A?v.length>0?"/"+v:"/":v.length>0?v:"."},normalize:function(y){if(R(y),0===y.length)return".";var v=47===y.charCodeAt(0),A=47===y.charCodeAt(y.length-1);return 0!==(y=T(y,!v)).length||v||(y="."),y.length>0&&A&&(y+="/"),v?"/"+y:y},isAbsolute:function(y){return R(y),y.length>0&&47===y.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var y,v=0;v<arguments.length;++v){var A=arguments[v];R(A),A.length>0&&(void 0===y?y=A:y+="/"+A)}return void 0===y?".":b.normalize(y)},relative:function(y,v){if(R(y),R(v),y===v||(y=b.resolve(y))===(v=b.resolve(v)))return"";for(var A=1;A<y.length&&47===y.charCodeAt(A);++A);for(var x=y.length,g=x-A,N=1;N<v.length&&47===v.charCodeAt(N);++N);for(var V=v.length-N,Q=g<V?g:V,me=-1,X=0;X<=Q;++X){if(X===Q){if(V>Q){if(47===v.charCodeAt(N+X))return v.slice(N+X+1);if(0===X)return v.slice(N+X)}else g>Q&&(47===y.charCodeAt(A+X)?me=X:0===X&&(me=0));break}var re=y.charCodeAt(A+X);if(re!==v.charCodeAt(N+X))break;47===re&&(me=X)}var se="";for(X=A+me+1;X<=x;++X)X!==x&&47!==y.charCodeAt(X)||(se+=0===se.length?"..":"/..");return se.length>0?se+v.slice(N+me):(47===v.charCodeAt(N+=me)&&++N,v.slice(N))},_makeLong:function(y){return y},dirname:function(y){if(R(y),0===y.length)return".";for(var v=y.charCodeAt(0),A=47===v,x=-1,g=!0,N=y.length-1;N>=1;--N)if(47===(v=y.charCodeAt(N))){if(!g){x=N;break}}else g=!1;return-1===x?A?"/":".":A&&1===x?"//":y.slice(0,x)},basename:function(y,v){if(void 0!==v&&"string"!=typeof v)throw new TypeError('"ext" argument must be a string');R(y);var A,x=0,g=-1,N=!0;if(void 0!==v&&v.length>0&&v.length<=y.length){if(v.length===y.length&&v===y)return"";var V=v.length-1,Q=-1;for(A=y.length-1;A>=0;--A){var me=y.charCodeAt(A);if(47===me){if(!N){x=A+1;break}}else-1===Q&&(N=!1,Q=A+1),V>=0&&(me===v.charCodeAt(V)?-1==--V&&(g=A):(V=-1,g=Q))}return x===g?g=Q:-1===g&&(g=y.length),y.slice(x,g)}for(A=y.length-1;A>=0;--A)if(47===y.charCodeAt(A)){if(!N){x=A+1;break}}else-1===g&&(N=!1,g=A+1);return-1===g?"":y.slice(x,g)},extname:function(y){R(y);for(var v=-1,A=0,x=-1,g=!0,N=0,V=y.length-1;V>=0;--V){var Q=y.charCodeAt(V);if(47!==Q)-1===x&&(g=!1,x=V+1),46===Q?-1===v?v=V:1!==N&&(N=1):-1!==v&&(N=-1);else if(!g){A=V+1;break}}return-1===v||-1===x||0===N||1===N&&v===x-1&&v===A+1?"":y.slice(v,x)},format:function(y){if(null===y||"object"!=typeof y)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof y);return g=(A=y).base||(A.name||"")+(A.ext||""),(x=A.dir||A.root)?x===A.root?x+g:x+"/"+g:g;var A,x,g},parse:function(y){R(y);var v={root:"",dir:"",base:"",ext:"",name:""};if(0===y.length)return v;var A,x=y.charCodeAt(0),g=47===x;g?(v.root="/",A=1):A=0;for(var N=-1,V=0,Q=-1,me=!0,X=y.length-1,re=0;X>=A;--X)if(47!==(x=y.charCodeAt(X)))-1===Q&&(me=!1,Q=X+1),46===x?-1===N?N=X:1!==re&&(re=1):-1!==N&&(re=-1);else if(!me){V=X+1;break}return-1===N||-1===Q||0===re||1===re&&N===Q-1&&N===V+1?-1!==Q&&(v.base=v.name=y.slice(0===V&&g?1:V,Q)):(0===V&&g?(v.name=y.slice(1,N),v.base=y.slice(1,Q)):(v.name=y.slice(V,N),v.base=y.slice(V,Q)),v.ext=y.slice(N,Q)),V>0?v.dir=y.slice(0,V-1):g&&(v.dir="/"),v},sep:"/",delimiter:":",win32:null,posix:null};b.posix=b,H.exports=b}},j={};function M(H){var R=j[H];if(void 0!==R)return R.exports;var T=j[H]={exports:{}};return w[H](T,T.exports,M),T.exports}M.d=(H,R)=>{for(var T in R)M.o(R,T)&&!M.o(H,T)&&Object.defineProperty(H,T,{enumerable:!0,get:R[T]})},M.o=(H,R)=>Object.prototype.hasOwnProperty.call(H,R),M.r=H=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})};var B={};(()=>{let H;M.r(B),M.d(B,{URI:()=>g,Utils:()=>we}),"object"==typeof process?H="win32"===process.platform:"object"==typeof navigator&&(H=navigator.userAgent.indexOf("Windows")>=0);const R=/^\w[\w\d+.-]*$/,T=/^\//,b=/^\/\//;function y(Y,F){if(!Y.scheme&&F)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Y.authority}", path: "${Y.path}", query: "${Y.query}", fragment: "${Y.fragment}"}`);if(Y.scheme&&!R.test(Y.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Y.path)if(Y.authority){if(!T.test(Y.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(b.test(Y.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const v="",A="/",x=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class g{static isUri(F){return F instanceof g||!!F&&"string"==typeof F.authority&&"string"==typeof F.fragment&&"string"==typeof F.path&&"string"==typeof F.query&&"string"==typeof F.scheme&&"string"==typeof F.fsPath&&"function"==typeof F.with&&"function"==typeof F.toString}scheme;authority;path;query;fragment;constructor(F,oe,ce,$e,be,Ae=!1){"object"==typeof F?(this.scheme=F.scheme||v,this.authority=F.authority||v,this.path=F.path||v,this.query=F.query||v,this.fragment=F.fragment||v):(this.scheme=function(Ze,Pe){return Ze||Pe?Ze:"file"}(F,Ae),this.authority=oe||v,this.path=function(Ze,Pe){switch(Ze){case"https":case"http":case"file":Pe?Pe[0]!==A&&(Pe=A+Pe):Pe=A}return Pe}(this.scheme,ce||v),this.query=$e||v,this.fragment=be||v,y(this,Ae))}get fsPath(){return re(this,!1)}with(F){if(!F)return this;let{scheme:oe,authority:ce,path:$e,query:be,fragment:Ae}=F;return void 0===oe?oe=this.scheme:null===oe&&(oe=v),void 0===ce?ce=this.authority:null===ce&&(ce=v),void 0===$e?$e=this.path:null===$e&&($e=v),void 0===be?be=this.query:null===be&&(be=v),void 0===Ae?Ae=this.fragment:null===Ae&&(Ae=v),oe===this.scheme&&ce===this.authority&&$e===this.path&&be===this.query&&Ae===this.fragment?this:new V(oe,ce,$e,be,Ae)}static parse(F,oe=!1){const ce=x.exec(F);return ce?new V(ce[2]||v,D(ce[4]||v),D(ce[5]||v),D(ce[7]||v),D(ce[9]||v),oe):new V(v,v,v,v,v)}static file(F){let oe=v;if(H&&(F=F.replace(/\\/g,A)),F[0]===A&&F[1]===A){const ce=F.indexOf(A,2);-1===ce?(oe=F.substring(2),F=A):(oe=F.substring(2,ce),F=F.substring(ce)||A)}return new V("file",oe,F,v,v)}static from(F){const oe=new V(F.scheme,F.authority,F.path,F.query,F.fragment);return y(oe,!0),oe}toString(F=!1){return se(this,F)}toJSON(){return this}static revive(F){if(F){if(F instanceof g)return F;{const oe=new V(F);return oe._formatted=F.external,oe._fsPath=F._sep===N?F.fsPath:null,oe}}return F}}const N=H?1:void 0;class V extends g{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=re(this,!1)),this._fsPath}toString(F=!1){return F?se(this,!0):(this._formatted||(this._formatted=se(this,!1)),this._formatted)}toJSON(){const F={$mid:1};return this._fsPath&&(F.fsPath=this._fsPath,F._sep=N),this._formatted&&(F.external=this._formatted),this.path&&(F.path=this.path),this.scheme&&(F.scheme=this.scheme),this.authority&&(F.authority=this.authority),this.query&&(F.query=this.query),this.fragment&&(F.fragment=this.fragment),F}}const Q={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function me(Y,F,oe){let ce,$e=-1;for(let be=0;be<Y.length;be++){const Ae=Y.charCodeAt(be);if(Ae>=97&&Ae<=122||Ae>=65&&Ae<=90||Ae>=48&&Ae<=57||45===Ae||46===Ae||95===Ae||126===Ae||F&&47===Ae||oe&&91===Ae||oe&&93===Ae||oe&&58===Ae)-1!==$e&&(ce+=encodeURIComponent(Y.substring($e,be)),$e=-1),void 0!==ce&&(ce+=Y.charAt(be));else{void 0===ce&&(ce=Y.substr(0,be));const Ze=Q[Ae];void 0!==Ze?(-1!==$e&&(ce+=encodeURIComponent(Y.substring($e,be)),$e=-1),ce+=Ze):-1===$e&&($e=be)}}return-1!==$e&&(ce+=encodeURIComponent(Y.substring($e))),void 0!==ce?ce:Y}function X(Y){let F;for(let oe=0;oe<Y.length;oe++){const ce=Y.charCodeAt(oe);35===ce||63===ce?(void 0===F&&(F=Y.substr(0,oe)),F+=Q[ce]):void 0!==F&&(F+=Y[oe])}return void 0!==F?F:Y}function re(Y,F){let oe;return oe=Y.authority&&Y.path.length>1&&"file"===Y.scheme?`//${Y.authority}${Y.path}`:47===Y.path.charCodeAt(0)&&(Y.path.charCodeAt(1)>=65&&Y.path.charCodeAt(1)<=90||Y.path.charCodeAt(1)>=97&&Y.path.charCodeAt(1)<=122)&&58===Y.path.charCodeAt(2)?F?Y.path.substr(1):Y.path[1].toLowerCase()+Y.path.substr(2):Y.path,H&&(oe=oe.replace(/\//g,"\\")),oe}function se(Y,F){const oe=F?X:me;let ce="",{scheme:$e,authority:be,path:Ae,query:Ze,fragment:Pe}=Y;if($e&&(ce+=$e,ce+=":"),(be||"file"===$e)&&(ce+=A,ce+=A),be){let De=be.indexOf("@");if(-1!==De){const at=be.substr(0,De);be=be.substr(De+1),De=at.lastIndexOf(":"),-1===De?ce+=oe(at,!1,!1):(ce+=oe(at.substr(0,De),!1,!1),ce+=":",ce+=oe(at.substr(De+1),!1,!0)),ce+="@"}be=be.toLowerCase(),De=be.lastIndexOf(":"),-1===De?ce+=oe(be,!1,!0):(ce+=oe(be.substr(0,De),!1,!0),ce+=be.substr(De))}if(Ae){if(Ae.length>=3&&47===Ae.charCodeAt(0)&&58===Ae.charCodeAt(2)){const De=Ae.charCodeAt(1);De>=65&&De<=90&&(Ae=`/${String.fromCharCode(De+32)}:${Ae.substr(3)}`)}else if(Ae.length>=2&&58===Ae.charCodeAt(1)){const De=Ae.charCodeAt(0);De>=65&&De<=90&&(Ae=`${String.fromCharCode(De+32)}:${Ae.substr(2)}`)}ce+=oe(Ae,!0,!1)}return Ze&&(ce+="?",ce+=oe(Ze,!1,!1)),Pe&&(ce+="#",ce+=F?Pe:me(Pe,!1,!1)),ce}function Te(Y){try{return decodeURIComponent(Y)}catch{return Y.length>3?Y.substr(0,3)+Te(Y.substr(3)):Y}}const Oe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function D(Y){return Y.match(Oe)?Y.replace(Oe,F=>Te(F)):Y}var ae=M(470);const fe=ae.posix||ae;var we,Y;(Y=we||(we={})).joinPath=function(F,...oe){return F.with({path:fe.join(F.path,...oe)})},Y.resolvePath=function(F,...oe){let ce=F.path,$e=!1;"/"!==ce[0]&&(ce="/"+ce,$e=!0);let be=fe.resolve(ce,...oe);return $e&&"/"===be[0]&&!F.authority&&(be=be.substring(1)),F.with({path:be})},Y.dirname=function(F){if(0===F.path.length||"/"===F.path)return F;let oe=fe.dirname(F.path);return 1===oe.length&&46===oe.charCodeAt(0)&&(oe=""),F.with({path:oe})},Y.basename=function(F){return fe.basename(F.path)},Y.extname=function(F){return fe.extname(F.path)}})(),S=B})();const{URI:q,Utils:J}=S}}]);
//# sourceMappingURL=233.5df4097e17ae1126.js.map