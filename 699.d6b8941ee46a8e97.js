(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[699],{867(kt,vt,Mt){var S;kt.exports=(S=Mt(4329),(()=>{"use strict";var y={658:n=>{n.exports=null!=Object.assign?Object.assign.bind(Object):function(c){for(var e=arguments.length,v=Array(e>1?e-1:0),t=1;t<e;t++)v[t-1]=arguments[t];return v.forEach(function(a){Object.keys(a).forEach(function(h){return c[h]=a[h]})}),c}},548:(n,c,e)=>{var v=function(){return function(g,u){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return function h(g,u){var m=[],f=!0,A=!1,T=void 0;try{for(var x,N=g[Symbol.iterator]();!(f=(x=N.next()).done)&&(m.push(x.value),!u||m.length!==u);f=!0);}catch(_){A=!0,T=_}finally{try{!f&&N.return&&N.return()}finally{if(A)throw T}}return m}(g,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t=e(140).layoutBase.LinkedList;n.exports={getTopMostNodes:function(h){for(var g={},u=0;u<h.length;u++)g[h[u].id()]=!0;return h.filter(function(f,A){"number"==typeof f&&(f=A);for(var T=f.parent()[0];null!=T;){if(g[T.id()])return!1;T=T.parent()[0]}return!0})},connectComponents:function(h,g,u,m){var f=new t,A=new Set,T=[],N=void 0,x=void 0,_=void 0,I=!1,it=1,pt=[],gt=[],Dt=function(){var Z=h.collection();gt.push(Z);var r=u[0],E=h.collection();E.merge(r).merge(r.descendants().intersection(g)),T.push(r),E.forEach(function(d){f.push(d),A.add(d),Z.merge(d)});for(var l=function(){r=f.shift();var R=h.collection();r.neighborhood().nodes().forEach(function(G){g.intersection(r.edgesWith(G)).length>0&&R.merge(G)});for(var D=0;D<R.length;D++){var U=R[D];null==(N=u.intersection(U.union(U.ancestors())))||A.has(N[0])||N.union(N.descendants()).forEach(function(G){f.push(G),A.add(G),Z.merge(G),u.has(G)&&T.push(G)})}};0!=f.length;)l();if(Z.forEach(function(d){g.intersection(d.connectedEdges()).forEach(function(R){Z.has(R.source())&&Z.has(R.target())&&Z.merge(R)})}),T.length==u.length&&(I=!0),!I||I&&it>1){_=(x=T[0]).connectedEdges().length,T.forEach(function(d){d.connectedEdges().length<_&&(_=d.connectedEdges().length,x=d)}),pt.push(x.id());var p=h.collection();p.merge(T[0]),T.forEach(function(d){p.merge(d)}),T=[],u=u.difference(p),it++}};do{Dt()}while(!I);return m&&pt.length>0&&m.set("dummy"+(m.size+1),pt),gt},relocateComponent:function(h,g,u){if(!u.fixedNodeConstraint){var m=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY,T=Number.NEGATIVE_INFINITY;if("draft"==u.quality){var N=!0,x=!1,_=void 0;try{for(var it,I=g.nodeIndexes[Symbol.iterator]();!(N=(it=I.next()).done);N=!0){var gt=v(it.value,2),P=gt[1],Z=u.cy.getElementById(gt[0]);if(Z){var r=Z.boundingBox(),E=g.xCoords[P]-r.w/2,l=g.xCoords[P]+r.w/2,p=g.yCoords[P]-r.h/2,d=g.yCoords[P]+r.h/2;E<m&&(m=E),l>f&&(f=l),p<A&&(A=p),d>T&&(T=d)}}}catch(G){x=!0,_=G}finally{try{!N&&I.return&&I.return()}finally{if(x)throw _}}var R=h.x-(f+m)/2,D=h.y-(T+A)/2;g.xCoords=g.xCoords.map(function(G){return G+R}),g.yCoords=g.yCoords.map(function(G){return G+D})}else{Object.keys(g).forEach(function(G){var j=g[G],lt=j.getRect().x,V=j.getRect().x+j.getRect().width,st=j.getRect().y,q=j.getRect().y+j.getRect().height;lt<m&&(m=lt),V>f&&(f=V),st<A&&(A=st),q>T&&(T=q)});var U=h.x-(f+m)/2,Y=h.y-(T+A)/2;Object.keys(g).forEach(function(G){var j=g[G];j.setCenter(j.getCenterX()+U,j.getCenterY()+Y)})}}},calcBoundingBox:function(h,g,u,m){for(var f=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,T=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,x=void 0,_=void 0,I=void 0,it=void 0,pt=h.descendants().not(":parent"),gt=pt.length,Dt=0;Dt<gt;Dt++){var P=pt[Dt];f>(x=g[m.get(P.id())]-P.width()/2)&&(f=x),A<(_=g[m.get(P.id())]+P.width()/2)&&(A=_),T>(I=u[m.get(P.id())]-P.height()/2)&&(T=I),N<(it=u[m.get(P.id())]+P.height()/2)&&(N=it)}var Z={};return Z.topLeftX=f,Z.topLeftY=T,Z.width=A-f,Z.height=N-T,Z},calcParentsWithoutChildren:function(h,g){var u=h.collection();return g.nodes(":parent").forEach(function(m){var f=!1;m.children().forEach(function(A){"none"!=A.css("display")&&(f=!0)}),f||u.merge(m)}),u}}},816:(n,c,e)=>{var v=e(548),t=e(140).CoSELayout,a=e(140).CoSENode,h=e(140).layoutBase.PointD,g=e(140).layoutBase.DimensionD,u=e(140).layoutBase.LayoutConstants,m=e(140).layoutBase.FDLayoutConstants,f=e(140).CoSEConstants;n.exports={coseLayout:function(N,x){var _=N.cy,I=N.eles,it=I.nodes(),pt=I.edges(),gt=void 0,Dt=void 0,P=void 0,Z={};N.randomize&&(gt=x.nodeIndexes,Dt=x.xCoords,P=x.yCoords);var r=function(G){return"function"==typeof G},E=function(G,j){return r(G)?G(j):G},l=v.calcParentsWithoutChildren(_,I);null!=N.nestingFactor&&(f.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=m.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=N.nestingFactor),null!=N.gravity&&(f.DEFAULT_GRAVITY_STRENGTH=m.DEFAULT_GRAVITY_STRENGTH=N.gravity),null!=N.numIter&&(f.MAX_ITERATIONS=m.MAX_ITERATIONS=N.numIter),null!=N.gravityRange&&(f.DEFAULT_GRAVITY_RANGE_FACTOR=m.DEFAULT_GRAVITY_RANGE_FACTOR=N.gravityRange),null!=N.gravityCompound&&(f.DEFAULT_COMPOUND_GRAVITY_STRENGTH=m.DEFAULT_COMPOUND_GRAVITY_STRENGTH=N.gravityCompound),null!=N.gravityRangeCompound&&(f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=m.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=N.gravityRangeCompound),null!=N.initialEnergyOnIncremental&&(f.DEFAULT_COOLING_FACTOR_INCREMENTAL=m.DEFAULT_COOLING_FACTOR_INCREMENTAL=N.initialEnergyOnIncremental),null!=N.tilingCompareBy&&(f.TILING_COMPARE_BY=N.tilingCompareBy),u.QUALITY="proof"==N.quality?2:0,f.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=N.nodeDimensionsIncludeLabels,f.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!N.randomize,f.ANIMATE=m.ANIMATE=u.ANIMATE=N.animate,f.TILE=N.tile,f.TILING_PADDING_VERTICAL="function"==typeof N.tilingPaddingVertical?N.tilingPaddingVertical.call():N.tilingPaddingVertical,f.TILING_PADDING_HORIZONTAL="function"==typeof N.tilingPaddingHorizontal?N.tilingPaddingHorizontal.call():N.tilingPaddingHorizontal,f.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!0,f.PURE_INCREMENTAL=!N.randomize,u.DEFAULT_UNIFORM_LEAF_NODE_SIZES=N.uniformNodeDimensions,"transformed"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,f.ENFORCE_CONSTRAINTS=!1,f.APPLY_LAYOUT=!1),"enforced"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!1),"cose"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,f.ENFORCE_CONSTRAINTS=!1,f.APPLY_LAYOUT=!0),"all"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!!N.randomize,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!0),f.TREE_REDUCTION_ON_INCREMENTAL=!(N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint);var G,j,D=new t,U=D.newGraphManager();return function Y(G,j,lt,V){for(var st=j.length,q=0;q<st;q++){var w=j[q],z=null;0==w.intersection(l).length&&(z=w.children());var B=void 0,nt=w.layoutDimensions({nodeDimensionsIncludeLabels:V.nodeDimensionsIncludeLabels});if(null!=w.outerWidth()&&null!=w.outerHeight())if(V.randomize)if(w.isParent()){var Ot=v.calcBoundingBox(w,Dt,P,gt);B=0==w.intersection(l).length?G.add(new a(lt.graphManager,new h(Ot.topLeftX,Ot.topLeftY),new g(Ot.width,Ot.height))):G.add(new a(lt.graphManager,new h(Ot.topLeftX,Ot.topLeftY),new g(parseFloat(nt.w),parseFloat(nt.h))))}else B=G.add(new a(lt.graphManager,new h(Dt[gt.get(w.id())]-nt.w/2,P[gt.get(w.id())]-nt.h/2),new g(parseFloat(nt.w),parseFloat(nt.h))));else B=G.add(new a(lt.graphManager,new h(w.position("x")-nt.w/2,w.position("y")-nt.h/2),new g(parseFloat(nt.w),parseFloat(nt.h))));else B=G.add(new a(this.graphManager));B.id=w.data("id"),B.nodeRepulsion=E(V.nodeRepulsion,w),B.paddingLeft=parseInt(w.css("padding")),B.paddingTop=parseInt(w.css("padding")),B.paddingRight=parseInt(w.css("padding")),B.paddingBottom=parseInt(w.css("padding")),V.nodeDimensionsIncludeLabels&&(B.labelWidth=w.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,B.labelHeight=w.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,B.labelPosVertical=w.css("text-valign"),B.labelPosHorizontal=w.css("text-halign")),Z[w.data("id")]=B,isNaN(B.rect.x)&&(B.rect.x=0),isNaN(B.rect.y)&&(B.rect.y=0),null!=z&&z.length>0&&Y(lt.getGraphManager().add(lt.newGraph(),B),z,lt,V)}}(U.addRoot(),v.getTopMostNodes(it),D,N),function(G,j,lt){for(var V=0,st=0,q=0;q<lt.length;q++){var w=lt[q],z=Z[w.data("source")],B=Z[w.data("target")];if(z&&B&&z!==B&&0==z.getEdgesBetween(B).length){var nt=j.add(G.newEdge(),z,B);nt.id=w.id(),nt.idealLength=E(N.idealEdgeLength,w),nt.edgeElasticity=E(N.edgeElasticity,w),V+=nt.idealLength,st++}}null!=N.idealEdgeLength&&(f.DEFAULT_EDGE_LENGTH=m.DEFAULT_EDGE_LENGTH=st>0?V/st:r(N.idealEdgeLength)?50:N.idealEdgeLength,f.MIN_REPULSION_DIST=m.MIN_REPULSION_DIST=m.DEFAULT_EDGE_LENGTH/10,f.DEFAULT_RADIAL_SEPARATION=m.DEFAULT_EDGE_LENGTH)}(D,U,pt),G=D,(j=N).fixedNodeConstraint&&(G.constraints.fixedNodeConstraint=j.fixedNodeConstraint),j.alignmentConstraint&&(G.constraints.alignmentConstraint=j.alignmentConstraint),j.relativePlacementConstraint&&(G.constraints.relativePlacementConstraint=j.relativePlacementConstraint),D.runLayout(),Z}}},212:(n,c,e)=>{var v=function(){function N(x,_){for(var I=0;I<_.length;I++){var it=_[I];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(x,it.key,it)}}return function(x,_,I){return _&&N(x.prototype,_),I&&N(x,I),x}}();var a=e(658),h=e(548),u=e(657).spectralLayout,f=e(816).coseLayout,A=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(x){return 4500},idealEdgeLength:function(x){return 50},edgeElasticity:function(x){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),T=function(){function N(x){(function t(N,x){if(!(N instanceof x))throw new TypeError("Cannot call a class as a function")})(this,N),this.options=a({},A,x)}return v(N,[{key:"run",value:function(){var I=this.options,it=I.cy,pt=I.eles,gt=[],Z=[],r=void 0,E=[];I.fixedNodeConstraint&&(!Array.isArray(I.fixedNodeConstraint)||0==I.fixedNodeConstraint.length)&&(I.fixedNodeConstraint=void 0),I.alignmentConstraint&&(I.alignmentConstraint.vertical&&(!Array.isArray(I.alignmentConstraint.vertical)||0==I.alignmentConstraint.vertical.length)&&(I.alignmentConstraint.vertical=void 0),I.alignmentConstraint.horizontal&&(!Array.isArray(I.alignmentConstraint.horizontal)||0==I.alignmentConstraint.horizontal.length)&&(I.alignmentConstraint.horizontal=void 0)),I.relativePlacementConstraint&&(!Array.isArray(I.relativePlacementConstraint)||0==I.relativePlacementConstraint.length)&&(I.relativePlacementConstraint=void 0),(I.fixedNodeConstraint||I.alignmentConstraint||I.relativePlacementConstraint)&&(I.tile=!1,I.packComponents=!1);var p=void 0,d=!1;if(it.layoutUtilities&&I.packComponents&&((p=it.layoutUtilities("get"))||(p=it.layoutUtilities()),d=!0),pt.nodes().length>0)if(d){var U=h.getTopMostNodes(I.eles.nodes());if((r=h.connectComponents(it,I.eles,U)).forEach(function(C){var M=C.boundingBox();E.push({x:M.x1+M.w/2,y:M.y1+M.h/2})}),I.randomize&&r.forEach(function(C){I.eles=C,gt.push(u(I))}),"default"==I.quality||"proof"==I.quality){var Y=it.collection();if(I.tile){var V=0,st={nodeIndexes:new Map,xCoords:[],yCoords:[]},q=[];if(r.forEach(function(C,M){0==C.edges().length&&(C.nodes().forEach(function(W,rt){Y.merge(C.nodes()[rt]),W.isParent()||(st.nodeIndexes.set(C.nodes()[rt].id(),V++),st.xCoords.push(C.nodes()[0].position().x),st.yCoords.push(C.nodes()[0].position().y))}),q.push(M))}),Y.length>1){var w=Y.boundingBox();E.push({x:w.x1+w.w/2,y:w.y1+w.h/2}),r.push(Y),gt.push(st);for(var z=q.length-1;z>=0;z--)r.splice(q[z],1),gt.splice(q[z],1),E.splice(q[z],1)}}r.forEach(function(C,M){I.eles=C,Z.push(f(I,gt[M])),h.relocateComponent(E[M],Z[M],I)})}else r.forEach(function(C,M){h.relocateComponent(E[M],gt[M],I)});var B=new Set;if(r.length>1){var nt=[],Ot=pt.filter(function(C){return"none"==C.css("display")});r.forEach(function(C,M){var W=void 0;if("draft"==I.quality&&(W=gt[M].nodeIndexes),C.nodes().not(Ot).length>0){var rt={edges:[],nodes:[]},k=void 0;C.nodes().not(Ot).forEach(function(ut){if("draft"==I.quality)if(ut.isParent()){var J=h.calcBoundingBox(ut,gt[M].xCoords,gt[M].yCoords,W);rt.nodes.push({x:J.topLeftX,y:J.topLeftY,width:J.width,height:J.height})}else k=W.get(ut.id()),rt.nodes.push({x:gt[M].xCoords[k]-ut.boundingbox().w/2,y:gt[M].yCoords[k]-ut.boundingbox().h/2,width:ut.boundingbox().w,height:ut.boundingbox().h});else Z[M][ut.id()]&&rt.nodes.push({x:Z[M][ut.id()].getLeft(),y:Z[M][ut.id()].getTop(),width:Z[M][ut.id()].getWidth(),height:Z[M][ut.id()].getHeight()})}),C.edges().forEach(function(ut){var J=ut.source(),et=ut.target();if("none"!=J.css("display")&&"none"!=et.css("display"))if("draft"==I.quality){var ft=W.get(J.id()),ct=W.get(et.id()),at=[],Et=[];if(J.isParent()){var yt=h.calcBoundingBox(J,gt[M].xCoords,gt[M].yCoords,W);at.push(yt.topLeftX+yt.width/2),at.push(yt.topLeftY+yt.height/2)}else at.push(gt[M].xCoords[ft]),at.push(gt[M].yCoords[ft]);if(et.isParent()){var O=h.calcBoundingBox(et,gt[M].xCoords,gt[M].yCoords,W);Et.push(O.topLeftX+O.width/2),Et.push(O.topLeftY+O.height/2)}else Et.push(gt[M].xCoords[ct]),Et.push(gt[M].yCoords[ct]);rt.edges.push({startX:at[0],startY:at[1],endX:Et[0],endY:Et[1]})}else Z[M][J.id()]&&Z[M][et.id()]&&rt.edges.push({startX:Z[M][J.id()].getCenterX(),startY:Z[M][J.id()].getCenterY(),endX:Z[M][et.id()].getCenterX(),endY:Z[M][et.id()].getCenterY()})}),rt.nodes.length>0&&(nt.push(rt),B.add(M))}});var tt=p.packComponents(nt,I.randomize).shifts;if("draft"==I.quality)gt.forEach(function(C,M){var W=C.xCoords.map(function(k){return k+tt[M].dx}),rt=C.yCoords.map(function(k){return k+tt[M].dy});C.xCoords=W,C.yCoords=rt});else{var Pt=0;B.forEach(function(C){Object.keys(Z[C]).forEach(function(M){var W=Z[C][M];W.setCenter(W.getCenterX()+tt[Pt].dx,W.getCenterY()+tt[Pt].dy)}),Pt++})}}}else{var R=I.eles.boundingBox();if(E.push({x:R.x1+R.w/2,y:R.y1+R.h/2}),I.randomize){var D=u(I);gt.push(D)}"default"==I.quality||"proof"==I.quality?(Z.push(f(I,gt[0])),h.relocateComponent(E[0],Z[0],I)):h.relocateComponent(E[0],gt[0],I)}var Rt=function(M,W){if("default"==I.quality||"proof"==I.quality){"number"==typeof M&&(M=W);var rt=void 0,k=void 0,ut=M.data("id");return Z.forEach(function(et){ut in et&&(rt={x:et[ut].getRect().getCenterX(),y:et[ut].getRect().getCenterY()},k=et[ut])}),I.nodeDimensionsIncludeLabels&&(k.labelWidth&&("left"==k.labelPosHorizontal?rt.x+=k.labelWidth/2:"right"==k.labelPosHorizontal&&(rt.x-=k.labelWidth/2)),k.labelHeight&&("top"==k.labelPosVertical?rt.y+=k.labelHeight/2:"bottom"==k.labelPosVertical&&(rt.y-=k.labelHeight/2))),null==rt&&(rt={x:M.position("x"),y:M.position("y")}),{x:rt.x,y:rt.y}}var J=void 0;return gt.forEach(function(et){var ft=et.nodeIndexes.get(M.id());null!=ft&&(J={x:et.xCoords[ft],y:et.yCoords[ft]})}),null==J&&(J={x:M.position("x"),y:M.position("y")}),{x:J.x,y:J.y}};if("default"==I.quality||"proof"==I.quality||I.randomize){var Ht=h.calcParentsWithoutChildren(it,pt),L=pt.filter(function(C){return"none"==C.css("display")});I.eles=pt.not(L),pt.nodes().not(":parent").not(L).layoutPositions(this,I,Rt),Ht.length>0&&Ht.forEach(function(C){C.position(Rt(C))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),N}();n.exports=T},657:(n,c,e)=>{var v=e(548),t=e(140).layoutBase.Matrix,a=e(140).layoutBase.SVD;n.exports={spectralLayout:function(u){var m=u.cy,f=u.eles,A=f.nodes(),T=f.nodes(":parent"),N=new Map,x=new Map,_=new Map,I=[],it=[],pt=[],gt=[],Dt=[],P=[],Z=[],r=[],l=void 0,p=1e8,d=1e-9,R=u.piTol,D=u.samplingType,U=u.nodeSeparation,Y=void 0,j=function(F,H,X){for(var $=[],ot=0,ht=0,K=0,Q=void 0,mt=[],At=0,Lt=1,Ft=0;Ft<l;Ft++)mt[Ft]=p;for($[ht]=F,mt[F]=0;ht>=ot;){K=$[ot++];for(var Tt=I[K],dt=0;dt<Tt.length;dt++)mt[Q=x.get(Tt[dt])]==p&&(mt[Q]=mt[K]+1,$[++ht]=Q);P[K][H]=mt[K]*U}if(X){for(var wt=0;wt<l;wt++)P[wt][H]<Dt[wt]&&(Dt[wt]=P[wt][H]);for(var Nt=0;Nt<l;Nt++)Dt[Nt]>At&&(At=Dt[Nt],Lt=Nt)}return Lt};v.connectComponents(m,f,v.getTopMostNodes(A),N),T.forEach(function(b){v.connectComponents(m,f,v.getTopMostNodes(b.descendants().intersection(f)),N)});for(var q=0,w=0;w<A.length;w++)A[w].isParent()||x.set(A[w].id(),q++);var z=!0,B=!1,nt=void 0;try{for(var tt,Ot=N.keys()[Symbol.iterator]();!(z=(tt=Ot.next()).done);z=!0)x.set(tt.value,q++)}catch(b){B=!0,nt=b}finally{try{!z&&Ot.return&&Ot.return()}finally{if(B)throw nt}}for(var Rt=0;Rt<x.size;Rt++)I[Rt]=[];T.forEach(function(b){for(var F=b.children().intersection(f);0==F.nodes(":childless").length;)F=F.nodes()[0].children().intersection(f);var H=0,X=F.nodes(":childless")[0].connectedEdges().length;F.nodes(":childless").forEach(function($,ot){$.connectedEdges().length<X&&(X=$.connectedEdges().length,H=ot)}),_.set(b.id(),F.nodes(":childless")[H].id())}),A.forEach(function(b){var F;F=b.isParent()?x.get(_.get(b.id())):x.get(b.id()),b.neighborhood().nodes().forEach(function(H){f.intersection(b.edgesWith(H)).length>0&&(H.isParent()?I[F].push(_.get(H.id())):I[F].push(H.id()))})});var Ht=function(F){var H=x.get(F),X=void 0;N.get(F).forEach(function($){X=m.getElementById($).isParent()?_.get($):$,I[H].push(X),I[x.get(X)].push(F)})},L=!0,C=!1,M=void 0;try{for(var rt,W=N.keys()[Symbol.iterator]();!(L=(rt=W.next()).done);L=!0)Ht(rt.value)}catch(b){C=!0,M=b}finally{try{!L&&W.return&&W.return()}finally{if(C)throw M}}var ut=void 0;if((l=x.size)>2){Y=l<u.sampleSize?l:u.sampleSize;for(var J=0;J<l;J++)P[J]=[];for(var et=0;et<Y;et++)r[et]=[];return"draft"==u.quality||"all"==u.step?(function(F){var H=void 0;if(F){H=Math.floor(Math.random()*l);for(var $=0;$<l;$++)Dt[$]=p;for(var ot=0;ot<Y;ot++)gt[ot]=H,H=j(H,ot,F)}else{!function(){for(var F=0,H=0,X=!1;H<Y;){F=Math.floor(Math.random()*l),X=!1;for(var $=0;$<H;$++)if(gt[$]==F){X=!0;break}X||(gt[H]=F,H++)}}();for(var X=0;X<Y;X++)j(gt[X],X,F)}for(var ht=0;ht<l;ht++)for(var K=0;K<Y;K++)P[ht][K]*=P[ht][K];for(var Q=0;Q<Y;Q++)Z[Q]=[];for(var mt=0;mt<Y;mt++)for(var At=0;At<Y;At++)Z[mt][At]=P[gt[At]][mt]}(D),function(){for(var F=a.svd(Z),H=F.S,X=F.U,$=F.V,ot=H[0]*H[0]*H[0],ht=[],K=0;K<Y;K++){ht[K]=[];for(var Q=0;Q<Y;Q++)ht[K][Q]=0,K==Q&&(ht[K][Q]=H[K]/(H[K]*H[K]+ot/(H[K]*H[K])))}r=t.multMat(t.multMat($,ht),t.transpose(X))}(),function(){for(var F=void 0,H=void 0,X=[],$=[],ot=[],ht=[],K=0;K<l;K++)X[K]=Math.random(),$[K]=Math.random();X=t.normalize(X),$=t.normalize($);for(var mt=d,At=d,Lt=void 0;;){for(var Ft=0;Ft<l;Ft++)ot[Ft]=X[Ft];if(X=t.multGamma(t.multL(t.multGamma(ot),P,r)),F=t.dotProduct(ot,X),X=t.normalize(X),mt=t.dotProduct(ot,X),(Lt=Math.abs(mt/At))<=1+R&&Lt>=1)break;At=mt}for(var Tt=0;Tt<l;Tt++)ot[Tt]=X[Tt];for(At=d;;){for(var dt=0;dt<l;dt++)ht[dt]=$[dt];if(ht=t.minusOp(ht,t.multCons(ot,t.dotProduct(ot,ht))),$=t.multGamma(t.multL(t.multGamma(ht),P,r)),H=t.dotProduct(ht,$),$=t.normalize($),mt=t.dotProduct(ht,$),(Lt=Math.abs(mt/At))<=1+R&&Lt>=1)break;At=mt}for(var wt=0;wt<l;wt++)ht[wt]=$[wt];it=t.multCons(ot,Math.sqrt(Math.abs(F))),pt=t.multCons(ht,Math.sqrt(Math.abs(H)))}(),ut={nodeIndexes:x,xCoords:it,yCoords:pt}):(x.forEach(function(b,F){it.push(m.getElementById(F).position("x")),pt.push(m.getElementById(F).position("y"))}),ut={nodeIndexes:x,xCoords:it,yCoords:pt}),ut}var ft=x.keys(),ct=m.getElementById(ft.next().value),at=ct.position(),Et=ct.outerWidth();if(it.push(at.x),pt.push(at.y),2==l){var O=m.getElementById(ft.next().value).outerWidth();it.push(at.x+Et/2+O/2+u.idealEdgeLength),pt.push(at.y)}return{nodeIndexes:x,xCoords:it,yCoords:pt}}}},579:(n,c,e)=>{var v=e(212),t=function(h){h&&h("layout","fcose",v)};typeof cytoscape<"u"&&t(cytoscape),n.exports=t},140:n=>{n.exports=S}},o={};return function s(n){var c=o[n];if(void 0!==c)return c.exports;var e=o[n]={exports:{}};return y[n](e,e.exports,s),e.exports}(579)})())},4329(kt,vt,Mt){var S;kt.exports=(S=Mt(3545),(()=>{"use strict";var y={45:(n,c,e)=>{var v={};v.layoutBase=e(551),v.CoSEConstants=e(806),v.CoSEEdge=e(767),v.CoSEGraph=e(880),v.CoSEGraphManager=e(578),v.CoSELayout=e(765),v.CoSENode=e(991),v.ConstraintHandler=e(902),n.exports=v},806:(n,c,e)=>{var v=e(551).FDLayoutConstants;function t(){}for(var a in v)t[a]=v[a];t.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,t.DEFAULT_RADIAL_SEPARATION=v.DEFAULT_EDGE_LENGTH,t.DEFAULT_COMPONENT_SEPERATION=60,t.TILE=!0,t.TILING_PADDING_VERTICAL=10,t.TILING_PADDING_HORIZONTAL=10,t.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,t.ENFORCE_CONSTRAINTS=!0,t.APPLY_LAYOUT=!0,t.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,t.TREE_REDUCTION_ON_INCREMENTAL=!0,t.PURE_INCREMENTAL=t.DEFAULT_INCREMENTAL,n.exports=t},767:(n,c,e)=>{var v=e(551).FDLayoutEdge;function t(h,g,u){v.call(this,h,g,u)}for(var a in t.prototype=Object.create(v.prototype),v)t[a]=v[a];n.exports=t},880:(n,c,e)=>{var v=e(551).LGraph;function t(h,g,u){v.call(this,h,g,u)}for(var a in t.prototype=Object.create(v.prototype),v)t[a]=v[a];n.exports=t},578:(n,c,e)=>{var v=e(551).LGraphManager;function t(h){v.call(this,h)}for(var a in t.prototype=Object.create(v.prototype),v)t[a]=v[a];n.exports=t},765:(n,c,e)=>{var v=e(551).FDLayout,t=e(578),a=e(880),h=e(991),g=e(767),u=e(806),m=e(902),f=e(551).FDLayoutConstants,A=e(551).LayoutConstants,T=e(551).Point,N=e(551).PointD,x=e(551).DimensionD,_=e(551).Layout,I=e(551).Integer,it=e(551).IGeometry,pt=e(551).LGraph,gt=e(551).Transform,Dt=e(551).LinkedList;function P(){v.call(this),this.toBeTiled={},this.constraints={}}for(var Z in P.prototype=Object.create(v.prototype),v)P[Z]=v[Z];P.prototype.newGraphManager=function(){var r=new t(this);return this.graphManager=r,r},P.prototype.newGraph=function(r){return new a(null,this.graphManager,r)},P.prototype.newNode=function(r){return new h(this.graphManager,r)},P.prototype.newEdge=function(r){return new g(null,null,r)},P.prototype.initParameters=function(){v.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH<10?10:u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},P.prototype.initSpringEmbedder=function(){v.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},P.prototype.layout=function(){return A.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},P.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(u.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),l=this.nodesWithGravity.filter(function(R){return E.has(R)});this.graphManager.setAllNodesToApplyGravitation(l)}}else{var r=this.getFlatForest();r.length>0?this.positionNodesRadially(r):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),E=new Set(this.getAllNodes()),l=this.nodesWithGravity.filter(function(p){return E.has(p)}),this.graphManager.setAllNodesToApplyGravitation(l),this.positionNodesRandomly())}return Object.keys(this.constraints).length>0&&(m.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),u.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},P.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var r=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(d){return r.has(d)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=u.PURE_INCREMENTAL?f.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=u.PURE_INCREMENTAL?f.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var l=!this.isTreeGrowing&&!this.isGrowthFinished,p=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(l,p),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},P.prototype.getPositionsData=function(){for(var r=this.graphManager.getAllNodes(),E={},l=0;l<r.length;l++){var p=r[l].rect,d=r[l].id;E[d]={id:d,x:p.getCenterX(),y:p.getCenterY(),w:p.width,h:p.height}}return E},P.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var r=!1;if("during"===f.ANIMATE)this.emit("layoutstarted");else{for(;!r;)r=this.tick();this.graphManager.updateBounds()}},P.prototype.moveNodes=function(){for(var r=this.getAllNodes(),l=0;l<r.length;l++)r[l].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),l=0;l<r.length;l++)r[l].move()},P.prototype.initConstraintVariables=function(){var r=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var E=this.graphManager.getAllNodes(),l=0;l<E.length;l++)this.idToNodeMap.set((p=E[l]).id,p);var p,d=function w(z){for(var nt,B=z.getChild().getNodes(),Ot=0,tt=0;tt<B.length;tt++)null==(nt=B[tt]).getChild()?r.fixedNodeSet.has(nt.id)&&(Ot+=100):Ot+=w(nt);return Ot};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach(function(B){r.fixedNodeSet.add(B.nodeId)}),E=this.graphManager.getAllNodes(),l=0;l<E.length;l++)if(null!=(p=E[l]).getChild()){var R=d(p);R>0&&(p.fixedNodeWeight=R)}if(this.constraints.relativePlacementConstraint){var D=new Map,U=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(w){r.fixedNodesOnHorizontal.add(w),r.fixedNodesOnVertical.add(w)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var Y=this.constraints.alignmentConstraint.vertical;for(l=0;l<Y.length;l++)this.dummyToNodeForVerticalAlignment.set("dummy"+l,[]),Y[l].forEach(function(z){D.set(z,"dummy"+l),r.dummyToNodeForVerticalAlignment.get("dummy"+l).push(z),r.fixedNodeSet.has(z)&&r.fixedNodesOnHorizontal.add("dummy"+l)})}if(this.constraints.alignmentConstraint.horizontal){var G=this.constraints.alignmentConstraint.horizontal;for(l=0;l<G.length;l++)this.dummyToNodeForHorizontalAlignment.set("dummy"+l,[]),G[l].forEach(function(z){U.set(z,"dummy"+l),r.dummyToNodeForHorizontalAlignment.get("dummy"+l).push(z),r.fixedNodeSet.has(z)&&r.fixedNodesOnVertical.add("dummy"+l)})}}if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(w){var z,B,nt;for(nt=w.length-1;nt>=2*w.length/3;nt--)z=Math.floor(Math.random()*(nt+1)),B=w[nt],w[nt]=w[z],w[z]=B;return w},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(w){if(w.left){var z=D.has(w.left)?D.get(w.left):w.left,B=D.has(w.right)?D.get(w.right):w.right;r.nodesInRelativeHorizontal.includes(z)||(r.nodesInRelativeHorizontal.push(z),r.nodeToRelativeConstraintMapHorizontal.set(z,[]),r.dummyToNodeForVerticalAlignment.has(z)?r.nodeToTempPositionMapHorizontal.set(z,r.idToNodeMap.get(r.dummyToNodeForVerticalAlignment.get(z)[0]).getCenterX()):r.nodeToTempPositionMapHorizontal.set(z,r.idToNodeMap.get(z).getCenterX())),r.nodesInRelativeHorizontal.includes(B)||(r.nodesInRelativeHorizontal.push(B),r.nodeToRelativeConstraintMapHorizontal.set(B,[]),r.dummyToNodeForVerticalAlignment.has(B)?r.nodeToTempPositionMapHorizontal.set(B,r.idToNodeMap.get(r.dummyToNodeForVerticalAlignment.get(B)[0]).getCenterX()):r.nodeToTempPositionMapHorizontal.set(B,r.idToNodeMap.get(B).getCenterX())),r.nodeToRelativeConstraintMapHorizontal.get(z).push({right:B,gap:w.gap}),r.nodeToRelativeConstraintMapHorizontal.get(B).push({left:z,gap:w.gap})}else{var nt=U.has(w.top)?U.get(w.top):w.top,Ot=U.has(w.bottom)?U.get(w.bottom):w.bottom;r.nodesInRelativeVertical.includes(nt)||(r.nodesInRelativeVertical.push(nt),r.nodeToRelativeConstraintMapVertical.set(nt,[]),r.dummyToNodeForHorizontalAlignment.has(nt)?r.nodeToTempPositionMapVertical.set(nt,r.idToNodeMap.get(r.dummyToNodeForHorizontalAlignment.get(nt)[0]).getCenterY()):r.nodeToTempPositionMapVertical.set(nt,r.idToNodeMap.get(nt).getCenterY())),r.nodesInRelativeVertical.includes(Ot)||(r.nodesInRelativeVertical.push(Ot),r.nodeToRelativeConstraintMapVertical.set(Ot,[]),r.dummyToNodeForHorizontalAlignment.has(Ot)?r.nodeToTempPositionMapVertical.set(Ot,r.idToNodeMap.get(r.dummyToNodeForHorizontalAlignment.get(Ot)[0]).getCenterY()):r.nodeToTempPositionMapVertical.set(Ot,r.idToNodeMap.get(Ot).getCenterY())),r.nodeToRelativeConstraintMapVertical.get(nt).push({bottom:Ot,gap:w.gap}),r.nodeToRelativeConstraintMapVertical.get(Ot).push({top:nt,gap:w.gap})}});else{var j=new Map,lt=new Map;this.constraints.relativePlacementConstraint.forEach(function(w){if(w.left){var z=D.has(w.left)?D.get(w.left):w.left,B=D.has(w.right)?D.get(w.right):w.right;j.has(z)?j.get(z).push(B):j.set(z,[B]),j.has(B)?j.get(B).push(z):j.set(B,[z])}else{var nt=U.has(w.top)?U.get(w.top):w.top,Ot=U.has(w.bottom)?U.get(w.bottom):w.bottom;lt.has(nt)?lt.get(nt).push(Ot):lt.set(nt,[Ot]),lt.has(Ot)?lt.get(Ot).push(nt):lt.set(Ot,[nt])}});var V=function(z,B){var nt=[],Ot=[],tt=new Dt,Pt=new Set,Rt=0;return z.forEach(function(Ht,L){if(!Pt.has(L)){nt[Rt]=[],Ot[Rt]=!1;var C=L;for(tt.push(C),Pt.add(C),nt[Rt].push(C);0!=tt.length;)C=tt.shift(),B.has(C)&&(Ot[Rt]=!0),z.get(C).forEach(function(W){Pt.has(W)||(tt.push(W),Pt.add(W),nt[Rt].push(W))});Rt++}}),{components:nt,isFixed:Ot}},st=V(j,r.fixedNodesOnHorizontal);this.componentsOnHorizontal=st.components,this.fixedComponentsOnHorizontal=st.isFixed;var q=V(lt,r.fixedNodesOnVertical);this.componentsOnVertical=q.components,this.fixedComponentsOnVertical=q.isFixed}}},P.prototype.updateDisplacements=function(){var r=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(q){var w=r.idToNodeMap.get(q.nodeId);w.displacementX=0,w.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var E=this.constraints.alignmentConstraint.vertical,l=0;l<E.length;l++){for(var p=0,d=0;d<E[l].length;d++){if(this.fixedNodeSet.has(E[l][d])){p=0;break}p+=this.idToNodeMap.get(E[l][d]).displacementX}var R=p/E[l].length;for(d=0;d<E[l].length;d++)this.idToNodeMap.get(E[l][d]).displacementX=R}if(this.constraints.alignmentConstraint.horizontal){var D=this.constraints.alignmentConstraint.horizontal;for(l=0;l<D.length;l++){var U=0;for(d=0;d<D[l].length;d++){if(this.fixedNodeSet.has(D[l][d])){U=0;break}U+=this.idToNodeMap.get(D[l][d]).displacementY}var Y=U/D[l].length;for(d=0;d<D[l].length;d++)this.idToNodeMap.get(D[l][d]).displacementY=Y}}}if(this.constraints.relativePlacementConstraint)if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(q){if(!r.fixedNodesOnHorizontal.has(q)){var w=0;w=r.dummyToNodeForVerticalAlignment.has(q)?r.idToNodeMap.get(r.dummyToNodeForVerticalAlignment.get(q)[0]).displacementX:r.idToNodeMap.get(q).displacementX,r.nodeToRelativeConstraintMapHorizontal.get(q).forEach(function(z){var B;z.right?(B=r.nodeToTempPositionMapHorizontal.get(z.right)-r.nodeToTempPositionMapHorizontal.get(q)-w)<z.gap&&(w-=z.gap-B):(B=r.nodeToTempPositionMapHorizontal.get(q)-r.nodeToTempPositionMapHorizontal.get(z.left)+w)<z.gap&&(w+=z.gap-B)}),r.nodeToTempPositionMapHorizontal.set(q,r.nodeToTempPositionMapHorizontal.get(q)+w),r.dummyToNodeForVerticalAlignment.has(q)?r.dummyToNodeForVerticalAlignment.get(q).forEach(function(z){r.idToNodeMap.get(z).displacementX=w}):r.idToNodeMap.get(q).displacementX=w}}),this.nodesInRelativeVertical.forEach(function(q){if(!r.fixedNodesOnHorizontal.has(q)){var w=0;w=r.dummyToNodeForHorizontalAlignment.has(q)?r.idToNodeMap.get(r.dummyToNodeForHorizontalAlignment.get(q)[0]).displacementY:r.idToNodeMap.get(q).displacementY,r.nodeToRelativeConstraintMapVertical.get(q).forEach(function(z){var B;z.bottom?(B=r.nodeToTempPositionMapVertical.get(z.bottom)-r.nodeToTempPositionMapVertical.get(q)-w)<z.gap&&(w-=z.gap-B):(B=r.nodeToTempPositionMapVertical.get(q)-r.nodeToTempPositionMapVertical.get(z.top)+w)<z.gap&&(w+=z.gap-B)}),r.nodeToTempPositionMapVertical.set(q,r.nodeToTempPositionMapVertical.get(q)+w),r.dummyToNodeForHorizontalAlignment.has(q)?r.dummyToNodeForHorizontalAlignment.get(q).forEach(function(z){r.idToNodeMap.get(z).displacementY=w}):r.idToNodeMap.get(q).displacementY=w}});else{for(l=0;l<this.componentsOnHorizontal.length;l++){var G=this.componentsOnHorizontal[l];if(this.fixedComponentsOnHorizontal[l])for(d=0;d<G.length;d++)this.dummyToNodeForVerticalAlignment.has(G[d])?this.dummyToNodeForVerticalAlignment.get(G[d]).forEach(function(z){r.idToNodeMap.get(z).displacementX=0}):this.idToNodeMap.get(G[d]).displacementX=0;else{var j=0,lt=0;for(d=0;d<G.length;d++)this.dummyToNodeForVerticalAlignment.has(G[d])?(j+=(V=this.dummyToNodeForVerticalAlignment.get(G[d])).length*this.idToNodeMap.get(V[0]).displacementX,lt+=V.length):(j+=this.idToNodeMap.get(G[d]).displacementX,lt++);var st=j/lt;for(d=0;d<G.length;d++)this.dummyToNodeForVerticalAlignment.has(G[d])?this.dummyToNodeForVerticalAlignment.get(G[d]).forEach(function(z){r.idToNodeMap.get(z).displacementX=st}):this.idToNodeMap.get(G[d]).displacementX=st}}for(l=0;l<this.componentsOnVertical.length;l++)if(G=this.componentsOnVertical[l],this.fixedComponentsOnVertical[l])for(d=0;d<G.length;d++)this.dummyToNodeForHorizontalAlignment.has(G[d])?this.dummyToNodeForHorizontalAlignment.get(G[d]).forEach(function(B){r.idToNodeMap.get(B).displacementY=0}):this.idToNodeMap.get(G[d]).displacementY=0;else{for(j=0,lt=0,d=0;d<G.length;d++)if(this.dummyToNodeForHorizontalAlignment.has(G[d])){var V;j+=(V=this.dummyToNodeForHorizontalAlignment.get(G[d])).length*this.idToNodeMap.get(V[0]).displacementY,lt+=V.length}else j+=this.idToNodeMap.get(G[d]).displacementY,lt++;for(st=j/lt,d=0;d<G.length;d++)this.dummyToNodeForHorizontalAlignment.has(G[d])?this.dummyToNodeForHorizontalAlignment.get(G[d]).forEach(function(tt){r.idToNodeMap.get(tt).displacementY=st}):this.idToNodeMap.get(G[d]).displacementY=st}}},P.prototype.calculateNodesToApplyGravitationTo=function(){var E,d,r=[],l=this.graphManager.getGraphs(),p=l.length;for(d=0;d<p;d++)(E=l[d]).updateConnected(),E.isConnected||(r=r.concat(E.getNodes()));return r},P.prototype.createBendpoints=function(){var r=[];r=r.concat(this.graphManager.getAllEdges());var l,E=new Set;for(l=0;l<r.length;l++){var p=r[l];if(!E.has(p)){var d=p.getSource(),R=p.getTarget();if(d==R)p.getBendpoints().push(new N),p.getBendpoints().push(new N),this.createDummyNodesForBendpoints(p),E.add(p);else{var D=[];if(D=(D=D.concat(d.getEdgeListToNode(R))).concat(R.getEdgeListToNode(d)),!E.has(D[0])){var U;if(D.length>1)for(U=0;U<D.length;U++){var Y=D[U];Y.getBendpoints().push(new N),this.createDummyNodesForBendpoints(Y)}D.forEach(function(G){E.add(G)})}}}if(E.size==r.length)break}},P.prototype.positionNodesRadially=function(r){for(var E=new T(0,0),l=Math.ceil(Math.sqrt(r.length)),p=0,d=0,R=0,D=new N(0,0),U=0;U<r.length;U++){U%l==0&&(R=0,d=p,0!=U&&(d+=u.DEFAULT_COMPONENT_SEPERATION),p=0);var Y=r[U],G=_.findCenterOfTree(Y);E.x=R,E.y=d,(D=P.radialLayout(Y,G,E)).y>p&&(p=Math.floor(D.y)),R=Math.floor(D.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new N(A.WORLD_CENTER_X-D.x/2,A.WORLD_CENTER_Y-D.y/2))},P.radialLayout=function(r,E,l){var p=Math.max(this.maxDiagonalInTree(r),u.DEFAULT_RADIAL_SEPARATION);P.branchRadialLayout(E,null,0,359,0,p);var d=pt.calculateBounds(r),R=new gt;R.setDeviceOrgX(d.getMinX()),R.setDeviceOrgY(d.getMinY()),R.setWorldOrgX(l.x),R.setWorldOrgY(l.y);for(var D=0;D<r.length;D++)r[D].transform(R);var Y=new N(d.getMaxX(),d.getMaxY());return R.inverseTransformPoint(Y)},P.branchRadialLayout=function(r,E,l,p,d,R){var D=(p-l+1)/2;D<0&&(D+=180);var Y=(D+l)%360*it.TWO_PI/360,j=(Math.cos(Y),d*Math.cos(Y)),lt=d*Math.sin(Y);r.setCenter(j,lt);var V=[],st=(V=V.concat(r.getEdges())).length;null!=E&&st--;for(var z,q=0,w=V.length,B=r.getEdgesBetween(E);B.length>1;){var nt=B[0];B.splice(0,1);var Ot=V.indexOf(nt);Ot>=0&&V.splice(Ot,1),w--,st--}z=null!=E?(V.indexOf(B[0])+1)%w:0;for(var tt=Math.abs(p-l)/st,Pt=z;q!=st;Pt=++Pt%w){var Rt=V[Pt].getOtherEnd(r);if(Rt!=E){var Ht=(l+q*tt)%360;P.branchRadialLayout(Rt,r,Ht,(Ht+tt)%360,d+R,R),q++}}},P.maxDiagonalInTree=function(r){for(var E=I.MIN_VALUE,l=0;l<r.length;l++){var d=r[l].getDiagonal();d>E&&(E=d)}return E},P.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},P.prototype.groupZeroDegreeMembers=function(){var r=this,E={};this.memberGroups={},this.idToDummyNode={};for(var l=[],p=this.graphManager.getAllNodes(),d=0;d<p.length;d++){var D=(R=p[d]).getParent();0===this.getNodeDegreeWithChildren(R)&&(null==D.id||!this.getToBeTiled(D))&&l.push(R)}for(d=0;d<l.length;d++){var R,U=(R=l[d]).getParent().id;typeof E[U]>"u"&&(E[U]=[]),E[U]=E[U].concat(R)}Object.keys(E).forEach(function(Y){if(E[Y].length>1){var G="DummyCompound_"+Y;r.memberGroups[G]=E[Y];var j=E[Y][0].getParent(),lt=new h(r.graphManager);lt.id=G,lt.paddingLeft=j.paddingLeft||0,lt.paddingRight=j.paddingRight||0,lt.paddingBottom=j.paddingBottom||0,lt.paddingTop=j.paddingTop||0,r.idToDummyNode[G]=lt;var V=r.getGraphManager().add(r.newGraph(),lt),st=j.getChild();st.add(lt);for(var q=0;q<E[Y].length;q++){var w=E[Y][q];st.remove(w),V.add(w)}}})},P.prototype.clearCompounds=function(){var r={},E={};this.performDFSOnCompounds();for(var l=0;l<this.compoundOrder.length;l++)E[this.compoundOrder[l].id]=this.compoundOrder[l],r[this.compoundOrder[l].id]=[].concat(this.compoundOrder[l].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[l].getChild()),this.compoundOrder[l].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(r,E)},P.prototype.clearZeroDegreeMembers=function(){var r=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(l){var p=r.idToDummyNode[l];if(E[l]=r.tileNodes(r.memberGroups[l],p.paddingLeft+p.paddingRight),p.rect.width=E[l].width,p.rect.height=E[l].height,p.setCenter(E[l].centerX,E[l].centerY),p.labelMarginLeft=0,p.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var d=p.rect.width,R=p.rect.height;p.labelWidth&&("left"==p.labelPosHorizontal?(p.rect.x-=p.labelWidth,p.setWidth(d+p.labelWidth),p.labelMarginLeft=p.labelWidth):"center"==p.labelPosHorizontal&&p.labelWidth>d?(p.rect.x-=(p.labelWidth-d)/2,p.setWidth(p.labelWidth),p.labelMarginLeft=(p.labelWidth-d)/2):"right"==p.labelPosHorizontal&&p.setWidth(d+p.labelWidth)),p.labelHeight&&("top"==p.labelPosVertical?(p.rect.y-=p.labelHeight,p.setHeight(R+p.labelHeight),p.labelMarginTop=p.labelHeight):"center"==p.labelPosVertical&&p.labelHeight>R?(p.rect.y-=(p.labelHeight-R)/2,p.setHeight(p.labelHeight),p.labelMarginTop=(p.labelHeight-R)/2):"bottom"==p.labelPosVertical&&p.setHeight(R+p.labelHeight))}})},P.prototype.repopulateCompounds=function(){for(var r=this.compoundOrder.length-1;r>=0;r--){var E=this.compoundOrder[r];this.adjustLocations(this.tiledMemberPack[E.id],E.rect.x,E.rect.y,E.paddingLeft,E.paddingTop,E.labelMarginLeft,E.labelMarginTop)}},P.prototype.repopulateZeroDegreeMembers=function(){var r=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(l){var p=r.idToDummyNode[l];r.adjustLocations(E[l],p.rect.x,p.rect.y,p.paddingLeft,p.paddingTop,p.labelMarginLeft,p.labelMarginTop)})},P.prototype.getToBeTiled=function(r){var E=r.id;if(null!=this.toBeTiled[E])return this.toBeTiled[E];var l=r.getChild();if(null==l)return this.toBeTiled[E]=!1,!1;for(var p=l.getNodes(),d=0;d<p.length;d++){var R=p[d];if(this.getNodeDegree(R)>0)return this.toBeTiled[E]=!1,!1;if(null!=R.getChild()){if(!this.getToBeTiled(R))return this.toBeTiled[E]=!1,!1}else this.toBeTiled[R.id]=!1}return this.toBeTiled[E]=!0,!0},P.prototype.getNodeDegree=function(r){for(var l=r.getEdges(),p=0,d=0;d<l.length;d++){var R=l[d];R.getSource().id!==R.getTarget().id&&(p+=1)}return p},P.prototype.getNodeDegreeWithChildren=function(r){var E=this.getNodeDegree(r);if(null==r.getChild())return E;for(var l=r.getChild().getNodes(),p=0;p<l.length;p++)E+=this.getNodeDegreeWithChildren(l[p]);return E},P.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},P.prototype.fillCompexOrderByDFS=function(r){for(var E=0;E<r.length;E++){var l=r[E];null!=l.getChild()&&this.fillCompexOrderByDFS(l.getChild().getNodes()),this.getToBeTiled(l)&&this.compoundOrder.push(l)}},P.prototype.adjustLocations=function(r,E,l,p,d,R,D){l+=d+D;for(var U=E+=p+R,Y=0;Y<r.rows.length;Y++){var G=r.rows[Y];E=U;for(var j=0,lt=0;lt<G.length;lt++){var V=G[lt];V.rect.x=E,V.rect.y=l,E+=V.rect.width+r.horizontalPadding,V.rect.height>j&&(j=V.rect.height)}l+=j+r.verticalPadding}},P.prototype.tileCompoundMembers=function(r,E){var l=this;this.tiledMemberPack=[],Object.keys(r).forEach(function(p){var d=E[p];if(l.tiledMemberPack[p]=l.tileNodes(r[p],d.paddingLeft+d.paddingRight),d.rect.width=l.tiledMemberPack[p].width,d.rect.height=l.tiledMemberPack[p].height,d.setCenter(l.tiledMemberPack[p].centerX,l.tiledMemberPack[p].centerY),d.labelMarginLeft=0,d.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var R=d.rect.width,D=d.rect.height;d.labelWidth&&("left"==d.labelPosHorizontal?(d.rect.x-=d.labelWidth,d.setWidth(R+d.labelWidth),d.labelMarginLeft=d.labelWidth):"center"==d.labelPosHorizontal&&d.labelWidth>R?(d.rect.x-=(d.labelWidth-R)/2,d.setWidth(d.labelWidth),d.labelMarginLeft=(d.labelWidth-R)/2):"right"==d.labelPosHorizontal&&d.setWidth(R+d.labelWidth)),d.labelHeight&&("top"==d.labelPosVertical?(d.rect.y-=d.labelHeight,d.setHeight(D+d.labelHeight),d.labelMarginTop=d.labelHeight):"center"==d.labelPosVertical&&d.labelHeight>D?(d.rect.y-=(d.labelHeight-D)/2,d.setHeight(d.labelHeight),d.labelMarginTop=(d.labelHeight-D)/2):"bottom"==d.labelPosVertical&&d.setHeight(D+d.labelHeight))}})},P.prototype.tileNodes=function(r,E){var l=this.tileNodesByFavoringDim(r,E,!0),p=this.tileNodesByFavoringDim(r,E,!1),d=this.getOrgRatio(l);return this.getOrgRatio(p)<d?p:l},P.prototype.getOrgRatio=function(r){var p=r.width/r.height;return p<1&&(p=1/p),p},P.prototype.calcIdealRowWidth=function(r,E){var l=u.TILING_PADDING_VERTICAL,p=u.TILING_PADDING_HORIZONTAL,d=r.length,R=0,D=0,U=0;r.forEach(function(q){R+=q.getWidth(),D+=q.getHeight(),q.getWidth()>U&&(U=q.getWidth())});var V,Y=R/d,G=D/d,j=Math.pow(l-p,2)+4*(Y+p)*(G+l)*d,lt=(p-l+Math.sqrt(j))/(2*(Y+p));E?(V=Math.ceil(lt))==lt&&V++:V=Math.floor(lt);var st=V*(Y+p)-p;return U>st&&(st=U),st+2*p},P.prototype.tileNodesByFavoringDim=function(r,E,l){var R=u.TILING_COMPARE_BY,D={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:u.TILING_PADDING_VERTICAL,horizontalPadding:u.TILING_PADDING_HORIZONTAL,centerX:0,centerY:0};R&&(D.idealRowWidth=this.calcIdealRowWidth(r,l));var U=function(w){return w.rect.width*w.rect.height},Y=function(w,z){return U(z)-U(w)};r.sort(function(q,w){var z=Y;return D.idealRowWidth?(z=R)(q.id,w.id):z(q,w)});for(var G=0,j=0,lt=0;lt<r.length;lt++)G+=(V=r[lt]).getCenterX(),j+=V.getCenterY();for(D.centerX=G/r.length,D.centerY=j/r.length,lt=0;lt<r.length;lt++){var V=r[lt];if(0==D.rows.length)this.insertNodeToRow(D,V,0,E);else if(this.canAddHorizontal(D,V.rect.width,V.rect.height)){var st=D.rows.length-1;D.idealRowWidth||(st=this.getShortestRowIndex(D)),this.insertNodeToRow(D,V,st,E)}else this.insertNodeToRow(D,V,D.rows.length,E);this.shiftToLastRow(D)}return D},P.prototype.insertNodeToRow=function(r,E,l,p){var d=p;l==r.rows.length&&(r.rows.push([]),r.rowWidth.push(d),r.rowHeight.push(0));var D=r.rowWidth[l]+E.rect.width;r.rows[l].length>0&&(D+=r.horizontalPadding),r.rowWidth[l]=D,r.width<D&&(r.width=D);var U=E.rect.height;l>0&&(U+=r.verticalPadding);var Y=0;U>r.rowHeight[l]&&(Y=r.rowHeight[l],r.rowHeight[l]=U,Y=r.rowHeight[l]-Y),r.height+=Y,r.rows[l].push(E)},P.prototype.getShortestRowIndex=function(r){for(var E=-1,l=Number.MAX_VALUE,p=0;p<r.rows.length;p++)r.rowWidth[p]<l&&(E=p,l=r.rowWidth[p]);return E},P.prototype.getLongestRowIndex=function(r){for(var E=-1,l=Number.MIN_VALUE,p=0;p<r.rows.length;p++)r.rowWidth[p]>l&&(E=p,l=r.rowWidth[p]);return E},P.prototype.canAddHorizontal=function(r,E,l){if(r.idealRowWidth)return r.rowWidth[r.rows.length-1]+E+r.horizontalPadding<=r.idealRowWidth;var R=this.getShortestRowIndex(r);if(R<0)return!0;var D=r.rowWidth[R];if(D+r.horizontalPadding+E<=r.width)return!0;var Y,G,U=0;return r.rowHeight[R]<l&&R>0&&(U=l+r.verticalPadding-r.rowHeight[R]),Y=r.width-D>=E+r.horizontalPadding?(r.height+U)/(D+E+r.horizontalPadding):(r.height+U)/r.width,U=l+r.verticalPadding,(G=r.width<E?(r.height+U)/E:(r.height+U)/r.width)<1&&(G=1/G),Y<1&&(Y=1/Y),Y<G},P.prototype.shiftToLastRow=function(r){var E=this.getLongestRowIndex(r),l=r.rowWidth.length-1,p=r.rows[E],d=p[p.length-1],R=d.width+r.horizontalPadding;if(r.width-r.rowWidth[l]>R&&E!=l){p.splice(-1,1),r.rows[l].push(d),r.rowWidth[E]=r.rowWidth[E]-R,r.rowWidth[l]=r.rowWidth[l]+R,r.width=r.rowWidth[instance.getLongestRowIndex(r)];for(var D=Number.MIN_VALUE,U=0;U<p.length;U++)p[U].height>D&&(D=p[U].height);E>0&&(D+=r.verticalPadding);var Y=r.rowHeight[E]+r.rowHeight[l];r.rowHeight[E]=D,r.rowHeight[l]<d.height+r.verticalPadding&&(r.rowHeight[l]=d.height+r.verticalPadding),r.height+=r.rowHeight[E]+r.rowHeight[l]-Y,this.shiftToLastRow(r)}},P.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},P.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},P.prototype.reduceTrees=function(){for(var l,r=[],E=!0;E;){var p=this.graphManager.getAllNodes(),d=[];E=!1;for(var R=0;R<p.length;R++)if(1==(l=p[R]).getEdges().length&&!l.getEdges()[0].isInterGraph&&null==l.getChild()){if(u.PURE_INCREMENTAL){var D=l.getEdges()[0].getOtherEnd(l),U=new x(l.getCenterX()-D.getCenterX(),l.getCenterY()-D.getCenterY());d.push([l,l.getEdges()[0],l.getOwner(),U])}else d.push([l,l.getEdges()[0],l.getOwner()]);E=!0}if(1==E){for(var Y=[],G=0;G<d.length;G++)1==d[G][0].getEdges().length&&(Y.push(d[G]),d[G][0].getOwner().remove(d[G][0]));r.push(Y),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=r},P.prototype.growTree=function(r){for(var p,l=r[r.length-1],d=0;d<l.length;d++)this.findPlaceforPrunedNode(p=l[d]),p[2].add(p[0]),p[2].add(p[1],p[1].source,p[1].target);r.splice(r.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},P.prototype.findPlaceforPrunedNode=function(r){var E,l,p=r[0];if(l=p==r[1].source?r[1].target:r[1].source,u.PURE_INCREMENTAL)p.setCenter(l.getCenterX()+r[3].getWidth(),l.getCenterY()+r[3].getHeight());else{var d=l.startX,R=l.finishX,D=l.startY,U=l.finishY,V=[0,0,0,0];if(D>0)for(var st=d;st<=R;st++)V[0]+=this.grid[st][D-1].length+this.grid[st][D].length-1;if(R<this.grid.length-1)for(st=D;st<=U;st++)V[1]+=this.grid[R+1][st].length+this.grid[R][st].length-1;if(U<this.grid[0].length-1)for(st=d;st<=R;st++)V[2]+=this.grid[st][U+1].length+this.grid[st][U].length-1;if(d>0)for(st=D;st<=U;st++)V[3]+=this.grid[d-1][st].length+this.grid[d][st].length-1;for(var w,z,q=I.MAX_VALUE,B=0;B<V.length;B++)V[B]<q?(q=V[B],w=1,z=B):V[B]==q&&w++;if(3==w&&0==q)0==V[0]&&0==V[1]&&0==V[2]?E=1:0==V[0]&&0==V[1]&&0==V[3]?E=0:0==V[0]&&0==V[2]&&0==V[3]?E=3:0==V[1]&&0==V[2]&&0==V[3]&&(E=2);else if(2==w&&0==q){var nt=Math.floor(2*Math.random());E=0==V[0]&&0==V[1]?0==nt?0:1:0==V[0]&&0==V[2]?0==nt?0:2:0==V[0]&&0==V[3]?0==nt?0:3:0==V[1]&&0==V[2]?0==nt?1:2:0==V[1]&&0==V[3]?0==nt?1:3:0==nt?2:3}else E=4==w&&0==q?nt=Math.floor(4*Math.random()):z;0==E?p.setCenter(l.getCenterX(),l.getCenterY()-l.getHeight()/2-f.DEFAULT_EDGE_LENGTH-p.getHeight()/2):1==E?p.setCenter(l.getCenterX()+l.getWidth()/2+f.DEFAULT_EDGE_LENGTH+p.getWidth()/2,l.getCenterY()):2==E?p.setCenter(l.getCenterX(),l.getCenterY()+l.getHeight()/2+f.DEFAULT_EDGE_LENGTH+p.getHeight()/2):p.setCenter(l.getCenterX()-l.getWidth()/2-f.DEFAULT_EDGE_LENGTH-p.getWidth()/2,l.getCenterY())}},n.exports=P},991:(n,c,e)=>{var v=e(551).FDLayoutNode,t=e(551).IMath;function a(g,u,m,f){v.call(this,g,u,m,f)}for(var h in a.prototype=Object.create(v.prototype),v)a[h]=v[h];a.prototype.calculateDisplacement=function(){var g=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=g.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=g.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementX=g.coolingFactor*g.maxNodeDisplacement*t.sign(this.displacementX)),Math.abs(this.displacementY)>g.coolingFactor*g.maxNodeDisplacement&&(this.displacementY=g.coolingFactor*g.maxNodeDisplacement*t.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},a.prototype.propogateDisplacementToChildren=function(g,u){for(var f,m=this.getChild().getNodes(),A=0;A<m.length;A++)null==(f=m[A]).getChild()?(f.displacementX+=g,f.displacementY+=u):f.propogateDisplacementToChildren(g,u)},a.prototype.move=function(){var g=this.graphManager.getLayout();(null==this.child||0==this.child.getNodes().length)&&(this.moveBy(this.displacementX,this.displacementY),g.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},a.prototype.setPred1=function(g){this.pred1=g},a.prototype.getPred1=function(){return pred1},a.prototype.getPred2=function(){return pred2},a.prototype.setNext=function(g){this.next=g},a.prototype.getNext=function(){return next},a.prototype.setProcessed=function(g){this.processed=g},a.prototype.isProcessed=function(){return processed},n.exports=a},902:(n,c,e)=>{function v(m){if(Array.isArray(m)){for(var f=0,A=Array(m.length);f<m.length;f++)A[f]=m[f];return A}return Array.from(m)}var t=e(806),a=e(551).LinkedList,h=e(551).Matrix,g=e(551).SVD;function u(){}u.handleConstraints=function(m){var f={};f.fixedNodeConstraint=m.constraints.fixedNodeConstraint,f.alignmentConstraint=m.constraints.alignmentConstraint,f.relativePlacementConstraint=m.constraints.relativePlacementConstraint;for(var A=new Map,T=new Map,N=[],x=[],_=m.getAllNodes(),I=0,it=0;it<_.length;it++){var pt=_[it];null==pt.getChild()&&(T.set(pt.id,I++),N.push(pt.getCenterX()),x.push(pt.getCenterY()),A.set(pt.id,pt))}f.relativePlacementConstraint&&f.relativePlacementConstraint.forEach(function(O){!O.gap&&0!=O.gap&&(O.gap=O.left?t.DEFAULT_EDGE_LENGTH+A.get(O.left).getWidth()/2+A.get(O.right).getWidth()/2:t.DEFAULT_EDGE_LENGTH+A.get(O.top).getHeight()/2+A.get(O.bottom).getHeight()/2)});var Dt=function(b){var F=0,H=0;return b.forEach(function(X){F+=N[T.get(X)],H+=x[T.get(X)]}),{x:F/b.size,y:H/b.size}},P=function(b,F,H,X,$){var ht=new Map;b.forEach(function(Tt,dt){ht.set(dt,0)}),b.forEach(function(Tt,dt){Tt.forEach(function(wt){ht.set(wt.id,ht.get(wt.id)+1)})});var K=new Map,Q=new Map,mt=new a;ht.forEach(function(Tt,dt){0==Tt?(mt.push(dt),H||K.set(dt,"horizontal"==F?T.has(dt)?N[T.get(dt)]:X.get(dt):T.has(dt)?x[T.get(dt)]:X.get(dt))):K.set(dt,Number.NEGATIVE_INFINITY),H&&Q.set(dt,new Set([dt]))}),H&&$.forEach(function(Tt){var dt=[];if(Tt.forEach(function(Ct){H.has(Ct)&&dt.push(Ct)}),dt.length>0){var wt=0;dt.forEach(function(Ct){"horizontal"==F?(K.set(Ct,T.has(Ct)?N[T.get(Ct)]:X.get(Ct)),wt+=K.get(Ct)):(K.set(Ct,T.has(Ct)?x[T.get(Ct)]:X.get(Ct)),wt+=K.get(Ct))}),wt/=dt.length,Tt.forEach(function(Ct){H.has(Ct)||K.set(Ct,wt)})}else{var Nt=0;Tt.forEach(function(Ct){Nt+="horizontal"==F?T.has(Ct)?N[T.get(Ct)]:X.get(Ct):T.has(Ct)?x[T.get(Ct)]:X.get(Ct)}),Nt/=Tt.length,Tt.forEach(function(Ct){K.set(Ct,Nt)})}});for(var At=function(){var dt=mt.shift();b.get(dt).forEach(function(Nt){if(K.get(Nt.id)<K.get(dt)+Nt.gap)if(H&&H.has(Nt.id)){var Ct;if(Ct="horizontal"==F?T.has(Nt.id)?N[T.get(Nt.id)]:X.get(Nt.id):T.has(Nt.id)?x[T.get(Nt.id)]:X.get(Nt.id),K.set(Nt.id,Ct),Ct<K.get(dt)+Nt.gap){var Ut=K.get(dt)+Nt.gap-Ct;Q.get(dt).forEach(function(xt){K.set(xt,K.get(xt)-Ut)})}}else K.set(Nt.id,K.get(dt)+Nt.gap);ht.set(Nt.id,ht.get(Nt.id)-1),0==ht.get(Nt.id)&&mt.push(Nt.id),H&&Q.set(Nt.id,function ot(Tt,dt){var wt=new Set(Tt),Nt=!0,Ct=!1,Ut=void 0;try{for(var St,xt=dt[Symbol.iterator]();!(Nt=(St=xt.next()).done);Nt=!0)wt.add(St.value)}catch(Yt){Ct=!0,Ut=Yt}finally{try{!Nt&&xt.return&&xt.return()}finally{if(Ct)throw Ut}}return wt}(Q.get(dt),Q.get(Nt.id)))})};0!=mt.length;)At();if(H){var Lt=new Set;b.forEach(function(Tt,dt){0==Tt.length&&Lt.add(dt)});var Ft=[];Q.forEach(function(Tt,dt){if(Lt.has(dt)){var wt=!1,Nt=!0,Ct=!1,Ut=void 0;try{for(var St,xt=Tt[Symbol.iterator]();!(Nt=(St=xt.next()).done);Nt=!0)H.has(St.value)&&(wt=!0)}catch(Gt){Ct=!0,Ut=Gt}finally{try{!Nt&&xt.return&&xt.return()}finally{if(Ct)throw Ut}}if(!wt){var Yt=!1,Wt=void 0;Ft.forEach(function(Gt,Bt){Gt.has([].concat(v(Tt))[0])&&(Yt=!0,Wt=Bt)}),Yt?Tt.forEach(function(Gt){Ft[Wt].add(Gt)}):Ft.push(new Set(Tt))}}}),Ft.forEach(function(Tt,dt){var wt=Number.POSITIVE_INFINITY,Nt=Number.POSITIVE_INFINITY,Ct=Number.NEGATIVE_INFINITY,Ut=Number.NEGATIVE_INFINITY,xt=!0,St=!1,Vt=void 0;try{for(var Wt,Yt=Tt[Symbol.iterator]();!(xt=(Wt=Yt.next()).done);xt=!0){var Bt,Gt=Wt.value;Bt="horizontal"==F?T.has(Gt)?N[T.get(Gt)]:X.get(Gt):T.has(Gt)?x[T.get(Gt)]:X.get(Gt);var Jt=K.get(Gt);Bt<wt&&(wt=Bt),Bt>Ct&&(Ct=Bt),Jt<Nt&&(Nt=Jt),Jt>Ut&&(Ut=Jt)}}catch(_t){St=!0,Vt=_t}finally{try{!xt&&Yt.return&&Yt.return()}finally{if(St)throw Vt}}var ee=(wt+Ct)/2-(Nt+Ut)/2,Kt=!0,Qt=!1,qt=void 0;try{for(var te,Zt=Tt[Symbol.iterator]();!(Kt=(te=Zt.next()).done);Kt=!0){var jt=te.value;K.set(jt,K.get(jt)+ee)}}catch(_t){Qt=!0,qt=_t}finally{try{!Kt&&Zt.return&&Zt.return()}finally{if(Qt)throw qt}}})}return K},Z=function(b){var F=0,H=0,X=0,$=0;if(b.forEach(function(Q){Q.left?N[T.get(Q.left)]-N[T.get(Q.right)]>=0?F++:H++:x[T.get(Q.top)]-x[T.get(Q.bottom)]>=0?X++:$++}),F>H&&X>$)for(var ot=0;ot<T.size;ot++)N[ot]=-1*N[ot],x[ot]=-1*x[ot];else if(F>H)for(var ht=0;ht<T.size;ht++)N[ht]=-1*N[ht];else if(X>$)for(var K=0;K<T.size;K++)x[K]=-1*x[K]},r=function(b){var F=[],H=new a,X=new Set,$=0;return b.forEach(function(ot,ht){if(!X.has(ht)){F[$]=[];var K=ht;for(H.push(K),X.add(K),F[$].push(K);0!=H.length;)K=H.shift(),b.get(K).forEach(function(mt){X.has(mt.id)||(H.push(mt.id),X.add(mt.id),F[$].push(mt.id))});$++}}),F},E=function(b){var F=new Map;return b.forEach(function(H,X){F.set(X,[])}),b.forEach(function(H,X){H.forEach(function($){F.get(X).push($),F.get($.id).push({id:X,gap:$.gap,direction:$.direction})})}),F},l=function(b){var F=new Map;return b.forEach(function(H,X){F.set(X,[])}),b.forEach(function(H,X){H.forEach(function($){F.get($.id).push({id:X,gap:$.gap,direction:$.direction})})}),F},p=[],d=[],R=!1,D=!1,U=new Set,Y=new Map,G=new Map,j=[];if(f.fixedNodeConstraint&&f.fixedNodeConstraint.forEach(function(O){U.add(O.nodeId)}),f.relativePlacementConstraint&&(f.relativePlacementConstraint.forEach(function(O){O.left?(Y.has(O.left)?Y.get(O.left).push({id:O.right,gap:O.gap,direction:"horizontal"}):Y.set(O.left,[{id:O.right,gap:O.gap,direction:"horizontal"}]),Y.has(O.right)||Y.set(O.right,[])):(Y.has(O.top)?Y.get(O.top).push({id:O.bottom,gap:O.gap,direction:"vertical"}):Y.set(O.top,[{id:O.bottom,gap:O.gap,direction:"vertical"}]),Y.has(O.bottom)||Y.set(O.bottom,[]))}),G=E(Y),j=r(G)),t.TRANSFORM_ON_CONSTRAINT_HANDLING){if(f.fixedNodeConstraint&&f.fixedNodeConstraint.length>1)f.fixedNodeConstraint.forEach(function(O,b){p[b]=[O.position.x,O.position.y],d[b]=[N[T.get(O.nodeId)],x[T.get(O.nodeId)]]}),R=!0;else if(f.alignmentConstraint)!function(){var O=0;if(f.alignmentConstraint.vertical){for(var b=f.alignmentConstraint.vertical,F=function(K){var Q=new Set;b[K].forEach(function(Lt){Q.add(Lt)});var At,mt=new Set([].concat(v(Q)).filter(function(Lt){return U.has(Lt)}));At=mt.size>0?N[T.get(mt.values().next().value)]:Dt(Q).x,b[K].forEach(function(Lt){p[O]=[At,x[T.get(Lt)]],d[O]=[N[T.get(Lt)],x[T.get(Lt)]],O++})},H=0;H<b.length;H++)F(H);R=!0}if(f.alignmentConstraint.horizontal){for(var X=f.alignmentConstraint.horizontal,$=function(K){var Q=new Set;X[K].forEach(function(Lt){Q.add(Lt)});var At,mt=new Set([].concat(v(Q)).filter(function(Lt){return U.has(Lt)}));At=mt.size>0?N[T.get(mt.values().next().value)]:Dt(Q).y,X[K].forEach(function(Lt){p[O]=[N[T.get(Lt)],At],d[O]=[N[T.get(Lt)],x[T.get(Lt)]],O++})},ot=0;ot<X.length;ot++)$(ot);R=!0}f.relativePlacementConstraint&&(D=!0)}();else if(f.relativePlacementConstraint){for(var lt=0,V=0,st=0;st<j.length;st++)j[st].length>lt&&(lt=j[st].length,V=st);if(lt<G.size/2)Z(f.relativePlacementConstraint),R=!1,D=!1;else{var q=new Map,w=new Map,z=[];j[V].forEach(function(O){Y.get(O).forEach(function(b){"horizontal"==b.direction?(q.has(O)?q.get(O).push(b):q.set(O,[b]),q.has(b.id)||q.set(b.id,[]),z.push({left:O,right:b.id})):(w.has(O)?w.get(O).push(b):w.set(O,[b]),w.has(b.id)||w.set(b.id,[]),z.push({top:O,bottom:b.id}))})}),Z(z),D=!1;var B=P(q,"horizontal"),nt=P(w,"vertical");j[V].forEach(function(O,b){d[b]=[N[T.get(O)],x[T.get(O)]],p[b]=[],p[b][0]=B.has(O)?B.get(O):N[T.get(O)],p[b][1]=nt.has(O)?nt.get(O):x[T.get(O)]}),R=!0}}if(R){for(var Ot,tt=h.transpose(p),Pt=h.transpose(d),Rt=0;Rt<tt.length;Rt++)tt[Rt]=h.multGamma(tt[Rt]),Pt[Rt]=h.multGamma(Pt[Rt]);var Ht=h.multMat(tt,h.transpose(Pt)),L=g.svd(Ht);Ot=h.multMat(L.V,h.transpose(L.U));for(var C=0;C<T.size;C++){var M=[N[C],x[C]],rt=[Ot[0][1],Ot[1][1]];N[C]=h.dotProduct(M,[Ot[0][0],Ot[1][0]]),x[C]=h.dotProduct(M,rt)}D&&Z(f.relativePlacementConstraint)}}if(t.ENFORCE_CONSTRAINTS){if(f.fixedNodeConstraint&&f.fixedNodeConstraint.length>0){var k={x:0,y:0};f.fixedNodeConstraint.forEach(function(O,b){var F={x:N[T.get(O.nodeId)],y:x[T.get(O.nodeId)]},X=function(b,F){return{x:b.x-F.x,y:b.y-F.y}}(O.position,F);k.x+=X.x,k.y+=X.y}),k.x/=f.fixedNodeConstraint.length,k.y/=f.fixedNodeConstraint.length,N.forEach(function(O,b){N[b]+=k.x}),x.forEach(function(O,b){x[b]+=k.y}),f.fixedNodeConstraint.forEach(function(O){N[T.get(O.nodeId)]=O.position.x,x[T.get(O.nodeId)]=O.position.y})}if(f.alignmentConstraint){if(f.alignmentConstraint.vertical)for(var ut=f.alignmentConstraint.vertical,J=function(b){var F=new Set;ut[b].forEach(function($){F.add($)});var X,H=new Set([].concat(v(F)).filter(function($){return U.has($)}));X=H.size>0?N[T.get(H.values().next().value)]:Dt(F).x,F.forEach(function($){U.has($)||(N[T.get($)]=X)})},et=0;et<ut.length;et++)J(et);if(f.alignmentConstraint.horizontal)for(var ft=f.alignmentConstraint.horizontal,ct=function(b){var F=new Set;ft[b].forEach(function($){F.add($)});var X,H=new Set([].concat(v(F)).filter(function($){return U.has($)}));X=H.size>0?x[T.get(H.values().next().value)]:Dt(F).y,F.forEach(function($){U.has($)||(x[T.get($)]=X)})},at=0;at<ft.length;at++)ct(at)}f.relativePlacementConstraint&&function(){var O=new Map,b=new Map,F=new Map,H=new Map,X=new Map,$=new Map,ot=new Set,ht=new Set;if(U.forEach(function(Xt){ot.add(Xt),ht.add(Xt)}),f.alignmentConstraint){if(f.alignmentConstraint.vertical)for(var K=f.alignmentConstraint.vertical,Q=function(It){F.set("dummy"+It,[]),K[It].forEach(function(bt){O.set(bt,"dummy"+It),F.get("dummy"+It).push(bt),U.has(bt)&&ot.add("dummy"+It)}),X.set("dummy"+It,N[T.get(K[It][0])])},mt=0;mt<K.length;mt++)Q(mt);if(f.alignmentConstraint.horizontal)for(var At=f.alignmentConstraint.horizontal,Lt=function(It){H.set("dummy"+It,[]),At[It].forEach(function(bt){b.set(bt,"dummy"+It),H.get("dummy"+It).push(bt),U.has(bt)&&ht.add("dummy"+It)}),$.set("dummy"+It,x[T.get(At[It][0])])},Ft=0;Ft<At.length;Ft++)Lt(Ft)}var Tt=new Map,dt=new Map,wt=function(It){Y.get(It).forEach(function(bt){var $t=void 0,zt=void 0;"horizontal"==bt.direction?($t=O.get(It)?O.get(It):It,zt=O.get(bt.id)?{id:O.get(bt.id),gap:bt.gap,direction:bt.direction}:bt,Tt.has($t)?Tt.get($t).push(zt):Tt.set($t,[zt]),Tt.has(zt.id)||Tt.set(zt.id,[])):($t=b.get(It)?b.get(It):It,zt=b.get(bt.id)?{id:b.get(bt.id),gap:bt.gap,direction:bt.direction}:bt,dt.has($t)?dt.get($t).push(zt):dt.set($t,[zt]),dt.has(zt.id)||dt.set(zt.id,[]))})},Nt=!0,Ct=!1,Ut=void 0;try{for(var St,xt=Y.keys()[Symbol.iterator]();!(Nt=(St=xt.next()).done);Nt=!0)wt(St.value)}catch(Xt){Ct=!0,Ut=Xt}finally{try{!Nt&&xt.return&&xt.return()}finally{if(Ct)throw Ut}}var Yt=E(Tt),Wt=E(dt),Gt=r(Yt),Bt=r(Wt),Jt=l(Tt),ee=l(dt),Kt=[],Qt=[];Gt.forEach(function(Xt,It){Kt[It]=[],Xt.forEach(function(bt){0==Jt.get(bt).length&&Kt[It].push(bt)})}),Bt.forEach(function(Xt,It){Qt[It]=[],Xt.forEach(function(bt){0==ee.get(bt).length&&Qt[It].push(bt)})});var qt=P(Tt,"horizontal",ot,X,Kt),Zt=P(dt,"vertical",ht,$,Qt),te=function(It){F.get(It)?F.get(It).forEach(function(bt){N[T.get(bt)]=qt.get(It)}):N[T.get(It)]=qt.get(It)},jt=!0,_t=!1,oe=void 0;try{for(var se,re=qt.keys()[Symbol.iterator]();!(jt=(se=re.next()).done);jt=!0)te(se.value)}catch(Xt){_t=!0,oe=Xt}finally{try{!jt&&re.return&&re.return()}finally{if(_t)throw oe}}var ce=function(It){H.get(It)?H.get(It).forEach(function(bt){x[T.get(bt)]=Zt.get(It)}):x[T.get(It)]=Zt.get(It)},ae=!0,he=!1,le=void 0;try{for(var fe,ne=Zt.keys()[Symbol.iterator]();!(ae=(fe=ne.next()).done);ae=!0)ce(fe.value)}catch(Xt){he=!0,le=Xt}finally{try{!ae&&ne.return&&ne.return()}finally{if(he)throw le}}}()}for(var Et=0;Et<_.length;Et++){var yt=_[Et];null==yt.getChild()&&yt.setCenter(N[T.get(yt.id)],x[T.get(yt.id)])}},n.exports=u},551:n=>{n.exports=S}},o={};return function s(n){var c=o[n];if(void 0!==c)return c.exports;var e=o[n]={exports:{}};return y[n](e,e.exports,s),e.exports}(45)})())},3545(kt){kt.exports=function(vt){var Mt={};function S(y){if(Mt[y])return Mt[y].exports;var o=Mt[y]={i:y,l:!1,exports:{}};return vt[y].call(o.exports,o,o.exports,S),o.l=!0,o.exports}return S.m=vt,S.c=Mt,S.i=function(y){return y},S.d=function(y,o,s){S.o(y,o)||Object.defineProperty(y,o,{configurable:!1,enumerable:!0,get:s})},S.n=function(y){var o=y&&y.__esModule?function(){return y.default}:function(){return y};return S.d(o,"a",o),o},S.o=function(y,o){return Object.prototype.hasOwnProperty.call(y,o)},S.p="",S(S.s=28)}([function(vt,Mt,S){"use strict";function y(){}y.QUALITY=1,y.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,y.DEFAULT_INCREMENTAL=!1,y.DEFAULT_ANIMATION_ON_LAYOUT=!0,y.DEFAULT_ANIMATION_DURING_LAYOUT=!1,y.DEFAULT_ANIMATION_PERIOD=50,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,y.DEFAULT_GRAPH_MARGIN=15,y.NODE_DIMENSIONS_INCLUDE_LABELS=!1,y.SIMPLE_NODE_HALF_SIZE=(y.SIMPLE_NODE_SIZE=40)/2,y.EMPTY_COMPOUND_NODE_SIZE=40,y.MIN_EDGE_LENGTH=1,y.INITIAL_WORLD_BOUNDARY=(y.WORLD_BOUNDARY=1e6)/1e3,y.WORLD_CENTER_X=1200,y.WORLD_CENTER_Y=900,vt.exports=y},function(vt,Mt,S){"use strict";var y=S(2),o=S(8),s=S(9);function i(c,e,v){y.call(this,v),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=v,this.bendpoints=[],this.source=c,this.target=e}for(var n in i.prototype=Object.create(y.prototype),y)i[n]=y[n];i.prototype.getSource=function(){return this.source},i.prototype.getTarget=function(){return this.target},i.prototype.isInterGraph=function(){return this.isInterGraph},i.prototype.getLength=function(){return this.length},i.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},i.prototype.getBendpoints=function(){return this.bendpoints},i.prototype.getLca=function(){return this.lca},i.prototype.getSourceInLca=function(){return this.sourceInLca},i.prototype.getTargetInLca=function(){return this.targetInLca},i.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},i.prototype.getOtherEndInGraph=function(c,e){for(var v=this.getOtherEnd(c),t=e.getGraphManager().getRoot();;){if(v.getOwner()==e)return v;if(v.getOwner()==t)break;v=v.getOwner().getParent()}return null},i.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},i.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},vt.exports=i},function(vt,Mt,S){"use strict";vt.exports=function y(o){this.vGraphObject=o}},function(vt,Mt,S){"use strict";var y=S(2),o=S(10),s=S(13),i=S(0),n=S(16),c=S(5);function e(t,a,h,g){null==h&&null==g&&(g=a),y.call(this,g),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=g,this.edges=[],this.graphManager=t,this.rect=null!=h&&null!=a?new s(a.x,a.y,h.width,h.height):new s}for(var v in e.prototype=Object.create(y.prototype),y)e[v]=y[v];e.prototype.getEdges=function(){return this.edges},e.prototype.getChild=function(){return this.child},e.prototype.getOwner=function(){return this.owner},e.prototype.getWidth=function(){return this.rect.width},e.prototype.setWidth=function(t){this.rect.width=t},e.prototype.getHeight=function(){return this.rect.height},e.prototype.setHeight=function(t){this.rect.height=t},e.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},e.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},e.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},e.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},e.prototype.getRect=function(){return this.rect},e.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},e.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},e.prototype.setRect=function(t,a){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=a.width,this.rect.height=a.height},e.prototype.setCenter=function(t,a){this.rect.x=t-this.rect.width/2,this.rect.y=a-this.rect.height/2},e.prototype.setLocation=function(t,a){this.rect.x=t,this.rect.y=a},e.prototype.moveBy=function(t,a){this.rect.x+=t,this.rect.y+=a},e.prototype.getEdgeListToNode=function(t){var a=[],g=this;return g.edges.forEach(function(u){if(u.target==t){if(u.source!=g)throw"Incorrect edge source!";a.push(u)}}),a},e.prototype.getEdgesBetween=function(t){var a=[],g=this;return g.edges.forEach(function(u){if(u.source!=g&&u.target!=g)throw"Incorrect edge source and/or target";(u.target==t||u.source==t)&&a.push(u)}),a},e.prototype.getNeighborsList=function(){var t=new Set,a=this;return a.edges.forEach(function(h){if(h.source==a)t.add(h.target);else{if(h.target!=a)throw"Incorrect incidency!";t.add(h.source)}}),t},e.prototype.withChildren=function(){var t=new Set;if(t.add(this),null!=this.child)for(var g=this.child.getNodes(),u=0;u<g.length;u++)g[u].withChildren().forEach(function(m){t.add(m)});return t},e.prototype.getNoOfChildren=function(){var t=0;if(null==this.child)t=1;else for(var h=this.child.getNodes(),g=0;g<h.length;g++)t+=h[g].getNoOfChildren();return 0==t&&(t=1),t},e.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},e.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},e.prototype.scatter=function(){var t,a,h=-i.INITIAL_WORLD_BOUNDARY,g=i.INITIAL_WORLD_BOUNDARY;t=i.WORLD_CENTER_X+n.nextDouble()*(g-h)+h;var u=-i.INITIAL_WORLD_BOUNDARY,m=i.INITIAL_WORLD_BOUNDARY;a=i.WORLD_CENTER_Y+n.nextDouble()*(m-u)+u,this.rect.x=t,this.rect.y=a},e.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();if(t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop()),i.NODE_DIMENSIONS_INCLUDE_LABELS){var a=t.getRight()-t.getLeft(),h=t.getBottom()-t.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(a+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>a?(this.rect.x-=(this.labelWidth-a)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(a+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(h+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>h?(this.rect.y-=(this.labelHeight-h)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(h+this.labelHeight))}}},e.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},e.prototype.transform=function(t){var a=this.rect.x;a>i.WORLD_BOUNDARY?a=i.WORLD_BOUNDARY:a<-i.WORLD_BOUNDARY&&(a=-i.WORLD_BOUNDARY);var h=this.rect.y;h>i.WORLD_BOUNDARY?h=i.WORLD_BOUNDARY:h<-i.WORLD_BOUNDARY&&(h=-i.WORLD_BOUNDARY);var g=new c(a,h),u=t.inverseTransformPoint(g);this.setLocation(u.x,u.y)},e.prototype.getLeft=function(){return this.rect.x},e.prototype.getRight=function(){return this.rect.x+this.rect.width},e.prototype.getTop=function(){return this.rect.y},e.prototype.getBottom=function(){return this.rect.y+this.rect.height},e.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},vt.exports=e},function(vt,Mt,S){"use strict";var y=S(0);function o(){}for(var s in y)o[s]=y[s];o.MAX_ITERATIONS=2500,o.DEFAULT_EDGE_LENGTH=50,o.DEFAULT_SPRING_STRENGTH=.45,o.DEFAULT_REPULSION_STRENGTH=4500,o.DEFAULT_GRAVITY_STRENGTH=.4,o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,o.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,o.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,o.COOLING_ADAPTATION_FACTOR=.33,o.ADAPTATION_LOWER_NODE_LIMIT=1e3,o.ADAPTATION_UPPER_NODE_LIMIT=5e3,o.MAX_NODE_DISPLACEMENT=3*(o.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),o.MIN_REPULSION_DIST=o.DEFAULT_EDGE_LENGTH/10,o.CONVERGENCE_CHECK_PERIOD=100,o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,o.MIN_EDGE_LENGTH=1,o.GRID_CALCULATION_CHECK_PERIOD=10,vt.exports=o},function(vt,Mt,S){"use strict";function y(o,s){null==o&&null==s?(this.x=0,this.y=0):(this.x=o,this.y=s)}y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.setX=function(o){this.x=o},y.prototype.setY=function(o){this.y=o},y.prototype.getDifference=function(o){return new DimensionD(this.x-o.x,this.y-o.y)},y.prototype.getCopy=function(){return new y(this.x,this.y)},y.prototype.translate=function(o){return this.x+=o.width,this.y+=o.height,this},vt.exports=y},function(vt,Mt,S){"use strict";var y=S(2),o=S(10),s=S(0),i=S(7),n=S(3),c=S(1),e=S(13),v=S(12),t=S(11);function a(g,u,m){y.call(this,m),this.estimatedSize=o.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=g,null!=u&&u instanceof i?this.graphManager=u:null!=u&&u instanceof Layout&&(this.graphManager=u.graphManager)}for(var h in a.prototype=Object.create(y.prototype),y)a[h]=y[h];a.prototype.getNodes=function(){return this.nodes},a.prototype.getEdges=function(){return this.edges},a.prototype.getGraphManager=function(){return this.graphManager},a.prototype.getParent=function(){return this.parent},a.prototype.getLeft=function(){return this.left},a.prototype.getRight=function(){return this.right},a.prototype.getTop=function(){return this.top},a.prototype.getBottom=function(){return this.bottom},a.prototype.isConnected=function(){return this.isConnected},a.prototype.add=function(g,u,m){if(null==u&&null==m){var f=g;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(f)>-1)throw"Node already in graph!";return f.owner=this,this.getNodes().push(f),f}var A=g;if(!(this.getNodes().indexOf(u)>-1&&this.getNodes().indexOf(m)>-1))throw"Source or target not in graph!";if(u.owner!=m.owner||u.owner!=this)throw"Both owners must be this graph!";return u.owner!=m.owner?null:(A.source=u,A.target=m,A.isInterGraph=!1,this.getEdges().push(A),u.edges.push(A),m!=u&&m.edges.push(A),A)},a.prototype.remove=function(g){var u=g;if(g instanceof n){if(null==u)throw"Node is null!";if(null==u.owner||u.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var m=u.edges.slice(),A=m.length,T=0;T<A;T++)(f=m[T]).isInterGraph?this.graphManager.remove(f):f.source.owner.remove(f);if(-1==(N=this.nodes.indexOf(u)))throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(g instanceof c){var f;if(null==(f=g))throw"Edge is null!";if(null==f.source||null==f.target)throw"Source and/or target is null!";if(null==f.source.owner||null==f.target.owner||f.source.owner!=this||f.target.owner!=this)throw"Source and/or target owner is invalid!";var N,x=f.source.edges.indexOf(f),_=f.target.edges.indexOf(f);if(!(x>-1&&_>-1))throw"Source and/or target doesn't know this edge!";if(f.source.edges.splice(x,1),f.target!=f.source&&f.target.edges.splice(_,1),-1==(N=f.source.owner.getEdges().indexOf(f)))throw"Not in owner's edge list!";f.source.owner.getEdges().splice(N,1)}},a.prototype.updateLeftTop=function(){for(var m,f,A,g=o.MAX_VALUE,u=o.MAX_VALUE,T=this.getNodes(),N=T.length,x=0;x<N;x++){var _=T[x];g>(m=_.getTop())&&(g=m),u>(f=_.getLeft())&&(u=f)}return g==o.MAX_VALUE?null:(A=null!=T[0].getParent().paddingLeft?T[0].getParent().paddingLeft:this.margin,this.left=u-A,this.top=g-A,new v(this.left,this.top))},a.prototype.updateBounds=function(g){for(var T,N,x,_,I,u=o.MAX_VALUE,m=-o.MAX_VALUE,f=o.MAX_VALUE,A=-o.MAX_VALUE,it=this.nodes,pt=it.length,gt=0;gt<pt;gt++){var Dt=it[gt];g&&null!=Dt.child&&Dt.updateBounds(),u>(T=Dt.getLeft())&&(u=T),m<(N=Dt.getRight())&&(m=N),f>(x=Dt.getTop())&&(f=x),A<(_=Dt.getBottom())&&(A=_)}var P=new e(u,f,m-u,A-f);u==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I=null!=it[0].getParent().paddingLeft?it[0].getParent().paddingLeft:this.margin,this.left=P.x-I,this.right=P.x+P.width+I,this.top=P.y-I,this.bottom=P.y+P.height+I},a.calculateBounds=function(g){for(var T,N,x,_,u=o.MAX_VALUE,m=-o.MAX_VALUE,f=o.MAX_VALUE,A=-o.MAX_VALUE,I=g.length,it=0;it<I;it++){var pt=g[it];u>(T=pt.getLeft())&&(u=T),m<(N=pt.getRight())&&(m=N),f>(x=pt.getTop())&&(f=x),A<(_=pt.getBottom())&&(A=_)}return new e(u,f,m-u,A-f)},a.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},a.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},a.prototype.calcEstimatedSize=function(){for(var g=0,u=this.nodes,m=u.length,f=0;f<m;f++)g+=u[f].calcEstimatedSize();return this.estimatedSize=0==g?s.EMPTY_COMPOUND_NODE_SIZE:g/Math.sqrt(this.nodes.length),this.estimatedSize},a.prototype.updateConnected=function(){var g=this;if(0!=this.nodes.length){var A,T,u=new t,m=new Set,f=this.nodes[0];for(f.withChildren().forEach(function(gt){u.push(gt),m.add(gt)});0!==u.length;)for(var x=(A=(f=u.shift()).getEdges()).length,_=0;_<x;_++)null==(T=A[_].getOtherEndInGraph(f,this))||m.has(T)||T.withChildren().forEach(function(gt){u.push(gt),m.add(gt)});if(this.isConnected=!1,m.size>=this.nodes.length){var pt=0;m.forEach(function(gt){gt.owner==g&&pt++}),pt==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},vt.exports=a},function(vt,Mt,S){"use strict";var y,o=S(1);function s(i){y=S(6),this.layout=i,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var i=this.layout.newGraph(),n=this.layout.newNode(null),c=this.add(i,n);return this.setRootGraph(c),this.rootGraph},s.prototype.add=function(i,n,c,e,v){if(null==c&&null==e&&null==v){if(null==i)throw"Graph is null!";if(null==n)throw"Parent node is null!";if(this.graphs.indexOf(i)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(i),null!=i.parent)throw"Already has a parent!";if(null!=n.child)throw"Already has a child!";return i.parent=n,n.child=i,i}v=c,c=i;var t=(e=n).getOwner(),a=v.getOwner();if(null==t||t.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(t==a)return c.isInterGraph=!1,t.add(c,e,v);if(c.isInterGraph=!0,c.source=e,c.target=v,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),null==c.source||null==c.target)throw"Edge source and/or target is null!";if(-1!=c.source.edges.indexOf(c)||-1!=c.target.edges.indexOf(c))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c},s.prototype.remove=function(i){if(i instanceof y){var n=i;if(n.getGraphManager()!=this)throw"Graph not in this graph mgr";if(n!=this.rootGraph&&(null==n.parent||n.parent.graphManager!=this))throw"Invalid parent node!";for(var e,c=[],v=(c=c.concat(n.getEdges())).length,t=0;t<v;t++)n.remove(e=c[t]);var a=[];for(v=(a=a.concat(n.getNodes())).length,t=0;t<v;t++)n.remove(a[t]);n==this.rootGraph&&this.setRootGraph(null);var g=this.graphs.indexOf(n);this.graphs.splice(g,1),n.parent=null}else if(i instanceof o){if(null==(e=i))throw"Edge is null!";if(!e.isInterGraph)throw"Not an inter-graph edge!";if(null==e.source||null==e.target)throw"Source and/or target is null!";if(-1==e.source.edges.indexOf(e)||-1==e.target.edges.indexOf(e))throw"Source and/or target doesn't know this edge!";if(g=e.source.edges.indexOf(e),e.source.edges.splice(g,1),g=e.target.edges.indexOf(e),e.target.edges.splice(g,1),null==e.source.owner||null==e.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==e.source.owner.getGraphManager().edges.indexOf(e))throw"Not in owner graph manager's edge list!";g=e.source.owner.getGraphManager().edges.indexOf(e),e.source.owner.getGraphManager().edges.splice(g,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(null==this.allNodes){for(var i=[],n=this.getGraphs(),c=n.length,e=0;e<c;e++)i=i.concat(n[e].getNodes());this.allNodes=i}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(null==this.allEdges){for(var i=[],n=this.getGraphs(),e=0;e<n.length;e++)i=i.concat(n[e].getEdges());i=i.concat(this.edges),this.allEdges=i}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(i){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=i},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(i){if(i.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=i,null==i.parent&&(i.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(i,n){if(null==i||null==n)throw"assert failed";if(i==n)return!0;for(var e,c=i.getOwner();null!=(e=c.getParent());){if(e==n)return!0;if(null==(c=e.getOwner()))break}for(c=n.getOwner();null!=(e=c.getParent());){if(e==i)return!0;if(null==(c=e.getOwner()))break}return!1},s.prototype.calcLowestCommonAncestors=function(){for(var i,n,c,e,v,t=this.getAllEdges(),a=t.length,h=0;h<a;h++)if(n=(i=t[h]).source,c=i.target,i.lca=null,i.sourceInLca=n,i.targetInLca=c,n!=c){for(e=n.getOwner();null==i.lca;){for(i.targetInLca=c,v=c.getOwner();null==i.lca;){if(v==e){i.lca=v;break}if(v==this.rootGraph)break;if(null!=i.lca)throw"assert failed";i.targetInLca=v.getParent(),v=i.targetInLca.getOwner()}if(e==this.rootGraph)break;null==i.lca&&(i.sourceInLca=e.getParent(),e=i.sourceInLca.getOwner())}if(null==i.lca)throw"assert failed"}else i.lca=n.getOwner()},s.prototype.calcLowestCommonAncestor=function(i,n){if(i==n)return i.getOwner();for(var c=i.getOwner();null!=c;){for(var e=n.getOwner();null!=e;){if(e==c)return e;e=e.getParent().getOwner()}c=c.getParent().getOwner()}return c},s.prototype.calcInclusionTreeDepths=function(i,n){null==i&&null==n&&(i=this.rootGraph,n=1);for(var c,e=i.getNodes(),v=e.length,t=0;t<v;t++)(c=e[t]).inclusionTreeDepth=n,null!=c.child&&this.calcInclusionTreeDepths(c.child,n+1)},s.prototype.includesInvalidEdge=function(){for(var i,n=[],c=this.edges.length,e=0;e<c;e++)this.isOneAncestorOfOther((i=this.edges[e]).source,i.target)&&n.push(i);for(e=0;e<n.length;e++)this.remove(n[e]);return!1},vt.exports=s},function(vt,Mt,S){"use strict";var y=S(12);function o(){}o.calcSeparationAmount=function(s,i,n,c){if(!s.intersects(i))throw"assert failed";var e=new Array(2);this.decideDirectionsForOverlappingNodes(s,i,e),n[0]=Math.min(s.getRight(),i.getRight())-Math.max(s.x,i.x),n[1]=Math.min(s.getBottom(),i.getBottom())-Math.max(s.y,i.y),s.getX()<=i.getX()&&s.getRight()>=i.getRight()?n[0]+=Math.min(i.getX()-s.getX(),s.getRight()-i.getRight()):i.getX()<=s.getX()&&i.getRight()>=s.getRight()&&(n[0]+=Math.min(s.getX()-i.getX(),i.getRight()-s.getRight())),s.getY()<=i.getY()&&s.getBottom()>=i.getBottom()?n[1]+=Math.min(i.getY()-s.getY(),s.getBottom()-i.getBottom()):i.getY()<=s.getY()&&i.getBottom()>=s.getBottom()&&(n[1]+=Math.min(s.getY()-i.getY(),i.getBottom()-s.getBottom()));var v=Math.abs((i.getCenterY()-s.getCenterY())/(i.getCenterX()-s.getCenterX()));i.getCenterY()===s.getCenterY()&&i.getCenterX()===s.getCenterX()&&(v=1);var t=v*n[0],a=n[1]/v;n[0]<a?a=n[0]:t=n[1],n[0]=-1*e[0]*(a/2+c),n[1]=-1*e[1]*(t/2+c)},o.decideDirectionsForOverlappingNodes=function(s,i,n){n[0]=s.getCenterX()<i.getCenterX()?-1:1,n[1]=s.getCenterY()<i.getCenterY()?-1:1},o.getIntersection2=function(s,i,n){var c=s.getCenterX(),e=s.getCenterY(),v=i.getCenterX(),t=i.getCenterY();if(s.intersects(i))return n[0]=c,n[1]=e,n[2]=v,n[3]=t,!0;var a=s.getX(),h=s.getY(),g=s.getRight(),u=s.getX(),m=s.getBottom(),f=s.getRight(),A=s.getWidthHalf(),T=s.getHeightHalf(),N=i.getX(),x=i.getY(),_=i.getRight(),I=i.getX(),it=i.getBottom(),pt=i.getRight(),gt=i.getWidthHalf(),Dt=i.getHeightHalf(),P=!1,Z=!1;if(c===v){if(e>t)return n[0]=c,n[1]=h,n[2]=v,n[3]=it,!1;if(e<t)return n[0]=c,n[1]=m,n[2]=v,n[3]=x,!1}else if(e===t){if(c>v)return n[0]=a,n[1]=e,n[2]=_,n[3]=t,!1;if(c<v)return n[0]=g,n[1]=e,n[2]=N,n[3]=t,!1}else{var r=s.height/s.width,E=i.height/i.width,l=(t-e)/(v-c),p=void 0,d=void 0,D=void 0,Y=void 0;if(-r===l?c>v?(n[0]=u,n[1]=m,P=!0):(n[0]=g,n[1]=h,P=!0):r===l&&(c>v?(n[0]=a,n[1]=h,P=!0):(n[0]=f,n[1]=m,P=!0)),-E===l?v>c?(n[2]=I,n[3]=it,Z=!0):(n[2]=_,n[3]=x,Z=!0):E===l&&(v>c?(n[2]=N,n[3]=x,Z=!0):(n[2]=pt,n[3]=it,Z=!0)),P&&Z)return!1;if(c>v?e>t?(p=this.getCardinalDirection(r,l,4),d=this.getCardinalDirection(E,l,2)):(p=this.getCardinalDirection(-r,l,3),d=this.getCardinalDirection(-E,l,1)):e>t?(p=this.getCardinalDirection(-r,l,1),d=this.getCardinalDirection(-E,l,3)):(p=this.getCardinalDirection(r,l,2),d=this.getCardinalDirection(E,l,4)),!P)switch(p){case 1:D=h,n[0]=c+-T/l,n[1]=D;break;case 2:D=e+A*l,n[0]=f,n[1]=D;break;case 3:D=m,n[0]=c+T/l,n[1]=D;break;case 4:D=e+-A*l,n[0]=u,n[1]=D}if(!Z)switch(d){case 1:Y=x,n[2]=v+-Dt/l,n[3]=Y;break;case 2:Y=t+gt*l,n[2]=pt,n[3]=Y;break;case 3:Y=it,n[2]=v+Dt/l,n[3]=Y;break;case 4:Y=t+-gt*l,n[2]=I,n[3]=Y}}return!1},o.getCardinalDirection=function(s,i,n){return s>i?n:1+n%4},o.getIntersection=function(s,i,n,c){if(null==c)return this.getIntersection2(s,i,n);var T,N,x,_,I,it,pt,e=s.x,v=s.y,t=i.x,a=i.y,h=n.x,g=n.y,u=c.x,m=c.y;return I=t*v-e*a,it=u*g-h*m,0===(pt=(T=a-v)*(_=h-u)-(N=m-g)*(x=e-t))?null:new y((x*it-_*I)/pt,(N*I-T*it)/pt)},o.angleOfVector=function(s,i,n,c){var e=void 0;return s!==n?(e=Math.atan((c-i)/(n-s)),n<s?e+=Math.PI:c<i&&(e+=this.TWO_PI)):e=c<i?this.ONE_AND_HALF_PI:this.HALF_PI,e},o.doIntersect=function(s,i,n,c){var e=s.x,v=s.y,t=i.x,a=i.y,h=n.x,g=n.y,u=c.x,m=c.y,f=(t-e)*(m-g)-(u-h)*(a-v);if(0===f)return!1;var A=((m-g)*(u-e)+(h-u)*(m-v))/f,T=((v-a)*(u-e)+(t-e)*(m-v))/f;return 0<A&&A<1&&0<T&&T<1},o.findCircleLineIntersections=function(s,i,n,c,e,v,t){var a=(n-s)*(n-s)+(c-i)*(c-i),h=2*((s-e)*(n-s)+(i-v)*(c-i)),g=(s-e)*(s-e)+(i-v)*(i-v)-t*t;if(h*h-4*a*g>=0){var m=(-h+Math.sqrt(h*h-4*a*g))/(2*a),f=(-h-Math.sqrt(h*h-4*a*g))/(2*a);return m>=0&&m<=1?[m]:f>=0&&f<=1?[f]:null}return null},o.HALF_PI=.5*Math.PI,o.ONE_AND_HALF_PI=1.5*Math.PI,o.TWO_PI=2*Math.PI,o.THREE_PI=3*Math.PI,vt.exports=o},function(vt,Mt,S){"use strict";function y(){}y.sign=function(o){return o>0?1:o<0?-1:0},y.floor=function(o){return o<0?Math.ceil(o):Math.floor(o)},y.ceil=function(o){return o<0?Math.floor(o):Math.ceil(o)},vt.exports=y},function(vt,Mt,S){"use strict";function y(){}y.MAX_VALUE=2147483647,y.MIN_VALUE=-2147483648,vt.exports=y},function(vt,Mt,S){"use strict";var y=function(){function e(v,t){for(var a=0;a<t.length;a++){var h=t[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,t,a){return t&&e(v.prototype,t),a&&e(v,a),v}}();var s=function(v){return{value:v,next:null,prev:null}},i=function(v,t,a,h){return null!==v?v.next=t:h.head=t,null!==a?a.prev=t:h.tail=t,t.prev=v,t.next=a,h.length++,t},n=function(v,t){var a=v.prev,h=v.next;return null!==a?a.next=h:t.head=h,null!==h?h.prev=a:t.tail=a,v.prev=v.next=null,t.length--,v},c=function(){function e(v){var t=this;(function o(e,v){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")})(this,e),this.length=0,this.head=null,this.tail=null,v?.forEach(function(a){return t.push(a)})}return y(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(t,a){return i(a.prev,s(t),a,this)}},{key:"insertAfter",value:function(t,a){return i(a,s(t),a.next,this)}},{key:"insertNodeBefore",value:function(t,a){return i(a.prev,t,a,this)}},{key:"insertNodeAfter",value:function(t,a){return i(a,t,a.next,this)}},{key:"push",value:function(t){return i(this.tail,s(t),null,this)}},{key:"unshift",value:function(t){return i(null,s(t),this.head,this)}},{key:"remove",value:function(t){return n(t,this)}},{key:"pop",value:function(){return n(this.tail,this).value}},{key:"popNode",value:function(){return n(this.tail,this)}},{key:"shift",value:function(){return n(this.head,this).value}},{key:"shiftNode",value:function(){return n(this.head,this)}},{key:"get_object_at",value:function(t){if(t<=this.length()){for(var a=1,h=this.head;a<t;)h=h.next,a++;return h.value}}},{key:"set_object_at",value:function(t,a){if(t<=this.length()){for(var h=1,g=this.head;h<t;)g=g.next,h++;g.value=a}}}]),e}();vt.exports=c},function(vt,Mt,S){"use strict";function y(o,s,i){this.x=null,this.y=null,null==o&&null==s&&null==i?(this.x=0,this.y=0):"number"==typeof o&&"number"==typeof s&&null==i?(this.x=o,this.y=s):"Point"==o.constructor.name&&null==s&&null==i&&(this.x=(i=o).x,this.y=i.y)}y.prototype.getX=function(){return this.x},y.prototype.getY=function(){return this.y},y.prototype.getLocation=function(){return new y(this.x,this.y)},y.prototype.setLocation=function(o,s,i){"Point"==o.constructor.name&&null==s&&null==i?this.setLocation((i=o).x,i.y):"number"==typeof o&&"number"==typeof s&&null==i&&(parseInt(o)==o&&parseInt(s)==s?this.move(o,s):(this.x=Math.floor(o+.5),this.y=Math.floor(s+.5)))},y.prototype.move=function(o,s){this.x=o,this.y=s},y.prototype.translate=function(o,s){this.x+=o,this.y+=s},y.prototype.equals=function(o){return"Point"==o.constructor.name?this.x==o.x&&this.y==o.y:this==o},y.prototype.toString=function(){return(new y).constructor.name+"[x="+this.x+",y="+this.y+"]"},vt.exports=y},function(vt,Mt,S){"use strict";function y(o,s,i,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=o&&null!=s&&null!=i&&null!=n&&(this.x=o,this.y=s,this.width=i,this.height=n)}y.prototype.getX=function(){return this.x},y.prototype.setX=function(o){this.x=o},y.prototype.getY=function(){return this.y},y.prototype.setY=function(o){this.y=o},y.prototype.getWidth=function(){return this.width},y.prototype.setWidth=function(o){this.width=o},y.prototype.getHeight=function(){return this.height},y.prototype.setHeight=function(o){this.height=o},y.prototype.getRight=function(){return this.x+this.width},y.prototype.getBottom=function(){return this.y+this.height},y.prototype.intersects=function(o){return!(this.getRight()<o.x||this.getBottom()<o.y||o.getRight()<this.x||o.getBottom()<this.y)},y.prototype.getCenterX=function(){return this.x+this.width/2},y.prototype.getMinX=function(){return this.getX()},y.prototype.getMaxX=function(){return this.getX()+this.width},y.prototype.getCenterY=function(){return this.y+this.height/2},y.prototype.getMinY=function(){return this.getY()},y.prototype.getMaxY=function(){return this.getY()+this.height},y.prototype.getWidthHalf=function(){return this.width/2},y.prototype.getHeightHalf=function(){return this.height/2},vt.exports=y},function(vt,Mt,S){"use strict";var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function o(){}o.lastID=0,o.createID=function(s){return o.isPrimitive(s)?s:(null!=s.uniqueID||(s.uniqueID=o.getString(),o.lastID++),s.uniqueID)},o.getString=function(s){return null==s&&(s=o.lastID),"Object#"+s},o.isPrimitive=function(s){var i=typeof s>"u"?"undefined":y(s);return null==s||"object"!=i&&"function"!=i},vt.exports=o},function(vt,Mt,S){"use strict";function y(h){if(Array.isArray(h)){for(var g=0,u=Array(h.length);g<h.length;g++)u[g]=h[g];return u}return Array.from(h)}var o=S(0),s=S(7),i=S(3),n=S(1),c=S(6),e=S(5),v=S(17),t=S(29);function a(h){t.call(this),this.layoutQuality=o.QUALITY,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=o.DEFAULT_INCREMENTAL,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=h&&(this.isRemoteUse=h)}a.RANDOM_SEED=1,(a.prototype=Object.create(t.prototype)).getGraphManager=function(){return this.graphManager},a.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},a.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},a.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},a.prototype.newGraphManager=function(){var h=new s(this);return this.graphManager=h,h},a.prototype.newGraph=function(h){return new c(null,this.graphManager,h)},a.prototype.newNode=function(h){return new i(this.graphManager,h)},a.prototype.newEdge=function(h){return new n(null,null,h)},a.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},a.prototype.runLayout=function(){var h;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),h=!this.checkLayoutSuccess()&&this.layout(),"during"!==o.ANIMATE&&(h&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,h)},a.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},a.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),u=0;u<g.length;u++);var f=this.graphManager.getRoot().getNodes();for(u=0;u<f.length;u++);this.update(this.graphManager.getRoot())}},a.prototype.update=function(h){if(null==h)this.update2();else if(h instanceof i){var g=h;if(null!=g.getChild())for(var u=g.getChild().getNodes(),m=0;m<u.length;m++)update(u[m]);null!=g.vGraphObject&&g.vGraphObject.update(g)}else h instanceof n?null!=h.vGraphObject&&h.vGraphObject.update(h):h instanceof c&&null!=h.vGraphObject&&h.vGraphObject.update(h)},a.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=o.QUALITY,this.animationDuringLayout=o.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=o.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=o.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=o.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=o.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=o.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},a.prototype.transform=function(h){if(null==h)this.transform(new e(0,0));else{var g=new v,u=this.graphManager.getRoot().updateLeftTop();if(null!=u){g.setWorldOrgX(h.x),g.setWorldOrgY(h.y),g.setDeviceOrgX(u.x),g.setDeviceOrgY(u.y);for(var m=this.getAllNodes(),A=0;A<m.length;A++)m[A].transform(g)}}},a.prototype.positionNodesRandomly=function(h){if(null==h)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var g,u,m=h.getNodes(),f=0;f<m.length;f++)null==(u=(g=m[f]).getChild())||0==u.getNodes().length?g.scatter():(this.positionNodesRandomly(u),g.updateBounds())},a.prototype.getFlatForest=function(){for(var h=[],g=!0,u=this.graphManager.getRoot().getNodes(),m=!0,f=0;f<u.length;f++)null!=u[f].getChild()&&(m=!1);if(!m)return h;var A=new Set,T=[],N=new Map,x=[];for(x=x.concat(u);x.length>0&&g;){for(T.push(x[0]);T.length>0&&g;){var _=T[0];T.splice(0,1),A.add(_);var I=_.getEdges();for(f=0;f<I.length;f++){var it=I[f].getOtherEnd(_);if(N.get(_)!=it){if(A.has(it)){g=!1;break}T.push(it),N.set(it,_)}}}if(g){var pt=[].concat(y(A));for(h.push(pt),f=0;f<pt.length;f++){var Dt=x.indexOf(pt[f]);Dt>-1&&x.splice(Dt,1)}A=new Set,N=new Map}else h=[]}return h},a.prototype.createDummyNodesForBendpoints=function(h){for(var g=[],u=h.source,m=this.graphManager.calcLowestCommonAncestor(h.source,h.target),f=0;f<h.bendpoints.length;f++){var A=this.newNode(null);A.setRect(new Point(0,0),new Dimension(1,1)),m.add(A);var T=this.newEdge(null);this.graphManager.add(T,u,A),g.add(A),u=A}return T=this.newEdge(null),this.graphManager.add(T,u,h.target),this.edgeToDummyNodes.set(h,g),h.isInterGraph()?this.graphManager.remove(h):m.remove(h),g},a.prototype.createBendpointsFromDummyNodes=function(){var h=[];h=h.concat(this.graphManager.getAllEdges()),h=[].concat(y(this.edgeToDummyNodes.keys())).concat(h);for(var g=0;g<h.length;g++){var u=h[g];if(u.bendpoints.length>0){for(var m=this.edgeToDummyNodes.get(u),f=0;f<m.length;f++){var A=m[f],T=new e(A.getCenterX(),A.getCenterY()),N=u.bendpoints.get(f);N.x=T.x,N.y=T.y,A.getOwner().remove(A)}this.graphManager.add(u,u.source,u.target)}}},a.transform=function(h,g,u,m){if(null!=u&&null!=m){var f=g;return h<=50?f-=(g-g/u)/50*(50-h):f+=(g*m-g)/50*(h-50),f}var N,x;return h<=50?(N=9*g/500,x=g/10):(N=9*g/50,x=-8*g),N*h+x},a.findCenterOfTree=function(h){var g=[];g=g.concat(h);var u=[],m=new Map,f=!1,A=null;(1==g.length||2==g.length)&&(f=!0,A=g[0]);for(var T=0;T<g.length;T++){var x=(N=g[T]).getNeighborsList().size;m.set(N,N.getNeighborsList().size),1==x&&u.push(N)}var _=[];for(_=_.concat(u);!f;){var I=[];for(I=I.concat(_),_=[],T=0;T<g.length;T++){var N,it=g.indexOf(N=g[T]);it>=0&&g.splice(it,1),N.getNeighborsList().forEach(function(P){if(u.indexOf(P)<0){var r=m.get(P)-1;1==r&&_.push(P),m.set(P,r)}})}u=u.concat(_),(1==g.length||2==g.length)&&(f=!0,A=g[0])}return A},a.prototype.setGraphManager=function(h){this.graphManager=h},vt.exports=a},function(vt,Mt,S){"use strict";function y(){}y.seed=1,y.x=0,y.nextDouble=function(){return(y.x=1e4*Math.sin(y.seed++))-Math.floor(y.x)},vt.exports=y},function(vt,Mt,S){"use strict";var y=S(5);function o(s,i){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o.prototype.getWorldOrgX=function(){return this.lworldOrgX},o.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},o.prototype.getWorldOrgY=function(){return this.lworldOrgY},o.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},o.prototype.getWorldExtX=function(){return this.lworldExtX},o.prototype.setWorldExtX=function(s){this.lworldExtX=s},o.prototype.getWorldExtY=function(){return this.lworldExtY},o.prototype.setWorldExtY=function(s){this.lworldExtY=s},o.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},o.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},o.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},o.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},o.prototype.getDeviceExtX=function(){return this.ldeviceExtX},o.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},o.prototype.getDeviceExtY=function(){return this.ldeviceExtY},o.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},o.prototype.transformX=function(s){var i=0,n=this.lworldExtX;return 0!=n&&(i=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/n),i},o.prototype.transformY=function(s){var i=0,n=this.lworldExtY;return 0!=n&&(i=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/n),i},o.prototype.inverseTransformX=function(s){var i=0,n=this.ldeviceExtX;return 0!=n&&(i=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/n),i},o.prototype.inverseTransformY=function(s){var i=0,n=this.ldeviceExtY;return 0!=n&&(i=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/n),i},o.prototype.inverseTransformPoint=function(s){return new y(this.inverseTransformX(s.x),this.inverseTransformY(s.y))},vt.exports=o},function(vt,Mt,S){"use strict";var o=S(15),s=S(4),i=S(0),n=S(8),c=S(9);function e(){o.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}for(var v in e.prototype=Object.create(o.prototype),o)e[v]=o[v];e.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},e.prototype.calcIdealEdgeLengths=function(){for(var t,a,h,g,u,m,f,A=this.getGraphManager().getAllEdges(),T=0;T<A.length;T++)a=(t=A[T]).idealLength,t.isInterGraph&&(g=t.getSource(),u=t.getTarget(),m=t.getSourceInLca().getEstimatedSize(),f=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=m+f-2*i.SIMPLE_NODE_SIZE),h=t.getLca().getInclusionTreeDepth(),t.idealLength+=a*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+u.getInclusionTreeDepth()-2*h))},e.prototype.initSpringEmbedder=function(){var t=this.getAllNodes().length;this.incremental?(t>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(t-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=t>s.ADAPTATION_LOWER_NODE_LIMIT?Math.max(s.COOLING_ADAPTATION_FACTOR,1-(t-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},e.prototype.calcSpringForces=function(){for(var a,t=this.getAllEdges(),h=0;h<t.length;h++)this.calcSpringForce(a=t[h],a.idealLength)},e.prototype.calcRepulsionForces=function(){var h,g,u,m,A,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&t&&this.updateGrid(),A=new Set,h=0;h<f.length;h++)this.calculateRepulsionForceOfANode(u=f[h],A,t,a),A.add(u);else for(h=0;h<f.length;h++)for(u=f[h],g=h+1;g<f.length;g++)m=f[g],u.getOwner()==m.getOwner()&&this.calcRepulsionForce(u,m)},e.prototype.calcGravitationalForces=function(){for(var a=this.getAllNodesToApplyGravitation(),h=0;h<a.length;h++)this.calcGravitationalForce(a[h])},e.prototype.moveNodes=function(){for(var t=this.getAllNodes(),h=0;h<t.length;h++)t[h].move()},e.prototype.calcSpringForce=function(t,a){var u,m,f,A,h=t.getSource(),g=t.getTarget();if(this.uniformLeafNodeSizes&&null==h.getChild()&&null==g.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;0!=(u=t.getLength())&&(A=(m=t.edgeElasticity*(u-a))*(t.lengthY/u),h.springForceX+=f=m*(t.lengthX/u),h.springForceY+=A,g.springForceX-=f,g.springForceY-=A)},e.prototype.calcRepulsionForce=function(t,a){var f,A,T,N,x,_,I,h=t.getRect(),g=a.getRect(),u=new Array(2),m=new Array(4);if(h.intersects(g)){n.calcSeparationAmount(h,g,u,s.DEFAULT_EDGE_LENGTH/2),I=2*u[1];var it=t.noOfChildren*a.noOfChildren/(t.noOfChildren+a.noOfChildren);t.repulsionForceX-=it*(_=2*u[0]),t.repulsionForceY-=it*I,a.repulsionForceX+=it*_,a.repulsionForceY+=it*I}else this.uniformLeafNodeSizes&&null==t.getChild()&&null==a.getChild()?(f=g.getCenterX()-h.getCenterX(),A=g.getCenterY()-h.getCenterY()):(n.getIntersection(h,g,m),f=m[2]-m[0],A=m[3]-m[1]),Math.abs(f)<s.MIN_REPULSION_DIST&&(f=c.sign(f)*s.MIN_REPULSION_DIST),Math.abs(A)<s.MIN_REPULSION_DIST&&(A=c.sign(A)*s.MIN_REPULSION_DIST),T=f*f+A*A,N=Math.sqrt(T),I=(x=(t.nodeRepulsion/2+a.nodeRepulsion/2)*t.noOfChildren*a.noOfChildren/T)*A/N,t.repulsionForceX-=_=x*f/N,t.repulsionForceY-=I,a.repulsionForceX+=_,a.repulsionForceY+=I},e.prototype.calcGravitationalForce=function(t){var a,h,g,u,m,f,A,T;h=((a=t.getOwner()).getRight()+a.getLeft())/2,g=(a.getTop()+a.getBottom())/2,u=t.getCenterX()-h,m=t.getCenterY()-g,f=Math.abs(u)+t.getWidth()/2,A=Math.abs(m)+t.getHeight()/2,t.getOwner()==this.graphManager.getRoot()?(f>(T=a.getEstimatedSize()*this.gravityRangeFactor)||A>T)&&(t.gravitationForceX=-this.gravityConstant*u,t.gravitationForceY=-this.gravityConstant*m):(f>(T=a.getEstimatedSize()*this.compoundGravityRangeFactor)||A>T)&&(t.gravitationForceX=-this.gravityConstant*u*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*m*this.compoundGravityConstant)},e.prototype.isConverged=function(){var t,a=!1;return this.totalIterations>this.maxIterations/3&&(a=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||a},e.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},e.prototype.calcNoOfChildrenForAllNodes=function(){for(var t,a=this.graphManager.getAllNodes(),h=0;h<a.length;h++)(t=a[h]).noOfChildren=t.getNoOfChildren()},e.prototype.calcGrid=function(t){var a,h;a=parseInt(Math.ceil((t.getRight()-t.getLeft())/this.repulsionRange)),h=parseInt(Math.ceil((t.getBottom()-t.getTop())/this.repulsionRange));for(var g=new Array(a),u=0;u<a;u++)g[u]=new Array(h);for(u=0;u<a;u++)for(var m=0;m<h;m++)g[u][m]=new Array;return g},e.prototype.addNodeToGrid=function(t,a,h){var g,u,m,f;g=parseInt(Math.floor((t.getRect().x-a)/this.repulsionRange)),u=parseInt(Math.floor((t.getRect().width+t.getRect().x-a)/this.repulsionRange)),m=parseInt(Math.floor((t.getRect().y-h)/this.repulsionRange)),f=parseInt(Math.floor((t.getRect().height+t.getRect().y-h)/this.repulsionRange));for(var A=g;A<=u;A++)for(var T=m;T<=f;T++)this.grid[A][T].push(t),t.setGridCoordinates(g,u,m,f)},e.prototype.updateGrid=function(){var t,h=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),t=0;t<h.length;t++)this.addNodeToGrid(h[t],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},e.prototype.calculateRepulsionForceOfANode=function(t,a,h,g){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&h||g){var u=new Set;t.surrounding=new Array;for(var m,f=this.grid,A=t.startX-1;A<t.finishX+2;A++)for(var T=t.startY-1;T<t.finishY+2;T++)if(!(A<0||T<0||A>=f.length||T>=f[0].length))for(var N=0;N<f[A][T].length;N++)if(m=f[A][T][N],t.getOwner()==m.getOwner()&&t!=m&&!a.has(m)&&!u.has(m)){var x=Math.abs(t.getCenterX()-m.getCenterX())-(t.getWidth()/2+m.getWidth()/2),_=Math.abs(t.getCenterY()-m.getCenterY())-(t.getHeight()/2+m.getHeight()/2);x<=this.repulsionRange&&_<=this.repulsionRange&&u.add(m)}t.surrounding=[].concat(function y(t){if(Array.isArray(t)){for(var a=0,h=Array(t.length);a<t.length;a++)h[a]=t[a];return h}return Array.from(t)}(u))}for(A=0;A<t.surrounding.length;A++)this.calcRepulsionForce(t,t.surrounding[A])},e.prototype.calcRepulsionRange=function(){return 0},vt.exports=e},function(vt,Mt,S){"use strict";var y=S(1),o=S(4);function s(n,c,e){y.call(this,n,c,e),this.idealLength=o.DEFAULT_EDGE_LENGTH,this.edgeElasticity=o.DEFAULT_SPRING_STRENGTH}for(var i in s.prototype=Object.create(y.prototype),y)s[i]=y[i];vt.exports=s},function(vt,Mt,S){"use strict";var y=S(3),o=S(4);function s(n,c,e,v){y.call(this,n,c,e,v),this.nodeRepulsion=o.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var i in s.prototype=Object.create(y.prototype),y)s[i]=y[i];s.prototype.setGridCoordinates=function(n,c,e,v){this.startX=n,this.finishX=c,this.startY=e,this.finishY=v},vt.exports=s},function(vt,Mt,S){"use strict";function y(o,s){this.width=0,this.height=0,null!==o&&null!==s&&(this.height=s,this.width=o)}y.prototype.getWidth=function(){return this.width},y.prototype.setWidth=function(o){this.width=o},y.prototype.getHeight=function(){return this.height},y.prototype.setHeight=function(o){this.height=o},vt.exports=y},function(vt,Mt,S){"use strict";var y=S(14);function o(){this.map={},this.keys=[]}o.prototype.put=function(s,i){var n=y.createID(s);this.contains(n)||(this.map[n]=i,this.keys.push(s))},o.prototype.contains=function(s){return y.createID(s),null!=this.map[s]},o.prototype.get=function(s){var i=y.createID(s);return this.map[i]},o.prototype.keySet=function(){return this.keys},vt.exports=o},function(vt,Mt,S){"use strict";var y=S(14);function o(){this.set={}}o.prototype.add=function(s){var i=y.createID(s);this.contains(i)||(this.set[i]=s)},o.prototype.remove=function(s){delete this.set[y.createID(s)]},o.prototype.clear=function(){this.set={}},o.prototype.contains=function(s){return this.set[y.createID(s)]==s},o.prototype.isEmpty=function(){return 0===this.size()},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAllTo=function(s){for(var i=Object.keys(this.set),n=i.length,c=0;c<n;c++)s.push(this.set[i[c]])},o.prototype.size=function(){return Object.keys(this.set).length},o.prototype.addAll=function(s){for(var i=s.length,n=0;n<i;n++)this.add(s[n])},vt.exports=o},function(vt,Mt,S){"use strict";function y(){}y.multMat=function(o,s){for(var i=[],n=0;n<o.length;n++){i[n]=[];for(var c=0;c<s[0].length;c++){i[n][c]=0;for(var e=0;e<o[0].length;e++)i[n][c]+=o[n][e]*s[e][c]}}return i},y.transpose=function(o){for(var s=[],i=0;i<o[0].length;i++){s[i]=[];for(var n=0;n<o.length;n++)s[i][n]=o[n][i]}return s},y.multCons=function(o,s){for(var i=[],n=0;n<o.length;n++)i[n]=o[n]*s;return i},y.minusOp=function(o,s){for(var i=[],n=0;n<o.length;n++)i[n]=o[n]-s[n];return i},y.dotProduct=function(o,s){for(var i=0,n=0;n<o.length;n++)i+=o[n]*s[n];return i},y.mag=function(o){return Math.sqrt(this.dotProduct(o,o))},y.normalize=function(o){for(var s=[],i=this.mag(o),n=0;n<o.length;n++)s[n]=o[n]/i;return s},y.multGamma=function(o){for(var s=[],i=0,n=0;n<o.length;n++)i+=o[n];i*=-1/o.length;for(var c=0;c<o.length;c++)s[c]=i+o[c];return s},y.multL=function(o,s,i){for(var n=[],c=[],e=[],v=0;v<s[0].length;v++){for(var t=0,a=0;a<s.length;a++)t+=-.5*s[a][v]*o[a];c[v]=t}for(var h=0;h<i.length;h++){for(var g=0,u=0;u<i.length;u++)g+=i[h][u]*c[u];e[h]=g}for(var m=0;m<s.length;m++){for(var f=0,A=0;A<s[0].length;A++)f+=s[m][A]*e[A];n[m]=f}return n},vt.exports=y},function(vt,Mt,S){"use strict";var y=function(){function n(c,e){for(var v=0;v<e.length;v++){var t=e[v];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,t.key,t)}}return function(c,e,v){return e&&n(c.prototype,e),v&&n(c,v),c}}();var s=S(11),i=function(){function n(c,e){(function o(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,n),(null!==e||void 0!==e)&&(this.compareFunction=this._defaultCompareFunction);var v;v=c instanceof s?c.size():c.length,this._quicksort(c,0,v-1)}return y(n,[{key:"_quicksort",value:function(e,v,t){if(v<t){var a=this._partition(e,v,t);this._quicksort(e,v,a),this._quicksort(e,a+1,t)}}},{key:"_partition",value:function(e,v,t){for(var a=this._get(e,v),h=v,g=t;;){for(;this.compareFunction(a,this._get(e,g));)g--;for(;this.compareFunction(this._get(e,h),a);)h++;if(!(h<g))return g;this._swap(e,h,g),h++,g--}}},{key:"_get",value:function(e,v){return e instanceof s?e.get_object_at(v):e[v]}},{key:"_set",value:function(e,v,t){e instanceof s?e.set_object_at(v,t):e[v]=t}},{key:"_swap",value:function(e,v,t){var a=this._get(e,v);this._set(e,v,this._get(e,t)),this._set(e,t,a)}},{key:"_defaultCompareFunction",value:function(e,v){return v>e}}]),n}();vt.exports=i},function(vt,Mt,S){"use strict";function y(){}y.svd=function(o){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=o.length,this.n=o[0].length;var s=Math.min(this.m,this.n);this.s=function(xt){for(var St=[];xt-- >0;)St.push(0);return St}(Math.min(this.m+1,this.n)),this.U=function Vt(Yt){if(0==Yt.length)return 0;for(var Wt=[],Gt=0;Gt<Yt[0];Gt++)Wt.push(Vt(Yt.slice(1)));return Wt}([this.m,s]),this.V=function Vt(Yt){if(0==Yt.length)return 0;for(var Wt=[],Gt=0;Gt<Yt[0];Gt++)Wt.push(Vt(Yt.slice(1)));return Wt}([this.n,this.n]);for(var i=function(xt){for(var St=[];xt-- >0;)St.push(0);return St}(this.n),n=function(xt){for(var St=[];xt-- >0;)St.push(0);return St}(this.m),e=!0,v=Math.min(this.m-1,this.n),t=Math.max(0,Math.min(this.n-2,this.m)),a=0;a<Math.max(v,t);a++){if(a<v){this.s[a]=0;for(var h=a;h<this.m;h++)this.s[a]=y.hypot(this.s[a],o[h][a]);if(0!==this.s[a]){o[a][a]<0&&(this.s[a]=-this.s[a]);for(var g=a;g<this.m;g++)o[g][a]/=this.s[a];o[a][a]+=1}this.s[a]=-this.s[a]}for(var u=a+1;u<this.n;u++){if(function(xt,St){return xt&&St}(a<v,0!==this.s[a])){for(var m=0,f=a;f<this.m;f++)m+=o[f][a]*o[f][u];m=-m/o[a][a];for(var A=a;A<this.m;A++)o[A][u]+=m*o[A][a]}i[u]=o[a][u]}if(function(xt,St){return St}(0,a<v))for(var T=a;T<this.m;T++)this.U[T][a]=o[T][a];if(a<t){i[a]=0;for(var N=a+1;N<this.n;N++)i[a]=y.hypot(i[a],i[N]);if(0!==i[a]){i[a+1]<0&&(i[a]=-i[a]);for(var x=a+1;x<this.n;x++)i[x]/=i[a];i[a+1]+=1}if(i[a]=-i[a],function(xt,St){return xt&&St}(a+1<this.m,0!==i[a])){for(var _=a+1;_<this.m;_++)n[_]=0;for(var I=a+1;I<this.n;I++)for(var it=a+1;it<this.m;it++)n[it]+=i[I]*o[it][I];for(var pt=a+1;pt<this.n;pt++)for(var gt=-i[pt]/i[a+1],Dt=a+1;Dt<this.m;Dt++)o[Dt][pt]+=gt*n[Dt]}for(var P=a+1;P<this.n;P++)this.V[P][a]=i[P]}}var Z=Math.min(this.n,this.m+1);v<this.n&&(this.s[v]=o[v][v]),this.m<Z&&(this.s[Z-1]=0),t+1<Z&&(i[t]=o[t][Z-1]),i[Z-1]=0;for(var r=v;r<s;r++){for(var E=0;E<this.m;E++)this.U[E][r]=0;this.U[r][r]=1}for(var l=v-1;l>=0;l--)if(0!==this.s[l]){for(var p=l+1;p<s;p++){for(var d=0,R=l;R<this.m;R++)d+=this.U[R][l]*this.U[R][p];d=-d/this.U[l][l];for(var D=l;D<this.m;D++)this.U[D][p]+=d*this.U[D][l]}for(var U=l;U<this.m;U++)this.U[U][l]=-this.U[U][l];this.U[l][l]=1+this.U[l][l];for(var Y=0;Y<l-1;Y++)this.U[Y][l]=0}else{for(var G=0;G<this.m;G++)this.U[G][l]=0;this.U[l][l]=1}for(var j=this.n-1;j>=0;j--){if(function(xt,St){return xt&&St}(j<t,0!==i[j]))for(var lt=j+1;lt<s;lt++){for(var V=0,st=j+1;st<this.n;st++)V+=this.V[st][j]*this.V[st][lt];V=-V/this.V[j+1][j];for(var q=j+1;q<this.n;q++)this.V[q][lt]+=V*this.V[q][j]}for(var w=0;w<this.n;w++)this.V[w][j]=0;this.V[j][j]=1}for(var z=Z-1,nt=Math.pow(2,-52),Ot=Math.pow(2,-966);Z>0;){var tt=void 0,Pt=void 0;for(tt=Z-2;tt>=-1&&-1!==tt;tt--)if(Math.abs(i[tt])<=Ot+nt*(Math.abs(this.s[tt])+Math.abs(this.s[tt+1]))){i[tt]=0;break}if(tt===Z-2)Pt=4;else{var Rt=void 0;for(Rt=Z-1;Rt>=tt&&Rt!==tt;Rt--){var Ht=(Rt!==Z?Math.abs(i[Rt]):0)+(Rt!==tt+1?Math.abs(i[Rt-1]):0);if(Math.abs(this.s[Rt])<=Ot+nt*Ht){this.s[Rt]=0;break}}Rt===tt?Pt=3:Rt===Z-1?Pt=1:(Pt=2,tt=Rt)}switch(tt++,Pt){case 1:var L=i[Z-2];i[Z-2]=0;for(var C=Z-2;C>=tt;C--){var M=y.hypot(this.s[C],L),W=this.s[C]/M,rt=L/M;this.s[C]=M,C!==tt&&(L=-rt*i[C-1],i[C-1]=W*i[C-1]);for(var k=0;k<this.n;k++)M=W*this.V[k][C]+rt*this.V[k][Z-1],this.V[k][Z-1]=-rt*this.V[k][C]+W*this.V[k][Z-1],this.V[k][C]=M}break;case 2:var ut=i[tt-1];i[tt-1]=0;for(var J=tt;J<Z;J++){var et=y.hypot(this.s[J],ut),ft=this.s[J]/et,ct=ut/et;this.s[J]=et,ut=-ct*i[J],i[J]=ft*i[J];for(var at=0;at<this.m;at++)et=ft*this.U[at][J]+ct*this.U[at][tt-1],this.U[at][tt-1]=-ct*this.U[at][J]+ft*this.U[at][tt-1],this.U[at][J]=et}break;case 3:var Et=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[Z-1]),Math.abs(this.s[Z-2])),Math.abs(i[Z-2])),Math.abs(this.s[tt])),Math.abs(i[tt])),yt=this.s[Z-1]/Et,O=this.s[Z-2]/Et,b=i[Z-2]/Et,F=this.s[tt]/Et,H=i[tt]/Et,X=((O+yt)*(O-yt)+b*b)/2,$=yt*b*(yt*b),ot=0;(function(xt,St){return xt||St})(0!==X,0!==$)&&(ot=Math.sqrt(X*X+$),X<0&&(ot=-ot),ot=$/(X+ot));for(var ht=(F+yt)*(F-yt)+ot,K=F*H,Q=tt;Q<Z-1;Q++){var mt=y.hypot(ht,K),At=ht/mt,Lt=K/mt;Q!==tt&&(i[Q-1]=mt),ht=At*this.s[Q]+Lt*i[Q],i[Q]=At*i[Q]-Lt*this.s[Q],K=Lt*this.s[Q+1],this.s[Q+1]=At*this.s[Q+1];for(var Ft=0;Ft<this.n;Ft++)mt=At*this.V[Ft][Q]+Lt*this.V[Ft][Q+1],this.V[Ft][Q+1]=-Lt*this.V[Ft][Q]+At*this.V[Ft][Q+1],this.V[Ft][Q]=mt;if(At=ht/(mt=y.hypot(ht,K)),Lt=K/mt,this.s[Q]=mt,ht=At*i[Q]+Lt*this.s[Q+1],this.s[Q+1]=-Lt*i[Q]+At*this.s[Q+1],K=Lt*i[Q+1],i[Q+1]=At*i[Q+1],Q<this.m-1)for(var Tt=0;Tt<this.m;Tt++)mt=At*this.U[Tt][Q]+Lt*this.U[Tt][Q+1],this.U[Tt][Q+1]=-Lt*this.U[Tt][Q]+At*this.U[Tt][Q+1],this.U[Tt][Q]=mt}i[Z-2]=ht;break;case 4:if(this.s[tt]<=0&&(this.s[tt]=this.s[tt]<0?-this.s[tt]:0,e))for(var dt=0;dt<=z;dt++)this.V[dt][tt]=-this.V[dt][tt];for(;tt<z&&!(this.s[tt]>=this.s[tt+1]);){var wt=this.s[tt];if(this.s[tt]=this.s[tt+1],this.s[tt+1]=wt,tt<this.n-1)for(var Nt=0;Nt<this.n;Nt++)wt=this.V[Nt][tt+1],this.V[Nt][tt+1]=this.V[Nt][tt],this.V[Nt][tt]=wt;if(tt<this.m-1)for(var Ct=0;Ct<this.m;Ct++)wt=this.U[Ct][tt+1],this.U[Ct][tt+1]=this.U[Ct][tt],this.U[Ct][tt]=wt;tt++}Z--}}return{U:this.U,V:this.V,S:this.s}},y.hypot=function(o,s){var i=void 0;return Math.abs(o)>Math.abs(s)?(i=s/o,i=Math.abs(o)*Math.sqrt(1+i*i)):0!=s?(i=o/s,i=Math.abs(s)*Math.sqrt(1+i*i)):i=0,i},vt.exports=y},function(vt,Mt,S){"use strict";var y=function(){function i(n,c){for(var e=0;e<c.length;e++){var v=c[e];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(n,v.key,v)}}return function(n,c,e){return c&&i(n.prototype,c),e&&i(n,e),n}}();var s=function(){function i(n,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function o(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")})(this,i),this.sequence1=n,this.sequence2=c,this.match_score=e,this.mismatch_penalty=v,this.gap_penalty=t,this.iMax=n.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var a=0;a<this.iMax;a++){this.grid[a]=new Array(this.jMax);for(var h=0;h<this.jMax;h++)this.grid[a][h]=0}this.tracebackGrid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.tracebackGrid[g]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[g][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return y(i,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var e=1;e<this.iMax;e++)this.grid[e][0]=this.grid[e-1][0]+this.gap_penalty,this.tracebackGrid[e][0]=[!1,!0,!1];for(var v=1;v<this.iMax;v++)for(var t=1;t<this.jMax;t++){var u=[this.sequence1[v-1]===this.sequence2[t-1]?this.grid[v-1][t-1]+this.match_score:this.grid[v-1][t-1]+this.mismatch_penalty,this.grid[v-1][t]+this.gap_penalty,this.grid[v][t-1]+this.gap_penalty],m=this.arrayAllMaxIndexes(u);this.grid[v][t]=u[m[0]],this.tracebackGrid[v][t]=[m.includes(0),m.includes(1),m.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var e=c[0],v=this.tracebackGrid[e.pos[0]][e.pos[1]];v[0]&&c.push({pos:[e.pos[0]-1,e.pos[1]-1],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),v[1]&&c.push({pos:[e.pos[0]-1,e.pos[1]],seq1:this.sequence1[e.pos[0]-1]+e.seq1,seq2:"-"+e.seq2}),v[2]&&c.push({pos:[e.pos[0],e.pos[1]-1],seq1:"-"+e.seq1,seq2:this.sequence2[e.pos[1]-1]+e.seq2}),0===e.pos[0]&&0===e.pos[1]&&this.alignments.push({sequence1:e.seq1,sequence2:e.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,e){for(var v=[],t=-1;-1!==(t=c.indexOf(e,t+1));)v.push(t);return v}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),i}();vt.exports=s},function(vt,Mt,S){"use strict";var y=function(){};y.FDLayout=S(18),y.FDLayoutConstants=S(4),y.FDLayoutEdge=S(19),y.FDLayoutNode=S(20),y.DimensionD=S(21),y.HashMap=S(22),y.HashSet=S(23),y.IGeometry=S(8),y.IMath=S(9),y.Integer=S(10),y.Point=S(12),y.PointD=S(5),y.RandomSeed=S(16),y.RectangleD=S(13),y.Transform=S(17),y.UniqueIDGeneretor=S(14),y.Quicksort=S(25),y.LinkedList=S(11),y.LGraphObject=S(2),y.LGraph=S(6),y.LEdge=S(1),y.LGraphManager=S(7),y.LNode=S(3),y.Layout=S(15),y.LayoutConstants=S(0),y.NeedlemanWunsch=S(27),y.Matrix=S(24),y.SVD=S(26),vt.exports=y},function(vt,Mt,S){"use strict";function y(){this.listeners=[]}var o=y.prototype;o.addListener=function(s,i){this.listeners.push({event:s,callback:i})},o.removeListener=function(s,i){for(var n=this.listeners.length;n>=0;n--){var c=this.listeners[n];c.event===s&&c.callback===i&&this.listeners.splice(n,1)}},o.emit=function(s,i){for(var n=0;n<this.listeners.length;n++){var c=this.listeners[n];s===c.event&&c.callback(i)}},vt.exports=y}])},2699(kt,vt,Mt){"use strict";Mt.r(vt),Mt.d(vt,{diagram:()=>Ht});var S=Mt(9204),y=Mt(9664),o=Mt(4082),s=Mt(525),i=Mt(2052),n=Mt(2155),c=Mt(2303),e=Mt(2233),v=Mt(5363),t=Mt(867),a=Mt(3172),h={L:"left",R:"right",T:"top",B:"bottom"},g={L:(0,c.K2)(L=>`${L},${L/2} 0,${L} 0,0`,"L"),R:(0,c.K2)(L=>`0,${L/2} ${L},0 ${L},${L}`,"R"),T:(0,c.K2)(L=>`0,0 ${L},0 ${L/2},${L}`,"T"),B:(0,c.K2)(L=>`${L/2},0 ${L},${L} 0,${L}`,"B")},u={L:(0,c.K2)((L,C)=>L-C+2,"L"),R:(0,c.K2)((L,C)=>L-2,"R"),T:(0,c.K2)((L,C)=>L-C+2,"T"),B:(0,c.K2)((L,C)=>L-2,"B")},m=(0,c.K2)(function(L){return A(L)?"L"===L?"R":"L":"T"===L?"B":"T"},"getOppositeArchitectureDirection"),f=(0,c.K2)(function(L){return"L"===L||"R"===L||"T"===L||"B"===L},"isArchitectureDirection"),A=(0,c.K2)(function(L){return"L"===L||"R"===L},"isArchitectureDirectionX"),T=(0,c.K2)(function(L){return"T"===L||"B"===L},"isArchitectureDirectionY"),N=(0,c.K2)(function(L,C){const M=A(L)&&T(C),W=T(L)&&A(C);return M||W},"isArchitectureDirectionXY"),x=(0,c.K2)(function(L){const C=L[0],M=L[1],W=A(C)&&T(M),rt=T(C)&&A(M);return W||rt},"isArchitecturePairXY"),_=(0,c.K2)(function(L){return"LL"!==L&&"RR"!==L&&"TT"!==L&&"BB"!==L},"isValidArchitectureDirectionPair"),I=(0,c.K2)(function(L,C){const M=`${L}${C}`;return _(M)?M:void 0},"getArchitectureDirectionPair"),it=(0,c.K2)(function([L,C],M){const W=M[0],rt=M[1];return A(W)?T(rt)?[L+("L"===W?-1:1),C+("T"===rt?1:-1)]:[L+("L"===W?-1:1),C]:A(rt)?[L+("L"===rt?1:-1),C+("T"===W?1:-1)]:[L,C+("T"===W?1:-1)]},"shiftPositionByArchitectureDirectionPair"),pt=(0,c.K2)(function(L){return"LT"===L||"TL"===L?[1,1]:"BL"===L||"LB"===L?[1,-1]:"BR"===L||"RB"===L?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),gt=(0,c.K2)(function(L,C){return N(L,C)?"bend":A(L)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),Dt=(0,c.K2)(function(L){return"service"===L.type},"isArchitectureService"),P=(0,c.K2)(function(L){return"junction"===L.type},"isArchitectureJunction"),Z=(0,c.K2)(L=>L.data(),"edgeData"),r=(0,c.K2)(L=>L.data(),"nodeData"),E=n.UI.architecture,l=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=n.SV,this.getAccTitle=n.iN,this.setDiagramTitle=n.ke,this.getDiagramTitle=n.ab,this.getAccDescription=n.m7,this.setAccDescription=n.EI,this.clear()}static{(0,c.K2)(this,"ArchitectureDB")}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},(0,n.IU)()}addService({id:L,icon:C,in:M,title:W,iconText:rt}){if(void 0!==this.registeredIds[L])throw new Error(`The service id [${L}] is already in use by another ${this.registeredIds[L]}`);if(void 0!==M){if(L===M)throw new Error(`The service [${L}] cannot be placed within itself`);if(void 0===this.registeredIds[M])throw new Error(`The service [${L}]'s parent does not exist. Please make sure the parent is created before this service`);if("node"===this.registeredIds[M])throw new Error(`The service [${L}]'s parent is not a group`)}this.registeredIds[L]="node",this.nodes[L]={id:L,type:"service",icon:C,iconText:rt,title:W,edges:[],in:M}}getServices(){return Object.values(this.nodes).filter(Dt)}addJunction({id:L,in:C}){this.registeredIds[L]="node",this.nodes[L]={id:L,type:"junction",edges:[],in:C}}getJunctions(){return Object.values(this.nodes).filter(P)}getNodes(){return Object.values(this.nodes)}getNode(L){return this.nodes[L]??null}addGroup({id:L,icon:C,in:M,title:W}){if(void 0!==this.registeredIds?.[L])throw new Error(`The group id [${L}] is already in use by another ${this.registeredIds[L]}`);if(void 0!==M){if(L===M)throw new Error(`The group [${L}] cannot be placed within itself`);if(void 0===this.registeredIds?.[M])throw new Error(`The group [${L}]'s parent does not exist. Please make sure the parent is created before this group`);if("node"===this.registeredIds?.[M])throw new Error(`The group [${L}]'s parent is not a group`)}this.registeredIds[L]="group",this.groups[L]={id:L,icon:C,title:W,in:M}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:L,rhsId:C,lhsDir:M,rhsDir:W,lhsInto:rt,rhsInto:k,lhsGroup:ut,rhsGroup:J,title:et}){if(!f(M))throw new Error(`Invalid direction given for left hand side of edge ${L}--${C}. Expected (L,R,T,B) got ${String(M)}`);if(!f(W))throw new Error(`Invalid direction given for right hand side of edge ${L}--${C}. Expected (L,R,T,B) got ${String(W)}`);if(void 0===this.nodes[L]&&void 0===this.groups[L])throw new Error(`The left-hand id [${L}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(void 0===this.nodes[C]&&void 0===this.groups[C])throw new Error(`The right-hand id [${C}] does not yet exist. Please create the service/group before declaring an edge to it.`);const ft=this.nodes[L].in,ct=this.nodes[C].in;if(ut&&ft&&ct&&ft==ct)throw new Error(`The left-hand id [${L}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(J&&ft&&ct&&ft==ct)throw new Error(`The right-hand id [${C}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);this.edges.push({lhsId:L,lhsDir:M,lhsInto:rt,lhsGroup:ut,rhsId:C,rhsDir:W,rhsInto:k,rhsGroup:J,title:et}),this.nodes[L]&&this.nodes[C]&&(this.nodes[L].edges.push(this.edges[this.edges.length-1]),this.nodes[C].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(void 0===this.dataStructures){const L={},C=Object.entries(this.nodes).reduce((J,[et,ft])=>(J[et]=ft.edges.reduce((ct,at)=>{const Et=this.getNode(at.lhsId)?.in,yt=this.getNode(at.rhsId)?.in;if(Et&&yt&&Et!==yt){const O=gt(at.lhsDir,at.rhsDir);"bend"!==O&&(L[Et]??={},L[Et][yt]=O,L[yt]??={},L[yt][Et]=O)}if(at.lhsId===et){const O=I(at.lhsDir,at.rhsDir);O&&(ct[O]=at.rhsId)}else{const O=I(at.rhsDir,at.lhsDir);O&&(ct[O]=at.lhsId)}return ct},{}),J),{}),M=Object.keys(C)[0],W={[M]:1},rt=Object.keys(C).reduce((J,et)=>et===M?J:{...J,[et]:1},{}),k=(0,c.K2)(J=>{const et={[J]:[0,0]},ft=[J];for(;ft.length>0;){const ct=ft.shift();if(ct){W[ct]=1,delete rt[ct];const at=C[ct],[Et,yt]=et[ct];Object.entries(at).forEach(([O,b])=>{W[b]||(et[b]=it([Et,yt],O),ft.push(b))})}}return et},"BFS"),ut=[k(M)];for(;Object.keys(rt).length>0;)ut.push(k(Object.keys(rt)[0]));this.dataStructures={adjList:C,spatialMaps:ut,groupAlignments:L}}return this.dataStructures}setElementForId(L,C){this.elements[L]=C}getElementById(L){return this.elements[L]}getConfig(){return(0,i.$t)({...E,...(0,n.zj)().architecture})}getConfigField(L){return this.getConfig()[L]}},p=(0,c.K2)((L,C)=>{(0,s.S)(L,C),L.groups.map(M=>C.addGroup(M)),L.services.map(M=>C.addService({...M,type:"service"})),L.junctions.map(M=>C.addJunction({...M,type:"junction"})),L.edges.map(M=>C.addEdge(M))},"populateDb"),d={parser:{yy:void 0},parse:(0,c.K2)(function(){var L=(0,S.A)(function*(C){const M=yield(0,e.qg)("architecture",C);c.Rm.debug(M);const W=d.parser?.yy;if(!(W instanceof l))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");p(M,W)});return function(C){return L.apply(this,arguments)}}(),"parse")},D=(0,c.K2)(L=>`\n  .edge {\n    stroke-width: ${L.archEdgeWidth};\n    stroke: ${L.archEdgeColor};\n    fill: none;\n  }\n\n  .arrow {\n    fill: ${L.archEdgeArrowColor};\n  }\n\n  .node-bkg {\n    fill: none;\n    stroke: ${L.archGroupBorderColor};\n    stroke-width: ${L.archGroupBorderWidth};\n    stroke-dasharray: 8;\n  }\n  .node-icon-text {\n    display: flex; \n    align-items: center;\n  }\n  \n  .node-icon-text > div {\n    color: #fff;\n    margin: 1px;\n    height: fit-content;\n    text-align: center;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n`,"getStyles"),U=(0,c.K2)(L=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${L}</g>`,"wrapIcon"),Y={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:U('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:U('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:U('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:U('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:U('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:o.Gc,blank:{body:U("")}}},G=(0,c.K2)(function(){var L=(0,S.A)(function*(C,M,W){const rt=W.getConfigField("padding"),k=W.getConfigField("iconSize"),ut=k/2,J=k/6,et=J/2;yield Promise.all(M.edges().map(function(){var ft=(0,S.A)(function*(ct){const{source:at,sourceDir:Et,sourceArrow:yt,sourceGroup:O,target:b,targetDir:F,targetArrow:H,targetGroup:X,label:$}=Z(ct);let{x:ot,y:ht}=ct[0].sourceEndpoint();const{x:K,y:Q}=ct[0].midpoint();let{x:mt,y:At}=ct[0].targetEndpoint();const Lt=rt+4;if(O&&(A(Et)?ot+="L"===Et?-Lt:Lt:ht+="T"===Et?-Lt:Lt+18),X&&(A(F)?mt+="L"===F?-Lt:Lt:At+="T"===F?-Lt:Lt+18),!O&&"junction"===W.getNode(at)?.type&&(A(Et)?ot+="L"===Et?ut:-ut:ht+="T"===Et?ut:-ut),!X&&"junction"===W.getNode(b)?.type&&(A(F)?mt+="L"===F?ut:-ut:At+="T"===F?ut:-ut),ct[0]._private.rscratch){const Ft=C.insert("g");if(Ft.insert("path").attr("d",`M ${ot},${ht} L ${K},${Q} L${mt},${At} `).attr("class","edge").attr("id",(0,i.rY)(at,b,{prefix:"L"})),yt){const Tt=A(Et)?u[Et](ot,J):ot-et,dt=T(Et)?u[Et](ht,J):ht-et;Ft.insert("polygon").attr("points",g[Et](J)).attr("transform",`translate(${Tt},${dt})`).attr("class","arrow")}if(H){const Tt=A(F)?u[F](mt,J):mt-et,dt=T(F)?u[F](At,J):At-et;Ft.insert("polygon").attr("points",g[F](J)).attr("transform",`translate(${Tt},${dt})`).attr("class","arrow")}if($){const Tt=N(Et,F)?"XY":A(Et)?"X":"Y";let dt=0;dt="X"===Tt?Math.abs(ot-mt):"Y"===Tt?Math.abs(ht-At)/1.5:Math.abs(ot-mt)/2;const wt=Ft.append("g");if(yield(0,o.GZ)(wt,$,{useHtmlLabels:!1,width:dt,classes:"architecture-service-label"},(0,n.D7)()),wt.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),"X"===Tt)wt.attr("transform","translate("+K+", "+Q+")");else if("Y"===Tt)wt.attr("transform","translate("+K+", "+Q+") rotate(-90)");else if("XY"===Tt){const Nt=I(Et,F);if(Nt&&x(Nt)){const Ct=wt.node().getBoundingClientRect(),[Ut,xt]=pt(Nt);wt.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*Ut*xt*45})`);const St=wt.node().getBoundingClientRect();wt.attr("transform",`\n                translate(${K}, ${Q-Ct.height/2})\n                translate(${Ut*St.width/2}, ${xt*St.height/2})\n                rotate(${-1*Ut*xt*45}, 0, ${Ct.height/2})\n              `)}}}}});return function(ct){return ft.apply(this,arguments)}}()))});return function(C,M,W){return L.apply(this,arguments)}}(),"drawEdges"),j=(0,c.K2)(function(){var L=(0,S.A)(function*(C,M,W){const k=.75*W.getConfigField("padding"),ut=W.getConfigField("fontSize"),et=W.getConfigField("iconSize")/2;yield Promise.all(M.nodes().map(function(){var ft=(0,S.A)(function*(ct){const at=r(ct);if("group"===at.type){const{h:Et,w:yt,x1:O,y1:b}=ct.boundingBox(),F=C.append("rect");F.attr("id",`group-${at.id}`).attr("x",O+et).attr("y",b+et).attr("width",yt).attr("height",Et).attr("class","node-bkg");const H=C.append("g");let X=O,$=b;if(at.icon){const ot=H.append("g");ot.html(`<g>${yield(0,o.WY)(at.icon,{height:k,width:k,fallbackPrefix:Y.prefix})}</g>`),ot.attr("transform","translate("+(X+et+1)+", "+($+et+1)+")"),X+=k,$+=ut/2-1-2}if(at.label){const ot=H.append("g");yield(0,o.GZ)(ot,at.label,{useHtmlLabels:!1,width:yt,classes:"architecture-service-label"},(0,n.D7)()),ot.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),ot.attr("transform","translate("+(X+et+4)+", "+($+et+2)+")")}W.setElementForId(at.id,F)}});return function(ct){return ft.apply(this,arguments)}}()))});return function(C,M,W){return L.apply(this,arguments)}}(),"drawGroups"),lt=(0,c.K2)(function(){var L=(0,S.A)(function*(C,M,W){const rt=(0,n.D7)();for(const k of W){const ut=M.append("g"),J=C.getConfigField("iconSize");if(k.title){const at=ut.append("g");yield(0,o.GZ)(at,k.title,{useHtmlLabels:!1,width:1.5*J,classes:"architecture-service-label"},rt),at.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),at.attr("transform","translate("+J/2+", "+J+")")}const et=ut.append("g");if(k.icon)et.html(`<g>${yield(0,o.WY)(k.icon,{height:J,width:J,fallbackPrefix:Y.prefix})}</g>`);else if(k.iconText){et.html(`<g>${yield(0,o.WY)("blank",{height:J,width:J,fallbackPrefix:Y.prefix})}</g>`);const yt=et.append("g").append("foreignObject").attr("width",J).attr("height",J).append("div").attr("class","node-icon-text").attr("style",`height: ${J}px;`).append("div").html((0,n.jZ)(k.iconText,rt)),O=parseInt(window.getComputedStyle(yt.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;yt.attr("style",`-webkit-line-clamp: ${Math.floor((J-2)/O)};`)}else et.append("path").attr("class","node-bkg").attr("id","node-"+k.id).attr("d",`M0 ${J} v${-J} q0,-5 5,-5 h${J} q5,0 5,5 v${J} H0 Z`);ut.attr("id",`service-${k.id}`).attr("class","architecture-service");const{width:ft,height:ct}=ut.node().getBBox();k.width=ft,k.height=ct,C.setElementForId(k.id,ut)}return 0});return function(C,M,W){return L.apply(this,arguments)}}(),"drawServices"),V=(0,c.K2)(function(L,C,M){M.forEach(W=>{const rt=C.append("g"),k=L.getConfigField("iconSize");rt.append("g").append("rect").attr("id","node-"+W.id).attr("fill-opacity","0").attr("width",k).attr("height",k),rt.attr("class","architecture-junction");const{width:J,height:et}=rt._groups[0][0].getBBox();rt.width=J,rt.height=et,L.setElementForId(W.id,rt)})},"drawJunctions");function st(L,C,M){L.forEach(W=>{C.add({group:"nodes",data:{type:"service",id:W.id,icon:W.icon,label:W.title,parent:W.in,width:M.getConfigField("iconSize"),height:M.getConfigField("iconSize")},classes:"node-service"})})}function q(L,C,M){L.forEach(W=>{C.add({group:"nodes",data:{type:"junction",id:W.id,parent:W.in,width:M.getConfigField("iconSize"),height:M.getConfigField("iconSize")},classes:"node-junction"})})}function w(L,C){C.nodes().map(M=>{const W=r(M);"group"!==W.type&&(W.x=M.position().x,W.y=M.position().y,L.getElementById(W.id).attr("transform","translate("+(W.x||0)+","+(W.y||0)+")"))})}function z(L,C){L.forEach(M=>{C.add({group:"nodes",data:{type:"group",id:M.id,icon:M.icon,label:M.title,parent:M.in},classes:"node-group"})})}function B(L,C){L.forEach(M=>{const{lhsId:W,rhsId:rt,lhsInto:k,lhsGroup:ut,rhsInto:J,lhsDir:et,rhsDir:ft,rhsGroup:ct,title:at}=M,Et=N(M.lhsDir,M.rhsDir)?"segments":"straight";C.add({group:"edges",data:{id:`${W}-${rt}`,label:at,source:W,sourceDir:et,sourceArrow:k,sourceGroup:ut,sourceEndpoint:"L"===et?"0 50%":"R"===et?"100% 50%":"T"===et?"50% 0":"50% 100%",target:rt,targetDir:ft,targetArrow:J,targetGroup:ct,targetEndpoint:"L"===ft?"0 50%":"R"===ft?"100% 50%":"T"===ft?"50% 0":"50% 100%"},classes:Et})})}function nt(L,C,M){const W=(0,c.K2)((J,et)=>Object.entries(J).reduce((ft,[ct,at])=>{let Et=0;const yt=Object.entries(at);if(1===yt.length)return ft[ct]=yt[0][1],ft;for(let O=0;O<yt.length-1;O++)for(let b=O+1;b<yt.length;b++){const[F,H]=yt[O],[X,$]=yt[b];M[F]?.[X]===et||"default"===F||"default"===X?(ft[ct]??=[],ft[ct]=[...ft[ct],...H,...$]):(ft[`${ct}-${Et++}`]=H,ft[`${ct}-${Et++}`]=$)}return ft},{}),"flattenAlignments"),rt=C.map(J=>{const et={},ft={};return Object.entries(J).forEach(([ct,[at,Et]])=>{const yt=L.getNode(ct)?.in??"default";et[Et]??={},et[Et][yt]??=[],et[Et][yt].push(ct),ft[at]??={},ft[at][yt]??=[],ft[at][yt].push(ct)}),{horiz:Object.values(W(et,"horizontal")).filter(ct=>ct.length>1),vert:Object.values(W(ft,"vertical")).filter(ct=>ct.length>1)}}),[k,ut]=rt.reduce(([J,et],{horiz:ft,vert:ct})=>[[...J,...ft],[...et,...ct]],[[],[]]);return{horizontal:k,vertical:ut}}function Ot(L,C){const M=[],W=(0,c.K2)(k=>`${k[0]},${k[1]}`,"posToStr"),rt=(0,c.K2)(k=>k.split(",").map(ut=>parseInt(ut)),"strToPos");return L.forEach(k=>{const ut=Object.fromEntries(Object.entries(k).map(([ct,at])=>[W(at),ct])),J=[W([0,0])],et={},ft={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;J.length>0;){const ct=J.shift();if(ct){et[ct]=1;const at=ut[ct];if(at){const Et=rt(ct);Object.entries(ft).forEach(([yt,O])=>{const b=W([Et[0]+O[0],Et[1]+O[1]]),F=ut[b];F&&!et[b]&&(J.push(b),M.push({[h[yt]]:F,[h[m(yt)]]:at,gap:1.5*C.getConfigField("iconSize")}))})}}}}),M}function tt(L,C,M,W,rt,{spatialMaps:k,groupAlignments:ut}){return new Promise(J=>{const et=(0,a.Ltv)("body").append("div").attr("id","cy").attr("style","display:none"),ft=(0,v.A)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${rt.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${rt.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});et.remove(),z(M,ft),st(L,ft,rt),q(C,ft,rt),B(W,ft);const ct=nt(rt,k,ut),at=Ot(k,rt),Et=ft.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(yt){const[O,b]=yt.connectedNodes(),{parent:F}=r(O),{parent:H}=r(b);return F===H?1.5*rt.getConfigField("iconSize"):.5*rt.getConfigField("iconSize")},edgeElasticity(yt){const[O,b]=yt.connectedNodes(),{parent:F}=r(O),{parent:H}=r(b);return F===H?.45:.001},alignmentConstraint:ct,relativePlacementConstraint:at});Et.one("layoutstop",()=>{function yt(O,b,F,H){let X,$;const{x:ot,y:ht}=O,{x:K,y:Q}=b;$=(H-ht+(ot-F)*(ht-Q)/(ot-K))/Math.sqrt(1+Math.pow((ht-Q)/(ot-K),2)),X=Math.sqrt(Math.pow(H-ht,2)+Math.pow(F-ot,2)-Math.pow($,2)),X/=Math.sqrt(Math.pow(K-ot,2)+Math.pow(Q-ht,2));let At=(K-ot)*(H-ht)-(Q-ht)*(F-ot);switch(!0){case At>=0:At=1;break;case At<0:At=-1}let Lt=(K-ot)*(F-ot)+(Q-ht)*(H-ht);switch(!0){case Lt>=0:Lt=1;break;case Lt<0:Lt=-1}return $=Math.abs($)*At,X*=Lt,{distances:$,weights:X}}(0,c.K2)(yt,"getSegmentWeights"),ft.startBatch();for(const O of Object.values(ft.edges()))if(O.data?.()){const{x:b,y:F}=O.source().position(),{x:H,y:X}=O.target().position();if(b!==H&&F!==X){const $=O.sourceEndpoint(),ot=O.targetEndpoint(),{sourceDir:ht}=Z(O),[K,Q]=T(ht)?[$.x,ot.y]:[ot.x,$.y],{weights:mt,distances:At}=yt($,ot,K,Q);O.style("segment-distances",At),O.style("segment-weights",mt)}}ft.endBatch(),Et.run()}),Et.run(),ft.ready(yt=>{c.Rm.info("Ready",yt),J(ft)})})}(0,o.pC)([{name:Y.prefix,icons:Y}]),v.A.use(t),(0,c.K2)(st,"addServices"),(0,c.K2)(q,"addJunctions"),(0,c.K2)(w,"positionNodes"),(0,c.K2)(z,"addGroups"),(0,c.K2)(B,"addEdges"),(0,c.K2)(nt,"getAlignments"),(0,c.K2)(Ot,"getRelativeConstraints"),(0,c.K2)(tt,"layoutArchitecture");var Pt=(0,c.K2)(function(){var L=(0,S.A)(function*(C,M,W,rt){const k=rt.db,ut=k.getServices(),J=k.getJunctions(),et=k.getGroups(),ft=k.getEdges(),ct=k.getDataStructures(),at=(0,y.D)(M),Et=at.append("g");Et.attr("class","architecture-edges");const yt=at.append("g");yt.attr("class","architecture-services");const O=at.append("g");O.attr("class","architecture-groups"),yield lt(k,yt,ut),V(k,yt,J);const b=yield tt(ut,J,et,ft,k,ct);yield G(Et,b,k),yield j(O,b,k),w(k,b),(0,n.ot)(void 0,at,k.getConfigField("padding"),k.getConfigField("useMaxWidth"))});return function(C,M,W,rt){return L.apply(this,arguments)}}(),"draw"),Rt={draw:Pt},Ht={parser:d,get db(){return new l},renderer:Rt,styles:D}}}]);
//# sourceMappingURL=699.d6b8941ee46a8e97.js.map