(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[699],{867:function(kt,ct,Lt){var F;kt.exports=(F=Lt(4329),(()=>{"use strict";var E={658:o=>{o.exports=null!=Object.assign?Object.assign.bind(Object):function(d){for(var t=arguments.length,g=Array(t>1?t-1:0),e=1;e<t;e++)g[e-1]=arguments[e];return g.forEach(function(r){Object.keys(r).forEach(function(l){return d[l]=r[l]})}),d}},548:(o,d,t)=>{var g=function(){return function(u,c){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return function l(u,c){var T=[],f=!0,A=!1,L=void 0;try{for(var O,N=u[Symbol.iterator]();!(f=(O=N.next()).done)&&(T.push(O.value),!c||T.length!==c);f=!0);}catch(q){A=!0,L=q}finally{try{!f&&N.return&&N.return()}finally{if(A)throw L}}return T}(u,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=t(140).layoutBase.LinkedList;o.exports={getTopMostNodes:function(l){for(var u={},c=0;c<l.length;c++)u[l[c].id()]=!0;return l.filter(function(f,A){"number"==typeof f&&(f=A);for(var L=f.parent()[0];null!=L;){if(u[L.id()])return!1;L=L.parent()[0]}return!0})},connectComponents:function(l,u,c,T){var f=new e,A=new Set,L=[],N=void 0,O=void 0,q=void 0,I=!1,et=1,gt=[],ft=[],wt=function(){var J=l.collection();ft.push(J);var a=c[0],m=l.collection();m.merge(a).merge(a.descendants().intersection(u)),L.push(a),m.forEach(function(v){f.push(v),A.add(v),J.merge(v)});for(var s=function(){a=f.shift();var R=l.collection();a.neighborhood().nodes().forEach(function(P){u.intersection(a.edgesWith(P)).length>0&&R.merge(P)});for(var w=0;w<R.length;w++){var H=R[w];null==(N=c.intersection(H.union(H.ancestors())))||A.has(N[0])||N.union(N.descendants()).forEach(function(P){f.push(P),A.add(P),J.merge(P),c.has(P)&&L.push(P)})}};0!=f.length;)s();if(J.forEach(function(v){u.intersection(v.connectedEdges()).forEach(function(R){J.has(R.source())&&J.has(R.target())&&J.merge(R)})}),L.length==c.length&&(I=!0),!I||I&&et>1){q=(O=L[0]).connectedEdges().length,L.forEach(function(v){v.connectedEdges().length<q&&(q=v.connectedEdges().length,O=v)}),gt.push(O.id());var y=l.collection();y.merge(L[0]),L.forEach(function(v){y.merge(v)}),L=[],c=c.difference(y),et++}};do{wt()}while(!I);return T&&gt.length>0&&T.set("dummy"+(T.size+1),gt),ft},relocateComponent:function(l,u,c){if(!c.fixedNodeConstraint){var T=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY,L=Number.NEGATIVE_INFINITY;if("draft"==c.quality){var N=!0,O=!1,q=void 0;try{for(var et,I=u.nodeIndexes[Symbol.iterator]();!(N=(et=I.next()).done);N=!0){var ft=g(et.value,2),U=ft[1],J=c.cy.getElementById(ft[0]);if(J){var a=J.boundingBox(),m=u.xCoords[U]-a.w/2,s=u.xCoords[U]+a.w/2,y=u.yCoords[U]-a.h/2,v=u.yCoords[U]+a.h/2;m<T&&(T=m),s>f&&(f=s),y<A&&(A=y),v>L&&(L=v)}}}catch(P){O=!0,q=P}finally{try{!N&&I.return&&I.return()}finally{if(O)throw q}}var R=l.x-(f+T)/2,w=l.y-(L+A)/2;u.xCoords=u.xCoords.map(function(P){return P+R}),u.yCoords=u.yCoords.map(function(P){return P+w})}else{Object.keys(u).forEach(function(P){var k=u[P],ot=k.getRect().x,z=k.getRect().x+k.getRect().width,st=k.getRect().y,j=k.getRect().y+k.getRect().height;ot<T&&(T=ot),z>f&&(f=z),st<A&&(A=st),j>L&&(L=j)});var H=l.x-(f+T)/2,X=l.y-(L+A)/2;Object.keys(u).forEach(function(P){var k=u[P];k.setCenter(k.getCenterX()+H,k.getCenterY()+X)})}}},calcBoundingBox:function(l,u,c,T){for(var f=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,L=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,O=void 0,q=void 0,I=void 0,et=void 0,gt=l.descendants().not(":parent"),ft=gt.length,wt=0;wt<ft;wt++){var U=gt[wt];f>(O=u[T.get(U.id())]-U.width()/2)&&(f=O),A<(q=u[T.get(U.id())]+U.width()/2)&&(A=q),L>(I=c[T.get(U.id())]-U.height()/2)&&(L=I),N<(et=c[T.get(U.id())]+U.height()/2)&&(N=et)}var J={};return J.topLeftX=f,J.topLeftY=L,J.width=A-f,J.height=N-L,J},calcParentsWithoutChildren:function(l,u){var c=l.collection();return u.nodes(":parent").forEach(function(T){var f=!1;T.children().forEach(function(A){"none"!=A.css("display")&&(f=!0)}),f||c.merge(T)}),c}}},816:(o,d,t)=>{var g=t(548),e=t(140).CoSELayout,r=t(140).CoSENode,l=t(140).layoutBase.PointD,u=t(140).layoutBase.DimensionD,c=t(140).layoutBase.LayoutConstants,T=t(140).layoutBase.FDLayoutConstants,f=t(140).CoSEConstants;o.exports={coseLayout:function(N,O){var q=N.cy,I=N.eles,et=I.nodes(),gt=I.edges(),ft=void 0,wt=void 0,U=void 0,J={};N.randomize&&(ft=O.nodeIndexes,wt=O.xCoords,U=O.yCoords);var a=function(P){return"function"==typeof P},m=function(P,k){return a(P)?P(k):P},s=g.calcParentsWithoutChildren(q,I);null!=N.nestingFactor&&(f.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=N.nestingFactor),null!=N.gravity&&(f.DEFAULT_GRAVITY_STRENGTH=T.DEFAULT_GRAVITY_STRENGTH=N.gravity),null!=N.numIter&&(f.MAX_ITERATIONS=T.MAX_ITERATIONS=N.numIter),null!=N.gravityRange&&(f.DEFAULT_GRAVITY_RANGE_FACTOR=T.DEFAULT_GRAVITY_RANGE_FACTOR=N.gravityRange),null!=N.gravityCompound&&(f.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=N.gravityCompound),null!=N.gravityRangeCompound&&(f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=N.gravityRangeCompound),null!=N.initialEnergyOnIncremental&&(f.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.DEFAULT_COOLING_FACTOR_INCREMENTAL=N.initialEnergyOnIncremental),null!=N.tilingCompareBy&&(f.TILING_COMPARE_BY=N.tilingCompareBy),c.QUALITY="proof"==N.quality?2:0,f.NODE_DIMENSIONS_INCLUDE_LABELS=T.NODE_DIMENSIONS_INCLUDE_LABELS=c.NODE_DIMENSIONS_INCLUDE_LABELS=N.nodeDimensionsIncludeLabels,f.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=!N.randomize,f.ANIMATE=T.ANIMATE=c.ANIMATE=N.animate,f.TILE=N.tile,f.TILING_PADDING_VERTICAL="function"==typeof N.tilingPaddingVertical?N.tilingPaddingVertical.call():N.tilingPaddingVertical,f.TILING_PADDING_HORIZONTAL="function"==typeof N.tilingPaddingHorizontal?N.tilingPaddingHorizontal.call():N.tilingPaddingHorizontal,f.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=c.DEFAULT_INCREMENTAL=!0,f.PURE_INCREMENTAL=!N.randomize,c.DEFAULT_UNIFORM_LEAF_NODE_SIZES=N.uniformNodeDimensions,"transformed"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,f.ENFORCE_CONSTRAINTS=!1,f.APPLY_LAYOUT=!1),"enforced"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!1),"cose"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,f.ENFORCE_CONSTRAINTS=!1,f.APPLY_LAYOUT=!0),"all"==N.step&&(f.TRANSFORM_ON_CONSTRAINT_HANDLING=!!N.randomize,f.ENFORCE_CONSTRAINTS=!0,f.APPLY_LAYOUT=!0),f.TREE_REDUCTION_ON_INCREMENTAL=!(N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint);var P,k,w=new e,H=w.newGraphManager();return function X(P,k,ot,z){for(var st=k.length,j=0;j<st;j++){var C=k[j],B=null;0==C.intersection(s).length&&(B=C.children());var K=void 0,at=C.layoutDimensions({nodeDimensionsIncludeLabels:z.nodeDimensionsIncludeLabels});if(null!=C.outerWidth()&&null!=C.outerHeight())if(z.randomize)if(C.isParent()){var Ct=g.calcBoundingBox(C,wt,U,ft);K=0==C.intersection(s).length?P.add(new r(ot.graphManager,new l(Ct.topLeftX,Ct.topLeftY),new u(Ct.width,Ct.height))):P.add(new r(ot.graphManager,new l(Ct.topLeftX,Ct.topLeftY),new u(parseFloat(at.w),parseFloat(at.h))))}else K=P.add(new r(ot.graphManager,new l(wt[ft.get(C.id())]-at.w/2,U[ft.get(C.id())]-at.h/2),new u(parseFloat(at.w),parseFloat(at.h))));else K=P.add(new r(ot.graphManager,new l(C.position("x")-at.w/2,C.position("y")-at.h/2),new u(parseFloat(at.w),parseFloat(at.h))));else K=P.add(new r(this.graphManager));K.id=C.data("id"),K.nodeRepulsion=m(z.nodeRepulsion,C),K.paddingLeft=parseInt(C.css("padding")),K.paddingTop=parseInt(C.css("padding")),K.paddingRight=parseInt(C.css("padding")),K.paddingBottom=parseInt(C.css("padding")),z.nodeDimensionsIncludeLabels&&(K.labelWidth=C.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,K.labelHeight=C.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,K.labelPosVertical=C.css("text-valign"),K.labelPosHorizontal=C.css("text-halign")),J[C.data("id")]=K,isNaN(K.rect.x)&&(K.rect.x=0),isNaN(K.rect.y)&&(K.rect.y=0),null!=B&&B.length>0&&X(ot.getGraphManager().add(ot.newGraph(),K),B,ot,z)}}(H.addRoot(),g.getTopMostNodes(et),w,N),function(P,k,ot){for(var z=0,st=0,j=0;j<ot.length;j++){var C=ot[j],B=J[C.data("source")],K=J[C.data("target")];if(B&&K&&B!==K&&0==B.getEdgesBetween(K).length){var at=k.add(P.newEdge(),B,K);at.id=C.id(),at.idealLength=m(N.idealEdgeLength,C),at.edgeElasticity=m(N.edgeElasticity,C),z+=at.idealLength,st++}}null!=N.idealEdgeLength&&(f.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=st>0?z/st:a(N.idealEdgeLength)?50:N.idealEdgeLength,f.MIN_REPULSION_DIST=T.MIN_REPULSION_DIST=T.DEFAULT_EDGE_LENGTH/10,f.DEFAULT_RADIAL_SEPARATION=T.DEFAULT_EDGE_LENGTH)}(w,H,gt),P=w,(k=N).fixedNodeConstraint&&(P.constraints.fixedNodeConstraint=k.fixedNodeConstraint),k.alignmentConstraint&&(P.constraints.alignmentConstraint=k.alignmentConstraint),k.relativePlacementConstraint&&(P.constraints.relativePlacementConstraint=k.relativePlacementConstraint),w.runLayout(),J}}},212:(o,d,t)=>{var g=function(){function N(O,q){for(var I=0;I<q.length;I++){var et=q[I];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(O,et.key,et)}}return function(O,q,I){return q&&N(O.prototype,q),I&&N(O,I),O}}();var r=t(658),l=t(548),c=t(657).spectralLayout,f=t(816).coseLayout,A=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(O){return 4500},idealEdgeLength:function(O){return 50},edgeElasticity:function(O){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),L=function(){function N(O){(function e(N,O){if(!(N instanceof O))throw new TypeError("Cannot call a class as a function")})(this,N),this.options=r({},A,O)}return g(N,[{key:"run",value:function(){var I=this.options,et=I.cy,gt=I.eles,ft=[],J=[],a=void 0,m=[];I.fixedNodeConstraint&&(!Array.isArray(I.fixedNodeConstraint)||0==I.fixedNodeConstraint.length)&&(I.fixedNodeConstraint=void 0),I.alignmentConstraint&&(I.alignmentConstraint.vertical&&(!Array.isArray(I.alignmentConstraint.vertical)||0==I.alignmentConstraint.vertical.length)&&(I.alignmentConstraint.vertical=void 0),I.alignmentConstraint.horizontal&&(!Array.isArray(I.alignmentConstraint.horizontal)||0==I.alignmentConstraint.horizontal.length)&&(I.alignmentConstraint.horizontal=void 0)),I.relativePlacementConstraint&&(!Array.isArray(I.relativePlacementConstraint)||0==I.relativePlacementConstraint.length)&&(I.relativePlacementConstraint=void 0),(I.fixedNodeConstraint||I.alignmentConstraint||I.relativePlacementConstraint)&&(I.tile=!1,I.packComponents=!1);var y=void 0,v=!1;if(et.layoutUtilities&&I.packComponents&&((y=et.layoutUtilities("get"))||(y=et.layoutUtilities()),v=!0),gt.nodes().length>0)if(v){var H=l.getTopMostNodes(I.eles.nodes());if((a=l.connectComponents(et,I.eles,H)).forEach(function(dt){var p=dt.boundingBox();m.push({x:p.x1+p.w/2,y:p.y1+p.h/2})}),I.randomize&&a.forEach(function(dt){I.eles=dt,ft.push(c(I))}),"default"==I.quality||"proof"==I.quality){var X=et.collection();if(I.tile){var z=0,st={nodeIndexes:new Map,xCoords:[],yCoords:[]},j=[];if(a.forEach(function(dt,p){0==dt.edges().length&&(dt.nodes().forEach(function(S,G){X.merge(dt.nodes()[G]),S.isParent()||(st.nodeIndexes.set(dt.nodes()[G].id(),z++),st.xCoords.push(dt.nodes()[0].position().x),st.yCoords.push(dt.nodes()[0].position().y))}),j.push(p))}),X.length>1){var C=X.boundingBox();m.push({x:C.x1+C.w/2,y:C.y1+C.h/2}),a.push(X),ft.push(st);for(var B=j.length-1;B>=0;B--)a.splice(j[B],1),ft.splice(j[B],1),m.splice(j[B],1)}}a.forEach(function(dt,p){I.eles=dt,J.push(f(I,ft[p])),l.relocateComponent(m[p],J[p],I)})}else a.forEach(function(dt,p){l.relocateComponent(m[p],ft[p],I)});var K=new Set;if(a.length>1){var at=[],Ct=gt.filter(function(dt){return"none"==dt.css("display")});a.forEach(function(dt,p){var S=void 0;if("draft"==I.quality&&(S=ft[p].nodeIndexes),dt.nodes().not(Ct).length>0){var G={edges:[],nodes:[]},W=void 0;dt.nodes().not(Ct).forEach(function(tt){if("draft"==I.quality)if(tt.isParent()){var Q=l.calcBoundingBox(tt,ft[p].xCoords,ft[p].yCoords,S);G.nodes.push({x:Q.topLeftX,y:Q.topLeftY,width:Q.width,height:Q.height})}else W=S.get(tt.id()),G.nodes.push({x:ft[p].xCoords[W]-tt.boundingbox().w/2,y:ft[p].yCoords[W]-tt.boundingbox().h/2,width:tt.boundingbox().w,height:tt.boundingbox().h});else J[p][tt.id()]&&G.nodes.push({x:J[p][tt.id()].getLeft(),y:J[p][tt.id()].getTop(),width:J[p][tt.id()].getWidth(),height:J[p][tt.id()].getHeight()})}),dt.edges().forEach(function(tt){var Q=tt.source(),ut=tt.target();if("none"!=Q.css("display")&&"none"!=ut.css("display"))if("draft"==I.quality){var ht=S.get(Q.id()),mt=S.get(ut.id()),rt=[],it=[];if(Q.isParent()){var lt=l.calcBoundingBox(Q,ft[p].xCoords,ft[p].yCoords,S);rt.push(lt.topLeftX+lt.width/2),rt.push(lt.topLeftY+lt.height/2)}else rt.push(ft[p].xCoords[ht]),rt.push(ft[p].yCoords[ht]);if(ut.isParent()){var M=l.calcBoundingBox(ut,ft[p].xCoords,ft[p].yCoords,S);it.push(M.topLeftX+M.width/2),it.push(M.topLeftY+M.height/2)}else it.push(ft[p].xCoords[mt]),it.push(ft[p].yCoords[mt]);G.edges.push({startX:rt[0],startY:rt[1],endX:it[0],endY:it[1]})}else J[p][Q.id()]&&J[p][ut.id()]&&G.edges.push({startX:J[p][Q.id()].getCenterX(),startY:J[p][Q.id()].getCenterY(),endX:J[p][ut.id()].getCenterX(),endY:J[p][ut.id()].getCenterY()})}),G.nodes.length>0&&(at.push(G),K.add(p))}});var _=y.packComponents(at,I.randomize).shifts;if("draft"==I.quality)ft.forEach(function(dt,p){var S=dt.xCoords.map(function(W){return W+_[p].dx}),G=dt.yCoords.map(function(W){return W+_[p].dy});dt.xCoords=S,dt.yCoords=G});else{var bt=0;K.forEach(function(dt){Object.keys(J[dt]).forEach(function(p){var S=J[dt][p];S.setCenter(S.getCenterX()+_[bt].dx,S.getCenterY()+_[bt].dy)}),bt++})}}}else{var R=I.eles.boundingBox();if(m.push({x:R.x1+R.w/2,y:R.y1+R.h/2}),I.randomize){var w=c(I);ft.push(w)}"default"==I.quality||"proof"==I.quality?(J.push(f(I,ft[0])),l.relocateComponent(m[0],J[0],I)):l.relocateComponent(m[0],ft[0],I)}var Rt=function(p,S){if("default"==I.quality||"proof"==I.quality){"number"==typeof p&&(p=S);var G=void 0,W=void 0,tt=p.data("id");return J.forEach(function(ut){tt in ut&&(G={x:ut[tt].getRect().getCenterX(),y:ut[tt].getRect().getCenterY()},W=ut[tt])}),I.nodeDimensionsIncludeLabels&&(W.labelWidth&&("left"==W.labelPosHorizontal?G.x+=W.labelWidth/2:"right"==W.labelPosHorizontal&&(G.x-=W.labelWidth/2)),W.labelHeight&&("top"==W.labelPosVertical?G.y+=W.labelHeight/2:"bottom"==W.labelPosVertical&&(G.y-=W.labelHeight/2))),null==G&&(G={x:p.position("x"),y:p.position("y")}),{x:G.x,y:G.y}}var Q=void 0;return ft.forEach(function(ut){var ht=ut.nodeIndexes.get(p.id());null!=ht&&(Q={x:ut.xCoords[ht],y:ut.yCoords[ht]})}),null==Q&&(Q={x:p.position("x"),y:p.position("y")}),{x:Q.x,y:Q.y}};if("default"==I.quality||"proof"==I.quality||I.randomize){var Wt=l.calcParentsWithoutChildren(et,gt),Ut=gt.filter(function(dt){return"none"==dt.css("display")});I.eles=gt.not(Ut),gt.nodes().not(":parent").not(Ut).layoutPositions(this,I,Rt),Wt.length>0&&Wt.forEach(function(dt){dt.position(Rt(dt))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),N}();o.exports=L},657:(o,d,t)=>{var g=t(548),e=t(140).layoutBase.Matrix,r=t(140).layoutBase.SVD;o.exports={spectralLayout:function(c){var T=c.cy,f=c.eles,A=f.nodes(),L=f.nodes(":parent"),N=new Map,O=new Map,q=new Map,I=[],et=[],gt=[],ft=[],wt=[],U=[],J=[],a=[],s=void 0,y=1e8,v=1e-9,R=c.piTol,w=c.samplingType,H=c.nodeSeparation,X=void 0,k=function(x,Y,b){for(var Z=[],vt=0,nt=0,V=0,$=void 0,pt=[],Mt=0,At=1,Dt=0;Dt<s;Dt++)pt[Dt]=y;for(Z[nt]=x,pt[x]=0;nt>=vt;){V=Z[vt++];for(var yt=I[V],Tt=0;Tt<yt.length;Tt++)pt[$=O.get(yt[Tt])]==y&&(pt[$]=pt[V]+1,Z[++nt]=$);U[V][Y]=pt[V]*H}if(b){for(var Ot=0;Ot<s;Ot++)U[Ot][Y]<wt[Ot]&&(wt[Ot]=U[Ot][Y]);for(var Et=0;Et<s;Et++)wt[Et]>Mt&&(Mt=wt[Et],At=Et)}return At};g.connectComponents(T,f,g.getTopMostNodes(A),N),L.forEach(function(D){g.connectComponents(T,f,g.getTopMostNodes(D.descendants().intersection(f)),N)});for(var j=0,C=0;C<A.length;C++)A[C].isParent()||O.set(A[C].id(),j++);var B=!0,K=!1,at=void 0;try{for(var _,Ct=N.keys()[Symbol.iterator]();!(B=(_=Ct.next()).done);B=!0)O.set(_.value,j++)}catch(D){K=!0,at=D}finally{try{!B&&Ct.return&&Ct.return()}finally{if(K)throw at}}for(var Rt=0;Rt<O.size;Rt++)I[Rt]=[];L.forEach(function(D){for(var x=D.children().intersection(f);0==x.nodes(":childless").length;)x=x.nodes()[0].children().intersection(f);var Y=0,b=x.nodes(":childless")[0].connectedEdges().length;x.nodes(":childless").forEach(function(Z,vt){Z.connectedEdges().length<b&&(b=Z.connectedEdges().length,Y=vt)}),q.set(D.id(),x.nodes(":childless")[Y].id())}),A.forEach(function(D){var x;x=D.isParent()?O.get(q.get(D.id())):O.get(D.id()),D.neighborhood().nodes().forEach(function(Y){f.intersection(D.edgesWith(Y)).length>0&&(Y.isParent()?I[x].push(q.get(Y.id())):I[x].push(Y.id()))})});var Wt=function(x){var Y=O.get(x),b=void 0;N.get(x).forEach(function(Z){b=T.getElementById(Z).isParent()?q.get(Z):Z,I[Y].push(b),I[O.get(b)].push(x)})},Ut=!0,dt=!1,p=void 0;try{for(var G,S=N.keys()[Symbol.iterator]();!(Ut=(G=S.next()).done);Ut=!0)Wt(G.value)}catch(D){dt=!0,p=D}finally{try{!Ut&&S.return&&S.return()}finally{if(dt)throw p}}var tt=void 0;if((s=O.size)>2){X=s<c.sampleSize?s:c.sampleSize;for(var Q=0;Q<s;Q++)U[Q]=[];for(var ut=0;ut<X;ut++)a[ut]=[];return"draft"==c.quality||"all"==c.step?(function(x){var Y=void 0;if(x){Y=Math.floor(Math.random()*s);for(var Z=0;Z<s;Z++)wt[Z]=y;for(var vt=0;vt<X;vt++)ft[vt]=Y,Y=k(Y,vt,x)}else{!function(){for(var x=0,Y=0,b=!1;Y<X;){x=Math.floor(Math.random()*s),b=!1;for(var Z=0;Z<Y;Z++)if(ft[Z]==x){b=!0;break}b||(ft[Y]=x,Y++)}}();for(var b=0;b<X;b++)k(ft[b],b,x)}for(var nt=0;nt<s;nt++)for(var V=0;V<X;V++)U[nt][V]*=U[nt][V];for(var $=0;$<X;$++)J[$]=[];for(var pt=0;pt<X;pt++)for(var Mt=0;Mt<X;Mt++)J[pt][Mt]=U[ft[Mt]][pt]}(w),function(){for(var x=r.svd(J),Y=x.S,b=x.U,Z=x.V,vt=Y[0]*Y[0]*Y[0],nt=[],V=0;V<X;V++){nt[V]=[];for(var $=0;$<X;$++)nt[V][$]=0,V==$&&(nt[V][$]=Y[V]/(Y[V]*Y[V]+vt/(Y[V]*Y[V])))}a=e.multMat(e.multMat(Z,nt),e.transpose(b))}(),function(){for(var x=void 0,Y=void 0,b=[],Z=[],vt=[],nt=[],V=0;V<s;V++)b[V]=Math.random(),Z[V]=Math.random();b=e.normalize(b),Z=e.normalize(Z);for(var pt=v,Mt=v,At=void 0;;){for(var Dt=0;Dt<s;Dt++)vt[Dt]=b[Dt];if(b=e.multGamma(e.multL(e.multGamma(vt),U,a)),x=e.dotProduct(vt,b),b=e.normalize(b),pt=e.dotProduct(vt,b),(At=Math.abs(pt/Mt))<=1+R&&At>=1)break;Mt=pt}for(var yt=0;yt<s;yt++)vt[yt]=b[yt];for(Mt=v;;){for(var Tt=0;Tt<s;Tt++)nt[Tt]=Z[Tt];if(nt=e.minusOp(nt,e.multCons(vt,e.dotProduct(vt,nt))),Z=e.multGamma(e.multL(e.multGamma(nt),U,a)),Y=e.dotProduct(nt,Z),Z=e.normalize(Z),pt=e.dotProduct(nt,Z),(At=Math.abs(pt/Mt))<=1+R&&At>=1)break;Mt=pt}for(var Ot=0;Ot<s;Ot++)nt[Ot]=Z[Ot];et=e.multCons(vt,Math.sqrt(Math.abs(x))),gt=e.multCons(nt,Math.sqrt(Math.abs(Y)))}(),tt={nodeIndexes:O,xCoords:et,yCoords:gt}):(O.forEach(function(D,x){et.push(T.getElementById(x).position("x")),gt.push(T.getElementById(x).position("y"))}),tt={nodeIndexes:O,xCoords:et,yCoords:gt}),tt}var ht=O.keys(),mt=T.getElementById(ht.next().value),rt=mt.position(),it=mt.outerWidth();if(et.push(rt.x),gt.push(rt.y),2==s){var M=T.getElementById(ht.next().value).outerWidth();et.push(rt.x+it/2+M/2+c.idealEdgeLength),gt.push(rt.y)}return{nodeIndexes:O,xCoords:et,yCoords:gt}}}},579:(o,d,t)=>{var g=t(212),e=function(l){l&&l("layout","fcose",g)};typeof cytoscape<"u"&&e(cytoscape),o.exports=e},140:o=>{o.exports=F}},h={};return function n(o){var d=h[o];if(void 0!==d)return d.exports;var t=h[o]={exports:{}};return E[o](t,t.exports,n),t.exports}(579)})())},2699:(kt,ct,Lt)=>{"use strict";Lt.r(ct),Lt.d(ct,{diagram:()=>dt});var u,F=Lt(9204),E=Lt(5027),h=Lt(9664),n=Lt(4082),i=Lt(525),o=Lt(2052),d=Lt(2155),t=Lt(2303),g=Lt(2233),e=Lt(5363),r=Lt(867),l=Lt(3172),c={L:"left",R:"right",T:"top",B:"bottom"},T={L:(0,t.K2)(p=>`${p},${p/2} 0,${p} 0,0`,"L"),R:(0,t.K2)(p=>`0,${p/2} ${p},0 ${p},${p}`,"R"),T:(0,t.K2)(p=>`0,0 ${p},0 ${p/2},${p}`,"T"),B:(0,t.K2)(p=>`${p/2},0 ${p},${p} 0,${p}`,"B")},f={L:(0,t.K2)((p,S)=>p-S+2,"L"),R:(0,t.K2)((p,S)=>p-2,"R"),T:(0,t.K2)((p,S)=>p-S+2,"T"),B:(0,t.K2)((p,S)=>p-2,"B")},A=(0,t.K2)(function(p){return N(p)?"L"===p?"R":"L":"T"===p?"B":"T"},"getOppositeArchitectureDirection"),L=(0,t.K2)(function(p){return"L"===p||"R"===p||"T"===p||"B"===p},"isArchitectureDirection"),N=(0,t.K2)(function(p){return"L"===p||"R"===p},"isArchitectureDirectionX"),O=(0,t.K2)(function(p){return"T"===p||"B"===p},"isArchitectureDirectionY"),q=(0,t.K2)(function(p,S){const G=N(p)&&O(S),W=O(p)&&N(S);return G||W},"isArchitectureDirectionXY"),I=(0,t.K2)(function(p){const S=p[0],G=p[1],W=N(S)&&O(G),tt=O(S)&&N(G);return W||tt},"isArchitecturePairXY"),et=(0,t.K2)(function(p){return"LL"!==p&&"RR"!==p&&"TT"!==p&&"BB"!==p},"isValidArchitectureDirectionPair"),gt=(0,t.K2)(function(p,S){const G=`${p}${S}`;return et(G)?G:void 0},"getArchitectureDirectionPair"),ft=(0,t.K2)(function([p,S],G){const W=G[0],tt=G[1];return N(W)?O(tt)?[p+("L"===W?-1:1),S+("T"===tt?1:-1)]:[p+("L"===W?-1:1),S]:N(tt)?[p+("L"===tt?1:-1),S+("T"===W?1:-1)]:[p,S+("T"===W?1:-1)]},"shiftPositionByArchitectureDirectionPair"),wt=(0,t.K2)(function(p){return"LT"===p||"TL"===p?[1,1]:"BL"===p||"LB"===p?[1,-1]:"BR"===p||"RB"===p?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),U=(0,t.K2)(function(p,S){return q(p,S)?"bend":N(p)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),J=(0,t.K2)(function(p){return"service"===p.type},"isArchitectureService"),a=(0,t.K2)(function(p){return"junction"===p.type},"isArchitectureJunction"),m=(0,t.K2)(p=>p.data(),"edgeData"),s=(0,t.K2)(p=>p.data(),"nodeData"),y=d.UI.architecture,v=(class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=d.SV,this.getAccTitle=d.iN,this.setDiagramTitle=d.ke,this.getDiagramTitle=d.ab,this.getAccDescription=d.m7,this.setAccDescription=d.EI,this.clear()}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},(0,d.IU)()}addService({id:p,icon:S,in:G,title:W,iconText:tt}){if(void 0!==this.registeredIds[p])throw new Error(`The service id [${p}] is already in use by another ${this.registeredIds[p]}`);if(void 0!==G){if(p===G)throw new Error(`The service [${p}] cannot be placed within itself`);if(void 0===this.registeredIds[G])throw new Error(`The service [${p}]'s parent does not exist. Please make sure the parent is created before this service`);if("node"===this.registeredIds[G])throw new Error(`The service [${p}]'s parent is not a group`)}this.registeredIds[p]="node",this.nodes[p]={id:p,type:"service",icon:S,iconText:tt,title:W,edges:[],in:G}}getServices(){return Object.values(this.nodes).filter(J)}addJunction({id:p,in:S}){this.registeredIds[p]="node",this.nodes[p]={id:p,type:"junction",edges:[],in:S}}getJunctions(){return Object.values(this.nodes).filter(a)}getNodes(){return Object.values(this.nodes)}getNode(p){return this.nodes[p]??null}addGroup({id:p,icon:S,in:G,title:W}){if(void 0!==this.registeredIds?.[p])throw new Error(`The group id [${p}] is already in use by another ${this.registeredIds[p]}`);if(void 0!==G){if(p===G)throw new Error(`The group [${p}] cannot be placed within itself`);if(void 0===this.registeredIds?.[G])throw new Error(`The group [${p}]'s parent does not exist. Please make sure the parent is created before this group`);if("node"===this.registeredIds?.[G])throw new Error(`The group [${p}]'s parent is not a group`)}this.registeredIds[p]="group",this.groups[p]={id:p,icon:S,title:W,in:G}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:p,rhsId:S,lhsDir:G,rhsDir:W,lhsInto:tt,rhsInto:Q,lhsGroup:ut,rhsGroup:ht,title:mt}){if(!L(G))throw new Error(`Invalid direction given for left hand side of edge ${p}--${S}. Expected (L,R,T,B) got ${String(G)}`);if(!L(W))throw new Error(`Invalid direction given for right hand side of edge ${p}--${S}. Expected (L,R,T,B) got ${String(W)}`);if(void 0===this.nodes[p]&&void 0===this.groups[p])throw new Error(`The left-hand id [${p}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(void 0===this.nodes[S]&&void 0===this.groups[S])throw new Error(`The right-hand id [${S}] does not yet exist. Please create the service/group before declaring an edge to it.`);const rt=this.nodes[p].in,it=this.nodes[S].in;if(ut&&rt&&it&&rt==it)throw new Error(`The left-hand id [${p}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(ht&&rt&&it&&rt==it)throw new Error(`The right-hand id [${S}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);this.edges.push({lhsId:p,lhsDir:G,lhsInto:tt,lhsGroup:ut,rhsId:S,rhsDir:W,rhsInto:Q,rhsGroup:ht,title:mt}),this.nodes[p]&&this.nodes[S]&&(this.nodes[p].edges.push(this.edges[this.edges.length-1]),this.nodes[S].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(void 0===this.dataStructures){const p={},S=Object.entries(this.nodes).reduce((ht,[mt,rt])=>(ht[mt]=rt.edges.reduce((it,lt)=>{const M=this.getNode(lt.lhsId)?.in,D=this.getNode(lt.rhsId)?.in;if(M&&D&&M!==D){const x=U(lt.lhsDir,lt.rhsDir);"bend"!==x&&(p[M]??={},p[M][D]=x,p[D]??={},p[D][M]=x)}if(lt.lhsId===mt){const x=gt(lt.lhsDir,lt.rhsDir);x&&(it[x]=lt.rhsId)}else{const x=gt(lt.rhsDir,lt.lhsDir);x&&(it[x]=lt.lhsId)}return it},{}),ht),{}),G=Object.keys(S)[0],W={[G]:1},tt=Object.keys(S).reduce((ht,mt)=>mt===G?ht:{...ht,[mt]:1},{}),Q=(0,t.K2)(ht=>{const mt={[ht]:[0,0]},rt=[ht];for(;rt.length>0;){const it=rt.shift();if(it){W[it]=1,delete tt[it];const lt=S[it],[M,D]=mt[it];Object.entries(lt).forEach(([x,Y])=>{W[Y]||(mt[Y]=ft([M,D],x),rt.push(Y))})}}return mt},"BFS"),ut=[Q(G)];for(;Object.keys(tt).length>0;)ut.push(Q(Object.keys(tt)[0]));this.dataStructures={adjList:S,spatialMaps:ut,groupAlignments:p}}return this.dataStructures}setElementForId(p,S){this.elements[p]=S}getElementById(p){return this.elements[p]}getConfig(){return(0,o.$t)({...y,...(0,d.zj)().architecture})}getConfigField(p){return this.getConfig()[p]}static#t=u=()=>((0,E.A)(this,"ArchitectureDB"),(0,t.K2)(this,"ArchitectureDB"),this)},u()),R=(0,t.K2)((p,S)=>{(0,i.S)(p,S),p.groups.map(G=>S.addGroup(G)),p.services.map(G=>S.addService({...G,type:"service"})),p.junctions.map(G=>S.addJunction({...G,type:"junction"})),p.edges.map(G=>S.addEdge(G))},"populateDb"),w={parser:{yy:void 0},parse:(0,t.K2)(function(){var p=(0,F.A)(function*(S){const G=yield(0,g.qg)("architecture",S);t.Rm.debug(G);const W=w.parser?.yy;if(!(W instanceof v))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");R(G,W)});return function(S){return p.apply(this,arguments)}}(),"parse")},X=(0,t.K2)(p=>`\n  .edge {\n    stroke-width: ${p.archEdgeWidth};\n    stroke: ${p.archEdgeColor};\n    fill: none;\n  }\n\n  .arrow {\n    fill: ${p.archEdgeArrowColor};\n  }\n\n  .node-bkg {\n    fill: none;\n    stroke: ${p.archGroupBorderColor};\n    stroke-width: ${p.archGroupBorderWidth};\n    stroke-dasharray: 8;\n  }\n  .node-icon-text {\n    display: flex; \n    align-items: center;\n  }\n  \n  .node-icon-text > div {\n    color: #fff;\n    margin: 1px;\n    height: fit-content;\n    text-align: center;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n`,"getStyles"),P=(0,t.K2)(p=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${p}</g>`,"wrapIcon"),k={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:P('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:P('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:P('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:P('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:P('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:n.Gc,blank:{body:P("")}}},ot=(0,t.K2)(function(){var p=(0,F.A)(function*(S,G,W){const tt=W.getConfigField("padding"),Q=W.getConfigField("iconSize"),ut=Q/2,ht=Q/6,mt=ht/2;yield Promise.all(G.edges().map(function(){var rt=(0,F.A)(function*(it){const{source:lt,sourceDir:M,sourceArrow:D,sourceGroup:x,target:Y,targetDir:b,targetArrow:Z,targetGroup:vt,label:nt}=m(it);let{x:V,y:$}=it[0].sourceEndpoint();const{x:pt,y:Mt}=it[0].midpoint();let{x:At,y:Dt}=it[0].targetEndpoint();const yt=tt+4;if(x&&(N(M)?V+="L"===M?-yt:yt:$+="T"===M?-yt:yt+18),vt&&(N(b)?At+="L"===b?-yt:yt:Dt+="T"===b?-yt:yt+18),!x&&"junction"===W.getNode(lt)?.type&&(N(M)?V+="L"===M?ut:-ut:$+="T"===M?ut:-ut),!vt&&"junction"===W.getNode(Y)?.type&&(N(b)?At+="L"===b?ut:-ut:Dt+="T"===b?ut:-ut),it[0]._private.rscratch){const Tt=S.insert("g");if(Tt.insert("path").attr("d",`M ${V},${$} L ${pt},${Mt} L${At},${Dt} `).attr("class","edge").attr("id",(0,o.rY)(lt,Y,{prefix:"L"})),D){const Ot=N(M)?f[M](V,ht):V-mt,Et=O(M)?f[M]($,ht):$-mt;Tt.insert("polygon").attr("points",T[M](ht)).attr("transform",`translate(${Ot},${Et})`).attr("class","arrow")}if(Z){const Ot=N(b)?f[b](At,ht):At-mt,Et=O(b)?f[b](Dt,ht):Dt-mt;Tt.insert("polygon").attr("points",T[b](ht)).attr("transform",`translate(${Ot},${Et})`).attr("class","arrow")}if(nt){const Ot=q(M,b)?"XY":N(M)?"X":"Y";let Et=0;Et="X"===Ot?Math.abs(V-At):"Y"===Ot?Math.abs($-Dt)/1.5:Math.abs(V-At)/2;const Nt=Tt.append("g");if(yield(0,n.GZ)(Nt,nt,{useHtmlLabels:!1,width:Et,classes:"architecture-service-label"},(0,d.D7)()),Nt.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),"X"===Ot)Nt.attr("transform","translate("+pt+", "+Mt+")");else if("Y"===Ot)Nt.attr("transform","translate("+pt+", "+Mt+") rotate(-90)");else if("XY"===Ot){const Yt=gt(M,b);if(Yt&&I(Yt)){const xt=Nt.node().getBoundingClientRect(),[St,Ht]=wt(Yt);Nt.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*St*Ht*45})`);const Pt=Nt.node().getBoundingClientRect();Nt.attr("transform",`\n                translate(${pt}, ${Mt-xt.height/2})\n                translate(${St*Pt.width/2}, ${Ht*Pt.height/2})\n                rotate(${-1*St*Ht*45}, 0, ${xt.height/2})\n              `)}}}}});return function(it){return rt.apply(this,arguments)}}()))});return function(S,G,W){return p.apply(this,arguments)}}(),"drawEdges"),z=(0,t.K2)(function(){var p=(0,F.A)(function*(S,G,W){const Q=.75*W.getConfigField("padding"),ut=W.getConfigField("fontSize"),mt=W.getConfigField("iconSize")/2;yield Promise.all(G.nodes().map(function(){var rt=(0,F.A)(function*(it){const lt=s(it);if("group"===lt.type){const{h:M,w:D,x1:x,y1:Y}=it.boundingBox(),b=S.append("rect");b.attr("id",`group-${lt.id}`).attr("x",x+mt).attr("y",Y+mt).attr("width",D).attr("height",M).attr("class","node-bkg");const Z=S.append("g");let vt=x,nt=Y;if(lt.icon){const V=Z.append("g");V.html(`<g>${yield(0,n.WY)(lt.icon,{height:Q,width:Q,fallbackPrefix:k.prefix})}</g>`),V.attr("transform","translate("+(vt+mt+1)+", "+(nt+mt+1)+")"),vt+=Q,nt+=ut/2-1-2}if(lt.label){const V=Z.append("g");yield(0,n.GZ)(V,lt.label,{useHtmlLabels:!1,width:D,classes:"architecture-service-label"},(0,d.D7)()),V.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),V.attr("transform","translate("+(vt+mt+4)+", "+(nt+mt+2)+")")}W.setElementForId(lt.id,b)}});return function(it){return rt.apply(this,arguments)}}()))});return function(S,G,W){return p.apply(this,arguments)}}(),"drawGroups"),st=(0,t.K2)(function(){var p=(0,F.A)(function*(S,G,W){const tt=(0,d.D7)();for(const Q of W){const ut=G.append("g"),ht=S.getConfigField("iconSize");if(Q.title){const lt=ut.append("g");yield(0,n.GZ)(lt,Q.title,{useHtmlLabels:!1,width:1.5*ht,classes:"architecture-service-label"},tt),lt.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),lt.attr("transform","translate("+ht/2+", "+ht+")")}const mt=ut.append("g");if(Q.icon)mt.html(`<g>${yield(0,n.WY)(Q.icon,{height:ht,width:ht,fallbackPrefix:k.prefix})}</g>`);else if(Q.iconText){mt.html(`<g>${yield(0,n.WY)("blank",{height:ht,width:ht,fallbackPrefix:k.prefix})}</g>`);const D=mt.append("g").append("foreignObject").attr("width",ht).attr("height",ht).append("div").attr("class","node-icon-text").attr("style",`height: ${ht}px;`).append("div").html((0,d.jZ)(Q.iconText,tt)),x=parseInt(window.getComputedStyle(D.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;D.attr("style",`-webkit-line-clamp: ${Math.floor((ht-2)/x)};`)}else mt.append("path").attr("class","node-bkg").attr("id","node-"+Q.id).attr("d",`M0 ${ht} v${-ht} q0,-5 5,-5 h${ht} q5,0 5,5 v${ht} H0 Z`);ut.attr("id",`service-${Q.id}`).attr("class","architecture-service");const{width:rt,height:it}=ut.node().getBBox();Q.width=rt,Q.height=it,S.setElementForId(Q.id,ut)}return 0});return function(S,G,W){return p.apply(this,arguments)}}(),"drawServices"),j=(0,t.K2)(function(p,S,G){G.forEach(W=>{const tt=S.append("g"),Q=p.getConfigField("iconSize");tt.append("g").append("rect").attr("id","node-"+W.id).attr("fill-opacity","0").attr("width",Q).attr("height",Q),tt.attr("class","architecture-junction");const{width:ht,height:mt}=tt._groups[0][0].getBBox();tt.width=ht,tt.height=mt,p.setElementForId(W.id,tt)})},"drawJunctions");function C(p,S,G){p.forEach(W=>{S.add({group:"nodes",data:{type:"service",id:W.id,icon:W.icon,label:W.title,parent:W.in,width:G.getConfigField("iconSize"),height:G.getConfigField("iconSize")},classes:"node-service"})})}function B(p,S,G){p.forEach(W=>{S.add({group:"nodes",data:{type:"junction",id:W.id,parent:W.in,width:G.getConfigField("iconSize"),height:G.getConfigField("iconSize")},classes:"node-junction"})})}function K(p,S){S.nodes().map(G=>{const W=s(G);"group"!==W.type&&(W.x=G.position().x,W.y=G.position().y,p.getElementById(W.id).attr("transform","translate("+(W.x||0)+","+(W.y||0)+")"))})}function at(p,S){p.forEach(G=>{S.add({group:"nodes",data:{type:"group",id:G.id,icon:G.icon,label:G.title,parent:G.in},classes:"node-group"})})}function Ct(p,S){p.forEach(G=>{const{lhsId:W,rhsId:tt,lhsInto:Q,lhsGroup:ut,rhsInto:ht,lhsDir:mt,rhsDir:rt,rhsGroup:it,title:lt}=G,M=q(G.lhsDir,G.rhsDir)?"segments":"straight";S.add({group:"edges",data:{id:`${W}-${tt}`,label:lt,source:W,sourceDir:mt,sourceArrow:Q,sourceGroup:ut,sourceEndpoint:"L"===mt?"0 50%":"R"===mt?"100% 50%":"T"===mt?"50% 0":"50% 100%",target:tt,targetDir:rt,targetArrow:ht,targetGroup:it,targetEndpoint:"L"===rt?"0 50%":"R"===rt?"100% 50%":"T"===rt?"50% 0":"50% 100%"},classes:M})})}function _(p,S,G){const W=(0,t.K2)((ht,mt)=>Object.entries(ht).reduce((rt,[it,lt])=>{let M=0;const D=Object.entries(lt);if(1===D.length)return rt[it]=D[0][1],rt;for(let x=0;x<D.length-1;x++)for(let Y=x+1;Y<D.length;Y++){const[b,Z]=D[x],[vt,nt]=D[Y];G[b]?.[vt]===mt||"default"===b||"default"===vt?(rt[it]??=[],rt[it]=[...rt[it],...Z,...nt]):(rt[`${it}-${M++}`]=Z,rt[`${it}-${M++}`]=nt)}return rt},{}),"flattenAlignments"),tt=S.map(ht=>{const mt={},rt={};return Object.entries(ht).forEach(([it,[lt,M]])=>{const D=p.getNode(it)?.in??"default";mt[M]??={},mt[M][D]??=[],mt[M][D].push(it),rt[lt]??={},rt[lt][D]??=[],rt[lt][D].push(it)}),{horiz:Object.values(W(mt,"horizontal")).filter(it=>it.length>1),vert:Object.values(W(rt,"vertical")).filter(it=>it.length>1)}}),[Q,ut]=tt.reduce(([ht,mt],{horiz:rt,vert:it})=>[[...ht,...rt],[...mt,...it]],[[],[]]);return{horizontal:Q,vertical:ut}}function bt(p,S){const G=[],W=(0,t.K2)(Q=>`${Q[0]},${Q[1]}`,"posToStr"),tt=(0,t.K2)(Q=>Q.split(",").map(ut=>parseInt(ut)),"strToPos");return p.forEach(Q=>{const ut=Object.fromEntries(Object.entries(Q).map(([it,lt])=>[W(lt),it])),ht=[W([0,0])],mt={},rt={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;ht.length>0;){const it=ht.shift();if(it){mt[it]=1;const lt=ut[it];if(lt){const M=tt(it);Object.entries(rt).forEach(([D,x])=>{const Y=W([M[0]+x[0],M[1]+x[1]]),b=ut[Y];b&&!mt[Y]&&(ht.push(Y),G.push({[c[D]]:b,[c[A(D)]]:lt,gap:1.5*S.getConfigField("iconSize")}))})}}}}),G}function Rt(p,S,G,W,tt,{spatialMaps:Q,groupAlignments:ut}){return new Promise(ht=>{const mt=(0,l.Ltv)("body").append("div").attr("id","cy").attr("style","display:none"),rt=(0,e.A)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${tt.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${tt.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});mt.remove(),at(G,rt),C(p,rt,tt),B(S,rt,tt),Ct(W,rt);const it=_(tt,Q,ut),lt=bt(Q,tt),M=rt.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(D){const[x,Y]=D.connectedNodes(),{parent:b}=s(x),{parent:Z}=s(Y);return b===Z?1.5*tt.getConfigField("iconSize"):.5*tt.getConfigField("iconSize")},edgeElasticity(D){const[x,Y]=D.connectedNodes(),{parent:b}=s(x),{parent:Z}=s(Y);return b===Z?.45:.001},alignmentConstraint:it,relativePlacementConstraint:lt});M.one("layoutstop",()=>{function D(x,Y,b,Z){let vt,nt;const{x:V,y:$}=x,{x:pt,y:Mt}=Y;nt=(Z-$+(V-b)*($-Mt)/(V-pt))/Math.sqrt(1+Math.pow(($-Mt)/(V-pt),2)),vt=Math.sqrt(Math.pow(Z-$,2)+Math.pow(b-V,2)-Math.pow(nt,2)),vt/=Math.sqrt(Math.pow(pt-V,2)+Math.pow(Mt-$,2));let Dt=(pt-V)*(Z-$)-(Mt-$)*(b-V);switch(!0){case Dt>=0:Dt=1;break;case Dt<0:Dt=-1}let yt=(pt-V)*(b-V)+(Mt-$)*(Z-$);switch(!0){case yt>=0:yt=1;break;case yt<0:yt=-1}return nt=Math.abs(nt)*Dt,vt*=yt,{distances:nt,weights:vt}}(0,t.K2)(D,"getSegmentWeights"),rt.startBatch();for(const x of Object.values(rt.edges()))if(x.data?.()){const{x:Y,y:b}=x.source().position(),{x:Z,y:vt}=x.target().position();if(Y!==Z&&b!==vt){const nt=x.sourceEndpoint(),V=x.targetEndpoint(),{sourceDir:$}=m(x),[pt,Mt]=O($)?[nt.x,V.y]:[V.x,nt.y],{weights:At,distances:Dt}=D(nt,V,pt,Mt);x.style("segment-distances",Dt),x.style("segment-weights",At)}}rt.endBatch(),M.run()}),M.run(),rt.ready(D=>{t.Rm.info("Ready",D),ht(rt)})})}(0,n.pC)([{name:k.prefix,icons:k}]),e.A.use(r),(0,t.K2)(C,"addServices"),(0,t.K2)(B,"addJunctions"),(0,t.K2)(K,"positionNodes"),(0,t.K2)(at,"addGroups"),(0,t.K2)(Ct,"addEdges"),(0,t.K2)(_,"getAlignments"),(0,t.K2)(bt,"getRelativeConstraints"),(0,t.K2)(Rt,"layoutArchitecture");var Ut={draw:(0,t.K2)(function(){var p=(0,F.A)(function*(S,G,W,tt){const Q=tt.db,ut=Q.getServices(),ht=Q.getJunctions(),mt=Q.getGroups(),rt=Q.getEdges(),it=Q.getDataStructures(),lt=(0,h.D)(G),M=lt.append("g");M.attr("class","architecture-edges");const D=lt.append("g");D.attr("class","architecture-services");const x=lt.append("g");x.attr("class","architecture-groups"),yield st(Q,D,ut),j(Q,D,ht);const Y=yield Rt(ut,ht,mt,rt,Q,it);yield ot(M,Y,Q),yield z(x,Y,Q),K(Q,Y),(0,d.ot)(void 0,lt,Q.getConfigField("padding"),Q.getConfigField("useMaxWidth"))});return function(S,G,W,tt){return p.apply(this,arguments)}}(),"draw")},dt={parser:w,get db(){return new v},renderer:Ut,styles:X}},3545:function(kt){kt.exports=function(ct){var Lt={};function F(E){if(Lt[E])return Lt[E].exports;var h=Lt[E]={i:E,l:!1,exports:{}};return ct[E].call(h.exports,h,h.exports,F),h.l=!0,h.exports}return F.m=ct,F.c=Lt,F.i=function(E){return E},F.d=function(E,h,n){F.o(E,h)||Object.defineProperty(E,h,{configurable:!1,enumerable:!0,get:n})},F.n=function(E){var h=E&&E.__esModule?function(){return E.default}:function(){return E};return F.d(h,"a",h),h},F.o=function(E,h){return Object.prototype.hasOwnProperty.call(E,h)},F.p="",F(F.s=28)}([function(ct,Lt,F){"use strict";function E(){}E.QUALITY=1,E.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,E.DEFAULT_INCREMENTAL=!1,E.DEFAULT_ANIMATION_ON_LAYOUT=!0,E.DEFAULT_ANIMATION_DURING_LAYOUT=!1,E.DEFAULT_ANIMATION_PERIOD=50,E.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,E.DEFAULT_GRAPH_MARGIN=15,E.NODE_DIMENSIONS_INCLUDE_LABELS=!1,E.SIMPLE_NODE_HALF_SIZE=(E.SIMPLE_NODE_SIZE=40)/2,E.EMPTY_COMPOUND_NODE_SIZE=40,E.MIN_EDGE_LENGTH=1,E.INITIAL_WORLD_BOUNDARY=(E.WORLD_BOUNDARY=1e6)/1e3,E.WORLD_CENTER_X=1200,E.WORLD_CENTER_Y=900,ct.exports=E},function(ct,Lt,F){"use strict";var E=F(2),h=F(8),n=F(9);function i(d,t,g){E.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=t}for(var o in i.prototype=Object.create(E.prototype),E)i[o]=E[o];i.prototype.getSource=function(){return this.source},i.prototype.getTarget=function(){return this.target},i.prototype.isInterGraph=function(){return this.isInterGraph},i.prototype.getLength=function(){return this.length},i.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},i.prototype.getBendpoints=function(){return this.bendpoints},i.prototype.getLca=function(){return this.lca},i.prototype.getSourceInLca=function(){return this.sourceInLca},i.prototype.getTargetInLca=function(){return this.targetInLca},i.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},i.prototype.getOtherEndInGraph=function(d,t){for(var g=this.getOtherEnd(d),e=t.getGraphManager().getRoot();;){if(g.getOwner()==t)return g;if(g.getOwner()==e)break;g=g.getOwner().getParent()}return null},i.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=h.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=n.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=n.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},i.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=n.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=n.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},ct.exports=i},function(ct,Lt,F){"use strict";ct.exports=function E(h){this.vGraphObject=h}},function(ct,Lt,F){"use strict";var E=F(2),h=F(10),n=F(13),i=F(0),o=F(16),d=F(5);function t(e,r,l,u){null==l&&null==u&&(u=r),E.call(this,u),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=h.MIN_VALUE,this.inclusionTreeDepth=h.MAX_VALUE,this.vGraphObject=u,this.edges=[],this.graphManager=e,this.rect=null!=l&&null!=r?new n(r.x,r.y,l.width,l.height):new n}for(var g in t.prototype=Object.create(E.prototype),E)t[g]=E[g];t.prototype.getEdges=function(){return this.edges},t.prototype.getChild=function(){return this.child},t.prototype.getOwner=function(){return this.owner},t.prototype.getWidth=function(){return this.rect.width},t.prototype.setWidth=function(e){this.rect.width=e},t.prototype.getHeight=function(){return this.rect.height},t.prototype.setHeight=function(e){this.rect.height=e},t.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},t.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},t.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},t.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},t.prototype.getRect=function(){return this.rect},t.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},t.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},t.prototype.setRect=function(e,r){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=r.width,this.rect.height=r.height},t.prototype.setCenter=function(e,r){this.rect.x=e-this.rect.width/2,this.rect.y=r-this.rect.height/2},t.prototype.setLocation=function(e,r){this.rect.x=e,this.rect.y=r},t.prototype.moveBy=function(e,r){this.rect.x+=e,this.rect.y+=r},t.prototype.getEdgeListToNode=function(e){var r=[],u=this;return u.edges.forEach(function(c){if(c.target==e){if(c.source!=u)throw"Incorrect edge source!";r.push(c)}}),r},t.prototype.getEdgesBetween=function(e){var r=[],u=this;return u.edges.forEach(function(c){if(c.source!=u&&c.target!=u)throw"Incorrect edge source and/or target";(c.target==e||c.source==e)&&r.push(c)}),r},t.prototype.getNeighborsList=function(){var e=new Set,r=this;return r.edges.forEach(function(l){if(l.source==r)e.add(l.target);else{if(l.target!=r)throw"Incorrect incidency!";e.add(l.source)}}),e},t.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var u=this.child.getNodes(),c=0;c<u.length;c++)u[c].withChildren().forEach(function(T){e.add(T)});return e},t.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var l=this.child.getNodes(),u=0;u<l.length;u++)e+=l[u].getNoOfChildren();return 0==e&&(e=1),e},t.prototype.getEstimatedSize=function(){if(this.estimatedSize==h.MIN_VALUE)throw"assert failed";return this.estimatedSize},t.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},t.prototype.scatter=function(){var e,r,l=-i.INITIAL_WORLD_BOUNDARY,u=i.INITIAL_WORLD_BOUNDARY;e=i.WORLD_CENTER_X+o.nextDouble()*(u-l)+l;var c=-i.INITIAL_WORLD_BOUNDARY,T=i.INITIAL_WORLD_BOUNDARY;r=i.WORLD_CENTER_Y+o.nextDouble()*(T-c)+c,this.rect.x=e,this.rect.y=r},t.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),i.NODE_DIMENSIONS_INCLUDE_LABELS){var r=e.getRight()-e.getLeft(),l=e.getBottom()-e.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(r+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>r?(this.rect.x-=(this.labelWidth-r)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(r+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(l+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>l?(this.rect.y-=(this.labelHeight-l)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(l+this.labelHeight))}}},t.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==h.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},t.prototype.transform=function(e){var r=this.rect.x;r>i.WORLD_BOUNDARY?r=i.WORLD_BOUNDARY:r<-i.WORLD_BOUNDARY&&(r=-i.WORLD_BOUNDARY);var l=this.rect.y;l>i.WORLD_BOUNDARY?l=i.WORLD_BOUNDARY:l<-i.WORLD_BOUNDARY&&(l=-i.WORLD_BOUNDARY);var u=new d(r,l),c=e.inverseTransformPoint(u);this.setLocation(c.x,c.y)},t.prototype.getLeft=function(){return this.rect.x},t.prototype.getRight=function(){return this.rect.x+this.rect.width},t.prototype.getTop=function(){return this.rect.y},t.prototype.getBottom=function(){return this.rect.y+this.rect.height},t.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},ct.exports=t},function(ct,Lt,F){"use strict";var E=F(0);function h(){}for(var n in E)h[n]=E[n];h.MAX_ITERATIONS=2500,h.DEFAULT_EDGE_LENGTH=50,h.DEFAULT_SPRING_STRENGTH=.45,h.DEFAULT_REPULSION_STRENGTH=4500,h.DEFAULT_GRAVITY_STRENGTH=.4,h.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,h.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,h.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,h.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,h.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,h.COOLING_ADAPTATION_FACTOR=.33,h.ADAPTATION_LOWER_NODE_LIMIT=1e3,h.ADAPTATION_UPPER_NODE_LIMIT=5e3,h.MAX_NODE_DISPLACEMENT=3*(h.MAX_NODE_DISPLACEMENT_INCREMENTAL=100),h.MIN_REPULSION_DIST=h.DEFAULT_EDGE_LENGTH/10,h.CONVERGENCE_CHECK_PERIOD=100,h.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,h.MIN_EDGE_LENGTH=1,h.GRID_CALCULATION_CHECK_PERIOD=10,ct.exports=h},function(ct,Lt,F){"use strict";function E(h,n){null==h&&null==n?(this.x=0,this.y=0):(this.x=h,this.y=n)}E.prototype.getX=function(){return this.x},E.prototype.getY=function(){return this.y},E.prototype.setX=function(h){this.x=h},E.prototype.setY=function(h){this.y=h},E.prototype.getDifference=function(h){return new DimensionD(this.x-h.x,this.y-h.y)},E.prototype.getCopy=function(){return new E(this.x,this.y)},E.prototype.translate=function(h){return this.x+=h.width,this.y+=h.height,this},ct.exports=E},function(ct,Lt,F){"use strict";var E=F(2),h=F(10),n=F(0),i=F(7),o=F(3),d=F(1),t=F(13),g=F(12),e=F(11);function r(u,c,T){E.call(this,T),this.estimatedSize=h.MIN_VALUE,this.margin=n.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=u,null!=c&&c instanceof i?this.graphManager=c:null!=c&&c instanceof Layout&&(this.graphManager=c.graphManager)}for(var l in r.prototype=Object.create(E.prototype),E)r[l]=E[l];r.prototype.getNodes=function(){return this.nodes},r.prototype.getEdges=function(){return this.edges},r.prototype.getGraphManager=function(){return this.graphManager},r.prototype.getParent=function(){return this.parent},r.prototype.getLeft=function(){return this.left},r.prototype.getRight=function(){return this.right},r.prototype.getTop=function(){return this.top},r.prototype.getBottom=function(){return this.bottom},r.prototype.isConnected=function(){return this.isConnected},r.prototype.add=function(u,c,T){if(null==c&&null==T){var f=u;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(f)>-1)throw"Node already in graph!";return f.owner=this,this.getNodes().push(f),f}var A=u;if(!(this.getNodes().indexOf(c)>-1&&this.getNodes().indexOf(T)>-1))throw"Source or target not in graph!";if(c.owner!=T.owner||c.owner!=this)throw"Both owners must be this graph!";return c.owner!=T.owner?null:(A.source=c,A.target=T,A.isInterGraph=!1,this.getEdges().push(A),c.edges.push(A),T!=c&&T.edges.push(A),A)},r.prototype.remove=function(u){var c=u;if(u instanceof o){if(null==c)throw"Node is null!";if(null==c.owner||c.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var T=c.edges.slice(),A=T.length,L=0;L<A;L++)(f=T[L]).isInterGraph?this.graphManager.remove(f):f.source.owner.remove(f);if(-1==(N=this.nodes.indexOf(c)))throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(u instanceof d){var f;if(null==(f=u))throw"Edge is null!";if(null==f.source||null==f.target)throw"Source and/or target is null!";if(null==f.source.owner||null==f.target.owner||f.source.owner!=this||f.target.owner!=this)throw"Source and/or target owner is invalid!";var N,O=f.source.edges.indexOf(f),q=f.target.edges.indexOf(f);if(!(O>-1&&q>-1))throw"Source and/or target doesn't know this edge!";if(f.source.edges.splice(O,1),f.target!=f.source&&f.target.edges.splice(q,1),-1==(N=f.source.owner.getEdges().indexOf(f)))throw"Not in owner's edge list!";f.source.owner.getEdges().splice(N,1)}},r.prototype.updateLeftTop=function(){for(var T,f,A,u=h.MAX_VALUE,c=h.MAX_VALUE,L=this.getNodes(),N=L.length,O=0;O<N;O++){var q=L[O];u>(T=q.getTop())&&(u=T),c>(f=q.getLeft())&&(c=f)}return u==h.MAX_VALUE?null:(A=null!=L[0].getParent().paddingLeft?L[0].getParent().paddingLeft:this.margin,this.left=c-A,this.top=u-A,new g(this.left,this.top))},r.prototype.updateBounds=function(u){for(var L,N,O,q,I,c=h.MAX_VALUE,T=-h.MAX_VALUE,f=h.MAX_VALUE,A=-h.MAX_VALUE,et=this.nodes,gt=et.length,ft=0;ft<gt;ft++){var wt=et[ft];u&&null!=wt.child&&wt.updateBounds(),c>(L=wt.getLeft())&&(c=L),T<(N=wt.getRight())&&(T=N),f>(O=wt.getTop())&&(f=O),A<(q=wt.getBottom())&&(A=q)}var U=new t(c,f,T-c,A-f);c==h.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),I=null!=et[0].getParent().paddingLeft?et[0].getParent().paddingLeft:this.margin,this.left=U.x-I,this.right=U.x+U.width+I,this.top=U.y-I,this.bottom=U.y+U.height+I},r.calculateBounds=function(u){for(var L,N,O,q,c=h.MAX_VALUE,T=-h.MAX_VALUE,f=h.MAX_VALUE,A=-h.MAX_VALUE,I=u.length,et=0;et<I;et++){var gt=u[et];c>(L=gt.getLeft())&&(c=L),T<(N=gt.getRight())&&(T=N),f>(O=gt.getTop())&&(f=O),A<(q=gt.getBottom())&&(A=q)}return new t(c,f,T-c,A-f)},r.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==h.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){for(var u=0,c=this.nodes,T=c.length,f=0;f<T;f++)u+=c[f].calcEstimatedSize();return this.estimatedSize=0==u?n.EMPTY_COMPOUND_NODE_SIZE:u/Math.sqrt(this.nodes.length),this.estimatedSize},r.prototype.updateConnected=function(){var u=this;if(0!=this.nodes.length){var A,L,c=new e,T=new Set,f=this.nodes[0];for(f.withChildren().forEach(function(ft){c.push(ft),T.add(ft)});0!==c.length;)for(var O=(A=(f=c.shift()).getEdges()).length,q=0;q<O;q++)null==(L=A[q].getOtherEndInGraph(f,this))||T.has(L)||L.withChildren().forEach(function(ft){c.push(ft),T.add(ft)});if(this.isConnected=!1,T.size>=this.nodes.length){var gt=0;T.forEach(function(ft){ft.owner==u&&gt++}),gt==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},ct.exports=r},function(ct,Lt,F){"use strict";var E,h=F(1);function n(i){E=F(6),this.layout=i,this.graphs=[],this.edges=[]}n.prototype.addRoot=function(){var i=this.layout.newGraph(),o=this.layout.newNode(null),d=this.add(i,o);return this.setRootGraph(d),this.rootGraph},n.prototype.add=function(i,o,d,t,g){if(null==d&&null==t&&null==g){if(null==i)throw"Graph is null!";if(null==o)throw"Parent node is null!";if(this.graphs.indexOf(i)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(i),null!=i.parent)throw"Already has a parent!";if(null!=o.child)throw"Already has a child!";return i.parent=o,o.child=i,i}g=d,d=i;var e=(t=o).getOwner(),r=g.getOwner();if(null==e||e.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==r||r.getGraphManager()!=this)throw"Target not in this graph mgr!";if(e==r)return d.isInterGraph=!1,e.add(d,t,g);if(d.isInterGraph=!0,d.source=t,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),null==d.source||null==d.target)throw"Edge source and/or target is null!";if(-1!=d.source.edges.indexOf(d)||-1!=d.target.edges.indexOf(d))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d},n.prototype.remove=function(i){if(i instanceof E){var o=i;if(o.getGraphManager()!=this)throw"Graph not in this graph mgr";if(o!=this.rootGraph&&(null==o.parent||o.parent.graphManager!=this))throw"Invalid parent node!";for(var t,d=[],g=(d=d.concat(o.getEdges())).length,e=0;e<g;e++)o.remove(t=d[e]);var r=[];for(g=(r=r.concat(o.getNodes())).length,e=0;e<g;e++)o.remove(r[e]);o==this.rootGraph&&this.setRootGraph(null);var u=this.graphs.indexOf(o);this.graphs.splice(u,1),o.parent=null}else if(i instanceof h){if(null==(t=i))throw"Edge is null!";if(!t.isInterGraph)throw"Not an inter-graph edge!";if(null==t.source||null==t.target)throw"Source and/or target is null!";if(-1==t.source.edges.indexOf(t)||-1==t.target.edges.indexOf(t))throw"Source and/or target doesn't know this edge!";if(u=t.source.edges.indexOf(t),t.source.edges.splice(u,1),u=t.target.edges.indexOf(t),t.target.edges.splice(u,1),null==t.source.owner||null==t.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==t.source.owner.getGraphManager().edges.indexOf(t))throw"Not in owner graph manager's edge list!";u=t.source.owner.getGraphManager().edges.indexOf(t),t.source.owner.getGraphManager().edges.splice(u,1)}},n.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},n.prototype.getGraphs=function(){return this.graphs},n.prototype.getAllNodes=function(){if(null==this.allNodes){for(var i=[],o=this.getGraphs(),d=o.length,t=0;t<d;t++)i=i.concat(o[t].getNodes());this.allNodes=i}return this.allNodes},n.prototype.resetAllNodes=function(){this.allNodes=null},n.prototype.resetAllEdges=function(){this.allEdges=null},n.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},n.prototype.getAllEdges=function(){if(null==this.allEdges){for(var i=[],o=this.getGraphs(),t=0;t<o.length;t++)i=i.concat(o[t].getEdges());i=i.concat(this.edges),this.allEdges=i}return this.allEdges},n.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},n.prototype.setAllNodesToApplyGravitation=function(i){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=i},n.prototype.getRoot=function(){return this.rootGraph},n.prototype.setRootGraph=function(i){if(i.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=i,null==i.parent&&(i.parent=this.layout.newNode("Root node"))},n.prototype.getLayout=function(){return this.layout},n.prototype.isOneAncestorOfOther=function(i,o){if(null==i||null==o)throw"assert failed";if(i==o)return!0;for(var t,d=i.getOwner();null!=(t=d.getParent());){if(t==o)return!0;if(null==(d=t.getOwner()))break}for(d=o.getOwner();null!=(t=d.getParent());){if(t==i)return!0;if(null==(d=t.getOwner()))break}return!1},n.prototype.calcLowestCommonAncestors=function(){for(var i,o,d,t,g,e=this.getAllEdges(),r=e.length,l=0;l<r;l++)if(o=(i=e[l]).source,d=i.target,i.lca=null,i.sourceInLca=o,i.targetInLca=d,o!=d){for(t=o.getOwner();null==i.lca;){for(i.targetInLca=d,g=d.getOwner();null==i.lca;){if(g==t){i.lca=g;break}if(g==this.rootGraph)break;if(null!=i.lca)throw"assert failed";i.targetInLca=g.getParent(),g=i.targetInLca.getOwner()}if(t==this.rootGraph)break;null==i.lca&&(i.sourceInLca=t.getParent(),t=i.sourceInLca.getOwner())}if(null==i.lca)throw"assert failed"}else i.lca=o.getOwner()},n.prototype.calcLowestCommonAncestor=function(i,o){if(i==o)return i.getOwner();for(var d=i.getOwner();null!=d;){for(var t=o.getOwner();null!=t;){if(t==d)return t;t=t.getParent().getOwner()}d=d.getParent().getOwner()}return d},n.prototype.calcInclusionTreeDepths=function(i,o){null==i&&null==o&&(i=this.rootGraph,o=1);for(var d,t=i.getNodes(),g=t.length,e=0;e<g;e++)(d=t[e]).inclusionTreeDepth=o,null!=d.child&&this.calcInclusionTreeDepths(d.child,o+1)},n.prototype.includesInvalidEdge=function(){for(var i,o=[],d=this.edges.length,t=0;t<d;t++)this.isOneAncestorOfOther((i=this.edges[t]).source,i.target)&&o.push(i);for(t=0;t<o.length;t++)this.remove(o[t]);return!1},ct.exports=n},function(ct,Lt,F){"use strict";var E=F(12);function h(){}h.calcSeparationAmount=function(n,i,o,d){if(!n.intersects(i))throw"assert failed";var t=new Array(2);this.decideDirectionsForOverlappingNodes(n,i,t),o[0]=Math.min(n.getRight(),i.getRight())-Math.max(n.x,i.x),o[1]=Math.min(n.getBottom(),i.getBottom())-Math.max(n.y,i.y),n.getX()<=i.getX()&&n.getRight()>=i.getRight()?o[0]+=Math.min(i.getX()-n.getX(),n.getRight()-i.getRight()):i.getX()<=n.getX()&&i.getRight()>=n.getRight()&&(o[0]+=Math.min(n.getX()-i.getX(),i.getRight()-n.getRight())),n.getY()<=i.getY()&&n.getBottom()>=i.getBottom()?o[1]+=Math.min(i.getY()-n.getY(),n.getBottom()-i.getBottom()):i.getY()<=n.getY()&&i.getBottom()>=n.getBottom()&&(o[1]+=Math.min(n.getY()-i.getY(),i.getBottom()-n.getBottom()));var g=Math.abs((i.getCenterY()-n.getCenterY())/(i.getCenterX()-n.getCenterX()));i.getCenterY()===n.getCenterY()&&i.getCenterX()===n.getCenterX()&&(g=1);var e=g*o[0],r=o[1]/g;o[0]<r?r=o[0]:e=o[1],o[0]=-1*t[0]*(r/2+d),o[1]=-1*t[1]*(e/2+d)},h.decideDirectionsForOverlappingNodes=function(n,i,o){o[0]=n.getCenterX()<i.getCenterX()?-1:1,o[1]=n.getCenterY()<i.getCenterY()?-1:1},h.getIntersection2=function(n,i,o){var d=n.getCenterX(),t=n.getCenterY(),g=i.getCenterX(),e=i.getCenterY();if(n.intersects(i))return o[0]=d,o[1]=t,o[2]=g,o[3]=e,!0;var r=n.getX(),l=n.getY(),u=n.getRight(),c=n.getX(),T=n.getBottom(),f=n.getRight(),A=n.getWidthHalf(),L=n.getHeightHalf(),N=i.getX(),O=i.getY(),q=i.getRight(),I=i.getX(),et=i.getBottom(),gt=i.getRight(),ft=i.getWidthHalf(),wt=i.getHeightHalf(),U=!1,J=!1;if(d===g){if(t>e)return o[0]=d,o[1]=l,o[2]=g,o[3]=et,!1;if(t<e)return o[0]=d,o[1]=T,o[2]=g,o[3]=O,!1}else if(t===e){if(d>g)return o[0]=r,o[1]=t,o[2]=q,o[3]=e,!1;if(d<g)return o[0]=u,o[1]=t,o[2]=N,o[3]=e,!1}else{var a=n.height/n.width,m=i.height/i.width,s=(e-t)/(g-d),y=void 0,v=void 0,w=void 0,X=void 0;if(-a===s?d>g?(o[0]=c,o[1]=T,U=!0):(o[0]=u,o[1]=l,U=!0):a===s&&(d>g?(o[0]=r,o[1]=l,U=!0):(o[0]=f,o[1]=T,U=!0)),-m===s?g>d?(o[2]=I,o[3]=et,J=!0):(o[2]=q,o[3]=O,J=!0):m===s&&(g>d?(o[2]=N,o[3]=O,J=!0):(o[2]=gt,o[3]=et,J=!0)),U&&J)return!1;if(d>g?t>e?(y=this.getCardinalDirection(a,s,4),v=this.getCardinalDirection(m,s,2)):(y=this.getCardinalDirection(-a,s,3),v=this.getCardinalDirection(-m,s,1)):t>e?(y=this.getCardinalDirection(-a,s,1),v=this.getCardinalDirection(-m,s,3)):(y=this.getCardinalDirection(a,s,2),v=this.getCardinalDirection(m,s,4)),!U)switch(y){case 1:w=l,o[0]=d+-L/s,o[1]=w;break;case 2:w=t+A*s,o[0]=f,o[1]=w;break;case 3:w=T,o[0]=d+L/s,o[1]=w;break;case 4:w=t+-A*s,o[0]=c,o[1]=w}if(!J)switch(v){case 1:X=O,o[2]=g+-wt/s,o[3]=X;break;case 2:X=e+ft*s,o[2]=gt,o[3]=X;break;case 3:X=et,o[2]=g+wt/s,o[3]=X;break;case 4:X=e+-ft*s,o[2]=I,o[3]=X}}return!1},h.getCardinalDirection=function(n,i,o){return n>i?o:1+o%4},h.getIntersection=function(n,i,o,d){if(null==d)return this.getIntersection2(n,i,o);var L,N,O,q,I,et,gt,t=n.x,g=n.y,e=i.x,r=i.y,l=o.x,u=o.y,c=d.x,T=d.y;return I=e*g-t*r,et=c*u-l*T,0===(gt=(L=r-g)*(q=l-c)-(N=T-u)*(O=t-e))?null:new E((O*et-q*I)/gt,(N*I-L*et)/gt)},h.angleOfVector=function(n,i,o,d){var t=void 0;return n!==o?(t=Math.atan((d-i)/(o-n)),o<n?t+=Math.PI:d<i&&(t+=this.TWO_PI)):t=d<i?this.ONE_AND_HALF_PI:this.HALF_PI,t},h.doIntersect=function(n,i,o,d){var t=n.x,g=n.y,e=i.x,r=i.y,l=o.x,u=o.y,c=d.x,T=d.y,f=(e-t)*(T-u)-(c-l)*(r-g);if(0===f)return!1;var A=((T-u)*(c-t)+(l-c)*(T-g))/f,L=((g-r)*(c-t)+(e-t)*(T-g))/f;return 0<A&&A<1&&0<L&&L<1},h.findCircleLineIntersections=function(n,i,o,d,t,g,e){var r=(o-n)*(o-n)+(d-i)*(d-i),l=2*((n-t)*(o-n)+(i-g)*(d-i)),u=(n-t)*(n-t)+(i-g)*(i-g)-e*e;if(l*l-4*r*u>=0){var T=(-l+Math.sqrt(l*l-4*r*u))/(2*r),f=(-l-Math.sqrt(l*l-4*r*u))/(2*r);return T>=0&&T<=1?[T]:f>=0&&f<=1?[f]:null}return null},h.HALF_PI=.5*Math.PI,h.ONE_AND_HALF_PI=1.5*Math.PI,h.TWO_PI=2*Math.PI,h.THREE_PI=3*Math.PI,ct.exports=h},function(ct,Lt,F){"use strict";function E(){}E.sign=function(h){return h>0?1:h<0?-1:0},E.floor=function(h){return h<0?Math.ceil(h):Math.floor(h)},E.ceil=function(h){return h<0?Math.floor(h):Math.ceil(h)},ct.exports=E},function(ct,Lt,F){"use strict";function E(){}E.MAX_VALUE=2147483647,E.MIN_VALUE=-2147483648,ct.exports=E},function(ct,Lt,F){"use strict";var E=function(){function t(g,e){for(var r=0;r<e.length;r++){var l=e[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(g,l.key,l)}}return function(g,e,r){return e&&t(g.prototype,e),r&&t(g,r),g}}();var n=function(g){return{value:g,next:null,prev:null}},i=function(g,e,r,l){return null!==g?g.next=e:l.head=e,null!==r?r.prev=e:l.tail=e,e.prev=g,e.next=r,l.length++,e},o=function(g,e){var r=g.prev,l=g.next;return null!==r?r.next=l:e.head=l,null!==l?l.prev=r:e.tail=r,g.prev=g.next=null,e.length--,g},d=function(){function t(g){var e=this;(function h(t,g){if(!(t instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),this.length=0,this.head=null,this.tail=null,g?.forEach(function(r){return e.push(r)})}return E(t,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,r){return i(r.prev,n(e),r,this)}},{key:"insertAfter",value:function(e,r){return i(r,n(e),r.next,this)}},{key:"insertNodeBefore",value:function(e,r){return i(r.prev,e,r,this)}},{key:"insertNodeAfter",value:function(e,r){return i(r,e,r.next,this)}},{key:"push",value:function(e){return i(this.tail,n(e),null,this)}},{key:"unshift",value:function(e){return i(null,n(e),this.head,this)}},{key:"remove",value:function(e){return o(e,this)}},{key:"pop",value:function(){return o(this.tail,this).value}},{key:"popNode",value:function(){return o(this.tail,this)}},{key:"shift",value:function(){return o(this.head,this).value}},{key:"shiftNode",value:function(){return o(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var r=1,l=this.head;r<e;)l=l.next,r++;return l.value}}},{key:"set_object_at",value:function(e,r){if(e<=this.length()){for(var l=1,u=this.head;l<e;)u=u.next,l++;u.value=r}}}]),t}();ct.exports=d},function(ct,Lt,F){"use strict";function E(h,n,i){this.x=null,this.y=null,null==h&&null==n&&null==i?(this.x=0,this.y=0):"number"==typeof h&&"number"==typeof n&&null==i?(this.x=h,this.y=n):"Point"==h.constructor.name&&null==n&&null==i&&(this.x=(i=h).x,this.y=i.y)}E.prototype.getX=function(){return this.x},E.prototype.getY=function(){return this.y},E.prototype.getLocation=function(){return new E(this.x,this.y)},E.prototype.setLocation=function(h,n,i){"Point"==h.constructor.name&&null==n&&null==i?this.setLocation((i=h).x,i.y):"number"==typeof h&&"number"==typeof n&&null==i&&(parseInt(h)==h&&parseInt(n)==n?this.move(h,n):(this.x=Math.floor(h+.5),this.y=Math.floor(n+.5)))},E.prototype.move=function(h,n){this.x=h,this.y=n},E.prototype.translate=function(h,n){this.x+=h,this.y+=n},E.prototype.equals=function(h){return"Point"==h.constructor.name?this.x==h.x&&this.y==h.y:this==h},E.prototype.toString=function(){return(new E).constructor.name+"[x="+this.x+",y="+this.y+"]"},ct.exports=E},function(ct,Lt,F){"use strict";function E(h,n,i,o){this.x=0,this.y=0,this.width=0,this.height=0,null!=h&&null!=n&&null!=i&&null!=o&&(this.x=h,this.y=n,this.width=i,this.height=o)}E.prototype.getX=function(){return this.x},E.prototype.setX=function(h){this.x=h},E.prototype.getY=function(){return this.y},E.prototype.setY=function(h){this.y=h},E.prototype.getWidth=function(){return this.width},E.prototype.setWidth=function(h){this.width=h},E.prototype.getHeight=function(){return this.height},E.prototype.setHeight=function(h){this.height=h},E.prototype.getRight=function(){return this.x+this.width},E.prototype.getBottom=function(){return this.y+this.height},E.prototype.intersects=function(h){return!(this.getRight()<h.x||this.getBottom()<h.y||h.getRight()<this.x||h.getBottom()<this.y)},E.prototype.getCenterX=function(){return this.x+this.width/2},E.prototype.getMinX=function(){return this.getX()},E.prototype.getMaxX=function(){return this.getX()+this.width},E.prototype.getCenterY=function(){return this.y+this.height/2},E.prototype.getMinY=function(){return this.getY()},E.prototype.getMaxY=function(){return this.getY()+this.height},E.prototype.getWidthHalf=function(){return this.width/2},E.prototype.getHeightHalf=function(){return this.height/2},ct.exports=E},function(ct,Lt,F){"use strict";var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function h(){}h.lastID=0,h.createID=function(n){return h.isPrimitive(n)?n:(null!=n.uniqueID||(n.uniqueID=h.getString(),h.lastID++),n.uniqueID)},h.getString=function(n){return null==n&&(n=h.lastID),"Object#"+n},h.isPrimitive=function(n){var i=typeof n>"u"?"undefined":E(n);return null==n||"object"!=i&&"function"!=i},ct.exports=h},function(ct,Lt,F){"use strict";function E(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}return Array.from(l)}var h=F(0),n=F(7),i=F(3),o=F(1),d=F(6),t=F(5),g=F(17),e=F(29);function r(l){e.call(this),this.layoutQuality=h.QUALITY,this.createBendsAsNeeded=h.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=h.DEFAULT_INCREMENTAL,this.animationOnLayout=h.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=h.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=h.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=h.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new n(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=l&&(this.isRemoteUse=l)}r.RANDOM_SEED=1,(r.prototype=Object.create(e.prototype)).getGraphManager=function(){return this.graphManager},r.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},r.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},r.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},r.prototype.newGraphManager=function(){var l=new n(this);return this.graphManager=l,l},r.prototype.newGraph=function(l){return new d(null,this.graphManager,l)},r.prototype.newNode=function(l){return new i(this.graphManager,l)},r.prototype.newEdge=function(l){return new o(null,null,l)},r.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},r.prototype.runLayout=function(){var l;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),l=!this.checkLayoutSuccess()&&this.layout(),"during"!==h.ANIMATE&&(l&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,l)},r.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},r.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var u=this.graphManager.getAllEdges(),c=0;c<u.length;c++);var f=this.graphManager.getRoot().getNodes();for(c=0;c<f.length;c++);this.update(this.graphManager.getRoot())}},r.prototype.update=function(l){if(null==l)this.update2();else if(l instanceof i){var u=l;if(null!=u.getChild())for(var c=u.getChild().getNodes(),T=0;T<c.length;T++)update(c[T]);null!=u.vGraphObject&&u.vGraphObject.update(u)}else l instanceof o?null!=l.vGraphObject&&l.vGraphObject.update(l):l instanceof d&&null!=l.vGraphObject&&l.vGraphObject.update(l)},r.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=h.QUALITY,this.animationDuringLayout=h.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=h.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=h.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=h.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=h.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=h.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},r.prototype.transform=function(l){if(null==l)this.transform(new t(0,0));else{var u=new g,c=this.graphManager.getRoot().updateLeftTop();if(null!=c){u.setWorldOrgX(l.x),u.setWorldOrgY(l.y),u.setDeviceOrgX(c.x),u.setDeviceOrgY(c.y);for(var T=this.getAllNodes(),A=0;A<T.length;A++)T[A].transform(u)}}},r.prototype.positionNodesRandomly=function(l){if(null==l)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var u,c,T=l.getNodes(),f=0;f<T.length;f++)null==(c=(u=T[f]).getChild())||0==c.getNodes().length?u.scatter():(this.positionNodesRandomly(c),u.updateBounds())},r.prototype.getFlatForest=function(){for(var l=[],u=!0,c=this.graphManager.getRoot().getNodes(),T=!0,f=0;f<c.length;f++)null!=c[f].getChild()&&(T=!1);if(!T)return l;var A=new Set,L=[],N=new Map,O=[];for(O=O.concat(c);O.length>0&&u;){for(L.push(O[0]);L.length>0&&u;){var q=L[0];L.splice(0,1),A.add(q);var I=q.getEdges();for(f=0;f<I.length;f++){var et=I[f].getOtherEnd(q);if(N.get(q)!=et){if(A.has(et)){u=!1;break}L.push(et),N.set(et,q)}}}if(u){var gt=[].concat(E(A));for(l.push(gt),f=0;f<gt.length;f++){var wt=O.indexOf(gt[f]);wt>-1&&O.splice(wt,1)}A=new Set,N=new Map}else l=[]}return l},r.prototype.createDummyNodesForBendpoints=function(l){for(var u=[],c=l.source,T=this.graphManager.calcLowestCommonAncestor(l.source,l.target),f=0;f<l.bendpoints.length;f++){var A=this.newNode(null);A.setRect(new Point(0,0),new Dimension(1,1)),T.add(A);var L=this.newEdge(null);this.graphManager.add(L,c,A),u.add(A),c=A}return L=this.newEdge(null),this.graphManager.add(L,c,l.target),this.edgeToDummyNodes.set(l,u),l.isInterGraph()?this.graphManager.remove(l):T.remove(l),u},r.prototype.createBendpointsFromDummyNodes=function(){var l=[];l=l.concat(this.graphManager.getAllEdges()),l=[].concat(E(this.edgeToDummyNodes.keys())).concat(l);for(var u=0;u<l.length;u++){var c=l[u];if(c.bendpoints.length>0){for(var T=this.edgeToDummyNodes.get(c),f=0;f<T.length;f++){var A=T[f],L=new t(A.getCenterX(),A.getCenterY()),N=c.bendpoints.get(f);N.x=L.x,N.y=L.y,A.getOwner().remove(A)}this.graphManager.add(c,c.source,c.target)}}},r.transform=function(l,u,c,T){if(null!=c&&null!=T){var f=u;return l<=50?f-=(u-u/c)/50*(50-l):f+=(u*T-u)/50*(l-50),f}var N,O;return l<=50?(N=9*u/500,O=u/10):(N=9*u/50,O=-8*u),N*l+O},r.findCenterOfTree=function(l){var u=[];u=u.concat(l);var c=[],T=new Map,f=!1,A=null;(1==u.length||2==u.length)&&(f=!0,A=u[0]);for(var L=0;L<u.length;L++){var O=(N=u[L]).getNeighborsList().size;T.set(N,N.getNeighborsList().size),1==O&&c.push(N)}var q=[];for(q=q.concat(c);!f;){var I=[];for(I=I.concat(q),q=[],L=0;L<u.length;L++){var N,et=u.indexOf(N=u[L]);et>=0&&u.splice(et,1),N.getNeighborsList().forEach(function(U){if(c.indexOf(U)<0){var a=T.get(U)-1;1==a&&q.push(U),T.set(U,a)}})}c=c.concat(q),(1==u.length||2==u.length)&&(f=!0,A=u[0])}return A},r.prototype.setGraphManager=function(l){this.graphManager=l},ct.exports=r},function(ct,Lt,F){"use strict";function E(){}E.seed=1,E.x=0,E.nextDouble=function(){return(E.x=1e4*Math.sin(E.seed++))-Math.floor(E.x)},ct.exports=E},function(ct,Lt,F){"use strict";var E=F(5);function h(n,i){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}h.prototype.getWorldOrgX=function(){return this.lworldOrgX},h.prototype.setWorldOrgX=function(n){this.lworldOrgX=n},h.prototype.getWorldOrgY=function(){return this.lworldOrgY},h.prototype.setWorldOrgY=function(n){this.lworldOrgY=n},h.prototype.getWorldExtX=function(){return this.lworldExtX},h.prototype.setWorldExtX=function(n){this.lworldExtX=n},h.prototype.getWorldExtY=function(){return this.lworldExtY},h.prototype.setWorldExtY=function(n){this.lworldExtY=n},h.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},h.prototype.setDeviceOrgX=function(n){this.ldeviceOrgX=n},h.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},h.prototype.setDeviceOrgY=function(n){this.ldeviceOrgY=n},h.prototype.getDeviceExtX=function(){return this.ldeviceExtX},h.prototype.setDeviceExtX=function(n){this.ldeviceExtX=n},h.prototype.getDeviceExtY=function(){return this.ldeviceExtY},h.prototype.setDeviceExtY=function(n){this.ldeviceExtY=n},h.prototype.transformX=function(n){var i=0,o=this.lworldExtX;return 0!=o&&(i=this.ldeviceOrgX+(n-this.lworldOrgX)*this.ldeviceExtX/o),i},h.prototype.transformY=function(n){var i=0,o=this.lworldExtY;return 0!=o&&(i=this.ldeviceOrgY+(n-this.lworldOrgY)*this.ldeviceExtY/o),i},h.prototype.inverseTransformX=function(n){var i=0,o=this.ldeviceExtX;return 0!=o&&(i=this.lworldOrgX+(n-this.ldeviceOrgX)*this.lworldExtX/o),i},h.prototype.inverseTransformY=function(n){var i=0,o=this.ldeviceExtY;return 0!=o&&(i=this.lworldOrgY+(n-this.ldeviceOrgY)*this.lworldExtY/o),i},h.prototype.inverseTransformPoint=function(n){return new E(this.inverseTransformX(n.x),this.inverseTransformY(n.y))},ct.exports=h},function(ct,Lt,F){"use strict";var h=F(15),n=F(4),i=F(0),o=F(8),d=F(9);function t(){h.call(this),this.useSmartIdealEdgeLengthCalculation=n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=n.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=n.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=n.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=n.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=n.MAX_ITERATIONS}for(var g in t.prototype=Object.create(h.prototype),h)t[g]=h[g];t.prototype.initParameters=function(){h.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},t.prototype.calcIdealEdgeLengths=function(){for(var e,r,l,u,c,T,f,A=this.getGraphManager().getAllEdges(),L=0;L<A.length;L++)r=(e=A[L]).idealLength,e.isInterGraph&&(u=e.getSource(),c=e.getTarget(),T=e.getSourceInLca().getEstimatedSize(),f=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=T+f-2*i.SIMPLE_NODE_SIZE),l=e.getLca().getInclusionTreeDepth(),e.idealLength+=r*n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(u.getInclusionTreeDepth()+c.getInclusionTreeDepth()-2*l))},t.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>n.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*n.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-n.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=e>n.ADAPTATION_LOWER_NODE_LIMIT?Math.max(n.COOLING_ADAPTATION_FACTOR,1-(e-n.ADAPTATION_LOWER_NODE_LIMIT)/(n.ADAPTATION_UPPER_NODE_LIMIT-n.ADAPTATION_LOWER_NODE_LIMIT)*(1-n.COOLING_ADAPTATION_FACTOR)):1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=n.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*n.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},t.prototype.calcSpringForces=function(){for(var r,e=this.getAllEdges(),l=0;l<e.length;l++)this.calcSpringForce(r=e[l],r.idealLength)},t.prototype.calcRepulsionForces=function(){var l,u,c,T,A,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&e&&this.updateGrid(),A=new Set,l=0;l<f.length;l++)this.calculateRepulsionForceOfANode(c=f[l],A,e,r),A.add(c);else for(l=0;l<f.length;l++)for(c=f[l],u=l+1;u<f.length;u++)T=f[u],c.getOwner()==T.getOwner()&&this.calcRepulsionForce(c,T)},t.prototype.calcGravitationalForces=function(){for(var r=this.getAllNodesToApplyGravitation(),l=0;l<r.length;l++)this.calcGravitationalForce(r[l])},t.prototype.moveNodes=function(){for(var e=this.getAllNodes(),l=0;l<e.length;l++)e[l].move()},t.prototype.calcSpringForce=function(e,r){var c,T,f,A,l=e.getSource(),u=e.getTarget();if(this.uniformLeafNodeSizes&&null==l.getChild()&&null==u.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(c=e.getLength())&&(A=(T=e.edgeElasticity*(c-r))*(e.lengthY/c),l.springForceX+=f=T*(e.lengthX/c),l.springForceY+=A,u.springForceX-=f,u.springForceY-=A)},t.prototype.calcRepulsionForce=function(e,r){var f,A,L,N,O,q,I,l=e.getRect(),u=r.getRect(),c=new Array(2),T=new Array(4);if(l.intersects(u)){o.calcSeparationAmount(l,u,c,n.DEFAULT_EDGE_LENGTH/2),I=2*c[1];var et=e.noOfChildren*r.noOfChildren/(e.noOfChildren+r.noOfChildren);e.repulsionForceX-=et*(q=2*c[0]),e.repulsionForceY-=et*I,r.repulsionForceX+=et*q,r.repulsionForceY+=et*I}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==r.getChild()?(f=u.getCenterX()-l.getCenterX(),A=u.getCenterY()-l.getCenterY()):(o.getIntersection(l,u,T),f=T[2]-T[0],A=T[3]-T[1]),Math.abs(f)<n.MIN_REPULSION_DIST&&(f=d.sign(f)*n.MIN_REPULSION_DIST),Math.abs(A)<n.MIN_REPULSION_DIST&&(A=d.sign(A)*n.MIN_REPULSION_DIST),L=f*f+A*A,N=Math.sqrt(L),I=(O=(e.nodeRepulsion/2+r.nodeRepulsion/2)*e.noOfChildren*r.noOfChildren/L)*A/N,e.repulsionForceX-=q=O*f/N,e.repulsionForceY-=I,r.repulsionForceX+=q,r.repulsionForceY+=I},t.prototype.calcGravitationalForce=function(e){var r,l,u,c,T,f,A,L;l=((r=e.getOwner()).getRight()+r.getLeft())/2,u=(r.getTop()+r.getBottom())/2,c=e.getCenterX()-l,T=e.getCenterY()-u,f=Math.abs(c)+e.getWidth()/2,A=Math.abs(T)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(f>(L=r.getEstimatedSize()*this.gravityRangeFactor)||A>L)&&(e.gravitationForceX=-this.gravityConstant*c,e.gravitationForceY=-this.gravityConstant*T):(f>(L=r.getEstimatedSize()*this.compoundGravityRangeFactor)||A>L)&&(e.gravitationForceX=-this.gravityConstant*c*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*T*this.compoundGravityConstant)},t.prototype.isConverged=function(){var e,r=!1;return this.totalIterations>this.maxIterations/3&&(r=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||r},t.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},t.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,r=this.graphManager.getAllNodes(),l=0;l<r.length;l++)(e=r[l]).noOfChildren=e.getNoOfChildren()},t.prototype.calcGrid=function(e){var r,l;r=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),l=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var u=new Array(r),c=0;c<r;c++)u[c]=new Array(l);for(c=0;c<r;c++)for(var T=0;T<l;T++)u[c][T]=new Array;return u},t.prototype.addNodeToGrid=function(e,r,l){var u,c,T,f;u=parseInt(Math.floor((e.getRect().x-r)/this.repulsionRange)),c=parseInt(Math.floor((e.getRect().width+e.getRect().x-r)/this.repulsionRange)),T=parseInt(Math.floor((e.getRect().y-l)/this.repulsionRange)),f=parseInt(Math.floor((e.getRect().height+e.getRect().y-l)/this.repulsionRange));for(var A=u;A<=c;A++)for(var L=T;L<=f;L++)this.grid[A][L].push(e),e.setGridCoordinates(u,c,T,f)},t.prototype.updateGrid=function(){var e,l=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<l.length;e++)this.addNodeToGrid(l[e],this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},t.prototype.calculateRepulsionForceOfANode=function(e,r,l,u){if(this.totalIterations%n.GRID_CALCULATION_CHECK_PERIOD==1&&l||u){var c=new Set;e.surrounding=new Array;for(var T,f=this.grid,A=e.startX-1;A<e.finishX+2;A++)for(var L=e.startY-1;L<e.finishY+2;L++)if(!(A<0||L<0||A>=f.length||L>=f[0].length))for(var N=0;N<f[A][L].length;N++)if(T=f[A][L][N],e.getOwner()==T.getOwner()&&e!=T&&!r.has(T)&&!c.has(T)){var O=Math.abs(e.getCenterX()-T.getCenterX())-(e.getWidth()/2+T.getWidth()/2),q=Math.abs(e.getCenterY()-T.getCenterY())-(e.getHeight()/2+T.getHeight()/2);O<=this.repulsionRange&&q<=this.repulsionRange&&c.add(T)}e.surrounding=[].concat(function E(e){if(Array.isArray(e)){for(var r=0,l=Array(e.length);r<e.length;r++)l[r]=e[r];return l}return Array.from(e)}(c))}for(A=0;A<e.surrounding.length;A++)this.calcRepulsionForce(e,e.surrounding[A])},t.prototype.calcRepulsionRange=function(){return 0},ct.exports=t},function(ct,Lt,F){"use strict";var E=F(1),h=F(4);function n(o,d,t){E.call(this,o,d,t),this.idealLength=h.DEFAULT_EDGE_LENGTH,this.edgeElasticity=h.DEFAULT_SPRING_STRENGTH}for(var i in n.prototype=Object.create(E.prototype),E)n[i]=E[i];ct.exports=n},function(ct,Lt,F){"use strict";var E=F(3),h=F(4);function n(o,d,t,g){E.call(this,o,d,t,g),this.nodeRepulsion=h.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var i in n.prototype=Object.create(E.prototype),E)n[i]=E[i];n.prototype.setGridCoordinates=function(o,d,t,g){this.startX=o,this.finishX=d,this.startY=t,this.finishY=g},ct.exports=n},function(ct,Lt,F){"use strict";function E(h,n){this.width=0,this.height=0,null!==h&&null!==n&&(this.height=n,this.width=h)}E.prototype.getWidth=function(){return this.width},E.prototype.setWidth=function(h){this.width=h},E.prototype.getHeight=function(){return this.height},E.prototype.setHeight=function(h){this.height=h},ct.exports=E},function(ct,Lt,F){"use strict";var E=F(14);function h(){this.map={},this.keys=[]}h.prototype.put=function(n,i){var o=E.createID(n);this.contains(o)||(this.map[o]=i,this.keys.push(n))},h.prototype.contains=function(n){return E.createID(n),null!=this.map[n]},h.prototype.get=function(n){var i=E.createID(n);return this.map[i]},h.prototype.keySet=function(){return this.keys},ct.exports=h},function(ct,Lt,F){"use strict";var E=F(14);function h(){this.set={}}h.prototype.add=function(n){var i=E.createID(n);this.contains(i)||(this.set[i]=n)},h.prototype.remove=function(n){delete this.set[E.createID(n)]},h.prototype.clear=function(){this.set={}},h.prototype.contains=function(n){return this.set[E.createID(n)]==n},h.prototype.isEmpty=function(){return 0===this.size()},h.prototype.size=function(){return Object.keys(this.set).length},h.prototype.addAllTo=function(n){for(var i=Object.keys(this.set),o=i.length,d=0;d<o;d++)n.push(this.set[i[d]])},h.prototype.size=function(){return Object.keys(this.set).length},h.prototype.addAll=function(n){for(var i=n.length,o=0;o<i;o++)this.add(n[o])},ct.exports=h},function(ct,Lt,F){"use strict";function E(){}E.multMat=function(h,n){for(var i=[],o=0;o<h.length;o++){i[o]=[];for(var d=0;d<n[0].length;d++){i[o][d]=0;for(var t=0;t<h[0].length;t++)i[o][d]+=h[o][t]*n[t][d]}}return i},E.transpose=function(h){for(var n=[],i=0;i<h[0].length;i++){n[i]=[];for(var o=0;o<h.length;o++)n[i][o]=h[o][i]}return n},E.multCons=function(h,n){for(var i=[],o=0;o<h.length;o++)i[o]=h[o]*n;return i},E.minusOp=function(h,n){for(var i=[],o=0;o<h.length;o++)i[o]=h[o]-n[o];return i},E.dotProduct=function(h,n){for(var i=0,o=0;o<h.length;o++)i+=h[o]*n[o];return i},E.mag=function(h){return Math.sqrt(this.dotProduct(h,h))},E.normalize=function(h){for(var n=[],i=this.mag(h),o=0;o<h.length;o++)n[o]=h[o]/i;return n},E.multGamma=function(h){for(var n=[],i=0,o=0;o<h.length;o++)i+=h[o];i*=-1/h.length;for(var d=0;d<h.length;d++)n[d]=i+h[d];return n},E.multL=function(h,n,i){for(var o=[],d=[],t=[],g=0;g<n[0].length;g++){for(var e=0,r=0;r<n.length;r++)e+=-.5*n[r][g]*h[r];d[g]=e}for(var l=0;l<i.length;l++){for(var u=0,c=0;c<i.length;c++)u+=i[l][c]*d[c];t[l]=u}for(var T=0;T<n.length;T++){for(var f=0,A=0;A<n[0].length;A++)f+=n[T][A]*t[A];o[T]=f}return o},ct.exports=E},function(ct,Lt,F){"use strict";var E=function(){function o(d,t){for(var g=0;g<t.length;g++){var e=t[g];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(d,e.key,e)}}return function(d,t,g){return t&&o(d.prototype,t),g&&o(d,g),d}}();var n=F(11),i=function(){function o(d,t){(function h(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),(null!==t||void 0!==t)&&(this.compareFunction=this._defaultCompareFunction);var g;g=d instanceof n?d.size():d.length,this._quicksort(d,0,g-1)}return E(o,[{key:"_quicksort",value:function(t,g,e){if(g<e){var r=this._partition(t,g,e);this._quicksort(t,g,r),this._quicksort(t,r+1,e)}}},{key:"_partition",value:function(t,g,e){for(var r=this._get(t,g),l=g,u=e;;){for(;this.compareFunction(r,this._get(t,u));)u--;for(;this.compareFunction(this._get(t,l),r);)l++;if(!(l<u))return u;this._swap(t,l,u),l++,u--}}},{key:"_get",value:function(t,g){return t instanceof n?t.get_object_at(g):t[g]}},{key:"_set",value:function(t,g,e){t instanceof n?t.set_object_at(g,e):t[g]=e}},{key:"_swap",value:function(t,g,e){var r=this._get(t,g);this._set(t,g,this._get(t,e)),this._set(t,e,r)}},{key:"_defaultCompareFunction",value:function(t,g){return g>t}}]),o}();ct.exports=i},function(ct,Lt,F){"use strict";function E(){}E.svd=function(h){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=h.length,this.n=h[0].length;var n=Math.min(this.m,this.n);this.s=function(xt){for(var St=[];xt-- >0;)St.push(0);return St}(Math.min(this.m+1,this.n)),this.U=function Ht(Pt){if(0==Pt.length)return 0;for(var Vt=[],Gt=0;Gt<Pt[0];Gt++)Vt.push(Ht(Pt.slice(1)));return Vt}([this.m,n]),this.V=function Ht(Pt){if(0==Pt.length)return 0;for(var Vt=[],Gt=0;Gt<Pt[0];Gt++)Vt.push(Ht(Pt.slice(1)));return Vt}([this.n,this.n]);for(var i=function(xt){for(var St=[];xt-- >0;)St.push(0);return St}(this.n),o=function(xt){for(var St=[];xt-- >0;)St.push(0);return St}(this.m),t=!0,g=Math.min(this.m-1,this.n),e=Math.max(0,Math.min(this.n-2,this.m)),r=0;r<Math.max(g,e);r++){if(r<g){this.s[r]=0;for(var l=r;l<this.m;l++)this.s[r]=E.hypot(this.s[r],h[l][r]);if(0!==this.s[r]){h[r][r]<0&&(this.s[r]=-this.s[r]);for(var u=r;u<this.m;u++)h[u][r]/=this.s[r];h[r][r]+=1}this.s[r]=-this.s[r]}for(var c=r+1;c<this.n;c++){if(function(xt,St){return xt&&St}(r<g,0!==this.s[r])){for(var T=0,f=r;f<this.m;f++)T+=h[f][r]*h[f][c];T=-T/h[r][r];for(var A=r;A<this.m;A++)h[A][c]+=T*h[A][r]}i[c]=h[r][c]}if(function(xt,St){return St}(0,r<g))for(var L=r;L<this.m;L++)this.U[L][r]=h[L][r];if(r<e){i[r]=0;for(var N=r+1;N<this.n;N++)i[r]=E.hypot(i[r],i[N]);if(0!==i[r]){i[r+1]<0&&(i[r]=-i[r]);for(var O=r+1;O<this.n;O++)i[O]/=i[r];i[r+1]+=1}if(i[r]=-i[r],function(xt,St){return xt&&St}(r+1<this.m,0!==i[r])){for(var q=r+1;q<this.m;q++)o[q]=0;for(var I=r+1;I<this.n;I++)for(var et=r+1;et<this.m;et++)o[et]+=i[I]*h[et][I];for(var gt=r+1;gt<this.n;gt++)for(var ft=-i[gt]/i[r+1],wt=r+1;wt<this.m;wt++)h[wt][gt]+=ft*o[wt]}for(var U=r+1;U<this.n;U++)this.V[U][r]=i[U]}}var J=Math.min(this.n,this.m+1);g<this.n&&(this.s[g]=h[g][g]),this.m<J&&(this.s[J-1]=0),e+1<J&&(i[e]=h[e][J-1]),i[J-1]=0;for(var a=g;a<n;a++){for(var m=0;m<this.m;m++)this.U[m][a]=0;this.U[a][a]=1}for(var s=g-1;s>=0;s--)if(0!==this.s[s]){for(var y=s+1;y<n;y++){for(var v=0,R=s;R<this.m;R++)v+=this.U[R][s]*this.U[R][y];v=-v/this.U[s][s];for(var w=s;w<this.m;w++)this.U[w][y]+=v*this.U[w][s]}for(var H=s;H<this.m;H++)this.U[H][s]=-this.U[H][s];this.U[s][s]=1+this.U[s][s];for(var X=0;X<s-1;X++)this.U[X][s]=0}else{for(var P=0;P<this.m;P++)this.U[P][s]=0;this.U[s][s]=1}for(var k=this.n-1;k>=0;k--){if(function(xt,St){return xt&&St}(k<e,0!==i[k]))for(var ot=k+1;ot<n;ot++){for(var z=0,st=k+1;st<this.n;st++)z+=this.V[st][k]*this.V[st][ot];z=-z/this.V[k+1][k];for(var j=k+1;j<this.n;j++)this.V[j][ot]+=z*this.V[j][k]}for(var C=0;C<this.n;C++)this.V[C][k]=0;this.V[k][k]=1}for(var B=J-1,at=Math.pow(2,-52),Ct=Math.pow(2,-966);J>0;){var _=void 0,bt=void 0;for(_=J-2;_>=-1&&-1!==_;_--)if(Math.abs(i[_])<=Ct+at*(Math.abs(this.s[_])+Math.abs(this.s[_+1]))){i[_]=0;break}if(_===J-2)bt=4;else{var Rt=void 0;for(Rt=J-1;Rt>=_&&Rt!==_;Rt--){var Wt=(Rt!==J?Math.abs(i[Rt]):0)+(Rt!==_+1?Math.abs(i[Rt-1]):0);if(Math.abs(this.s[Rt])<=Ct+at*Wt){this.s[Rt]=0;break}}Rt===_?bt=3:Rt===J-1?bt=1:(bt=2,_=Rt)}switch(_++,bt){case 1:var Ut=i[J-2];i[J-2]=0;for(var dt=J-2;dt>=_;dt--){var p=E.hypot(this.s[dt],Ut),S=this.s[dt]/p,G=Ut/p;this.s[dt]=p,dt!==_&&(Ut=-G*i[dt-1],i[dt-1]=S*i[dt-1]);for(var W=0;W<this.n;W++)p=S*this.V[W][dt]+G*this.V[W][J-1],this.V[W][J-1]=-G*this.V[W][dt]+S*this.V[W][J-1],this.V[W][dt]=p}break;case 2:var tt=i[_-1];i[_-1]=0;for(var Q=_;Q<J;Q++){var ut=E.hypot(this.s[Q],tt),ht=this.s[Q]/ut,mt=tt/ut;this.s[Q]=ut,tt=-mt*i[Q],i[Q]=ht*i[Q];for(var rt=0;rt<this.m;rt++)ut=ht*this.U[rt][Q]+mt*this.U[rt][_-1],this.U[rt][_-1]=-mt*this.U[rt][Q]+ht*this.U[rt][_-1],this.U[rt][Q]=ut}break;case 3:var it=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[J-1]),Math.abs(this.s[J-2])),Math.abs(i[J-2])),Math.abs(this.s[_])),Math.abs(i[_])),lt=this.s[J-1]/it,M=this.s[J-2]/it,D=i[J-2]/it,x=this.s[_]/it,Y=i[_]/it,b=((M+lt)*(M-lt)+D*D)/2,Z=lt*D*(lt*D),vt=0;(function(xt,St){return xt||St})(0!==b,0!==Z)&&(vt=Math.sqrt(b*b+Z),b<0&&(vt=-vt),vt=Z/(b+vt));for(var nt=(x+lt)*(x-lt)+vt,V=x*Y,$=_;$<J-1;$++){var pt=E.hypot(nt,V),Mt=nt/pt,At=V/pt;$!==_&&(i[$-1]=pt),nt=Mt*this.s[$]+At*i[$],i[$]=Mt*i[$]-At*this.s[$],V=At*this.s[$+1],this.s[$+1]=Mt*this.s[$+1];for(var Dt=0;Dt<this.n;Dt++)pt=Mt*this.V[Dt][$]+At*this.V[Dt][$+1],this.V[Dt][$+1]=-At*this.V[Dt][$]+Mt*this.V[Dt][$+1],this.V[Dt][$]=pt;if(Mt=nt/(pt=E.hypot(nt,V)),At=V/pt,this.s[$]=pt,nt=Mt*i[$]+At*this.s[$+1],this.s[$+1]=-At*i[$]+Mt*this.s[$+1],V=At*i[$+1],i[$+1]=Mt*i[$+1],$<this.m-1)for(var yt=0;yt<this.m;yt++)pt=Mt*this.U[yt][$]+At*this.U[yt][$+1],this.U[yt][$+1]=-At*this.U[yt][$]+Mt*this.U[yt][$+1],this.U[yt][$]=pt}i[J-2]=nt;break;case 4:if(this.s[_]<=0&&(this.s[_]=this.s[_]<0?-this.s[_]:0,t))for(var Tt=0;Tt<=B;Tt++)this.V[Tt][_]=-this.V[Tt][_];for(;_<B&&!(this.s[_]>=this.s[_+1]);){var Ot=this.s[_];if(this.s[_]=this.s[_+1],this.s[_+1]=Ot,_<this.n-1)for(var Et=0;Et<this.n;Et++)Ot=this.V[Et][_+1],this.V[Et][_+1]=this.V[Et][_],this.V[Et][_]=Ot;if(_<this.m-1)for(var Nt=0;Nt<this.m;Nt++)Ot=this.U[Nt][_+1],this.U[Nt][_+1]=this.U[Nt][_],this.U[Nt][_]=Ot;_++}J--}}return{U:this.U,V:this.V,S:this.s}},E.hypot=function(h,n){var i=void 0;return Math.abs(h)>Math.abs(n)?(i=n/h,i=Math.abs(h)*Math.sqrt(1+i*i)):0!=n?(i=h/n,i=Math.abs(n)*Math.sqrt(1+i*i)):i=0,i},ct.exports=E},function(ct,Lt,F){"use strict";var E=function(){function i(o,d){for(var t=0;t<d.length;t++){var g=d[t];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(o,g.key,g)}}return function(o,d,t){return d&&i(o.prototype,d),t&&i(o,t),o}}();var n=function(){function i(o,d){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;(function h(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,i),this.sequence1=o,this.sequence2=d,this.match_score=t,this.mismatch_penalty=g,this.gap_penalty=e,this.iMax=o.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var r=0;r<this.iMax;r++){this.grid[r]=new Array(this.jMax);for(var l=0;l<this.jMax;l++)this.grid[r][l]=0}this.tracebackGrid=new Array(this.iMax);for(var u=0;u<this.iMax;u++){this.tracebackGrid[u]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[u][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return E(i,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var d=1;d<this.jMax;d++)this.grid[0][d]=this.grid[0][d-1]+this.gap_penalty,this.tracebackGrid[0][d]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var g=1;g<this.iMax;g++)for(var e=1;e<this.jMax;e++){var c=[this.sequence1[g-1]===this.sequence2[e-1]?this.grid[g-1][e-1]+this.match_score:this.grid[g-1][e-1]+this.mismatch_penalty,this.grid[g-1][e]+this.gap_penalty,this.grid[g][e-1]+this.gap_penalty],T=this.arrayAllMaxIndexes(c);this.grid[g][e]=c[T[0]],this.tracebackGrid[g][e]=[T.includes(0),T.includes(1),T.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var d=[];for(d.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});d[0];){var t=d[0],g=this.tracebackGrid[t.pos[0]][t.pos[1]];g[0]&&d.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),g[1]&&d.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),g[2]&&d.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),d.shift()}return this.alignments}},{key:"getAllIndexes",value:function(d,t){for(var g=[],e=-1;-1!==(e=d.indexOf(t,e+1));)g.push(e);return g}},{key:"arrayAllMaxIndexes",value:function(d){return this.getAllIndexes(d,Math.max.apply(null,d))}}]),i}();ct.exports=n},function(ct,Lt,F){"use strict";var E=function(){};E.FDLayout=F(18),E.FDLayoutConstants=F(4),E.FDLayoutEdge=F(19),E.FDLayoutNode=F(20),E.DimensionD=F(21),E.HashMap=F(22),E.HashSet=F(23),E.IGeometry=F(8),E.IMath=F(9),E.Integer=F(10),E.Point=F(12),E.PointD=F(5),E.RandomSeed=F(16),E.RectangleD=F(13),E.Transform=F(17),E.UniqueIDGeneretor=F(14),E.Quicksort=F(25),E.LinkedList=F(11),E.LGraphObject=F(2),E.LGraph=F(6),E.LEdge=F(1),E.LGraphManager=F(7),E.LNode=F(3),E.Layout=F(15),E.LayoutConstants=F(0),E.NeedlemanWunsch=F(27),E.Matrix=F(24),E.SVD=F(26),ct.exports=E},function(ct,Lt,F){"use strict";function E(){this.listeners=[]}var h=E.prototype;h.addListener=function(n,i){this.listeners.push({event:n,callback:i})},h.removeListener=function(n,i){for(var o=this.listeners.length;o>=0;o--){var d=this.listeners[o];d.event===n&&d.callback===i&&this.listeners.splice(o,1)}},h.emit=function(n,i){for(var o=0;o<this.listeners.length;o++){var d=this.listeners[o];n===d.event&&d.callback(i)}},ct.exports=E}])},4329:function(kt,ct,Lt){var F;kt.exports=(F=Lt(3545),(()=>{"use strict";var E={45:(o,d,t)=>{var g={};g.layoutBase=t(551),g.CoSEConstants=t(806),g.CoSEEdge=t(767),g.CoSEGraph=t(880),g.CoSEGraphManager=t(578),g.CoSELayout=t(765),g.CoSENode=t(991),g.ConstraintHandler=t(902),o.exports=g},806:(o,d,t)=>{var g=t(551).FDLayoutConstants;function e(){}for(var r in g)e[r]=g[r];e.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,e.DEFAULT_RADIAL_SEPARATION=g.DEFAULT_EDGE_LENGTH,e.DEFAULT_COMPONENT_SEPERATION=60,e.TILE=!0,e.TILING_PADDING_VERTICAL=10,e.TILING_PADDING_HORIZONTAL=10,e.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,e.ENFORCE_CONSTRAINTS=!0,e.APPLY_LAYOUT=!0,e.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,e.TREE_REDUCTION_ON_INCREMENTAL=!0,e.PURE_INCREMENTAL=e.DEFAULT_INCREMENTAL,o.exports=e},767:(o,d,t)=>{var g=t(551).FDLayoutEdge;function e(l,u,c){g.call(this,l,u,c)}for(var r in e.prototype=Object.create(g.prototype),g)e[r]=g[r];o.exports=e},880:(o,d,t)=>{var g=t(551).LGraph;function e(l,u,c){g.call(this,l,u,c)}for(var r in e.prototype=Object.create(g.prototype),g)e[r]=g[r];o.exports=e},578:(o,d,t)=>{var g=t(551).LGraphManager;function e(l){g.call(this,l)}for(var r in e.prototype=Object.create(g.prototype),g)e[r]=g[r];o.exports=e},765:(o,d,t)=>{var g=t(551).FDLayout,e=t(578),r=t(880),l=t(991),u=t(767),c=t(806),T=t(902),f=t(551).FDLayoutConstants,A=t(551).LayoutConstants,L=t(551).Point,N=t(551).PointD,O=t(551).DimensionD,q=t(551).Layout,I=t(551).Integer,et=t(551).IGeometry,gt=t(551).LGraph,ft=t(551).Transform,wt=t(551).LinkedList;function U(){g.call(this),this.toBeTiled={},this.constraints={}}for(var J in U.prototype=Object.create(g.prototype),g)U[J]=g[J];U.prototype.newGraphManager=function(){var a=new e(this);return this.graphManager=a,a},U.prototype.newGraph=function(a){return new r(null,this.graphManager,a)},U.prototype.newNode=function(a){return new l(this.graphManager,a)},U.prototype.newEdge=function(a){return new u(null,null,a)},U.prototype.initParameters=function(){g.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=c.DEFAULT_EDGE_LENGTH<10?10:c.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=c.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},U.prototype.initSpringEmbedder=function(){g.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},U.prototype.layout=function(){return A.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},U.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(c.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var m=new Set(this.getAllNodes()),s=this.nodesWithGravity.filter(function(R){return m.has(R)});this.graphManager.setAllNodesToApplyGravitation(s)}}else{var a=this.getFlatForest();a.length>0?this.positionNodesRadially(a):(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),m=new Set(this.getAllNodes()),s=this.nodesWithGravity.filter(function(y){return m.has(y)}),this.graphManager.setAllNodesToApplyGravitation(s),this.positionNodesRandomly())}return Object.keys(this.constraints).length>0&&(T.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),c.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},U.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var a=new Set(this.getAllNodes()),m=this.nodesWithGravity.filter(function(v){return a.has(v)});this.graphManager.setAllNodesToApplyGravitation(m),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=c.PURE_INCREMENTAL?f.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=c.PURE_INCREMENTAL?f.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var s=!this.isTreeGrowing&&!this.isGrowthFinished,y=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(s,y),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},U.prototype.getPositionsData=function(){for(var a=this.graphManager.getAllNodes(),m={},s=0;s<a.length;s++){var y=a[s].rect,v=a[s].id;m[v]={id:v,x:y.getCenterX(),y:y.getCenterY(),w:y.width,h:y.height}}return m},U.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var a=!1;if("during"===f.ANIMATE)this.emit("layoutstarted");else{for(;!a;)a=this.tick();this.graphManager.updateBounds()}},U.prototype.moveNodes=function(){for(var a=this.getAllNodes(),s=0;s<a.length;s++)a[s].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),s=0;s<a.length;s++)a[s].move()},U.prototype.initConstraintVariables=function(){var a=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var m=this.graphManager.getAllNodes(),s=0;s<m.length;s++)this.idToNodeMap.set((y=m[s]).id,y);var y,v=function C(B){for(var at,K=B.getChild().getNodes(),Ct=0,_=0;_<K.length;_++)null==(at=K[_]).getChild()?a.fixedNodeSet.has(at.id)&&(Ct+=100):Ct+=C(at);return Ct};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach(function(K){a.fixedNodeSet.add(K.nodeId)}),m=this.graphManager.getAllNodes(),s=0;s<m.length;s++)if(null!=(y=m[s]).getChild()){var R=v(y);R>0&&(y.fixedNodeWeight=R)}if(this.constraints.relativePlacementConstraint){var w=new Map,H=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(C){a.fixedNodesOnHorizontal.add(C),a.fixedNodesOnVertical.add(C)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var X=this.constraints.alignmentConstraint.vertical;for(s=0;s<X.length;s++)this.dummyToNodeForVerticalAlignment.set("dummy"+s,[]),X[s].forEach(function(B){w.set(B,"dummy"+s),a.dummyToNodeForVerticalAlignment.get("dummy"+s).push(B),a.fixedNodeSet.has(B)&&a.fixedNodesOnHorizontal.add("dummy"+s)})}if(this.constraints.alignmentConstraint.horizontal){var P=this.constraints.alignmentConstraint.horizontal;for(s=0;s<P.length;s++)this.dummyToNodeForHorizontalAlignment.set("dummy"+s,[]),P[s].forEach(function(B){H.set(B,"dummy"+s),a.dummyToNodeForHorizontalAlignment.get("dummy"+s).push(B),a.fixedNodeSet.has(B)&&a.fixedNodesOnVertical.add("dummy"+s)})}}if(c.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(C){var B,K,at;for(at=C.length-1;at>=2*C.length/3;at--)B=Math.floor(Math.random()*(at+1)),K=C[at],C[at]=C[B],C[B]=K;return C},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(C){if(C.left){var B=w.has(C.left)?w.get(C.left):C.left,K=w.has(C.right)?w.get(C.right):C.right;a.nodesInRelativeHorizontal.includes(B)||(a.nodesInRelativeHorizontal.push(B),a.nodeToRelativeConstraintMapHorizontal.set(B,[]),a.dummyToNodeForVerticalAlignment.has(B)?a.nodeToTempPositionMapHorizontal.set(B,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(B)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(B,a.idToNodeMap.get(B).getCenterX())),a.nodesInRelativeHorizontal.includes(K)||(a.nodesInRelativeHorizontal.push(K),a.nodeToRelativeConstraintMapHorizontal.set(K,[]),a.dummyToNodeForVerticalAlignment.has(K)?a.nodeToTempPositionMapHorizontal.set(K,a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(K)[0]).getCenterX()):a.nodeToTempPositionMapHorizontal.set(K,a.idToNodeMap.get(K).getCenterX())),a.nodeToRelativeConstraintMapHorizontal.get(B).push({right:K,gap:C.gap}),a.nodeToRelativeConstraintMapHorizontal.get(K).push({left:B,gap:C.gap})}else{var at=H.has(C.top)?H.get(C.top):C.top,Ct=H.has(C.bottom)?H.get(C.bottom):C.bottom;a.nodesInRelativeVertical.includes(at)||(a.nodesInRelativeVertical.push(at),a.nodeToRelativeConstraintMapVertical.set(at,[]),a.dummyToNodeForHorizontalAlignment.has(at)?a.nodeToTempPositionMapVertical.set(at,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(at)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(at,a.idToNodeMap.get(at).getCenterY())),a.nodesInRelativeVertical.includes(Ct)||(a.nodesInRelativeVertical.push(Ct),a.nodeToRelativeConstraintMapVertical.set(Ct,[]),a.dummyToNodeForHorizontalAlignment.has(Ct)?a.nodeToTempPositionMapVertical.set(Ct,a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(Ct)[0]).getCenterY()):a.nodeToTempPositionMapVertical.set(Ct,a.idToNodeMap.get(Ct).getCenterY())),a.nodeToRelativeConstraintMapVertical.get(at).push({bottom:Ct,gap:C.gap}),a.nodeToRelativeConstraintMapVertical.get(Ct).push({top:at,gap:C.gap})}});else{var k=new Map,ot=new Map;this.constraints.relativePlacementConstraint.forEach(function(C){if(C.left){var B=w.has(C.left)?w.get(C.left):C.left,K=w.has(C.right)?w.get(C.right):C.right;k.has(B)?k.get(B).push(K):k.set(B,[K]),k.has(K)?k.get(K).push(B):k.set(K,[B])}else{var at=H.has(C.top)?H.get(C.top):C.top,Ct=H.has(C.bottom)?H.get(C.bottom):C.bottom;ot.has(at)?ot.get(at).push(Ct):ot.set(at,[Ct]),ot.has(Ct)?ot.get(Ct).push(at):ot.set(Ct,[at])}});var z=function(B,K){var at=[],Ct=[],_=new wt,bt=new Set,Rt=0;return B.forEach(function(Wt,Ut){if(!bt.has(Ut)){at[Rt]=[],Ct[Rt]=!1;var dt=Ut;for(_.push(dt),bt.add(dt),at[Rt].push(dt);0!=_.length;)dt=_.shift(),K.has(dt)&&(Ct[Rt]=!0),B.get(dt).forEach(function(S){bt.has(S)||(_.push(S),bt.add(S),at[Rt].push(S))});Rt++}}),{components:at,isFixed:Ct}},st=z(k,a.fixedNodesOnHorizontal);this.componentsOnHorizontal=st.components,this.fixedComponentsOnHorizontal=st.isFixed;var j=z(ot,a.fixedNodesOnVertical);this.componentsOnVertical=j.components,this.fixedComponentsOnVertical=j.isFixed}}},U.prototype.updateDisplacements=function(){var a=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(j){var C=a.idToNodeMap.get(j.nodeId);C.displacementX=0,C.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var m=this.constraints.alignmentConstraint.vertical,s=0;s<m.length;s++){for(var y=0,v=0;v<m[s].length;v++){if(this.fixedNodeSet.has(m[s][v])){y=0;break}y+=this.idToNodeMap.get(m[s][v]).displacementX}var R=y/m[s].length;for(v=0;v<m[s].length;v++)this.idToNodeMap.get(m[s][v]).displacementX=R}if(this.constraints.alignmentConstraint.horizontal){var w=this.constraints.alignmentConstraint.horizontal;for(s=0;s<w.length;s++){var H=0;for(v=0;v<w[s].length;v++){if(this.fixedNodeSet.has(w[s][v])){H=0;break}H+=this.idToNodeMap.get(w[s][v]).displacementY}var X=H/w[s].length;for(v=0;v<w[s].length;v++)this.idToNodeMap.get(w[s][v]).displacementY=X}}}if(this.constraints.relativePlacementConstraint)if(c.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(j){if(!a.fixedNodesOnHorizontal.has(j)){var C=0;C=a.dummyToNodeForVerticalAlignment.has(j)?a.idToNodeMap.get(a.dummyToNodeForVerticalAlignment.get(j)[0]).displacementX:a.idToNodeMap.get(j).displacementX,a.nodeToRelativeConstraintMapHorizontal.get(j).forEach(function(B){var K;B.right?(K=a.nodeToTempPositionMapHorizontal.get(B.right)-a.nodeToTempPositionMapHorizontal.get(j)-C)<B.gap&&(C-=B.gap-K):(K=a.nodeToTempPositionMapHorizontal.get(j)-a.nodeToTempPositionMapHorizontal.get(B.left)+C)<B.gap&&(C+=B.gap-K)}),a.nodeToTempPositionMapHorizontal.set(j,a.nodeToTempPositionMapHorizontal.get(j)+C),a.dummyToNodeForVerticalAlignment.has(j)?a.dummyToNodeForVerticalAlignment.get(j).forEach(function(B){a.idToNodeMap.get(B).displacementX=C}):a.idToNodeMap.get(j).displacementX=C}}),this.nodesInRelativeVertical.forEach(function(j){if(!a.fixedNodesOnHorizontal.has(j)){var C=0;C=a.dummyToNodeForHorizontalAlignment.has(j)?a.idToNodeMap.get(a.dummyToNodeForHorizontalAlignment.get(j)[0]).displacementY:a.idToNodeMap.get(j).displacementY,a.nodeToRelativeConstraintMapVertical.get(j).forEach(function(B){var K;B.bottom?(K=a.nodeToTempPositionMapVertical.get(B.bottom)-a.nodeToTempPositionMapVertical.get(j)-C)<B.gap&&(C-=B.gap-K):(K=a.nodeToTempPositionMapVertical.get(j)-a.nodeToTempPositionMapVertical.get(B.top)+C)<B.gap&&(C+=B.gap-K)}),a.nodeToTempPositionMapVertical.set(j,a.nodeToTempPositionMapVertical.get(j)+C),a.dummyToNodeForHorizontalAlignment.has(j)?a.dummyToNodeForHorizontalAlignment.get(j).forEach(function(B){a.idToNodeMap.get(B).displacementY=C}):a.idToNodeMap.get(j).displacementY=C}});else{for(s=0;s<this.componentsOnHorizontal.length;s++){var P=this.componentsOnHorizontal[s];if(this.fixedComponentsOnHorizontal[s])for(v=0;v<P.length;v++)this.dummyToNodeForVerticalAlignment.has(P[v])?this.dummyToNodeForVerticalAlignment.get(P[v]).forEach(function(B){a.idToNodeMap.get(B).displacementX=0}):this.idToNodeMap.get(P[v]).displacementX=0;else{var k=0,ot=0;for(v=0;v<P.length;v++)this.dummyToNodeForVerticalAlignment.has(P[v])?(k+=(z=this.dummyToNodeForVerticalAlignment.get(P[v])).length*this.idToNodeMap.get(z[0]).displacementX,ot+=z.length):(k+=this.idToNodeMap.get(P[v]).displacementX,ot++);var st=k/ot;for(v=0;v<P.length;v++)this.dummyToNodeForVerticalAlignment.has(P[v])?this.dummyToNodeForVerticalAlignment.get(P[v]).forEach(function(B){a.idToNodeMap.get(B).displacementX=st}):this.idToNodeMap.get(P[v]).displacementX=st}}for(s=0;s<this.componentsOnVertical.length;s++)if(P=this.componentsOnVertical[s],this.fixedComponentsOnVertical[s])for(v=0;v<P.length;v++)this.dummyToNodeForHorizontalAlignment.has(P[v])?this.dummyToNodeForHorizontalAlignment.get(P[v]).forEach(function(K){a.idToNodeMap.get(K).displacementY=0}):this.idToNodeMap.get(P[v]).displacementY=0;else{for(k=0,ot=0,v=0;v<P.length;v++)if(this.dummyToNodeForHorizontalAlignment.has(P[v])){var z;k+=(z=this.dummyToNodeForHorizontalAlignment.get(P[v])).length*this.idToNodeMap.get(z[0]).displacementY,ot+=z.length}else k+=this.idToNodeMap.get(P[v]).displacementY,ot++;for(st=k/ot,v=0;v<P.length;v++)this.dummyToNodeForHorizontalAlignment.has(P[v])?this.dummyToNodeForHorizontalAlignment.get(P[v]).forEach(function(_){a.idToNodeMap.get(_).displacementY=st}):this.idToNodeMap.get(P[v]).displacementY=st}}},U.prototype.calculateNodesToApplyGravitationTo=function(){var m,v,a=[],s=this.graphManager.getGraphs(),y=s.length;for(v=0;v<y;v++)(m=s[v]).updateConnected(),m.isConnected||(a=a.concat(m.getNodes()));return a},U.prototype.createBendpoints=function(){var a=[];a=a.concat(this.graphManager.getAllEdges());var s,m=new Set;for(s=0;s<a.length;s++){var y=a[s];if(!m.has(y)){var v=y.getSource(),R=y.getTarget();if(v==R)y.getBendpoints().push(new N),y.getBendpoints().push(new N),this.createDummyNodesForBendpoints(y),m.add(y);else{var w=[];if(w=(w=w.concat(v.getEdgeListToNode(R))).concat(R.getEdgeListToNode(v)),!m.has(w[0])){var H;if(w.length>1)for(H=0;H<w.length;H++){var X=w[H];X.getBendpoints().push(new N),this.createDummyNodesForBendpoints(X)}w.forEach(function(P){m.add(P)})}}}if(m.size==a.length)break}},U.prototype.positionNodesRadially=function(a){for(var m=new L(0,0),s=Math.ceil(Math.sqrt(a.length)),y=0,v=0,R=0,w=new N(0,0),H=0;H<a.length;H++){H%s==0&&(R=0,v=y,0!=H&&(v+=c.DEFAULT_COMPONENT_SEPERATION),y=0);var X=a[H],P=q.findCenterOfTree(X);m.x=R,m.y=v,(w=U.radialLayout(X,P,m)).y>y&&(y=Math.floor(w.y)),R=Math.floor(w.x+c.DEFAULT_COMPONENT_SEPERATION)}this.transform(new N(A.WORLD_CENTER_X-w.x/2,A.WORLD_CENTER_Y-w.y/2))},U.radialLayout=function(a,m,s){var y=Math.max(this.maxDiagonalInTree(a),c.DEFAULT_RADIAL_SEPARATION);U.branchRadialLayout(m,null,0,359,0,y);var v=gt.calculateBounds(a),R=new ft;R.setDeviceOrgX(v.getMinX()),R.setDeviceOrgY(v.getMinY()),R.setWorldOrgX(s.x),R.setWorldOrgY(s.y);for(var w=0;w<a.length;w++)a[w].transform(R);var X=new N(v.getMaxX(),v.getMaxY());return R.inverseTransformPoint(X)},U.branchRadialLayout=function(a,m,s,y,v,R){var w=(y-s+1)/2;w<0&&(w+=180);var X=(w+s)%360*et.TWO_PI/360,k=(Math.cos(X),v*Math.cos(X)),ot=v*Math.sin(X);a.setCenter(k,ot);var z=[],st=(z=z.concat(a.getEdges())).length;null!=m&&st--;for(var B,j=0,C=z.length,K=a.getEdgesBetween(m);K.length>1;){var at=K[0];K.splice(0,1);var Ct=z.indexOf(at);Ct>=0&&z.splice(Ct,1),C--,st--}B=null!=m?(z.indexOf(K[0])+1)%C:0;for(var _=Math.abs(y-s)/st,bt=B;j!=st;bt=++bt%C){var Rt=z[bt].getOtherEnd(a);if(Rt!=m){var Wt=(s+j*_)%360;U.branchRadialLayout(Rt,a,Wt,(Wt+_)%360,v+R,R),j++}}},U.maxDiagonalInTree=function(a){for(var m=I.MIN_VALUE,s=0;s<a.length;s++){var v=a[s].getDiagonal();v>m&&(m=v)}return m},U.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},U.prototype.groupZeroDegreeMembers=function(){var a=this,m={};this.memberGroups={},this.idToDummyNode={};for(var s=[],y=this.graphManager.getAllNodes(),v=0;v<y.length;v++){var w=(R=y[v]).getParent();0===this.getNodeDegreeWithChildren(R)&&(null==w.id||!this.getToBeTiled(w))&&s.push(R)}for(v=0;v<s.length;v++){var R,H=(R=s[v]).getParent().id;typeof m[H]>"u"&&(m[H]=[]),m[H]=m[H].concat(R)}Object.keys(m).forEach(function(X){if(m[X].length>1){var P="DummyCompound_"+X;a.memberGroups[P]=m[X];var k=m[X][0].getParent(),ot=new l(a.graphManager);ot.id=P,ot.paddingLeft=k.paddingLeft||0,ot.paddingRight=k.paddingRight||0,ot.paddingBottom=k.paddingBottom||0,ot.paddingTop=k.paddingTop||0,a.idToDummyNode[P]=ot;var z=a.getGraphManager().add(a.newGraph(),ot),st=k.getChild();st.add(ot);for(var j=0;j<m[X].length;j++){var C=m[X][j];st.remove(C),z.add(C)}}})},U.prototype.clearCompounds=function(){var a={},m={};this.performDFSOnCompounds();for(var s=0;s<this.compoundOrder.length;s++)m[this.compoundOrder[s].id]=this.compoundOrder[s],a[this.compoundOrder[s].id]=[].concat(this.compoundOrder[s].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[s].getChild()),this.compoundOrder[s].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(a,m)},U.prototype.clearZeroDegreeMembers=function(){var a=this,m=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(s){var y=a.idToDummyNode[s];if(m[s]=a.tileNodes(a.memberGroups[s],y.paddingLeft+y.paddingRight),y.rect.width=m[s].width,y.rect.height=m[s].height,y.setCenter(m[s].centerX,m[s].centerY),y.labelMarginLeft=0,y.labelMarginTop=0,c.NODE_DIMENSIONS_INCLUDE_LABELS){var v=y.rect.width,R=y.rect.height;y.labelWidth&&("left"==y.labelPosHorizontal?(y.rect.x-=y.labelWidth,y.setWidth(v+y.labelWidth),y.labelMarginLeft=y.labelWidth):"center"==y.labelPosHorizontal&&y.labelWidth>v?(y.rect.x-=(y.labelWidth-v)/2,y.setWidth(y.labelWidth),y.labelMarginLeft=(y.labelWidth-v)/2):"right"==y.labelPosHorizontal&&y.setWidth(v+y.labelWidth)),y.labelHeight&&("top"==y.labelPosVertical?(y.rect.y-=y.labelHeight,y.setHeight(R+y.labelHeight),y.labelMarginTop=y.labelHeight):"center"==y.labelPosVertical&&y.labelHeight>R?(y.rect.y-=(y.labelHeight-R)/2,y.setHeight(y.labelHeight),y.labelMarginTop=(y.labelHeight-R)/2):"bottom"==y.labelPosVertical&&y.setHeight(R+y.labelHeight))}})},U.prototype.repopulateCompounds=function(){for(var a=this.compoundOrder.length-1;a>=0;a--){var m=this.compoundOrder[a];this.adjustLocations(this.tiledMemberPack[m.id],m.rect.x,m.rect.y,m.paddingLeft,m.paddingTop,m.labelMarginLeft,m.labelMarginTop)}},U.prototype.repopulateZeroDegreeMembers=function(){var a=this,m=this.tiledZeroDegreePack;Object.keys(m).forEach(function(s){var y=a.idToDummyNode[s];a.adjustLocations(m[s],y.rect.x,y.rect.y,y.paddingLeft,y.paddingTop,y.labelMarginLeft,y.labelMarginTop)})},U.prototype.getToBeTiled=function(a){var m=a.id;if(null!=this.toBeTiled[m])return this.toBeTiled[m];var s=a.getChild();if(null==s)return this.toBeTiled[m]=!1,!1;for(var y=s.getNodes(),v=0;v<y.length;v++){var R=y[v];if(this.getNodeDegree(R)>0)return this.toBeTiled[m]=!1,!1;if(null!=R.getChild()){if(!this.getToBeTiled(R))return this.toBeTiled[m]=!1,!1}else this.toBeTiled[R.id]=!1}return this.toBeTiled[m]=!0,!0},U.prototype.getNodeDegree=function(a){for(var s=a.getEdges(),y=0,v=0;v<s.length;v++){var R=s[v];R.getSource().id!==R.getTarget().id&&(y+=1)}return y},U.prototype.getNodeDegreeWithChildren=function(a){var m=this.getNodeDegree(a);if(null==a.getChild())return m;for(var s=a.getChild().getNodes(),y=0;y<s.length;y++)m+=this.getNodeDegreeWithChildren(s[y]);return m},U.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},U.prototype.fillCompexOrderByDFS=function(a){for(var m=0;m<a.length;m++){var s=a[m];null!=s.getChild()&&this.fillCompexOrderByDFS(s.getChild().getNodes()),this.getToBeTiled(s)&&this.compoundOrder.push(s)}},U.prototype.adjustLocations=function(a,m,s,y,v,R,w){s+=v+w;for(var H=m+=y+R,X=0;X<a.rows.length;X++){var P=a.rows[X];m=H;for(var k=0,ot=0;ot<P.length;ot++){var z=P[ot];z.rect.x=m,z.rect.y=s,m+=z.rect.width+a.horizontalPadding,z.rect.height>k&&(k=z.rect.height)}s+=k+a.verticalPadding}},U.prototype.tileCompoundMembers=function(a,m){var s=this;this.tiledMemberPack=[],Object.keys(a).forEach(function(y){var v=m[y];if(s.tiledMemberPack[y]=s.tileNodes(a[y],v.paddingLeft+v.paddingRight),v.rect.width=s.tiledMemberPack[y].width,v.rect.height=s.tiledMemberPack[y].height,v.setCenter(s.tiledMemberPack[y].centerX,s.tiledMemberPack[y].centerY),v.labelMarginLeft=0,v.labelMarginTop=0,c.NODE_DIMENSIONS_INCLUDE_LABELS){var R=v.rect.width,w=v.rect.height;v.labelWidth&&("left"==v.labelPosHorizontal?(v.rect.x-=v.labelWidth,v.setWidth(R+v.labelWidth),v.labelMarginLeft=v.labelWidth):"center"==v.labelPosHorizontal&&v.labelWidth>R?(v.rect.x-=(v.labelWidth-R)/2,v.setWidth(v.labelWidth),v.labelMarginLeft=(v.labelWidth-R)/2):"right"==v.labelPosHorizontal&&v.setWidth(R+v.labelWidth)),v.labelHeight&&("top"==v.labelPosVertical?(v.rect.y-=v.labelHeight,v.setHeight(w+v.labelHeight),v.labelMarginTop=v.labelHeight):"center"==v.labelPosVertical&&v.labelHeight>w?(v.rect.y-=(v.labelHeight-w)/2,v.setHeight(v.labelHeight),v.labelMarginTop=(v.labelHeight-w)/2):"bottom"==v.labelPosVertical&&v.setHeight(w+v.labelHeight))}})},U.prototype.tileNodes=function(a,m){var s=this.tileNodesByFavoringDim(a,m,!0),y=this.tileNodesByFavoringDim(a,m,!1),v=this.getOrgRatio(s);return this.getOrgRatio(y)<v?y:s},U.prototype.getOrgRatio=function(a){var y=a.width/a.height;return y<1&&(y=1/y),y},U.prototype.calcIdealRowWidth=function(a,m){var s=c.TILING_PADDING_VERTICAL,y=c.TILING_PADDING_HORIZONTAL,v=a.length,R=0,w=0,H=0;a.forEach(function(j){R+=j.getWidth(),w+=j.getHeight(),j.getWidth()>H&&(H=j.getWidth())});var z,X=R/v,P=w/v,k=Math.pow(s-y,2)+4*(X+y)*(P+s)*v,ot=(y-s+Math.sqrt(k))/(2*(X+y));m?(z=Math.ceil(ot))==ot&&z++:z=Math.floor(ot);var st=z*(X+y)-y;return H>st&&(st=H),st+2*y},U.prototype.tileNodesByFavoringDim=function(a,m,s){var R=c.TILING_COMPARE_BY,w={rows:[],rowWidth:[],rowHeight:[],width:0,height:m,verticalPadding:c.TILING_PADDING_VERTICAL,horizontalPadding:c.TILING_PADDING_HORIZONTAL,centerX:0,centerY:0};R&&(w.idealRowWidth=this.calcIdealRowWidth(a,s));var H=function(C){return C.rect.width*C.rect.height},X=function(C,B){return H(B)-H(C)};a.sort(function(j,C){var B=X;return w.idealRowWidth?(B=R)(j.id,C.id):B(j,C)});for(var P=0,k=0,ot=0;ot<a.length;ot++)P+=(z=a[ot]).getCenterX(),k+=z.getCenterY();for(w.centerX=P/a.length,w.centerY=k/a.length,ot=0;ot<a.length;ot++){var z=a[ot];if(0==w.rows.length)this.insertNodeToRow(w,z,0,m);else if(this.canAddHorizontal(w,z.rect.width,z.rect.height)){var st=w.rows.length-1;w.idealRowWidth||(st=this.getShortestRowIndex(w)),this.insertNodeToRow(w,z,st,m)}else this.insertNodeToRow(w,z,w.rows.length,m);this.shiftToLastRow(w)}return w},U.prototype.insertNodeToRow=function(a,m,s,y){var v=y;s==a.rows.length&&(a.rows.push([]),a.rowWidth.push(v),a.rowHeight.push(0));var w=a.rowWidth[s]+m.rect.width;a.rows[s].length>0&&(w+=a.horizontalPadding),a.rowWidth[s]=w,a.width<w&&(a.width=w);var H=m.rect.height;s>0&&(H+=a.verticalPadding);var X=0;H>a.rowHeight[s]&&(X=a.rowHeight[s],a.rowHeight[s]=H,X=a.rowHeight[s]-X),a.height+=X,a.rows[s].push(m)},U.prototype.getShortestRowIndex=function(a){for(var m=-1,s=Number.MAX_VALUE,y=0;y<a.rows.length;y++)a.rowWidth[y]<s&&(m=y,s=a.rowWidth[y]);return m},U.prototype.getLongestRowIndex=function(a){for(var m=-1,s=Number.MIN_VALUE,y=0;y<a.rows.length;y++)a.rowWidth[y]>s&&(m=y,s=a.rowWidth[y]);return m},U.prototype.canAddHorizontal=function(a,m,s){if(a.idealRowWidth)return a.rowWidth[a.rows.length-1]+m+a.horizontalPadding<=a.idealRowWidth;var R=this.getShortestRowIndex(a);if(R<0)return!0;var w=a.rowWidth[R];if(w+a.horizontalPadding+m<=a.width)return!0;var X,P,H=0;return a.rowHeight[R]<s&&R>0&&(H=s+a.verticalPadding-a.rowHeight[R]),X=a.width-w>=m+a.horizontalPadding?(a.height+H)/(w+m+a.horizontalPadding):(a.height+H)/a.width,H=s+a.verticalPadding,(P=a.width<m?(a.height+H)/m:(a.height+H)/a.width)<1&&(P=1/P),X<1&&(X=1/X),X<P},U.prototype.shiftToLastRow=function(a){var m=this.getLongestRowIndex(a),s=a.rowWidth.length-1,y=a.rows[m],v=y[y.length-1],R=v.width+a.horizontalPadding;if(a.width-a.rowWidth[s]>R&&m!=s){y.splice(-1,1),a.rows[s].push(v),a.rowWidth[m]=a.rowWidth[m]-R,a.rowWidth[s]=a.rowWidth[s]+R,a.width=a.rowWidth[instance.getLongestRowIndex(a)];for(var w=Number.MIN_VALUE,H=0;H<y.length;H++)y[H].height>w&&(w=y[H].height);m>0&&(w+=a.verticalPadding);var X=a.rowHeight[m]+a.rowHeight[s];a.rowHeight[m]=w,a.rowHeight[s]<v.height+a.verticalPadding&&(a.rowHeight[s]=v.height+a.verticalPadding),a.height+=a.rowHeight[m]+a.rowHeight[s]-X,this.shiftToLastRow(a)}},U.prototype.tilingPreLayout=function(){c.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},U.prototype.tilingPostLayout=function(){c.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},U.prototype.reduceTrees=function(){for(var s,a=[],m=!0;m;){var y=this.graphManager.getAllNodes(),v=[];m=!1;for(var R=0;R<y.length;R++)if(1==(s=y[R]).getEdges().length&&!s.getEdges()[0].isInterGraph&&null==s.getChild()){if(c.PURE_INCREMENTAL){var w=s.getEdges()[0].getOtherEnd(s),H=new O(s.getCenterX()-w.getCenterX(),s.getCenterY()-w.getCenterY());v.push([s,s.getEdges()[0],s.getOwner(),H])}else v.push([s,s.getEdges()[0],s.getOwner()]);m=!0}if(1==m){for(var X=[],P=0;P<v.length;P++)1==v[P][0].getEdges().length&&(X.push(v[P]),v[P][0].getOwner().remove(v[P][0]));a.push(X),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=a},U.prototype.growTree=function(a){for(var y,s=a[a.length-1],v=0;v<s.length;v++)this.findPlaceforPrunedNode(y=s[v]),y[2].add(y[0]),y[2].add(y[1],y[1].source,y[1].target);a.splice(a.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},U.prototype.findPlaceforPrunedNode=function(a){var m,s,y=a[0];if(s=y==a[1].source?a[1].target:a[1].source,c.PURE_INCREMENTAL)y.setCenter(s.getCenterX()+a[3].getWidth(),s.getCenterY()+a[3].getHeight());else{var v=s.startX,R=s.finishX,w=s.startY,H=s.finishY,z=[0,0,0,0];if(w>0)for(var st=v;st<=R;st++)z[0]+=this.grid[st][w-1].length+this.grid[st][w].length-1;if(R<this.grid.length-1)for(st=w;st<=H;st++)z[1]+=this.grid[R+1][st].length+this.grid[R][st].length-1;if(H<this.grid[0].length-1)for(st=v;st<=R;st++)z[2]+=this.grid[st][H+1].length+this.grid[st][H].length-1;if(v>0)for(st=w;st<=H;st++)z[3]+=this.grid[v-1][st].length+this.grid[v][st].length-1;for(var C,B,j=I.MAX_VALUE,K=0;K<z.length;K++)z[K]<j?(j=z[K],C=1,B=K):z[K]==j&&C++;if(3==C&&0==j)0==z[0]&&0==z[1]&&0==z[2]?m=1:0==z[0]&&0==z[1]&&0==z[3]?m=0:0==z[0]&&0==z[2]&&0==z[3]?m=3:0==z[1]&&0==z[2]&&0==z[3]&&(m=2);else if(2==C&&0==j){var at=Math.floor(2*Math.random());m=0==z[0]&&0==z[1]?0==at?0:1:0==z[0]&&0==z[2]?0==at?0:2:0==z[0]&&0==z[3]?0==at?0:3:0==z[1]&&0==z[2]?0==at?1:2:0==z[1]&&0==z[3]?0==at?1:3:0==at?2:3}else m=4==C&&0==j?at=Math.floor(4*Math.random()):B;0==m?y.setCenter(s.getCenterX(),s.getCenterY()-s.getHeight()/2-f.DEFAULT_EDGE_LENGTH-y.getHeight()/2):1==m?y.setCenter(s.getCenterX()+s.getWidth()/2+f.DEFAULT_EDGE_LENGTH+y.getWidth()/2,s.getCenterY()):2==m?y.setCenter(s.getCenterX(),s.getCenterY()+s.getHeight()/2+f.DEFAULT_EDGE_LENGTH+y.getHeight()/2):y.setCenter(s.getCenterX()-s.getWidth()/2-f.DEFAULT_EDGE_LENGTH-y.getWidth()/2,s.getCenterY())}},o.exports=U},991:(o,d,t)=>{var g=t(551).FDLayoutNode,e=t(551).IMath;function r(u,c,T,f){g.call(this,u,c,T,f)}for(var l in r.prototype=Object.create(g.prototype),g)r[l]=g[l];r.prototype.calculateDisplacement=function(){var u=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=u.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=u.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementX=u.coolingFactor*u.maxNodeDisplacement*e.sign(this.displacementX)),Math.abs(this.displacementY)>u.coolingFactor*u.maxNodeDisplacement&&(this.displacementY=u.coolingFactor*u.maxNodeDisplacement*e.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},r.prototype.propogateDisplacementToChildren=function(u,c){for(var f,T=this.getChild().getNodes(),A=0;A<T.length;A++)null==(f=T[A]).getChild()?(f.displacementX+=u,f.displacementY+=c):f.propogateDisplacementToChildren(u,c)},r.prototype.move=function(){var u=this.graphManager.getLayout();(null==this.child||0==this.child.getNodes().length)&&(this.moveBy(this.displacementX,this.displacementY),u.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},r.prototype.setPred1=function(u){this.pred1=u},r.prototype.getPred1=function(){return pred1},r.prototype.getPred2=function(){return pred2},r.prototype.setNext=function(u){this.next=u},r.prototype.getNext=function(){return next},r.prototype.setProcessed=function(u){this.processed=u},r.prototype.isProcessed=function(){return processed},o.exports=r},902:(o,d,t)=>{function g(T){if(Array.isArray(T)){for(var f=0,A=Array(T.length);f<T.length;f++)A[f]=T[f];return A}return Array.from(T)}var e=t(806),r=t(551).LinkedList,l=t(551).Matrix,u=t(551).SVD;function c(){}c.handleConstraints=function(T){var f={};f.fixedNodeConstraint=T.constraints.fixedNodeConstraint,f.alignmentConstraint=T.constraints.alignmentConstraint,f.relativePlacementConstraint=T.constraints.relativePlacementConstraint;for(var A=new Map,L=new Map,N=[],O=[],q=T.getAllNodes(),I=0,et=0;et<q.length;et++){var gt=q[et];null==gt.getChild()&&(L.set(gt.id,I++),N.push(gt.getCenterX()),O.push(gt.getCenterY()),A.set(gt.id,gt))}f.relativePlacementConstraint&&f.relativePlacementConstraint.forEach(function(M){!M.gap&&0!=M.gap&&(M.gap=M.left?e.DEFAULT_EDGE_LENGTH+A.get(M.left).getWidth()/2+A.get(M.right).getWidth()/2:e.DEFAULT_EDGE_LENGTH+A.get(M.top).getHeight()/2+A.get(M.bottom).getHeight()/2)});var wt=function(D){var x=0,Y=0;return D.forEach(function(b){x+=N[L.get(b)],Y+=O[L.get(b)]}),{x:x/D.size,y:Y/D.size}},U=function(D,x,Y,b,Z){var nt=new Map;D.forEach(function(yt,Tt){nt.set(Tt,0)}),D.forEach(function(yt,Tt){yt.forEach(function(Ot){nt.set(Ot.id,nt.get(Ot.id)+1)})});var V=new Map,$=new Map,pt=new r;nt.forEach(function(yt,Tt){0==yt?(pt.push(Tt),Y||V.set(Tt,"horizontal"==x?L.has(Tt)?N[L.get(Tt)]:b.get(Tt):L.has(Tt)?O[L.get(Tt)]:b.get(Tt))):V.set(Tt,Number.NEGATIVE_INFINITY),Y&&$.set(Tt,new Set([Tt]))}),Y&&Z.forEach(function(yt){var Tt=[];if(yt.forEach(function(Nt){Y.has(Nt)&&Tt.push(Nt)}),Tt.length>0){var Ot=0;Tt.forEach(function(Nt){"horizontal"==x?(V.set(Nt,L.has(Nt)?N[L.get(Nt)]:b.get(Nt)),Ot+=V.get(Nt)):(V.set(Nt,L.has(Nt)?O[L.get(Nt)]:b.get(Nt)),Ot+=V.get(Nt))}),Ot/=Tt.length,yt.forEach(function(Nt){Y.has(Nt)||V.set(Nt,Ot)})}else{var Et=0;yt.forEach(function(Nt){Et+="horizontal"==x?L.has(Nt)?N[L.get(Nt)]:b.get(Nt):L.has(Nt)?O[L.get(Nt)]:b.get(Nt)}),Et/=yt.length,yt.forEach(function(Nt){V.set(Nt,Et)})}});for(var Mt=function(){var Tt=pt.shift();D.get(Tt).forEach(function(Et){if(V.get(Et.id)<V.get(Tt)+Et.gap)if(Y&&Y.has(Et.id)){var Nt;if(Nt="horizontal"==x?L.has(Et.id)?N[L.get(Et.id)]:b.get(Et.id):L.has(Et.id)?O[L.get(Et.id)]:b.get(Et.id),V.set(Et.id,Nt),Nt<V.get(Tt)+Et.gap){var Yt=V.get(Tt)+Et.gap-Nt;$.get(Tt).forEach(function(xt){V.set(xt,V.get(xt)-Yt)})}}else V.set(Et.id,V.get(Tt)+Et.gap);nt.set(Et.id,nt.get(Et.id)-1),0==nt.get(Et.id)&&pt.push(Et.id),Y&&$.set(Et.id,function vt(yt,Tt){var Ot=new Set(yt),Et=!0,Nt=!1,Yt=void 0;try{for(var St,xt=Tt[Symbol.iterator]();!(Et=(St=xt.next()).done);Et=!0)Ot.add(St.value)}catch(Pt){Nt=!0,Yt=Pt}finally{try{!Et&&xt.return&&xt.return()}finally{if(Nt)throw Yt}}return Ot}($.get(Tt),$.get(Et.id)))})};0!=pt.length;)Mt();if(Y){var At=new Set;D.forEach(function(yt,Tt){0==yt.length&&At.add(Tt)});var Dt=[];$.forEach(function(yt,Tt){if(At.has(Tt)){var Ot=!1,Et=!0,Nt=!1,Yt=void 0;try{for(var St,xt=yt[Symbol.iterator]();!(Et=(St=xt.next()).done);Et=!0)Y.has(St.value)&&(Ot=!0)}catch(Gt){Nt=!0,Yt=Gt}finally{try{!Et&&xt.return&&xt.return()}finally{if(Nt)throw Yt}}if(!Ot){var Pt=!1,Vt=void 0;Dt.forEach(function(Gt,Bt){Gt.has([].concat(g(yt))[0])&&(Pt=!0,Vt=Bt)}),Pt?yt.forEach(function(Gt){Dt[Vt].add(Gt)}):Dt.push(new Set(yt))}}}),Dt.forEach(function(yt,Tt){var Ot=Number.POSITIVE_INFINITY,Et=Number.POSITIVE_INFINITY,Nt=Number.NEGATIVE_INFINITY,Yt=Number.NEGATIVE_INFINITY,xt=!0,St=!1,Ht=void 0;try{for(var Vt,Pt=yt[Symbol.iterator]();!(xt=(Vt=Pt.next()).done);xt=!0){var Bt,Gt=Vt.value;Bt="horizontal"==x?L.has(Gt)?N[L.get(Gt)]:b.get(Gt):L.has(Gt)?O[L.get(Gt)]:b.get(Gt);var Jt=V.get(Gt);Bt<Ot&&(Ot=Bt),Bt>Nt&&(Nt=Bt),Jt<Et&&(Et=Jt),Jt>Yt&&(Yt=Jt)}}catch(_t){St=!0,Ht=_t}finally{try{!xt&&Pt.return&&Pt.return()}finally{if(St)throw Ht}}var ee=(Ot+Nt)/2-(Et+Yt)/2,Kt=!0,Qt=!1,qt=void 0;try{for(var te,Zt=yt[Symbol.iterator]();!(Kt=(te=Zt.next()).done);Kt=!0){var jt=te.value;V.set(jt,V.get(jt)+ee)}}catch(_t){Qt=!0,qt=_t}finally{try{!Kt&&Zt.return&&Zt.return()}finally{if(Qt)throw qt}}})}return V},J=function(D){var x=0,Y=0,b=0,Z=0;if(D.forEach(function($){$.left?N[L.get($.left)]-N[L.get($.right)]>=0?x++:Y++:O[L.get($.top)]-O[L.get($.bottom)]>=0?b++:Z++}),x>Y&&b>Z)for(var vt=0;vt<L.size;vt++)N[vt]=-1*N[vt],O[vt]=-1*O[vt];else if(x>Y)for(var nt=0;nt<L.size;nt++)N[nt]=-1*N[nt];else if(b>Z)for(var V=0;V<L.size;V++)O[V]=-1*O[V]},a=function(D){var x=[],Y=new r,b=new Set,Z=0;return D.forEach(function(vt,nt){if(!b.has(nt)){x[Z]=[];var V=nt;for(Y.push(V),b.add(V),x[Z].push(V);0!=Y.length;)V=Y.shift(),D.get(V).forEach(function(pt){b.has(pt.id)||(Y.push(pt.id),b.add(pt.id),x[Z].push(pt.id))});Z++}}),x},m=function(D){var x=new Map;return D.forEach(function(Y,b){x.set(b,[])}),D.forEach(function(Y,b){Y.forEach(function(Z){x.get(b).push(Z),x.get(Z.id).push({id:b,gap:Z.gap,direction:Z.direction})})}),x},s=function(D){var x=new Map;return D.forEach(function(Y,b){x.set(b,[])}),D.forEach(function(Y,b){Y.forEach(function(Z){x.get(Z.id).push({id:b,gap:Z.gap,direction:Z.direction})})}),x},y=[],v=[],R=!1,w=!1,H=new Set,X=new Map,P=new Map,k=[];if(f.fixedNodeConstraint&&f.fixedNodeConstraint.forEach(function(M){H.add(M.nodeId)}),f.relativePlacementConstraint&&(f.relativePlacementConstraint.forEach(function(M){M.left?(X.has(M.left)?X.get(M.left).push({id:M.right,gap:M.gap,direction:"horizontal"}):X.set(M.left,[{id:M.right,gap:M.gap,direction:"horizontal"}]),X.has(M.right)||X.set(M.right,[])):(X.has(M.top)?X.get(M.top).push({id:M.bottom,gap:M.gap,direction:"vertical"}):X.set(M.top,[{id:M.bottom,gap:M.gap,direction:"vertical"}]),X.has(M.bottom)||X.set(M.bottom,[]))}),P=m(X),k=a(P)),e.TRANSFORM_ON_CONSTRAINT_HANDLING){if(f.fixedNodeConstraint&&f.fixedNodeConstraint.length>1)f.fixedNodeConstraint.forEach(function(M,D){y[D]=[M.position.x,M.position.y],v[D]=[N[L.get(M.nodeId)],O[L.get(M.nodeId)]]}),R=!0;else if(f.alignmentConstraint)!function(){var M=0;if(f.alignmentConstraint.vertical){for(var D=f.alignmentConstraint.vertical,x=function(V){var $=new Set;D[V].forEach(function(At){$.add(At)});var Mt,pt=new Set([].concat(g($)).filter(function(At){return H.has(At)}));Mt=pt.size>0?N[L.get(pt.values().next().value)]:wt($).x,D[V].forEach(function(At){y[M]=[Mt,O[L.get(At)]],v[M]=[N[L.get(At)],O[L.get(At)]],M++})},Y=0;Y<D.length;Y++)x(Y);R=!0}if(f.alignmentConstraint.horizontal){for(var b=f.alignmentConstraint.horizontal,Z=function(V){var $=new Set;b[V].forEach(function(At){$.add(At)});var Mt,pt=new Set([].concat(g($)).filter(function(At){return H.has(At)}));Mt=pt.size>0?N[L.get(pt.values().next().value)]:wt($).y,b[V].forEach(function(At){y[M]=[N[L.get(At)],Mt],v[M]=[N[L.get(At)],O[L.get(At)]],M++})},vt=0;vt<b.length;vt++)Z(vt);R=!0}f.relativePlacementConstraint&&(w=!0)}();else if(f.relativePlacementConstraint){for(var ot=0,z=0,st=0;st<k.length;st++)k[st].length>ot&&(ot=k[st].length,z=st);if(ot<P.size/2)J(f.relativePlacementConstraint),R=!1,w=!1;else{var j=new Map,C=new Map,B=[];k[z].forEach(function(M){X.get(M).forEach(function(D){"horizontal"==D.direction?(j.has(M)?j.get(M).push(D):j.set(M,[D]),j.has(D.id)||j.set(D.id,[]),B.push({left:M,right:D.id})):(C.has(M)?C.get(M).push(D):C.set(M,[D]),C.has(D.id)||C.set(D.id,[]),B.push({top:M,bottom:D.id}))})}),J(B),w=!1;var K=U(j,"horizontal"),at=U(C,"vertical");k[z].forEach(function(M,D){v[D]=[N[L.get(M)],O[L.get(M)]],y[D]=[],y[D][0]=K.has(M)?K.get(M):N[L.get(M)],y[D][1]=at.has(M)?at.get(M):O[L.get(M)]}),R=!0}}if(R){for(var Ct,_=l.transpose(y),bt=l.transpose(v),Rt=0;Rt<_.length;Rt++)_[Rt]=l.multGamma(_[Rt]),bt[Rt]=l.multGamma(bt[Rt]);var Wt=l.multMat(_,l.transpose(bt)),Ut=u.svd(Wt);Ct=l.multMat(Ut.V,l.transpose(Ut.U));for(var dt=0;dt<L.size;dt++){var p=[N[dt],O[dt]],G=[Ct[0][1],Ct[1][1]];N[dt]=l.dotProduct(p,[Ct[0][0],Ct[1][0]]),O[dt]=l.dotProduct(p,G)}w&&J(f.relativePlacementConstraint)}}if(e.ENFORCE_CONSTRAINTS){if(f.fixedNodeConstraint&&f.fixedNodeConstraint.length>0){var W={x:0,y:0};f.fixedNodeConstraint.forEach(function(M,D){var x={x:N[L.get(M.nodeId)],y:O[L.get(M.nodeId)]},b=function(D,x){return{x:D.x-x.x,y:D.y-x.y}}(M.position,x);W.x+=b.x,W.y+=b.y}),W.x/=f.fixedNodeConstraint.length,W.y/=f.fixedNodeConstraint.length,N.forEach(function(M,D){N[D]+=W.x}),O.forEach(function(M,D){O[D]+=W.y}),f.fixedNodeConstraint.forEach(function(M){N[L.get(M.nodeId)]=M.position.x,O[L.get(M.nodeId)]=M.position.y})}if(f.alignmentConstraint){if(f.alignmentConstraint.vertical)for(var tt=f.alignmentConstraint.vertical,Q=function(D){var x=new Set;tt[D].forEach(function(Z){x.add(Z)});var b,Y=new Set([].concat(g(x)).filter(function(Z){return H.has(Z)}));b=Y.size>0?N[L.get(Y.values().next().value)]:wt(x).x,x.forEach(function(Z){H.has(Z)||(N[L.get(Z)]=b)})},ut=0;ut<tt.length;ut++)Q(ut);if(f.alignmentConstraint.horizontal)for(var ht=f.alignmentConstraint.horizontal,mt=function(D){var x=new Set;ht[D].forEach(function(Z){x.add(Z)});var b,Y=new Set([].concat(g(x)).filter(function(Z){return H.has(Z)}));b=Y.size>0?O[L.get(Y.values().next().value)]:wt(x).y,x.forEach(function(Z){H.has(Z)||(O[L.get(Z)]=b)})},rt=0;rt<ht.length;rt++)mt(rt)}f.relativePlacementConstraint&&function(){var M=new Map,D=new Map,x=new Map,Y=new Map,b=new Map,Z=new Map,vt=new Set,nt=new Set;if(H.forEach(function(Xt){vt.add(Xt),nt.add(Xt)}),f.alignmentConstraint){if(f.alignmentConstraint.vertical)for(var V=f.alignmentConstraint.vertical,$=function(It){x.set("dummy"+It,[]),V[It].forEach(function(Ft){M.set(Ft,"dummy"+It),x.get("dummy"+It).push(Ft),H.has(Ft)&&vt.add("dummy"+It)}),b.set("dummy"+It,N[L.get(V[It][0])])},pt=0;pt<V.length;pt++)$(pt);if(f.alignmentConstraint.horizontal)for(var Mt=f.alignmentConstraint.horizontal,At=function(It){Y.set("dummy"+It,[]),Mt[It].forEach(function(Ft){D.set(Ft,"dummy"+It),Y.get("dummy"+It).push(Ft),H.has(Ft)&&nt.add("dummy"+It)}),Z.set("dummy"+It,O[L.get(Mt[It][0])])},Dt=0;Dt<Mt.length;Dt++)At(Dt)}var yt=new Map,Tt=new Map,Ot=function(It){X.get(It).forEach(function(Ft){var $t=void 0,zt=void 0;"horizontal"==Ft.direction?($t=M.get(It)?M.get(It):It,zt=M.get(Ft.id)?{id:M.get(Ft.id),gap:Ft.gap,direction:Ft.direction}:Ft,yt.has($t)?yt.get($t).push(zt):yt.set($t,[zt]),yt.has(zt.id)||yt.set(zt.id,[])):($t=D.get(It)?D.get(It):It,zt=D.get(Ft.id)?{id:D.get(Ft.id),gap:Ft.gap,direction:Ft.direction}:Ft,Tt.has($t)?Tt.get($t).push(zt):Tt.set($t,[zt]),Tt.has(zt.id)||Tt.set(zt.id,[]))})},Et=!0,Nt=!1,Yt=void 0;try{for(var St,xt=X.keys()[Symbol.iterator]();!(Et=(St=xt.next()).done);Et=!0)Ot(St.value)}catch(Xt){Nt=!0,Yt=Xt}finally{try{!Et&&xt.return&&xt.return()}finally{if(Nt)throw Yt}}var Pt=m(yt),Vt=m(Tt),Gt=a(Pt),Bt=a(Vt),Jt=s(yt),ee=s(Tt),Kt=[],Qt=[];Gt.forEach(function(Xt,It){Kt[It]=[],Xt.forEach(function(Ft){0==Jt.get(Ft).length&&Kt[It].push(Ft)})}),Bt.forEach(function(Xt,It){Qt[It]=[],Xt.forEach(function(Ft){0==ee.get(Ft).length&&Qt[It].push(Ft)})});var qt=U(yt,"horizontal",vt,b,Kt),Zt=U(Tt,"vertical",nt,Z,Qt),te=function(It){x.get(It)?x.get(It).forEach(function(Ft){N[L.get(Ft)]=qt.get(It)}):N[L.get(It)]=qt.get(It)},jt=!0,_t=!1,oe=void 0;try{for(var se,re=qt.keys()[Symbol.iterator]();!(jt=(se=re.next()).done);jt=!0)te(se.value)}catch(Xt){_t=!0,oe=Xt}finally{try{!jt&&re.return&&re.return()}finally{if(_t)throw oe}}var ce=function(It){Y.get(It)?Y.get(It).forEach(function(Ft){O[L.get(Ft)]=Zt.get(It)}):O[L.get(It)]=Zt.get(It)},ae=!0,he=!1,le=void 0;try{for(var fe,ne=Zt.keys()[Symbol.iterator]();!(ae=(fe=ne.next()).done);ae=!0)ce(fe.value)}catch(Xt){he=!0,le=Xt}finally{try{!ae&&ne.return&&ne.return()}finally{if(he)throw le}}}()}for(var it=0;it<q.length;it++){var lt=q[it];null==lt.getChild()&&lt.setCenter(N[L.get(lt.id)],O[L.get(lt.id)])}},o.exports=c},551:o=>{o.exports=F}},h={};return function n(o){var d=h[o];if(void 0!==d)return d.exports;var t=h[o]={exports:{}};return E[o](t,t.exports,n),t.exports}(45)})())}}]);
//# sourceMappingURL=699.f256f5d7dbb2aef1.js.map