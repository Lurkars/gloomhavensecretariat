"use strict";(self.webpackChunkgloomhavensecretariat=self.webpackChunkgloomhavensecretariat||[]).push([[233],{84:(ke,Q,p)=>{p.d(Q,{Ao:()=>v,Nt:()=>A,PC:()=>h,TH:()=>$,Yv:()=>R,lU:()=>W});var C=p(2909);const $=/\r?\n/gm,B=new C.H,M=new class S extends C.z{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(O){this.multiline=!1,this.regex=O,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(O){O.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(O){const g=String.fromCharCode(O.value);if(!this.multiline&&"\n"===g&&(this.multiline=!0),O.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const _=A(g);this.endRegexpStack.push(_),this.isStarting&&(this.startRegexp+=_)}}visitSet(O){if(!this.multiline){const g=this.regex.substring(O.loc.begin,O.loc.end),_=new RegExp(g);this.multiline=!!"\n".match(_)}if(O.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const g=this.regex.substring(O.loc.begin,O.loc.end);this.endRegexpStack.push(g),this.isStarting&&(this.startRegexp+=g)}}visitChildren(O){"Group"===O.type&&O.quantifier||super.visitChildren(O)}};function W(I){try{return"string"==typeof I&&(I=new RegExp(I)),I=I.toString(),M.reset(I),M.visit(B.pattern(I)),M.multiline}catch{return!1}}const H="\f\n\r\t\v \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".split("");function R(I){const O="string"==typeof I?new RegExp(I):I;return H.some(g=>O.test(g))}function A(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(I){return Array.prototype.map.call(I,O=>/\w/.test(O)?`[${O.toLowerCase()}${O.toUpperCase()}]`:A(O)).join("")}function h(I,O){const g=function y(I){"string"==typeof I&&(I=new RegExp(I));const O=I,g=I.source;let _=0;return new RegExp(function L(){let N,F="";function Z(he){F+=g.substr(_,he),_+=he}function oe(he){F+="(?:"+g.substr(_,he)+"|$)",_+=he}for(;_<g.length;)switch(g[_]){case"\\":switch(g[_+1]){case"c":oe(3);break;case"x":oe(4);break;case"u":oe(O.unicode?"{"===g[_+2]?g.indexOf("}",_)-_+1:6:2);break;case"p":case"P":oe(O.unicode?g.indexOf("}",_)-_+1:2);break;case"k":oe(g.indexOf(">",_)-_+1);break;default:oe(2)}break;case"[":N=/\[(?:\\.|.)*?\]/g,N.lastIndex=_,N=N.exec(g)||[],oe(N[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":Z(1);break;case"{":N=/\{\d+,?\d*\}/g,N.lastIndex=_,N=N.exec(g),N?Z(N[0].length):oe(1);break;case"(":if("?"===g[_+1])switch(g[_+2]){case":":F+="(?:",_+=3,F+=L()+"|$)";break;case"=":F+="(?=",_+=3,F+=L()+")";break;case"!":N=_,_+=3,L(),F+=g.substr(N,_-N);break;case"<":switch(g[_+3]){case"=":case"!":N=_,_+=4,L(),F+=g.substr(N,_-N);break;default:Z(g.indexOf(">",_)-_+1),F+=L()+"|$)"}}else Z(1),F+=L()+"|$)";break;case")":return++_,F;default:oe(1)}return F}(),I.flags)}(I),_=O.match(g);return!!_&&_[0].length>0}},178:(ke,Q,p)=>{p.d(Q,{L:()=>H,b:()=>R});var b,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),W=(class extends $.mR{constructor(){super(["gitGraph"])}static#e=b=()=>((0,C.A)(this,"GitGraphTokenBuilder"),(0,$.K2)(this,"GitGraphTokenBuilder"),this)},b()),H={parser:{TokenBuilder:(0,$.K2)(()=>new W,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new $.Tm,"ValueConverter")}};function R(A=M.D){const v=(0,S.WQ)((0,B.u)(A),$.sr),h=(0,S.WQ)((0,B.t)({shared:v}),$.eZ,H);return v.ServiceRegistry.register(h),{shared:v,GitGraph:h}}(0,$.K2)(R,"createGitGraphServices")},265:(ke,Q,p)=>{p.d(Q,{DM:()=>y,OP:()=>O,SD:()=>S,Uo:()=>A,VN:()=>R,XG:()=>M,YE:()=>W,cQ:()=>H,jm:()=>v});var C=p(7449),$=p(4193),B=p(807);function S(L){for(const[F,N]of Object.entries(L))F.startsWith("$")||(Array.isArray(N)?N.forEach((Z,oe)=>{(0,C.ng)(Z)&&(Z.$container=L,Z.$containerProperty=F,Z.$containerIndex=oe)}):(0,C.ng)(N)&&(N.$container=L,N.$containerProperty=F))}function M(L,F){let N=L;for(;N;){if(F(N))return N;N=N.$container}}function W(L){const N=H(L).$document;if(!N)throw new Error("AST node has no document.");return N}function H(L){for(;L.$container;)L=L.$container;return L}function R(L,F){if(!L)throw new Error("Node must be an AstNode.");const N=F?.range;return new $.fq(()=>({keys:Object.keys(L),keyIndex:0,arrayIndex:0}),Z=>{for(;Z.keyIndex<Z.keys.length;){const oe=Z.keys[Z.keyIndex];if(!oe.startsWith("$")){const he=L[oe];if((0,C.ng)(he)){if(Z.keyIndex++,h(he,N))return{done:!1,value:he}}else if(Array.isArray(he)){for(;Z.arrayIndex<he.length;){const re=he[Z.arrayIndex++];if((0,C.ng)(re)&&h(re,N))return{done:!1,value:re}}Z.arrayIndex=0}}Z.keyIndex++}return $.Rf})}function A(L,F){if(!L)throw new Error("Root node must be an AstNode.");return new $.Vj(L,N=>R(N,F))}function v(L,F){if(!L)throw new Error("Root node must be an AstNode.");return F?.range&&!h(L,F.range)?new $.Vj(L,()=>[]):new $.Vj(L,N=>R(N,F),{includeRoot:!0})}function h(L,F){var N;if(!F)return!0;const Z=null===(N=L.$cstNode)||void 0===N?void 0:N.range;return!!Z&&(0,B.r4)(Z,F)}function y(L){return new $.fq(()=>({keys:Object.keys(L),keyIndex:0,arrayIndex:0}),F=>{for(;F.keyIndex<F.keys.length;){const N=F.keys[F.keyIndex];if(!N.startsWith("$")){const Z=L[N];if((0,C.A_)(Z))return F.keyIndex++,{done:!1,value:{reference:Z,container:L,property:N}};if(Array.isArray(Z)){for(;F.arrayIndex<Z.length;){const oe=F.arrayIndex++,he=Z[oe];if((0,C.A_)(he))return{done:!1,value:{reference:he,container:L,property:N,index:oe}}}F.arrayIndex=0}}F.keyIndex++}return $.Rf})}function O(L,F){const N=L.getTypeMetaData(F.$type),Z=F;for(const oe of N.properties)void 0!==oe.defaultValue&&void 0===Z[oe.name]&&(Z[oe.name]=g(oe.defaultValue))}function g(L){return Array.isArray(L)?[...L.map(g)]:L}},300:(ke,Q,p)=>{p.d(Q,{A:()=>B});var C=p(2383);const B=function $(S){return null!=S&&S.length?(0,C.A)(S,1):[]}},362:(ke,Q)=>{let p;function C(){if(void 0===p)throw new Error("No runtime abstraction layer installed");return p}Object.defineProperty(Q,"__esModule",{value:!0}),(C||(C={})).install=function B(S){if(void 0===S)throw new Error("No runtime abstraction layer provided");p=S},Q.default=C},524:(ke,Q,p)=>{p.d(Q,{A:()=>$});const $=function C(B){var S=null==B?0:B.length;return S?B[S-1]:void 0}},785:(ke,Q,p)=>{p.d(Q,{A:()=>S});var C=p(2383),$=p(5644);const S=function B(M,b){return(0,C.A)((0,$.A)(M,b),1)}},807:(ke,Q,p)=>{p.d(Q,{El:()=>v,NS:()=>B,SX:()=>W,pO:()=>M,r4:()=>A,v:()=>y,wf:()=>b});var C=p(7449),$=p(4193);function B(K){return new $.Vj(K,re=>(0,C.mD)(re)?re.content:[],{includeRoot:!0})}function M(K,re){for(;K.container;)if((K=K.container)===re)return!0;return!1}function b(K){return{start:{character:K.startColumn-1,line:K.startLine-1},end:{character:K.endColumn,line:K.endLine-1}}}function W(K){if(!K)return;const{offset:re,end:fe,range:ye}=K;return{range:ye,offset:re,end:fe,length:fe-re}}var H=function(K){return K[K.Before=0]="Before",K[K.After=1]="After",K[K.OverlapFront=2]="OverlapFront",K[K.OverlapBack=3]="OverlapBack",K[K.Inside=4]="Inside",K[K.Outside=5]="Outside",K}(H||{});function A(K,re){return function R(K,re){if(K.end.line<re.start.line||K.end.line===re.start.line&&K.end.character<=re.start.character)return H.Before;if(K.start.line>re.end.line||K.start.line===re.end.line&&K.start.character>=re.end.character)return H.After;const fe=K.start.line>re.start.line||K.start.line===re.start.line&&K.start.character>=re.start.character,ye=K.end.line<re.end.line||K.end.line===re.end.line&&K.end.character<=re.end.character;return fe&&ye?H.Inside:fe?H.OverlapBack:ye?H.OverlapFront:H.Outside}(K,re)>H.After}const v=/^[\w\p{L}]$/u;function y(K,re){if(K){const fe=function L(K,re=!0){for(;K.container;){const fe=K.container;let ye=fe.content.indexOf(K);for(;ye>0;){ye--;const Se=fe.content[ye];if(re||!Se.hidden)return Se}K=fe}}(K,!0);if(fe&&I(fe,re))return fe;if((0,C.br)(K)){const ye=K.content.findIndex(Se=>!Se.hidden);for(let Se=ye-1;Se>=0;Se--){const ve=K.content[Se];if(I(ve,re))return ve}}}}function I(K,re){return(0,C.FC)(K)&&re.includes(K.tokenType.name)}},824:(ke,Q,p)=>{p.d(Q,{B:()=>A,f:()=>v});var b,W,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),H=(class extends $.mR{constructor(){super(["pie","showData"])}static#e=b=()=>((0,C.A)(this,"PieTokenBuilder"),(0,$.K2)(this,"PieTokenBuilder"),this)},b()),R=(class extends $.dg{runCustomConverter(h,y,I){if("PIE_SECTION_LABEL"===h.name)return y.replace(/"/g,"").trim()}static#e=W=()=>((0,C.A)(this,"PieValueConverter"),(0,$.K2)(this,"PieValueConverter"),this)},W()),A={parser:{TokenBuilder:(0,$.K2)(()=>new H,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new R,"ValueConverter")}};function v(h=M.D){const y=(0,S.WQ)((0,B.u)(h),$.sr),I=(0,S.WQ)((0,B.t)({shared:y}),$.KX,A);return y.ServiceRegistry.register(I),{shared:y,Pie:I}}(0,$.K2)(v,"createPieServices")},1326:(ke,Q,p)=>{function $(R,A,v,h,y,I,O,g,_){return M([R,A,v,h,y,I,O,g,_].reduce(H,{}))}p.d(Q,{WQ:()=>$});const B=Symbol("isProxy");function M(R,A){const v=new Proxy({},{deleteProperty:()=>!1,set:()=>{throw new Error("Cannot set property on injected service container")},get:(h,y)=>y===B||W(h,y,R,A||v),getOwnPropertyDescriptor:(h,y)=>(W(h,y,R,A||v),Object.getOwnPropertyDescriptor(h,y)),has:(h,y)=>y in R,ownKeys:()=>[...Object.getOwnPropertyNames(R)]});return v}const b=Symbol();function W(R,A,v,h){if(A in R){if(R[A]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:R[A]});if(R[A]===b)throw new Error('Cycle detected. Please make "'+String(A)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return R[A]}if(A in v){const y=v[A];R[A]=b;try{R[A]="function"==typeof y?y(h):M(y,h)}catch(I){throw R[A]=I instanceof Error?I:void 0,I}return R[A]}}function H(R,A){if(A)for(const[v,h]of Object.entries(A))if(void 0!==h){const y=R[v];R[v]=null!==y&&null!==h&&"object"==typeof y&&"object"==typeof h?H(y,h):h}return R}},1834:(ke,Q,p)=>{p.d(Q,{A:()=>M});var C=p(3185),$=p(4470),B=p(5618);const M=function S(b){return b&&b.length?(0,C.A)(b,B.A,$.A):void 0}},2138:(ke,Q,p)=>{p.d(Q,{A:()=>H});var C=p(6124),$=p(7622),B=p(1642),S=p(2813),M=Object.prototype,b=M.hasOwnProperty;const H=(0,C.A)(function(R,A){R=Object(R);var v=-1,h=A.length,y=h>2?A[2]:void 0;for(y&&(0,B.A)(A[0],A[1],y)&&(h=1);++v<h;)for(var I=A[v],O=(0,S.A)(I),g=-1,_=O.length;++g<_;){var L=O[g],F=R[L];(void 0===F||(0,$.A)(F,M[L])&&!b.call(R,L))&&(R[L]=I[L])}return R})},2233:(ke,Q,p)=>{p.d(Q,{qg:()=>I});var v,C=p(5027),$=p(9204),A=(p(178),p(2708),p(3941),p(824),p(9815),p(4770),p(2340),p(6911)),h={},y={info:(0,A.K2)((0,$.A)(function*(){const{createInfoServices:_}=yield p.e(742).then(p.bind(p,6742)),L=_().Info.parser.LangiumParser;h.info=L}),"info"),packet:(0,A.K2)((0,$.A)(function*(){const{createPacketServices:_}=yield p.e(550).then(p.bind(p,8550)),L=_().Packet.parser.LangiumParser;h.packet=L}),"packet"),pie:(0,A.K2)((0,$.A)(function*(){const{createPieServices:_}=yield p.e(642).then(p.bind(p,642)),L=_().Pie.parser.LangiumParser;h.pie=L}),"pie"),architecture:(0,A.K2)((0,$.A)(function*(){const{createArchitectureServices:_}=yield p.e(628).then(p.bind(p,2628)),L=_().Architecture.parser.LangiumParser;h.architecture=L}),"architecture"),gitGraph:(0,A.K2)((0,$.A)(function*(){const{createGitGraphServices:_}=yield p.e(662).then(p.bind(p,6662)),L=_().GitGraph.parser.LangiumParser;h.gitGraph=L}),"gitGraph"),radar:(0,A.K2)((0,$.A)(function*(){const{createRadarServices:_}=yield p.e(490).then(p.bind(p,8490)),L=_().Radar.parser.LangiumParser;h.radar=L}),"radar"),treemap:(0,A.K2)((0,$.A)(function*(){const{createTreemapServices:_}=yield p.e(306).then(p.bind(p,2306)),L=_().Treemap.parser.LangiumParser;h.treemap=L}),"treemap")};function I(_,L){return O.apply(this,arguments)}function O(){return(O=(0,$.A)(function*(_,L){const F=y[_];if(!F)throw new Error(`Unknown diagram type: ${_}`);h[_]||(yield F());const Z=h[_].parse(L);if(Z.lexerErrors.length>0||Z.parserErrors.length>0)throw new g(Z);return Z.value})).apply(this,arguments)}(0,A.K2)(I,"parse");var g=(class extends Error{constructor(_){super(`Parsing failed: ${_.lexerErrors.map(N=>N.message).join("\n")} ${_.parserErrors.map(N=>N.message).join("\n")}`),this.result=_}static#e=v=()=>((0,C.A)(this,"MermaidParseError"),(0,A.K2)(this,"MermaidParseError"),this)},v())},2240:(ke,Q,p)=>{Object.defineProperty(Q,"__esModule",{value:!0}),Q.Emitter=Q.Event=void 0;const C=p(362);var $;!function(M){const b={dispose(){}};M.None=function(){return b}}($||(Q.Event=$={}));class B{add(b,W=null,H){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(b),this._contexts.push(W),Array.isArray(H)&&H.push({dispose:()=>this.remove(b,W)})}remove(b,W=null){if(!this._callbacks)return;let H=!1;for(let R=0,A=this._callbacks.length;R<A;R++)if(this._callbacks[R]===b){if(this._contexts[R]===W)return this._callbacks.splice(R,1),void this._contexts.splice(R,1);H=!0}if(H)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...b){if(!this._callbacks)return[];const W=[],H=this._callbacks.slice(0),R=this._contexts.slice(0);for(let A=0,v=H.length;A<v;A++)try{W.push(H[A].apply(R[A],b))}catch(h){(0,C.default)().console.error(h)}return W}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class S{constructor(b){this._options=b}get event(){return this._event||(this._event=(b,W,H)=>{this._callbacks||(this._callbacks=new B),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(b,W);const R={dispose:()=>{this._callbacks&&(this._callbacks.remove(b,W),R.dispose=S._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(H)&&H.push(R),R}),this._event}fire(b){this._callbacks&&this._callbacks.invoke.call(this._callbacks,b)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Q.Emitter=S,S._noop=function(){}},2340:(ke,Q,p)=>{p.d(Q,{F:()=>I,d:()=>O});var b,W,H,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),R=(class extends $.mR{constructor(){super(["treemap"])}static#e=b=()=>((0,C.A)(this,"TreemapTokenBuilder"),(0,$.K2)(this,"TreemapTokenBuilder"),this)},b()),A=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,v=(class extends $.dg{runCustomConverter(g,_,L){if("NUMBER2"===g.name)return parseFloat(_.replace(/,/g,""));if("SEPARATOR"===g.name)return _.substring(1,_.length-1);if("STRING2"===g.name)return _.substring(1,_.length-1);if("INDENTATION"===g.name)return _.length;if("ClassDef"===g.name){if("string"!=typeof _)return _;const F=A.exec(_);if(F)return{$type:"ClassDefStatement",className:F[1],styleText:F[2]||void 0}}}static#e=W=()=>((0,C.A)(this,"TreemapValueConverter"),(0,$.K2)(this,"TreemapValueConverter"),this)},W());function h(g){const _=g.validation.TreemapValidator,L=g.validation.ValidationRegistry;if(L){const F={Treemap:_.checkSingleRoot.bind(_)};L.register(F,_)}}(0,$.K2)(h,"registerValidationChecks");var y=(class{checkSingleRoot(g,_){let L;for(const F of g.TreemapRows)F.item&&(void 0===L&&void 0===F.indent?L=0:(void 0===F.indent||void 0!==L&&L>=parseInt(F.indent,10))&&_("error","Multiple root nodes are not allowed in a treemap.",{node:F,property:"item"}))}static#e=H=()=>((0,C.A)(this,"TreemapValidator"),(0,$.K2)(this,"TreemapValidator"),this)},H()),I={parser:{TokenBuilder:(0,$.K2)(()=>new R,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new v,"ValueConverter")},validation:{TreemapValidator:(0,$.K2)(()=>new y,"TreemapValidator")}};function O(g=M.D){const _=(0,S.WQ)((0,B.u)(g),$.sr),L=(0,S.WQ)((0,B.t)({shared:_}),$.eV,I);return _.ServiceRegistry.register(L),h(L),{shared:_,Treemap:L}}(0,$.K2)(O,"createTreemapServices")},2510:(ke,Q,p)=>{var C;p.d(Q,{A:()=>B,r:()=>$}),(()=>{var S={470:H=>{function R(h){if("string"!=typeof h)throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}function A(h,y){for(var I,O="",g=0,_=-1,L=0,F=0;F<=h.length;++F){if(F<h.length)I=h.charCodeAt(F);else{if(47===I)break;I=47}if(47===I){if(_!==F-1&&1!==L)if(_!==F-1&&2===L){if(O.length<2||2!==g||46!==O.charCodeAt(O.length-1)||46!==O.charCodeAt(O.length-2))if(O.length>2){var N=O.lastIndexOf("/");if(N!==O.length-1){-1===N?(O="",g=0):g=(O=O.slice(0,N)).length-1-O.lastIndexOf("/"),_=F,L=0;continue}}else if(2===O.length||1===O.length){O="",g=0,_=F,L=0;continue}y&&(O.length>0?O+="/..":O="..",g=2)}else O.length>0?O+="/"+h.slice(_+1,F):O=h.slice(_+1,F),g=F-_-1;_=F,L=0}else 46===I&&-1!==L?++L:L=-1}return O}var v={resolve:function(){for(var h,y="",I=!1,O=arguments.length-1;O>=-1&&!I;O--){var g;O>=0?g=arguments[O]:(void 0===h&&(h=process.cwd()),g=h),R(g),0!==g.length&&(y=g+"/"+y,I=47===g.charCodeAt(0))}return y=A(y,!I),I?y.length>0?"/"+y:"/":y.length>0?y:"."},normalize:function(h){if(R(h),0===h.length)return".";var y=47===h.charCodeAt(0),I=47===h.charCodeAt(h.length-1);return 0!==(h=A(h,!y)).length||y||(h="."),h.length>0&&I&&(h+="/"),y?"/"+h:h},isAbsolute:function(h){return R(h),h.length>0&&47===h.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var h,y=0;y<arguments.length;++y){var I=arguments[y];R(I),I.length>0&&(void 0===h?h=I:h+="/"+I)}return void 0===h?".":v.normalize(h)},relative:function(h,y){if(R(h),R(y),h===y||(h=v.resolve(h))===(y=v.resolve(y)))return"";for(var I=1;I<h.length&&47===h.charCodeAt(I);++I);for(var O=h.length,g=O-I,_=1;_<y.length&&47===y.charCodeAt(_);++_);for(var L=y.length-_,F=g<L?g:L,N=-1,Z=0;Z<=F;++Z){if(Z===F){if(L>F){if(47===y.charCodeAt(_+Z))return y.slice(_+Z+1);if(0===Z)return y.slice(_+Z)}else g>F&&(47===h.charCodeAt(I+Z)?N=Z:0===Z&&(N=0));break}var oe=h.charCodeAt(I+Z);if(oe!==y.charCodeAt(_+Z))break;47===oe&&(N=Z)}var he="";for(Z=I+N+1;Z<=O;++Z)Z!==O&&47!==h.charCodeAt(Z)||(he+=0===he.length?"..":"/..");return he.length>0?he+y.slice(_+N):(47===y.charCodeAt(_+=N)&&++_,y.slice(_))},_makeLong:function(h){return h},dirname:function(h){if(R(h),0===h.length)return".";for(var y=h.charCodeAt(0),I=47===y,O=-1,g=!0,_=h.length-1;_>=1;--_)if(47===(y=h.charCodeAt(_))){if(!g){O=_;break}}else g=!1;return-1===O?I?"/":".":I&&1===O?"//":h.slice(0,O)},basename:function(h,y){if(void 0!==y&&"string"!=typeof y)throw new TypeError('"ext" argument must be a string');R(h);var I,O=0,g=-1,_=!0;if(void 0!==y&&y.length>0&&y.length<=h.length){if(y.length===h.length&&y===h)return"";var L=y.length-1,F=-1;for(I=h.length-1;I>=0;--I){var N=h.charCodeAt(I);if(47===N){if(!_){O=I+1;break}}else-1===F&&(_=!1,F=I+1),L>=0&&(N===y.charCodeAt(L)?-1==--L&&(g=I):(L=-1,g=F))}return O===g?g=F:-1===g&&(g=h.length),h.slice(O,g)}for(I=h.length-1;I>=0;--I)if(47===h.charCodeAt(I)){if(!_){O=I+1;break}}else-1===g&&(_=!1,g=I+1);return-1===g?"":h.slice(O,g)},extname:function(h){R(h);for(var y=-1,I=0,O=-1,g=!0,_=0,L=h.length-1;L>=0;--L){var F=h.charCodeAt(L);if(47!==F)-1===O&&(g=!1,O=L+1),46===F?-1===y?y=L:1!==_&&(_=1):-1!==y&&(_=-1);else if(!g){I=L+1;break}}return-1===y||-1===O||0===_||1===_&&y===O-1&&y===I+1?"":h.slice(y,O)},format:function(h){if(null===h||"object"!=typeof h)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return g=(I=h).base||(I.name||"")+(I.ext||""),(O=I.dir||I.root)?O===I.root?O+g:O+"/"+g:g;var I,O,g},parse:function(h){R(h);var y={root:"",dir:"",base:"",ext:"",name:""};if(0===h.length)return y;var I,O=h.charCodeAt(0),g=47===O;g?(y.root="/",I=1):I=0;for(var _=-1,L=0,F=-1,N=!0,Z=h.length-1,oe=0;Z>=I;--Z)if(47!==(O=h.charCodeAt(Z)))-1===F&&(N=!1,F=Z+1),46===O?-1===_?_=Z:1!==oe&&(oe=1):-1!==_&&(oe=-1);else if(!N){L=Z+1;break}return-1===_||-1===F||0===oe||1===oe&&_===F-1&&_===L+1?-1!==F&&(y.base=y.name=h.slice(0===L&&g?1:L,F)):(0===L&&g?(y.name=h.slice(1,_),y.base=h.slice(1,F)):(y.name=h.slice(L,_),y.base=h.slice(L,F)),y.ext=h.slice(_,F)),L>0?y.dir=h.slice(0,L-1):g&&(y.dir="/"),y},sep:"/",delimiter:":",win32:null,posix:null};v.posix=v,H.exports=v}},M={};function b(H){var R=M[H];if(void 0!==R)return R.exports;var A=M[H]={exports:{}};return S[H](A,A.exports,b),A.exports}b.d=(H,R)=>{for(var A in R)b.o(R,A)&&!b.o(H,A)&&Object.defineProperty(H,A,{enumerable:!0,get:R[A]})},b.o=(H,R)=>Object.prototype.hasOwnProperty.call(H,R),b.r=H=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(H,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(H,"__esModule",{value:!0})};var W={};(()=>{let H;b.r(W),b.d(W,{URI:()=>g,Utils:()=>Ke}),"object"==typeof process?H="win32"===process.platform:"object"==typeof navigator&&(H=navigator.userAgent.indexOf("Windows")>=0);const R=/^\w[\w\d+.-]*$/,A=/^\//,v=/^\/\//;function h(ee,Y){if(!ee.scheme&&Y)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ee.authority}", path: "${ee.path}", query: "${ee.query}", fragment: "${ee.fragment}"}`);if(ee.scheme&&!R.test(ee.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ee.path)if(ee.authority){if(!A.test(ee.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(ee.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const y="",I="/",O=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class g{static isUri(Y){return Y instanceof g||!!Y&&"string"==typeof Y.authority&&"string"==typeof Y.fragment&&"string"==typeof Y.path&&"string"==typeof Y.query&&"string"==typeof Y.scheme&&"string"==typeof Y.fsPath&&"function"==typeof Y.with&&"function"==typeof Y.toString}scheme;authority;path;query;fragment;constructor(Y,le,ae,Te,Re,ce=!1){"object"==typeof Y?(this.scheme=Y.scheme||y,this.authority=Y.authority||y,this.path=Y.path||y,this.query=Y.query||y,this.fragment=Y.fragment||y):(this.scheme=function(Ze,Ne){return Ze||Ne?Ze:"file"}(Y,ce),this.authority=le||y,this.path=function(Ze,Ne){switch(Ze){case"https":case"http":case"file":Ne?Ne[0]!==I&&(Ne=I+Ne):Ne=I}return Ne}(this.scheme,ae||y),this.query=Te||y,this.fragment=Re||y,h(this,ce))}get fsPath(){return oe(this,!1)}with(Y){if(!Y)return this;let{scheme:le,authority:ae,path:Te,query:Re,fragment:ce}=Y;return void 0===le?le=this.scheme:null===le&&(le=y),void 0===ae?ae=this.authority:null===ae&&(ae=y),void 0===Te?Te=this.path:null===Te&&(Te=y),void 0===Re?Re=this.query:null===Re&&(Re=y),void 0===ce?ce=this.fragment:null===ce&&(ce=y),le===this.scheme&&ae===this.authority&&Te===this.path&&Re===this.query&&ce===this.fragment?this:new L(le,ae,Te,Re,ce)}static parse(Y,le=!1){const ae=O.exec(Y);return ae?new L(ae[2]||y,fe(ae[4]||y),fe(ae[5]||y),fe(ae[7]||y),fe(ae[9]||y),le):new L(y,y,y,y,y)}static file(Y){let le=y;if(H&&(Y=Y.replace(/\\/g,I)),Y[0]===I&&Y[1]===I){const ae=Y.indexOf(I,2);-1===ae?(le=Y.substring(2),Y=I):(le=Y.substring(2,ae),Y=Y.substring(ae)||I)}return new L("file",le,Y,y,y)}static from(Y){const le=new L(Y.scheme,Y.authority,Y.path,Y.query,Y.fragment);return h(le,!0),le}toString(Y=!1){return he(this,Y)}toJSON(){return this}static revive(Y){if(Y){if(Y instanceof g)return Y;{const le=new L(Y);return le._formatted=Y.external,le._fsPath=Y._sep===_?Y.fsPath:null,le}}return Y}}const _=H?1:void 0;class L extends g{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=oe(this,!1)),this._fsPath}toString(Y=!1){return Y?he(this,!0):(this._formatted||(this._formatted=he(this,!1)),this._formatted)}toJSON(){const Y={$mid:1};return this._fsPath&&(Y.fsPath=this._fsPath,Y._sep=_),this._formatted&&(Y.external=this._formatted),this.path&&(Y.path=this.path),this.scheme&&(Y.scheme=this.scheme),this.authority&&(Y.authority=this.authority),this.query&&(Y.query=this.query),this.fragment&&(Y.fragment=this.fragment),Y}}const F={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function N(ee,Y,le){let ae,Te=-1;for(let Re=0;Re<ee.length;Re++){const ce=ee.charCodeAt(Re);if(ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||45===ce||46===ce||95===ce||126===ce||Y&&47===ce||le&&91===ce||le&&93===ce||le&&58===ce)-1!==Te&&(ae+=encodeURIComponent(ee.substring(Te,Re)),Te=-1),void 0!==ae&&(ae+=ee.charAt(Re));else{void 0===ae&&(ae=ee.substr(0,Re));const Ze=F[ce];void 0!==Ze?(-1!==Te&&(ae+=encodeURIComponent(ee.substring(Te,Re)),Te=-1),ae+=Ze):-1===Te&&(Te=Re)}}return-1!==Te&&(ae+=encodeURIComponent(ee.substring(Te))),void 0!==ae?ae:ee}function Z(ee){let Y;for(let le=0;le<ee.length;le++){const ae=ee.charCodeAt(le);35===ae||63===ae?(void 0===Y&&(Y=ee.substr(0,le)),Y+=F[ae]):void 0!==Y&&(Y+=ee[le])}return void 0!==Y?Y:ee}function oe(ee,Y){let le;return le=ee.authority&&ee.path.length>1&&"file"===ee.scheme?`//${ee.authority}${ee.path}`:47===ee.path.charCodeAt(0)&&(ee.path.charCodeAt(1)>=65&&ee.path.charCodeAt(1)<=90||ee.path.charCodeAt(1)>=97&&ee.path.charCodeAt(1)<=122)&&58===ee.path.charCodeAt(2)?Y?ee.path.substr(1):ee.path[1].toLowerCase()+ee.path.substr(2):ee.path,H&&(le=le.replace(/\//g,"\\")),le}function he(ee,Y){const le=Y?Z:N;let ae="",{scheme:Te,authority:Re,path:ce,query:Ze,fragment:Ne}=ee;if(Te&&(ae+=Te,ae+=":"),(Re||"file"===Te)&&(ae+=I,ae+=I),Re){let Pe=Re.indexOf("@");if(-1!==Pe){const ot=Re.substr(0,Pe);Re=Re.substr(Pe+1),Pe=ot.lastIndexOf(":"),-1===Pe?ae+=le(ot,!1,!1):(ae+=le(ot.substr(0,Pe),!1,!1),ae+=":",ae+=le(ot.substr(Pe+1),!1,!0)),ae+="@"}Re=Re.toLowerCase(),Pe=Re.lastIndexOf(":"),-1===Pe?ae+=le(Re,!1,!0):(ae+=le(Re.substr(0,Pe),!1,!0),ae+=Re.substr(Pe))}if(ce){if(ce.length>=3&&47===ce.charCodeAt(0)&&58===ce.charCodeAt(2)){const Pe=ce.charCodeAt(1);Pe>=65&&Pe<=90&&(ce=`/${String.fromCharCode(Pe+32)}:${ce.substr(3)}`)}else if(ce.length>=2&&58===ce.charCodeAt(1)){const Pe=ce.charCodeAt(0);Pe>=65&&Pe<=90&&(ce=`${String.fromCharCode(Pe+32)}:${ce.substr(2)}`)}ae+=le(ce,!0,!1)}return Ze&&(ae+="?",ae+=le(Ze,!1,!1)),Ne&&(ae+="#",ae+=Y?Ne:N(Ne,!1,!1)),ae}function K(ee){try{return decodeURIComponent(ee)}catch{return ee.length>3?ee.substr(0,3)+K(ee.substr(3)):ee}}const re=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function fe(ee){return ee.match(re)?ee.replace(re,Y=>K(Y)):ee}var ye=b(470);const Se=ye.posix||ye;var Ke,ee;(ee=Ke||(Ke={})).joinPath=function(Y,...le){return Y.with({path:Se.join(Y.path,...le)})},ee.resolvePath=function(Y,...le){let ae=Y.path,Te=!1;"/"!==ae[0]&&(ae="/"+ae,Te=!0);let Re=Se.resolve(ae,...le);return Te&&"/"===Re[0]&&!Y.authority&&(Re=Re.substring(1)),Y.with({path:Re})},ee.dirname=function(Y){if(0===Y.path.length||"/"===Y.path)return Y;let le=Se.dirname(Y.path);return 1===le.length&&46===le.charCodeAt(0)&&(le=""),Y.with({path:le})},ee.basename=function(Y){return Se.basename(Y.path)},ee.extname=function(Y){return Se.extname(Y.path)}})(),C=W})();const{URI:$,Utils:B}=C},2708:(ke,Q,p)=>{p.d(Q,{p:()=>H,v:()=>R});var b,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),W=(class extends $.mR{constructor(){super(["info","showInfo"])}static#e=b=()=>((0,C.A)(this,"InfoTokenBuilder"),(0,$.K2)(this,"InfoTokenBuilder"),this)},b()),H={parser:{TokenBuilder:(0,$.K2)(()=>new W,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new $.Tm,"ValueConverter")}};function R(A=M.D){const v=(0,S.WQ)((0,B.u)(A),$.sr),h=(0,S.WQ)((0,B.t)({shared:v}),$.e5,H);return v.ServiceRegistry.register(h),{shared:v,Info:h}}(0,$.K2)(R,"createInfoServices")},2724:(ke,Q,p)=>{p.d(Q,{A:()=>h});var C=p(6177),$=p(8200),B=p(9892);var b=p(4681),W=p(3531),H=Math.max;const h=function S(y){return function(I,O,g){var _=Object(I);if(!(0,$.A)(I)){var L=(0,C.A)(O,3);I=(0,B.A)(I),O=function(N){return L(_[N],N,_)}}var F=y(I,O,g);return F>-1?_[L?I[F]:F]:void 0}}(function R(y,I,O){var g=null==y?0:y.length;if(!g)return-1;var _=null==O?0:(0,W.A)(O);return _<0&&(_=H(g+_,0)),(0,b.A)(y,(0,C.A)(I,3),_)})},2909:(ke,Q,p)=>{function C(O){return O.charCodeAt(0)}function $(O,g){Array.isArray(O)?O.forEach(function(_){g.push(_)}):g.push(O)}function B(O,g){if(!0===O[g])throw"duplicate flag "+g;O[g]=!0}function S(O){if(void 0===O)throw Error("Internal Error - Should never get here!");return!0}function M(){throw Error("Internal Error - Should never get here!")}function b(O){return"Character"===O.type}p.d(Q,{z:()=>I,H:()=>y});const W=[];for(let O=C("0");O<=C("9");O++)W.push(O);const H=[C("_")].concat(W);for(let O=C("a");O<=C("z");O++)H.push(O);for(let O=C("A");O<=C("Z");O++)H.push(O);const R=[C(" "),C("\f"),C("\n"),C("\r"),C("\t"),C("\v"),C("\t"),C("\xa0"),C("\u1680"),C("\u2000"),C("\u2001"),C("\u2002"),C("\u2003"),C("\u2004"),C("\u2005"),C("\u2006"),C("\u2007"),C("\u2008"),C("\u2009"),C("\u200a"),C("\u2028"),C("\u2029"),C("\u202f"),C("\u205f"),C("\u3000"),C("\ufeff")],A=/[0-9a-fA-F]/,v=/[0-9]/,h=/[1-9]/;class y{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(g){this.idx=g.idx,this.input=g.input,this.groupIdx=g.groupIdx}pattern(g){this.idx=0,this.input=g,this.groupIdx=0,this.consumeChar("/");const _=this.disjunction();this.consumeChar("/");const L={type:"Flags",loc:{begin:this.idx,end:g.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":B(L,"global");break;case"i":B(L,"ignoreCase");break;case"m":B(L,"multiLine");break;case"u":B(L,"unicode");break;case"y":B(L,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:L,value:_,loc:this.loc(0)}}disjunction(){const g=[],_=this.idx;for(g.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),g.push(this.alternative());return{type:"Disjunction",value:g,loc:this.loc(_)}}alternative(){const g=[],_=this.idx;for(;this.isTerm();)g.push(this.term());return{type:"Alternative",value:g,loc:this.loc(_)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const g=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(g)};case"$":return{type:"EndAnchor",loc:this.loc(g)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(g)};case"B":return{type:"NonWordBoundary",loc:this.loc(g)}}throw Error("Invalid Assertion Escape");case"(":let _;switch(this.consumeChar("?"),this.popChar()){case"=":_="Lookahead";break;case"!":_="NegativeLookahead"}S(_);const L=this.disjunction();return this.consumeChar(")"),{type:_,value:L,loc:this.loc(g)}}return M()}quantifier(g=!1){let _;const L=this.idx;switch(this.popChar()){case"*":_={atLeast:0,atMost:1/0};break;case"+":_={atLeast:1,atMost:1/0};break;case"?":_={atLeast:0,atMost:1};break;case"{":const F=this.integerIncludingZero();switch(this.popChar()){case"}":_={atLeast:F,atMost:F};break;case",":let N;this.isDigit()?(N=this.integerIncludingZero(),_={atLeast:F,atMost:N}):_={atLeast:F,atMost:1/0},this.consumeChar("}")}if(!0===g&&void 0===_)return;S(_)}if((!0!==g||void 0!==_)&&S(_))return"?"===this.peekChar(0)?(this.consumeChar("?"),_.greedy=!1):_.greedy=!0,_.type="Quantifier",_.loc=this.loc(L),_}atom(){let g;const _=this.idx;switch(this.peekChar()){case".":g=this.dotAll();break;case"\\":g=this.atomEscape();break;case"[":g=this.characterClass();break;case"(":g=this.group()}return void 0===g&&this.isPatternCharacter()&&(g=this.patternCharacter()),S(g)?(g.loc=this.loc(_),this.isQuantifier()&&(g.quantifier=this.quantifier()),g):M()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[C("\n"),C("\r"),C("\u2028"),C("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let g,_=!1;switch(this.popChar()){case"d":g=W;break;case"D":g=W,_=!0;break;case"s":g=R;break;case"S":g=R,_=!0;break;case"w":g=H;break;case"W":g=H,_=!0}return S(g)?{type:"Set",value:g,complement:_}:M()}controlEscapeAtom(){let g;switch(this.popChar()){case"f":g=C("\f");break;case"n":g=C("\n");break;case"r":g=C("\r");break;case"t":g=C("\t");break;case"v":g=C("\v")}return S(g)?{type:"Character",value:g}:M()}controlLetterEscapeAtom(){this.consumeChar("c");const g=this.popChar();if(!1===/[a-zA-Z]/.test(g))throw Error("Invalid ");return{type:"Character",value:g.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:C("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:C(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:C(this.popChar())}}}characterClass(){const g=[];let _=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),_=!0);this.isClassAtom();){const L=this.classAtom();if(b(L)&&this.isRangeDash()){this.consumeChar("-");const N=this.classAtom();if(b(N)){if(N.value<L.value)throw Error("Range out of order in character class");g.push({from:L.value,to:N.value})}else $(L.value,g),g.push(C("-")),$(N.value,g)}else $(L.value,g)}return this.consumeChar("]"),{type:"Set",complement:_,value:g}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:C("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let g=!0;"?"===(this.consumeChar("("),this.peekChar(0))?(this.consumeChar("?"),this.consumeChar(":"),g=!1):this.groupIdx++;const _=this.disjunction();this.consumeChar(")");const L={type:"Group",capturing:g,value:_};return g&&(L.idx=this.groupIdx),L}positiveInteger(){let g=this.popChar();if(!1===h.test(g))throw Error("Expecting a positive integer");for(;v.test(this.peekChar(0));)g+=this.popChar();return parseInt(g,10)}integerIncludingZero(){let g=this.popChar();if(!1===v.test(g))throw Error("Expecting an integer");for(;v.test(this.peekChar(0));)g+=this.popChar();return parseInt(g,10)}patternCharacter(){const g=this.popChar();switch(g){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:C(g)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return v.test(this.peekChar(0))}isClassAtom(g=0){switch(this.peekChar(g)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){const g=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(g)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(g){let _="";for(let F=0;F<g;F++){const N=this.popChar();if(!1===A.test(N))throw Error("Expecting a HexDecimal digits");_+=N}return{type:"Character",value:parseInt(_,16)}}peekChar(g=0){return this.input[this.idx+g]}popChar(){const g=this.peekChar(0);return this.consumeChar(void 0),g}consumeChar(g){if(void 0!==g&&this.input[this.idx]!==g)throw Error("Expected: '"+g+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(g){return{begin:g,end:this.idx}}}class I{visitChildren(g){for(const _ in g){const L=g[_];g.hasOwnProperty(_)&&(void 0!==L.type?this.visit(L):Array.isArray(L)&&L.forEach(F=>{this.visit(F)},this))}}visit(g){switch(g.type){case"Pattern":this.visitPattern(g);break;case"Flags":this.visitFlags(g);break;case"Disjunction":this.visitDisjunction(g);break;case"Alternative":this.visitAlternative(g);break;case"StartAnchor":this.visitStartAnchor(g);break;case"EndAnchor":this.visitEndAnchor(g);break;case"WordBoundary":this.visitWordBoundary(g);break;case"NonWordBoundary":this.visitNonWordBoundary(g);break;case"Lookahead":this.visitLookahead(g);break;case"NegativeLookahead":this.visitNegativeLookahead(g);break;case"Character":this.visitCharacter(g);break;case"Set":this.visitSet(g);break;case"Group":this.visitGroup(g);break;case"GroupBackReference":this.visitGroupBackReference(g);break;case"Quantifier":this.visitQuantifier(g)}this.visitChildren(g)}visitPattern(g){}visitFlags(g){}visitDisjunction(g){}visitAlternative(g){}visitStartAnchor(g){}visitEndAnchor(g){}visitWordBoundary(g){}visitNonWordBoundary(g){}visitLookahead(g){}visitNegativeLookahead(g){}visitCharacter(g){}visitSet(g){}visitGroup(g){}visitGroupBackReference(g){}visitQuantifier(g){}}},2917:(ke,Q,p)=>{p.d(Q,{$g:()=>_t,Bg:()=>wn,Ct:()=>Ze,Cz:()=>oe,D8:()=>Me,FO:()=>bn,Fy:()=>Fn,GL:()=>yn,IZ:()=>Dn,Mz:()=>Ut,O4:()=>An,QX:()=>Le,RP:()=>fe,S2:()=>ae,SP:()=>Y,TF:()=>Qe,Tu:()=>K,Xj:()=>qt,_c:()=>Mn,cY:()=>Ge,fG:()=>Ee,jp:()=>Ln,lF:()=>Un,r1:()=>g,rE:()=>On,s7:()=>G,vd:()=>tn,ve:()=>an,wb:()=>en,wh:()=>Pn,z2:()=>Yt});var C=p(7449);const B="AbstractRule",M="AbstractType",W="Condition",v="TypeDefinition",y="ValueLiteral",O="AbstractElement";function g(V){return te.isInstance(V,O)}const _="ArrayLiteral",F="ArrayType",Z="BooleanLiteral";function oe(V){return te.isInstance(V,Z)}const he="Conjunction";function K(V){return te.isInstance(V,he)}const re="Disjunction";function fe(V){return te.isInstance(V,re)}const ye="Grammar",ve="GrammarImport",ee="InferredType";function Y(V){return te.isInstance(V,ee)}const le="Interface";function ae(V){return te.isInstance(V,le)}const Te="NamedArgument",ce="Negation";function Ze(V){return te.isInstance(V,ce)}const Ne="NumberLiteral",ot="Parameter",Fe="ParameterReference";function Qe(V){return te.isInstance(V,Fe)}const k="ParserRule";function G(V){return te.isInstance(V,k)}const z="ReferenceType",ue="ReturnType";function Ee(V){return te.isInstance(V,ue)}const _e="SimpleType";function Me(V){return te.isInstance(V,_e)}const Rt="StringLiteral",lt="TerminalRule";function On(V){return te.isInstance(V,lt)}const yt="Type";function qt(V){return te.isInstance(V,yt)}const St="TypeAttribute",Nt="UnionType",Ot="Action";function an(V){return te.isInstance(V,Ot)}const Lt="Alternatives";function Ln(V){return te.isInstance(V,Lt)}const We="Assignment";function Pn(V){return te.isInstance(V,We)}const Et="CharacterRange";function wn(V){return te.isInstance(V,Et)}const bt="CrossReference";function Mn(V){return te.isInstance(V,bt)}const qe="EndOfFile";function bn(V){return te.isInstance(V,qe)}const At="Group";function Dn(V){return te.isInstance(V,At)}const ut="Keyword";function en(V){return te.isInstance(V,ut)}const Dt="NegatedToken";function yn(V){return te.isInstance(V,Dt)}const Ft="RegexToken";function tn(V){return te.isInstance(V,Ft)}const rt="RuleCall";function _t(V){return te.isInstance(V,rt)}const Vt="TerminalAlternatives";function Fn(V){return te.isInstance(V,Vt)}const Ht="TerminalGroup";function An(V){return te.isInstance(V,Ht)}const zt="TerminalRuleCall";function Un(V){return te.isInstance(V,zt)}const Xt="UnorderedGroup";function Ge(V){return te.isInstance(V,Xt)}const ct="UntilToken";function Ut(V){return te.isInstance(V,ct)}const Ct="Wildcard";function Yt(V){return te.isInstance(V,Ct)}class Le extends C.kD{getAllTypes(){return[O,B,M,Ot,Lt,_,F,We,Z,Et,W,he,bt,re,qe,ye,ve,At,ee,le,ut,Te,Dt,ce,Ne,ot,Fe,k,z,Ft,ue,rt,_e,Rt,Vt,Ht,lt,zt,yt,St,v,Nt,Xt,ct,y,Ct]}computeIsSubtype(me,Ce){switch(me){case Ot:case Lt:case We:case Et:case bt:case qe:case At:case ut:case Dt:case Ft:case rt:case Vt:case Ht:case zt:case Xt:case ct:case Ct:return this.isSubtype(O,Ce);case _:case Ne:case Rt:return this.isSubtype(y,Ce);case F:case z:case _e:case Nt:return this.isSubtype(v,Ce);case Z:return this.isSubtype(W,Ce)||this.isSubtype(y,Ce);case he:case re:case ce:case Fe:return this.isSubtype(W,Ce);case ee:case le:case yt:return this.isSubtype(M,Ce);case k:return this.isSubtype(B,Ce)||this.isSubtype(M,Ce);case lt:return this.isSubtype(B,Ce);default:return!1}}getReferenceType(me){const Ce=`${me.container.$type}:${me.property}`;switch(Ce){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return M;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return B;case"Grammar:usedGrammars":return ye;case"NamedArgument:parameter":case"ParameterReference:parameter":return ot;case"TerminalRuleCall:rule":return lt;default:throw new Error(`${Ce} is not a valid reference id.`)}}getTypeMetaData(me){switch(me){case O:return{name:O,properties:[{name:"cardinality"},{name:"lookahead"}]};case _:return{name:_,properties:[{name:"elements",defaultValue:[]}]};case F:return{name:F,properties:[{name:"elementType"}]};case Z:return{name:Z,properties:[{name:"true",defaultValue:!1}]};case he:return{name:he,properties:[{name:"left"},{name:"right"}]};case re:return{name:re,properties:[{name:"left"},{name:"right"}]};case ye:return{name:ye,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case ve:return{name:ve,properties:[{name:"path"}]};case ee:return{name:ee,properties:[{name:"name"}]};case le:return{name:le,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case Te:return{name:Te,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case ce:return{name:ce,properties:[{name:"value"}]};case Ne:return{name:Ne,properties:[{name:"value"}]};case ot:return{name:ot,properties:[{name:"name"}]};case Fe:return{name:Fe,properties:[{name:"parameter"}]};case k:return{name:k,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case z:return{name:z,properties:[{name:"referenceType"}]};case ue:return{name:ue,properties:[{name:"name"}]};case _e:return{name:_e,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Rt:return{name:Rt,properties:[{name:"value"}]};case lt:return{name:lt,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case yt:return{name:yt,properties:[{name:"name"},{name:"type"}]};case St:return{name:St,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Nt:return{name:Nt,properties:[{name:"types",defaultValue:[]}]};case Ot:return{name:Ot,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Lt:return{name:Lt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case We:return{name:We,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case Et:return{name:Et,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case bt:return{name:bt,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case qe:return{name:qe,properties:[{name:"cardinality"},{name:"lookahead"}]};case At:return{name:At,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case ut:return{name:ut,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Dt:return{name:Dt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Ft:return{name:Ft,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case rt:return{name:rt,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Vt:return{name:Vt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Ht:return{name:Ht,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case zt:return{name:zt,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case Xt:return{name:Xt,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case ct:return{name:ct,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Ct:return{name:Ct,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:me,properties:[]}}}}const te=new Le},3185:(ke,Q,p)=>{p.d(Q,{A:()=>B});var C=p(1200);const B=function $(S,M,b){for(var W=-1,H=S.length;++W<H;){var R=S[W],A=M(R);if(null!=A&&(void 0===v?A==A&&!(0,C.A)(A):b(A,v)))var v=A,h=R}return h}},3302:(ke,Q,p)=>{Q.Qi=Q.XO=void 0;const $=p(362),B=p(4221),S=p(2240);var M,R;(R=M||(Q.XO=M={})).None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:S.Event.None}),R.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:S.Event.None}),R.is=function A(v){const h=v;return h&&(h===R.None||h===R.Cancelled||B.boolean(h.isCancellationRequested)&&!!h.onCancellationRequested)};const b=Object.freeze(function(R,A){const v=(0,$.default)().timer.setTimeout(R.bind(A),0);return{dispose(){v.dispose()}}});class W{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?b:(this._emitter||(this._emitter=new S.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}Q.Qi=class H{get token(){return this._token||(this._token=new W),this._token}cancel(){this._token?this._token.cancel():this._token=M.Cancelled}dispose(){this._token?this._token instanceof W&&this._token.dispose():this._token=M.None}}},3460:(ke,Q,p)=>{p.d(Q,{Q:()=>W});var C=p(8693),$=p(2917),B=p(265),S=p(3528),M=p(84),b=p(4193);class W{constructor(){this.diagnostics=[]}buildTokens(R,A){const v=(0,b.Td)((0,S.YV)(R,!1)),h=this.buildTerminalTokens(v),y=this.buildKeywordTokens(v,h,A);return h.forEach(I=>{const O=I.PATTERN;"object"==typeof O&&O&&"test"in O&&(0,M.Yv)(O)?y.unshift(I):y.push(I)}),y}flushLexingReport(R){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){const R=[...this.diagnostics];return this.diagnostics=[],R}buildTerminalTokens(R){return R.filter($.rE).filter(A=>!A.fragment).map(A=>this.buildTerminalToken(A)).toArray()}buildTerminalToken(R){const A=(0,S.S)(R),v=this.requiresCustomPattern(A)?this.regexPatternFunction(A):A,h={name:R.name,PATTERN:v};return"function"==typeof v&&(h.LINE_BREAKS=!0),R.hidden&&(h.GROUP=(0,M.Yv)(A)?C.JG.SKIPPED:"hidden"),h}requiresCustomPattern(R){return!!(R.flags.includes("u")||R.flags.includes("s")||R.source.includes("?<=")||R.source.includes("?<!"))}regexPatternFunction(R){const A=new RegExp(R,R.flags+"y");return(v,h)=>(A.lastIndex=h,A.exec(v))}buildKeywordTokens(R,A,v){return R.filter($.s7).flatMap(h=>(0,B.Uo)(h).filter($.wb)).distinct(h=>h.value).toArray().sort((h,y)=>y.value.length-h.value.length).map(h=>this.buildKeywordToken(h,A,!!v?.caseInsensitive))}buildKeywordToken(R,A,v){const h=this.buildKeywordPattern(R,v),y={name:R.value,PATTERN:h,LONGER_ALT:this.findLongerAlt(R,A)};return"function"==typeof h&&(y.LINE_BREAKS=!0),y}buildKeywordPattern(R,A){return A?new RegExp((0,M.Ao)(R.value)):R.value}findLongerAlt(R,A){return A.reduce((v,h)=>{const y=h?.PATTERN;return y?.source&&(0,M.PC)("^"+y.source+"$",R.value)&&v.push(h),v},[])}}},3528:(ke,Q,p)=>{p.d(Q,{Bd:()=>y,P3:()=>ae,PV:()=>Ke,Rp:()=>F,S:()=>Te,SS:()=>_,U5:()=>N,Uz:()=>ee,Xq:()=>fe,YV:()=>R,eb:()=>h,g4:()=>v,qO:()=>I});var C=p(8586),$=p(2917),B=p(7449),S=p(265),M=p(807),b=p(84);function R(k,G){const z=new Set,pe=function W(k){return k.rules.find(G=>$.s7(G)&&G.entry)}(k);if(!pe)return new Set(k.rules);const ue=[pe].concat(function H(k){return k.rules.filter(G=>$.rE(G)&&G.hidden)}(k));for(const _e of ue)A(_e,z,G);const Ee=new Set;for(const _e of k.rules)(z.has(_e.name)||$.rE(_e)&&_e.hidden)&&Ee.add(_e);return Ee}function A(k,G,z){G.add(k.name),(0,S.Uo)(k).forEach(pe=>{if($.$g(pe)||z&&$.lF(pe)){const ue=pe.rule.ref;ue&&!G.has(ue.name)&&A(ue,G,z)}})}function v(k){if(k.terminal)return k.terminal;if(k.type.ref){const G=N(k.type.ref);return G?.terminal}}function h(k){return k.hidden&&!(0,b.Yv)(Te(k))}function y(k,G){return k&&G?O(k,G,k.astNode,!0):[]}function I(k,G,z){if(!k||!G)return;const pe=O(k,G,k.astNode,!0);return 0!==pe.length?pe[z=void 0!==z?Math.max(0,Math.min(z,pe.length-1)):0]:void 0}function O(k,G,z,pe){if(!pe){const ue=(0,S.XG)(k.grammarSource,$.wh);if(ue&&ue.feature===G)return[k]}return(0,B.mD)(k)&&k.astNode===z?k.content.flatMap(ue=>O(ue,G,z,!1)):[]}function _(k,G,z){if(!k)return;const pe=function L(k,G,z){if(k.astNode!==z)return[];if($.wb(k.grammarSource)&&k.grammarSource.value===G)return[k];const pe=(0,M.NS)(k).iterator();let ue;const Ee=[];do{if(ue=pe.next(),!ue.done){const _e=ue.value;_e.astNode===z?$.wb(_e.grammarSource)&&_e.grammarSource.value===G&&Ee.push(_e):pe.prune()}}while(!ue.done);return Ee}(k,G,k?.astNode);return 0!==pe.length?pe[z=void 0!==z?Math.max(0,Math.min(z,pe.length-1)):0]:void 0}function F(k){var G;const z=k.astNode;for(;z===(null===(G=k.container)||void 0===G?void 0:G.astNode);){const pe=(0,S.XG)(k.grammarSource,$.wh);if(pe)return pe;k=k.container}}function N(k){let G=k;return $.SP(G)&&($.ve(G.$container)?G=G.$container.$container:$.s7(G.$container)?G=G.$container:(0,C.d)(G.$container)),Z(k,G,new Map)}function Z(k,G,z){var pe;function ue(Ee,_e){let Me;return(0,S.XG)(Ee,$.wh)||(Me=Z(_e,_e,z)),z.set(k,Me),Me}if(z.has(k))return z.get(k);z.set(k,void 0);for(const Ee of(0,S.Uo)(G)){if($.wh(Ee)&&"name"===Ee.feature.toLowerCase())return z.set(k,Ee),Ee;if($.$g(Ee)&&$.s7(Ee.rule.ref))return ue(Ee,Ee.rule.ref);if($.D8(Ee)&&null!==(pe=Ee.typeRef)&&void 0!==pe&&pe.ref)return ue(Ee,Ee.typeRef.ref)}}function fe(k){return ye(k,new Set)}function ye(k,G){if(G.has(k))return!0;G.add(k);for(const z of(0,S.Uo)(k))if($.$g(z)){if(!z.rule.ref||$.s7(z.rule.ref)&&!ye(z.rule.ref,G))return!1}else{if($.wh(z))return!1;if($.ve(z))return!1}return!!k.definition}function Ke(k){if(k.inferredType)return k.inferredType.name;if(k.dataType)return k.dataType;if(k.returnType){const G=k.returnType.ref;if(G){if($.s7(G))return G.name;if($.S2(G)||$.Xj(G))return G.name}}}function ee(k){var G;if($.s7(k))return fe(k)?k.name:null!==(G=Ke(k))&&void 0!==G?G:k.name;if($.S2(k)||$.Xj(k)||$.fG(k))return k.name;if($.ve(k)){const z=function Y(k){var G;return k.inferredType?k.inferredType.name:null!==(G=k.type)&&void 0!==G&&G.ref?ee(k.type.ref):void 0}(k);if(z)return z}else if($.SP(k))return k.name;throw new Error("Cannot get name of Unknown Type")}function ae(k){var G,z,pe;return $.rE(k)?null!==(z=null===(G=k.type)||void 0===G?void 0:G.name)&&void 0!==z?z:"string":null!==(pe=Ke(k))&&void 0!==pe?pe:k.name}function Te(k){const G={s:!1,i:!1,u:!1},z=ce(k.definition,G),pe=Object.entries(G).filter(([,ue])=>ue).map(([ue])=>ue).join("");return new RegExp(z,pe)}const Re=/[\s\S]/.source;function ce(k,G){if($.Fy(k))return function Ze(k){return Qe(k.elements.map(G=>ce(G)).join("|"),{cardinality:k.cardinality,lookahead:k.lookahead})}(k);if($.O4(k))return function Ne(k){return Qe(k.elements.map(G=>ce(G)).join(""),{cardinality:k.cardinality,lookahead:k.lookahead})}(k);if($.Bg(k))return function nt(k){return Qe(k.right?`[${Fe(k.left)}-${Fe(k.right)}]`:Fe(k.left),{cardinality:k.cardinality,lookahead:k.lookahead,wrap:!1})}(k);if($.lF(k)){const z=k.rule.ref;if(!z)throw new Error("Missing rule reference.");return Qe(ce(z.definition),{cardinality:k.cardinality,lookahead:k.lookahead})}if($.GL(k))return function ot(k){return Qe(`(?!${ce(k.terminal)})${Re}*?`,{cardinality:k.cardinality,lookahead:k.lookahead})}(k);if($.Mz(k))return function Pe(k){return Qe(`${Re}*?${ce(k.terminal)}`,{cardinality:k.cardinality,lookahead:k.lookahead})}(k);if($.vd(k)){const z=k.regex.lastIndexOf("/"),pe=k.regex.substring(1,z),ue=k.regex.substring(z+1);return G&&(G.i=ue.includes("i"),G.s=ue.includes("s"),G.u=ue.includes("u")),Qe(pe,{cardinality:k.cardinality,lookahead:k.lookahead,wrap:!1})}if($.z2(k))return Qe(Re,{cardinality:k.cardinality,lookahead:k.lookahead});throw new Error(`Invalid terminal element: ${k?.$type}`)}function Fe(k){return(0,b.Nt)(k.value)}function Qe(k,G){var z;return(!1!==G.wrap||G.lookahead)&&(k=`(${null!==(z=G.lookahead)&&void 0!==z?z:""}${k})`),G.cardinality?`${k}${G.cardinality}`:k}},3531:(ke,Q,p)=>{p.d(Q,{A:()=>B});var C=p(3674);const B=function $(S){var M=(0,C.A)(S),b=M%1;return M==M?b?M-b:M:0}},3674:(ke,Q,p)=>{p.d(Q,{A:()=>F});var C=/\s/;var S=/^\s+/;const b=function M(N){return N&&N.slice(0,function $(N){for(var Z=N.length;Z--&&C.test(N.charAt(Z)););return Z}(N)+1).replace(S,"")};var W=p(3151),H=p(1200),A=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,h=/^0o[0-7]+$/i,y=parseInt;var g=1/0;const F=function L(N){return N?(N=function I(N){if("number"==typeof N)return N;if((0,H.A)(N))return NaN;if((0,W.A)(N)){var Z="function"==typeof N.valueOf?N.valueOf():N;N=(0,W.A)(Z)?Z+"":Z}if("string"!=typeof N)return 0===N?N:+N;N=b(N);var oe=v.test(N);return oe||h.test(N)?y(N.slice(2),oe?2:8):A.test(N)?NaN:+N}(N))===g||N===-g?17976931348623157e292*(N<0?-1:1):N==N?N:0:0===N?N:0}},3941:(ke,Q,p)=>{p.d(Q,{$:()=>R,T:()=>H});var b,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),W=(class extends $.mR{constructor(){super(["packet"])}static#e=b=()=>((0,C.A)(this,"PacketTokenBuilder"),(0,$.K2)(this,"PacketTokenBuilder"),this)},b()),H={parser:{TokenBuilder:(0,$.K2)(()=>new W,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new $.Tm,"ValueConverter")}};function R(A=M.D){const v=(0,S.WQ)((0,B.u)(A),$.sr),h=(0,S.WQ)((0,B.t)({shared:v}),$.AM,H);return v.ServiceRegistry.register(h),{shared:v,Packet:h}}(0,$.K2)(R,"createPacketServices")},4193:(ke,Q,p)=>{p.d(Q,{B5:()=>S,Rf:()=>M,Td:()=>b,Vj:()=>W,fq:()=>C,iD:()=>H});class C{constructor(A,v){this.startFn=A,this.nextFn=v}iterator(){const A={state:this.startFn(),next:()=>this.nextFn(A.state),[Symbol.iterator]:()=>A};return A}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){const A=this.iterator();let v=0,h=A.next();for(;!h.done;)v++,h=A.next();return v}toArray(){const A=[],v=this.iterator();let h;do{h=v.next(),void 0!==h.value&&A.push(h.value)}while(!h.done);return A}toSet(){return new Set(this)}toMap(A,v){const h=this.map(y=>[A?A(y):y,v?v(y):y]);return new Map(h)}toString(){return this.join()}concat(A){return new C(()=>({first:this.startFn(),firstDone:!1,iterator:A[Symbol.iterator]()}),v=>{let h;if(!v.firstDone){do{if(h=this.nextFn(v.first),!h.done)return h}while(!h.done);v.firstDone=!0}do{if(h=v.iterator.next(),!h.done)return h}while(!h.done);return M})}join(A=","){const v=this.iterator();let y,h="",I=!1;do{y=v.next(),y.done||(I&&(h+=A),h+=$(y.value)),I=!0}while(!y.done);return h}indexOf(A,v=0){const h=this.iterator();let y=0,I=h.next();for(;!I.done;){if(y>=v&&I.value===A)return y;I=h.next(),y++}return-1}every(A){const v=this.iterator();let h=v.next();for(;!h.done;){if(!A(h.value))return!1;h=v.next()}return!0}some(A){const v=this.iterator();let h=v.next();for(;!h.done;){if(A(h.value))return!0;h=v.next()}return!1}forEach(A){const v=this.iterator();let h=0,y=v.next();for(;!y.done;)A(y.value,h),y=v.next(),h++}map(A){return new C(this.startFn,v=>{const{done:h,value:y}=this.nextFn(v);return h?M:{done:!1,value:A(y)}})}filter(A){return new C(this.startFn,v=>{let h;do{if(h=this.nextFn(v),!h.done&&A(h.value))return h}while(!h.done);return M})}nonNullable(){return this.filter(A=>null!=A)}reduce(A,v){const h=this.iterator();let y=v,I=h.next();for(;!I.done;)y=void 0===y?I.value:A(y,I.value),I=h.next();return y}reduceRight(A,v){return this.recursiveReduce(this.iterator(),A,v)}recursiveReduce(A,v,h){const y=A.next();if(y.done)return h;const I=this.recursiveReduce(A,v,h);return void 0===I?y.value:v(I,y.value)}find(A){const v=this.iterator();let h=v.next();for(;!h.done;){if(A(h.value))return h.value;h=v.next()}}findIndex(A){const v=this.iterator();let h=0,y=v.next();for(;!y.done;){if(A(y.value))return h;y=v.next(),h++}return-1}includes(A){const v=this.iterator();let h=v.next();for(;!h.done;){if(h.value===A)return!0;h=v.next()}return!1}flatMap(A){return new C(()=>({this:this.startFn()}),v=>{do{if(v.iterator){const I=v.iterator.next();if(!I.done)return I;v.iterator=void 0}const{done:h,value:y}=this.nextFn(v.this);if(!h){const I=A(y);if(!B(I))return{done:!1,value:I};v.iterator=I[Symbol.iterator]()}}while(v.iterator);return M})}flat(A){if(void 0===A&&(A=1),A<=0)return this;const v=A>1?this.flat(A-1):this;return new C(()=>({this:v.startFn()}),h=>{do{if(h.iterator){const O=h.iterator.next();if(!O.done)return O;h.iterator=void 0}const{done:y,value:I}=v.nextFn(h.this);if(!y){if(!B(I))return{done:!1,value:I};h.iterator=I[Symbol.iterator]()}}while(h.iterator);return M})}head(){const v=this.iterator().next();if(!v.done)return v.value}tail(A=1){return new C(()=>{const v=this.startFn();for(let h=0;h<A;h++)if(this.nextFn(v).done)return v;return v},this.nextFn)}limit(A){return new C(()=>({size:0,state:this.startFn()}),v=>(v.size++,v.size>A?M:this.nextFn(v.state)))}distinct(A){return new C(()=>({set:new Set,internalState:this.startFn()}),v=>{let h;do{if(h=this.nextFn(v.internalState),!h.done){const y=A?A(h.value):h.value;if(!v.set.has(y))return v.set.add(y),h}}while(!h.done);return M})}exclude(A,v){const h=new Set;for(const y of A){const I=v?v(y):y;h.add(I)}return this.filter(y=>{const I=v?v(y):y;return!h.has(I)})}}function $(R){return"string"==typeof R?R:typeof R>"u"?"undefined":"function"==typeof R.toString?R.toString():Object.prototype.toString.call(R)}function B(R){return!!R&&"function"==typeof R[Symbol.iterator]}const S=new C(()=>{},()=>M),M=Object.freeze({done:!0,value:void 0});function b(...R){if(1===R.length){const A=R[0];if(A instanceof C)return A;if(B(A))return new C(()=>A[Symbol.iterator](),v=>v.next());if("number"==typeof A.length)return new C(()=>({index:0}),v=>v.index<A.length?{done:!1,value:A[v.index++]}:M)}return R.length>1?new C(()=>({collIndex:0,arrIndex:0}),A=>{do{if(A.iterator){const v=A.iterator.next();if(!v.done)return v;A.iterator=void 0}if(A.array){if(A.arrIndex<A.array.length)return{done:!1,value:A.array[A.arrIndex++]};A.array=void 0,A.arrIndex=0}if(A.collIndex<R.length){const v=R[A.collIndex++];B(v)?A.iterator=v[Symbol.iterator]():v&&"number"==typeof v.length&&(A.array=v)}}while(A.iterator||A.array||A.collIndex<R.length);return M}):S}class W extends C{constructor(A,v,h){super(()=>({iterators:h?.includeRoot?[[A][Symbol.iterator]()]:[v(A)[Symbol.iterator]()],pruned:!1}),y=>{for(y.pruned&&(y.iterators.pop(),y.pruned=!1);y.iterators.length>0;){const O=y.iterators[y.iterators.length-1].next();if(!O.done)return y.iterators.push(v(O.value)[Symbol.iterator]()),O;y.iterators.pop()}return M})}iterator(){const A={state:this.startFn(),next:()=>this.nextFn(A.state),prune:()=>{A.state.pruned=!0},[Symbol.iterator]:()=>A};return A}}var H,R;(R=H||(H={})).sum=function A(I){return I.reduce((O,g)=>O+g,0)},R.product=function v(I){return I.reduce((O,g)=>O*g,0)},R.min=function h(I){return I.reduce((O,g)=>Math.min(O,g))},R.max=function y(I){return I.reduce((O,g)=>Math.max(O,g))}},4221:(ke,Q)=>{function C(W){return"string"==typeof W||W instanceof String}function M(W){return Array.isArray(W)}Object.defineProperty(Q,"__esModule",{value:!0}),Q.stringArray=Q.array=Q.func=Q.error=Q.number=Q.string=Q.boolean=void 0,Q.boolean=function p(W){return!0===W||!1===W},Q.string=C,Q.number=function $(W){return"number"==typeof W||W instanceof Number},Q.error=function B(W){return W instanceof Error},Q.func=function S(W){return"function"==typeof W},Q.array=M,Q.stringArray=function b(W){return M(W)&&W.every(H=>C(H))}},4470:(ke,Q,p)=>{p.d(Q,{A:()=>$});const $=function C(B,S){return B<S}},4770:(ke,Q,p)=>{p.d(Q,{f:()=>R,l:()=>H});var b,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),W=(class extends $.mR{constructor(){super(["radar-beta"])}static#e=b=()=>((0,C.A)(this,"RadarTokenBuilder"),(0,$.K2)(this,"RadarTokenBuilder"),this)},b()),H={parser:{TokenBuilder:(0,$.K2)(()=>new W,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new $.Tm,"ValueConverter")}};function R(A=M.D){const v=(0,S.WQ)((0,B.u)(A),$.sr),h=(0,S.WQ)((0,B.t)({shared:v}),$.YP,H);return v.ServiceRegistry.register(h),{shared:v,Radar:h}}(0,$.K2)(R,"createRadarServices")},4995:(ke,Q,p)=>{p.d(Q,{A:()=>A});var C=p(9484),$=p(6545),B=p(8724),S=p(123),M=p(3151),b=p(1487);const H=function W(v,h,y,I){if(!(0,M.A)(v))return v;for(var O=-1,g=(h=(0,B.A)(h,v)).length,_=g-1,L=v;null!=L&&++O<g;){var F=(0,b.A)(h[O]),N=y;if("__proto__"===F||"constructor"===F||"prototype"===F)return v;if(O!=_){var Z=L[F];void 0===(N=I?I(Z,F,L):void 0)&&(N=(0,M.A)(Z)?Z:(0,S.A)(h[O+1])?[]:{})}(0,$.A)(L,F,N),L=L[F]}return v},A=function R(v,h,y){for(var I=-1,O=h.length,g={};++I<O;){var _=h[I],L=(0,C.A)(v,_);y(L,_)&&H(g,(0,B.A)(_,v),L)}return g}},5644:(ke,Q,p)=>{p.d(Q,{A:()=>b});var C=p(7786),$=p(6177),B=p(7554),S=p(9247);const b=function M(W,H){return((0,S.A)(W)?C.A:B.A)(W,(0,$.A)(H,3))}},5772:(ke,Q,p)=>{p.d(Q,{t:()=>yi,u:()=>Ai});var C=p(807),$=p(3528),B=p(84),S=p(2917),b=p(8693),W=p(5644),H=p(3362);function R(i,e,n){return`${i.name}_${e}_${n}`}class oe{constructor(e){this.target=e}isEpsilon(){return!1}}class he extends oe{constructor(e,n){super(e),this.tokenType=n}}class K extends oe{constructor(e){super(e)}isEpsilon(){return!0}}class re extends oe{constructor(e,n,r){super(e),this.rule=n,this.followState=r}isEpsilon(){return!0}}function Se(i,e,n){return n instanceof b.BK?Fe(i,e,n.terminalType,n):n instanceof b.wL?function Qe(i,e,n){const r=n.referencedRule,s=i.ruleToStartState.get(r),l=z(i,e,n,{type:1}),c=z(i,e,n,{type:1});return pe(l,new re(s,r,c)),{left:l,right:c}}(i,e,n):n instanceof b.ak?function le(i,e,n){const r=z(i,e,n,{type:1});Ne(i,r);const s=(0,W.A)(n.definition,c=>Se(i,e,c));return Pe(i,e,r,n,...s)}(i,e,n):n instanceof b.c$?function ae(i,e,n){const r=z(i,e,n,{type:1});Ne(i,r);return function Ze(i,e,n,r){const s=r.left;return G(s,r.right),i.decisionMap[R(e,"Option",n.idx)]=s,r}(i,e,n,Pe(i,e,r,n,Te(i,e,n)))}(i,e,n):n instanceof b.Y2?function ve(i,e,n){const r=z(i,e,n,{type:5});Ne(i,r);return ce(i,e,n,Pe(i,e,r,n,Te(i,e,n)))}(i,e,n):n instanceof b.Pp?function Ke(i,e,n){const r=z(i,e,n,{type:5});Ne(i,r);return ce(i,e,n,Pe(i,e,r,n,Te(i,e,n)),Fe(i,e,n.separator,n))}(i,e,n):n instanceof b.$P?function ee(i,e,n){const r=z(i,e,n,{type:4});Ne(i,r);return Re(i,e,n,Pe(i,e,r,n,Te(i,e,n)))}(i,e,n):n instanceof b.Cy?function Y(i,e,n){const r=z(i,e,n,{type:4});Ne(i,r);return Re(i,e,n,Pe(i,e,r,n,Te(i,e,n)),Fe(i,e,n.separator,n))}(i,e,n):Te(i,e,n)}function Te(i,e,n){const r=(0,H.A)((0,W.A)(n.definition,s=>Se(i,e,s)),s=>void 0!==s);return 1===r.length?r[0]:0===r.length?void 0:function nt(i,e){const n=e.length;for(let l=0;l<n-1;l++){const c=e[l];let m;1===c.left.transitions.length&&(m=c.left.transitions[0]);const E=m instanceof re,j=e[l+1].left;1===c.left.type&&1===c.right.type&&void 0!==m&&(E&&m.followState===c.right||m.target===c.right)?(E?m.followState=j:m.target=j,ue(i,c.right)):G(c.right,j)}return{left:e[0].left,right:e[n-1].right}}(i,r)}function Re(i,e,n,r,s){const l=r.left,c=r.right,m=z(i,e,n,{type:11});Ne(i,m);const E=z(i,e,n,{type:12});return l.loopback=m,E.loopback=m,i.decisionMap[R(e,s?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",n.idx)]=m,G(c,m),void 0===s?(G(m,l),G(m,E)):(G(m,E),G(m,s.left),G(s.right,l)),{left:l,right:E}}function ce(i,e,n,r,s){const l=r.left,c=r.right,m=z(i,e,n,{type:10});Ne(i,m);const E=z(i,e,n,{type:12}),w=z(i,e,n,{type:9});return m.loopback=w,E.loopback=w,G(m,l),G(m,E),G(c,w),void 0!==s?(G(w,E),G(w,s.left),G(s.right,l)):G(w,m),i.decisionMap[R(e,s?"RepetitionWithSeparator":"Repetition",n.idx)]=m,{left:m,right:E}}function Ne(i,e){return i.decisionStates.push(e),e.decision=i.decisionStates.length-1,e.decision}function Pe(i,e,n,r,...s){const l=z(i,e,r,{type:8,start:n});n.end=l;for(const m of s)void 0!==m?(G(n,m.left),G(m.right,l)):G(n,l);const c={left:n,right:l};return i.decisionMap[R(e,function ot(i){if(i instanceof b.ak)return"Alternation";if(i instanceof b.c$)return"Option";if(i instanceof b.Y2)return"Repetition";if(i instanceof b.Pp)return"RepetitionWithSeparator";if(i instanceof b.$P)return"RepetitionMandatory";if(i instanceof b.Cy)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(r),r.idx)]=n,c}function Fe(i,e,n,r){const s=z(i,e,r,{type:1}),l=z(i,e,r,{type:1});return pe(s,new he(l,n)),{left:s,right:l}}function k(i,e,n){const r=i.ruleToStartState.get(e);G(r,n.left);const s=i.ruleToStopState.get(e);return G(n.right,s),{left:r,right:s}}function G(i,e){pe(i,new K(e))}function z(i,e,n,r){const s=Object.assign({atn:i,production:n,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:i.states.length},r);return i.states.push(s),s}function pe(i,e){0===i.transitions.length&&(i.epsilonOnlyTransitions=e.isEpsilon()),i.transitions.push(e)}function ue(i,e){i.states.splice(i.states.indexOf(e),1)}const Ee={};class _e{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){const n=Me(e);n in this.map||(this.map[n]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,W.A)(this.configs,e=>e.alt)}get key(){let e="";for(const n in this.map)e+=n+":";return e}}function Me(i,e=!0){return`${e?`a${i.alt}`:""}s${i.state.stateNumber}:${i.stack.map(n=>n.stateNumber.toString()).join("_")}`}var Rt=p(1834),jt=p(785),lt=p(6177),On=p(8983);const qt=function yt(i,e){return i&&i.length?(0,On.A)(i,(0,lt.A)(e,2)):[]};var St=p(300),Ve=p(9412),Nt=p(3551),ht=p(3360);function Ot(i,e){const n={};return r=>{const s=r.toString();let l=n[s];return void 0!==l||(l={atnStartState:i,decision:e,states:{}},n[s]=l),l}}class an{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,n){this.predicates[e]=n}toString(){let e="";const n=this.predicates.length;for(let r=0;r<n;r++)e+=!0===this.predicates[r]?"1":"0";return e}}const Lt=new an;class Ln extends b.T6{constructor(e){var n;super(),this.logging=null!==(n=e?.logging)&&void 0!==n?n:r=>console.log(r)}initialize(e){this.atn=function fe(i){const e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function ye(i,e){const n=e.length;for(let r=0;r<n;r++){const s=e[r],l=z(i,s,void 0,{type:2}),c=z(i,s,void 0,{type:7});l.stop=c,i.ruleToStartState.set(s,l),i.ruleToStopState.set(s,c)}}(e,i);const n=i.length;for(let r=0;r<n;r++){const s=i[r],l=Te(e,s,s);void 0!==l&&k(e,s,l)}return e}(e.rules),this.dfas=function Pn(i){const e=i.decisionStates.length,n=Array(e);for(let r=0;r<e;r++)n[r]=Ot(i.decisionStates[r],r);return n}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){const{prodOccurrence:n,rule:r,hasPredicates:s,dynamicTokensEnabled:l}=e,c=this.dfas,m=this.logging,E=R(r,"Alternation",n),j=this.atn.decisionMap[E].decision,ne=(0,W.A)((0,b.jk)({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:r}),se=>(0,W.A)(se,J=>J[0]));if(We(ne,!1)&&!l){const se=(0,ht.A)(ne,(J,be,je)=>((0,Ve.A)(be,tt=>{tt&&(J[tt.tokenTypeIdx]=je,(0,Ve.A)(tt.categoryMatches,pt=>{J[pt]=je}))}),J),{});return s?function(J){var be;const je=this.LA(1),tt=se[je.tokenTypeIdx];if(void 0!==J&&void 0!==tt){const pt=null===(be=J[tt])||void 0===be?void 0:be.GATE;if(void 0!==pt&&!1===pt.call(this))return}return tt}:function(){const J=this.LA(1);return se[J.tokenTypeIdx]}}return s?function(se){const J=new an,be=void 0===se?0:se.length;for(let tt=0;tt<be;tt++){const pt=se?.[tt].GATE;J.set(tt,void 0===pt||pt.call(this))}const je=Et.call(this,c,j,J,m);return"number"==typeof je?je:void 0}:function(){const se=Et.call(this,c,j,Lt,m);return"number"==typeof se?se:void 0}}buildLookaheadForOptional(e){const{prodOccurrence:n,rule:r,prodType:s,dynamicTokensEnabled:l}=e,c=this.dfas,m=this.logging,E=R(r,s,n),j=this.atn.decisionMap[E].decision,ne=(0,W.A)((0,b.jk)({maxLookahead:1,occurrence:n,prodType:s,rule:r}),se=>(0,W.A)(se,J=>J[0]));if(We(ne)&&ne[0][0]&&!l){const J=(0,St.A)(ne[0]);if(1===J.length&&(0,Nt.A)(J[0].categoryMatches)){const je=J[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===je}}{const be=(0,ht.A)(J,(je,tt)=>(void 0!==tt&&(je[tt.tokenTypeIdx]=!0,(0,Ve.A)(tt.categoryMatches,pt=>{je[pt]=!0})),je),{});return function(){const je=this.LA(1);return!0===be[je.tokenTypeIdx]}}}return function(){const se=Et.call(this,c,j,Lt,m);return"object"!=typeof se&&0===se}}}function We(i,e=!0){const n=new Set;for(const r of i){const s=new Set;for(const l of r){if(void 0===l){if(e)break;return!1}const c=[l.tokenTypeIdx].concat(l.categoryMatches);for(const m of c)if(n.has(m)){if(!s.has(m))return!1}else n.add(m),s.add(m)}}return!0}function Et(i,e,n,r){const s=i[e](n);let l=s.start;if(void 0===l){const m=function rt(i){const e=new _e,n=i.transitions.length;for(let r=0;r<n;r++)_t({state:i.transitions[r].target,alt:r,stack:[]},e);return e}(s.atnStartState);l=tn(s,yn(m)),s.start=l}return wn.apply(this,[s,l,n,r])}function wn(i,e,n,r){let s=e,l=1;const c=[];let m=this.LA(l++);for(;;){let E=Dn(s,m);if(void 0===E&&(E=bt.apply(this,[i,s,m,l,n,r])),E===Ee)return At(c,s,m);if(!0===E.isAcceptState)return E.prediction;s=E,c.push(m),m=this.LA(l++)}}function bt(i,e,n,r,s,l){const c=function ut(i,e,n){const r=new _e,s=[];for(const c of i.elements){if(!1===n.is(c.alt))continue;if(7===c.state.type){s.push(c);continue}const m=c.state.transitions.length;for(let E=0;E<m;E++){const j=en(c.state.transitions[E],e);void 0!==j&&r.add({state:j,alt:c.alt,stack:c.stack})}}let l;if(0===s.length&&1===r.size&&(l=r),void 0===l){l=new _e;for(const c of r.elements)_t(c,l)}if(s.length>0&&!function Fn(i){for(const e of i.elements)if(7===e.state.type)return!0;return!1}(l))for(const c of s)l.add(c);return l}(e.configs,n,s);if(0===c.size)return Ft(i,e,n,Ee),Ee;let m=yn(c);const E=function Dt(i,e){let n;for(const r of i.elements)if(!0===e.is(r.alt))if(void 0===n)n=r.alt;else if(n!==r.alt)return;return n}(c,s);if(void 0!==E)m.isAcceptState=!0,m.prediction=E,m.configs.uniqueAlt=E;else if(function An(i){if(function Ht(i){for(const e of i.elements)if(7!==e.state.type)return!1;return!0}(i))return!0;const e=function zt(i){const e=new Map;for(const n of i){const r=Me(n,!1);let s=e.get(r);void 0===s&&(s={},e.set(r,s)),s[n.alt]=!0}return e}(i.elements);return function Un(i){for(const e of Array.from(i.values()))if(Object.keys(e).length>1)return!0;return!1}(e)&&!function Xt(i){for(const e of Array.from(i.values()))if(1===Object.keys(e).length)return!0;return!1}(e)}(c)){const w=(0,Rt.A)(c.alts);m.isAcceptState=!0,m.prediction=w,m.configs.uniqueAlt=w,Mn.apply(this,[i,r,c.alts,l])}return m=Ft(i,e,n,m),m}function Mn(i,e,n,r){const s=[];for(let w=1;w<=e;w++)s.push(this.LA(w).tokenType);const l=i.atnStartState,E=function qe(i){const e=(0,W.A)(i.prefixPath,s=>(0,b.Sk)(s)).join(", "),n=0===i.production.idx?"":i.production.idx;let r=`Ambiguous Alternatives Detected: <${i.ambiguityIndices.join(", ")}> in <${function bn(i){if(i instanceof b.wL)return"SUBRULE";if(i instanceof b.c$)return"OPTION";if(i instanceof b.ak)return"OR";if(i instanceof b.$P)return"AT_LEAST_ONE";if(i instanceof b.Cy)return"AT_LEAST_ONE_SEP";if(i instanceof b.Pp)return"MANY_SEP";if(i instanceof b.Y2)return"MANY";if(i instanceof b.BK)return"CONSUME";throw Error("non exhaustive match")}(i.production)}${n}> inside <${i.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\n`;return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r}({topLevelRule:l.rule,ambiguityIndices:n,production:l.production,prefixPath:s});r(E)}function At(i,e,n){const r=(0,jt.A)(e.configs.elements,l=>l.state.transitions);return{actualToken:n,possibleTokenTypes:qt(r.filter(l=>l instanceof he).map(l=>l.tokenType),l=>l.tokenTypeIdx),tokenPath:i}}function Dn(i,e){return i.edges[e.tokenTypeIdx]}function en(i,e){if(i instanceof he&&(0,b.G)(e,i.tokenType))return i.target}function yn(i){return{configs:i,edges:{},isAcceptState:!1,prediction:-1}}function Ft(i,e,n,r){return r=tn(i,r),e.edges[n.tokenTypeIdx]=r,r}function tn(i,e){if(e===Ee)return e;const n=e.configs.key,r=i.states[n];return void 0!==r?r:(e.configs.finalize(),i.states[n]=e,e)}function _t(i,e){const n=i.state;if(7===n.type){if(i.stack.length>0){const s=[...i.stack];_t({state:s.pop(),alt:i.alt,stack:s},e)}else e.add(i);return}n.epsilonOnlyTransitions||e.add(i);const r=n.transitions.length;for(let s=0;s<r;s++){const c=Vt(i,n.transitions[s]);void 0!==c&&_t(c,e)}}function Vt(i,e){if(e instanceof K)return{state:e.target,alt:i.alt,stack:i.stack};if(e instanceof re){const n=[...i.stack,e.followState];return{state:e.target,alt:i.alt,stack:n}}}var ct,Ut,Ct,Yt,Le,te,V,me,Ce,dt,ze,ds,qn,fs,er,Tn,Qt,vn,ft,nn,tr,Gn,Rn,Bn,En,kt,on,Cn,Sr,$n,Kn,Wn,sr,jn,ms,Vn,ir,ps,ar,In,ki,xi,gs,Ge=p(265);(ct||(ct={})).is=function e(n){return"string"==typeof n},(Ut||(Ut={})).is=function e(n){return"string"==typeof n},function(i){i.MIN_VALUE=-2147483648,i.MAX_VALUE=2147483647,i.is=function e(n){return"number"==typeof n&&i.MIN_VALUE<=n&&n<=i.MAX_VALUE}}(Ct||(Ct={})),function(i){i.MIN_VALUE=0,i.MAX_VALUE=2147483647,i.is=function e(n){return"number"==typeof n&&i.MIN_VALUE<=n&&n<=i.MAX_VALUE}}(Yt||(Yt={})),function(i){i.create=function e(r,s){return r===Number.MAX_VALUE&&(r=Yt.MAX_VALUE),s===Number.MAX_VALUE&&(s=Yt.MAX_VALUE),{line:r,character:s}},i.is=function n(r){let s=r;return D.objectLiteral(s)&&D.uinteger(s.line)&&D.uinteger(s.character)}}(Le||(Le={})),function(i){i.create=function e(r,s,l,c){if(D.uinteger(r)&&D.uinteger(s)&&D.uinteger(l)&&D.uinteger(c))return{start:Le.create(r,s),end:Le.create(l,c)};if(Le.is(r)&&Le.is(s))return{start:r,end:s};throw new Error(`Range#create called with invalid arguments[${r}, ${s}, ${l}, ${c}]`)},i.is=function n(r){let s=r;return D.objectLiteral(s)&&Le.is(s.start)&&Le.is(s.end)}}(te||(te={})),function(i){i.create=function e(r,s){return{uri:r,range:s}},i.is=function n(r){let s=r;return D.objectLiteral(s)&&te.is(s.range)&&(D.string(s.uri)||D.undefined(s.uri))}}(V||(V={})),function(i){i.create=function e(r,s,l,c){return{targetUri:r,targetRange:s,targetSelectionRange:l,originSelectionRange:c}},i.is=function n(r){let s=r;return D.objectLiteral(s)&&te.is(s.targetRange)&&D.string(s.targetUri)&&te.is(s.targetSelectionRange)&&(te.is(s.originSelectionRange)||D.undefined(s.originSelectionRange))}}(me||(me={})),function(i){i.create=function e(r,s,l,c){return{red:r,green:s,blue:l,alpha:c}},i.is=function n(r){const s=r;return D.objectLiteral(s)&&D.numberRange(s.red,0,1)&&D.numberRange(s.green,0,1)&&D.numberRange(s.blue,0,1)&&D.numberRange(s.alpha,0,1)}}(Ce||(Ce={})),function(i){i.create=function e(r,s){return{range:r,color:s}},i.is=function n(r){const s=r;return D.objectLiteral(s)&&te.is(s.range)&&Ce.is(s.color)}}(dt||(dt={})),function(i){i.create=function e(r,s,l){return{label:r,textEdit:s,additionalTextEdits:l}},i.is=function n(r){const s=r;return D.objectLiteral(s)&&D.string(s.label)&&(D.undefined(s.textEdit)||Qt.is(s))&&(D.undefined(s.additionalTextEdits)||D.typedArray(s.additionalTextEdits,Qt.is))}}(ze||(ze={})),function(i){i.create=function e(r,s,l,c,m,E){const w={startLine:r,endLine:s};return D.defined(l)&&(w.startCharacter=l),D.defined(c)&&(w.endCharacter=c),D.defined(m)&&(w.kind=m),D.defined(E)&&(w.collapsedText=E),w},i.is=function n(r){const s=r;return D.objectLiteral(s)&&D.uinteger(s.startLine)&&D.uinteger(s.startLine)&&(D.undefined(s.startCharacter)||D.uinteger(s.startCharacter))&&(D.undefined(s.endCharacter)||D.uinteger(s.endCharacter))&&(D.undefined(s.kind)||D.string(s.kind))}}(ds||(ds={})),function(i){i.create=function e(r,s){return{location:r,message:s}},i.is=function n(r){let s=r;return D.defined(s)&&V.is(s.location)&&D.string(s.message)}}(qn||(qn={})),function(i){i.is=function e(n){const r=n;return D.objectLiteral(r)&&D.string(r.href)}}(fs||(fs={})),function(i){i.create=function e(r,s,l,c,m,E){let w={range:r,message:s};return D.defined(l)&&(w.severity=l),D.defined(c)&&(w.code=c),D.defined(m)&&(w.source=m),D.defined(E)&&(w.relatedInformation=E),w},i.is=function n(r){var s;let l=r;return D.defined(l)&&te.is(l.range)&&D.string(l.message)&&(D.number(l.severity)||D.undefined(l.severity))&&(D.integer(l.code)||D.string(l.code)||D.undefined(l.code))&&(D.undefined(l.codeDescription)||D.string(null===(s=l.codeDescription)||void 0===s?void 0:s.href))&&(D.string(l.source)||D.undefined(l.source))&&(D.undefined(l.relatedInformation)||D.typedArray(l.relatedInformation,qn.is))}}(er||(er={})),function(i){i.create=function e(r,s,...l){let c={title:r,command:s};return D.defined(l)&&l.length>0&&(c.arguments=l),c},i.is=function n(r){let s=r;return D.defined(s)&&D.string(s.title)&&D.string(s.command)}}(Tn||(Tn={})),function(i){i.replace=function e(l,c){return{range:l,newText:c}},i.insert=function n(l,c){return{range:{start:l,end:l},newText:c}},i.del=function r(l){return{range:l,newText:""}},i.is=function s(l){const c=l;return D.objectLiteral(c)&&D.string(c.newText)&&te.is(c.range)}}(Qt||(Qt={})),function(i){i.create=function e(r,s,l){const c={label:r};return void 0!==s&&(c.needsConfirmation=s),void 0!==l&&(c.description=l),c},i.is=function n(r){const s=r;return D.objectLiteral(s)&&D.string(s.label)&&(D.boolean(s.needsConfirmation)||void 0===s.needsConfirmation)&&(D.string(s.description)||void 0===s.description)}}(vn||(vn={})),function(i){i.is=function e(n){return D.string(n)}}(ft||(ft={})),function(i){i.replace=function e(l,c,m){return{range:l,newText:c,annotationId:m}},i.insert=function n(l,c,m){return{range:{start:l,end:l},newText:c,annotationId:m}},i.del=function r(l,c){return{range:l,newText:"",annotationId:c}},i.is=function s(l){const c=l;return Qt.is(c)&&(vn.is(c.annotationId)||ft.is(c.annotationId))}}(nn||(nn={})),function(i){i.create=function e(r,s){return{textDocument:r,edits:s}},i.is=function n(r){let s=r;return D.defined(s)&&Cn.is(s.textDocument)&&Array.isArray(s.edits)}}(tr||(tr={})),function(i){i.create=function e(r,s,l){let c={kind:"create",uri:r};return void 0!==s&&(void 0!==s.overwrite||void 0!==s.ignoreIfExists)&&(c.options=s),void 0!==l&&(c.annotationId=l),c},i.is=function n(r){let s=r;return s&&"create"===s.kind&&D.string(s.uri)&&(void 0===s.options||(void 0===s.options.overwrite||D.boolean(s.options.overwrite))&&(void 0===s.options.ignoreIfExists||D.boolean(s.options.ignoreIfExists)))&&(void 0===s.annotationId||ft.is(s.annotationId))}}(Gn||(Gn={})),function(i){i.create=function e(r,s,l,c){let m={kind:"rename",oldUri:r,newUri:s};return void 0!==l&&(void 0!==l.overwrite||void 0!==l.ignoreIfExists)&&(m.options=l),void 0!==c&&(m.annotationId=c),m},i.is=function n(r){let s=r;return s&&"rename"===s.kind&&D.string(s.oldUri)&&D.string(s.newUri)&&(void 0===s.options||(void 0===s.options.overwrite||D.boolean(s.options.overwrite))&&(void 0===s.options.ignoreIfExists||D.boolean(s.options.ignoreIfExists)))&&(void 0===s.annotationId||ft.is(s.annotationId))}}(Rn||(Rn={})),function(i){i.create=function e(r,s,l){let c={kind:"delete",uri:r};return void 0!==s&&(void 0!==s.recursive||void 0!==s.ignoreIfNotExists)&&(c.options=s),void 0!==l&&(c.annotationId=l),c},i.is=function n(r){let s=r;return s&&"delete"===s.kind&&D.string(s.uri)&&(void 0===s.options||(void 0===s.options.recursive||D.boolean(s.options.recursive))&&(void 0===s.options.ignoreIfNotExists||D.boolean(s.options.ignoreIfNotExists)))&&(void 0===s.annotationId||ft.is(s.annotationId))}}(Bn||(Bn={})),function(i){i.is=function e(n){return n&&(void 0!==n.changes||void 0!==n.documentChanges)&&(void 0===n.documentChanges||n.documentChanges.every(s=>D.string(s.kind)?Gn.is(s)||Rn.is(s)||Bn.is(s):tr.is(s)))}}(En||(En={})),function(i){i.create=function e(r){return{uri:r}},i.is=function n(r){let s=r;return D.defined(s)&&D.string(s.uri)}}(kt||(kt={})),function(i){i.create=function e(r,s){return{uri:r,version:s}},i.is=function n(r){let s=r;return D.defined(s)&&D.string(s.uri)&&D.integer(s.version)}}(on||(on={})),function(i){i.create=function e(r,s){return{uri:r,version:s}},i.is=function n(r){let s=r;return D.defined(s)&&D.string(s.uri)&&(null===s.version||D.integer(s.version))}}(Cn||(Cn={})),function(i){i.create=function e(r,s,l,c){return{uri:r,languageId:s,version:l,text:c}},i.is=function n(r){let s=r;return D.defined(s)&&D.string(s.uri)&&D.string(s.languageId)&&D.integer(s.version)&&D.string(s.text)}}(Sr||(Sr={})),function(i){i.PlainText="plaintext",i.Markdown="markdown",i.is=function e(n){return n===i.PlainText||n===i.Markdown}}($n||($n={})),function(i){i.is=function e(n){const r=n;return D.objectLiteral(n)&&$n.is(r.kind)&&D.string(r.value)}}(Kn||(Kn={})),function(i){i.create=function e(r,s,l){return{newText:r,insert:s,replace:l}},i.is=function n(r){const s=r;return s&&D.string(s.newText)&&te.is(s.insert)&&te.is(s.replace)}}(Wn||(Wn={})),function(i){i.is=function e(n){const r=n;return r&&(D.string(r.detail)||void 0===r.detail)&&(D.string(r.description)||void 0===r.description)}}(sr||(sr={})),function(i){i.create=function e(n){return{label:n}}}(jn||(jn={})),function(i){i.create=function e(n,r){return{items:n||[],isIncomplete:!!r}}}(ms||(ms={})),function(i){i.fromPlainText=function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},i.is=function n(r){const s=r;return D.string(s)||D.objectLiteral(s)&&D.string(s.language)&&D.string(s.value)}}(Vn||(Vn={})),function(i){i.is=function e(n){let r=n;return!!r&&D.objectLiteral(r)&&(Kn.is(r.contents)||Vn.is(r.contents)||D.typedArray(r.contents,Vn.is))&&(void 0===n.range||te.is(n.range))}}(ir||(ir={})),function(i){i.create=function e(n,r){return r?{label:n,documentation:r}:{label:n}}}(ps||(ps={})),function(i){i.create=function e(n,r,...s){let l={label:n};return D.defined(r)&&(l.documentation=r),l.parameters=D.defined(s)?s:[],l}}(ar||(ar={})),function(i){i.create=function e(n,r){let s={range:n};return D.number(r)&&(s.kind=r),s}}(In||(In={})),function(i){i.create=function e(n,r,s,l,c){let m={name:n,kind:r,location:{uri:l,range:s}};return c&&(m.containerName=c),m}}(ki||(ki={})),function(i){i.create=function e(n,r,s,l){return void 0!==l?{name:n,kind:r,location:{uri:s,range:l}}:{name:n,kind:r,location:{uri:s}}}}(xi||(xi={})),function(i){i.create=function e(r,s,l,c,m,E){let w={name:r,detail:s,kind:l,range:c,selectionRange:m};return void 0!==E&&(w.children=E),w},i.is=function n(r){let s=r;return s&&D.string(s.name)&&D.number(s.kind)&&te.is(s.range)&&te.is(s.selectionRange)&&(void 0===s.detail||D.string(s.detail))&&(void 0===s.deprecated||D.boolean(s.deprecated))&&(void 0===s.children||Array.isArray(s.children))&&(void 0===s.tags||Array.isArray(s.tags))}}(gs||(gs={}));var ys,As,Ts,vs,Rs,Es,_s,Cs,$s,Is,ks,Or,ur,Lr,xs,Ss,Ns,Ls,Ps,Pr,wr,D,Nr=function(i){return i.Invoked=1,i.Automatic=2,i}(Nr||{});!function(i){i.create=function e(r,s,l){let c={diagnostics:r};return null!=s&&(c.only=s),null!=l&&(c.triggerKind=l),c},i.is=function n(r){let s=r;return D.defined(s)&&D.typedArray(s.diagnostics,er.is)&&(void 0===s.only||D.typedArray(s.only,D.string))&&(void 0===s.triggerKind||s.triggerKind===Nr.Invoked||s.triggerKind===Nr.Automatic)}}(ys||(ys={})),function(i){i.create=function e(r,s,l){let c={title:r},m=!0;return"string"==typeof s?(m=!1,c.kind=s):Tn.is(s)?c.command=s:c.edit=s,m&&void 0!==l&&(c.kind=l),c},i.is=function n(r){let s=r;return s&&D.string(s.title)&&(void 0===s.diagnostics||D.typedArray(s.diagnostics,er.is))&&(void 0===s.kind||D.string(s.kind))&&(void 0!==s.edit||void 0!==s.command)&&(void 0===s.command||Tn.is(s.command))&&(void 0===s.isPreferred||D.boolean(s.isPreferred))&&(void 0===s.edit||En.is(s.edit))}}(As||(As={})),function(i){i.create=function e(r,s){let l={range:r};return D.defined(s)&&(l.data=s),l},i.is=function n(r){let s=r;return D.defined(s)&&te.is(s.range)&&(D.undefined(s.command)||Tn.is(s.command))}}(Ts||(Ts={})),function(i){i.create=function e(r,s){return{tabSize:r,insertSpaces:s}},i.is=function n(r){let s=r;return D.defined(s)&&D.uinteger(s.tabSize)&&D.boolean(s.insertSpaces)}}(vs||(vs={})),function(i){i.create=function e(r,s,l){return{range:r,target:s,data:l}},i.is=function n(r){let s=r;return D.defined(s)&&te.is(s.range)&&(D.undefined(s.target)||D.string(s.target))}}(Rs||(Rs={})),function(i){i.create=function e(r,s){return{range:r,parent:s}},i.is=function n(r){let s=r;return D.objectLiteral(s)&&te.is(s.range)&&(void 0===s.parent||i.is(s.parent))}}(Es||(Es={})),function(i){i.is=function e(n){const r=n;return D.objectLiteral(r)&&(void 0===r.resultId||"string"==typeof r.resultId)&&Array.isArray(r.data)&&(0===r.data.length||"number"==typeof r.data[0])}}(_s||(_s={})),function(i){i.create=function e(r,s){return{range:r,text:s}},i.is=function n(r){const s=r;return null!=s&&te.is(s.range)&&D.string(s.text)}}(Cs||(Cs={})),function(i){i.create=function e(r,s,l){return{range:r,variableName:s,caseSensitiveLookup:l}},i.is=function n(r){const s=r;return null!=s&&te.is(s.range)&&D.boolean(s.caseSensitiveLookup)&&(D.string(s.variableName)||void 0===s.variableName)}}($s||($s={})),function(i){i.create=function e(r,s){return{range:r,expression:s}},i.is=function n(r){const s=r;return null!=s&&te.is(s.range)&&(D.string(s.expression)||void 0===s.expression)}}(Is||(Is={})),function(i){i.create=function e(r,s){return{frameId:r,stoppedLocation:s}},i.is=function n(r){return D.defined(r)&&te.is(r.stoppedLocation)}}(ks||(ks={})),function(i){i.Type=1,i.Parameter=2,i.is=function e(n){return 1===n||2===n}}(Or||(Or={})),function(i){i.create=function e(r){return{value:r}},i.is=function n(r){const s=r;return D.objectLiteral(s)&&(void 0===s.tooltip||D.string(s.tooltip)||Kn.is(s.tooltip))&&(void 0===s.location||V.is(s.location))&&(void 0===s.command||Tn.is(s.command))}}(ur||(ur={})),function(i){i.create=function e(r,s,l){const c={position:r,label:s};return void 0!==l&&(c.kind=l),c},i.is=function n(r){const s=r;return D.objectLiteral(s)&&Le.is(s.position)&&(D.string(s.label)||D.typedArray(s.label,ur.is))&&(void 0===s.kind||Or.is(s.kind))&&void 0===s.textEdits||D.typedArray(s.textEdits,Qt.is)&&(void 0===s.tooltip||D.string(s.tooltip)||Kn.is(s.tooltip))&&(void 0===s.paddingLeft||D.boolean(s.paddingLeft))&&(void 0===s.paddingRight||D.boolean(s.paddingRight))}}(Lr||(Lr={})),function(i){i.createSnippet=function e(n){return{kind:"snippet",value:n}}}(xs||(xs={})),function(i){i.create=function e(n,r,s,l){return{insertText:n,filterText:r,range:s,command:l}}}(Ss||(Ss={})),function(i){i.create=function e(n){return{items:n}}}(Ns||(Ns={})),function(i){i.create=function e(n,r){return{range:n,text:r}}}(Ls||(Ls={})),function(i){i.create=function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}}(Ps||(Ps={})),function(i){i.is=function e(n){const r=n;return D.objectLiteral(r)&&Ut.is(r.uri)&&D.string(r.name)}}(Pr||(Pr={})),function(i){function s(l,c){if(l.length<=1)return l;const m=l.length/2|0,E=l.slice(0,m),w=l.slice(m);s(E,c),s(w,c);let j=0,ne=0,se=0;for(;j<E.length&&ne<w.length;)c(E[j],w[ne])<=0?l[se++]=E[j++]:l[se++]=w[ne++];for(;j<E.length;)l[se++]=E[j++];for(;ne<w.length;)l[se++]=w[ne++];return l}i.create=function e(l,c,m,E){return new Mr(l,c,m,E)},i.is=function n(l){let c=l;return!!(D.defined(c)&&D.string(c.uri)&&(D.undefined(c.languageId)||D.string(c.languageId))&&D.uinteger(c.lineCount)&&D.func(c.getText)&&D.func(c.positionAt)&&D.func(c.offsetAt))},i.applyEdits=function r(l,c){let m=l.getText(),E=s(c,(j,ne)=>{let se=j.range.start.line-ne.range.start.line;return 0===se?j.range.start.character-ne.range.start.character:se}),w=m.length;for(let j=E.length-1;j>=0;j--){let ne=E[j],se=l.offsetAt(ne.range.start),J=l.offsetAt(ne.range.end);if(!(J<=w))throw new Error("Overlapping edit");m=m.substring(0,se)+ne.newText+m.substring(J,m.length),w=se}return m}}(wr||(wr={}));class Mr{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],n=this._content,r=!0;for(let s=0;s<n.length;s++){r&&(e.push(s),r=!1);let l=n.charAt(s);r="\r"===l||"\n"===l,"\r"===l&&s+1<n.length&&"\n"===n.charAt(s+1)&&s++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,s=n.length;if(0===s)return Le.create(0,e);for(;r<s;){let c=Math.floor((r+s)/2);n[c]>e?s=c:r=c+1}let l=r-1;return Le.create(l,e-n[l])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line];return Math.max(Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length),r)}get lineCount(){return this.getLineOffsets().length}}!function(i){const e=Object.prototype.toString;i.defined=function n(J){return typeof J<"u"},i.undefined=function r(J){return typeof J>"u"},i.boolean=function s(J){return!0===J||!1===J},i.string=function l(J){return"[object String]"===e.call(J)},i.number=function c(J){return"[object Number]"===e.call(J)},i.numberRange=function m(J,be,je){return"[object Number]"===e.call(J)&&be<=J&&J<=je},i.integer=function E(J){return"[object Number]"===e.call(J)&&-2147483648<=J&&J<=2147483647},i.uinteger=function w(J){return"[object Number]"===e.call(J)&&0<=J&&J<=2147483647},i.func=function j(J){return"[object Function]"===e.call(J)},i.objectLiteral=function ne(J){return null!==J&&"object"==typeof J},i.typedArray=function se(J,be){return Array.isArray(J)&&J.every(be)}}(D||(D={}));class cr{constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new un(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){const n=new dr;return n.grammarSource=e,n.root=this.rootNode,this.current.content.push(n),this.nodeStack.push(n),n}buildLeafNode(e,n){const r=new br(e.startOffset,e.image.length,(0,C.wf)(e),e.tokenType,!n);return r.grammarSource=n,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){const n=e.container;if(n){const r=n.content.indexOf(e);r>=0&&n.content.splice(r,1)}}addHiddenNodes(e){const n=[];for(const l of e){const c=new br(l.startOffset,l.image.length,(0,C.wf)(l),l.tokenType,!0);c.root=this.rootNode,n.push(c)}let r=this.current,s=!1;if(r.content.length>0)r.content.push(...n);else{for(;r.container;){const l=r.container.content.indexOf(r);if(l>0){r.container.content.splice(l,0,...n),s=!0;break}r=r.container}s||this.rootNode.content.unshift(...n)}}construct(e){const n=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=n;const r=this.nodeStack.pop();0===r?.content.length&&this.removeNode(r)}}class Zt{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,n;const r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(n=this.container)||void 0===n?void 0:n.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class br extends Zt{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,n,r,s,l=!1){super(),this._hidden=l,this._offset=e,this._tokenType=s,this._length=n,this._range=r}}class dr extends Zt{constructor(){super(...arguments),this.content=new et(this)}get children(){return this.content}get offset(){var e,n;return null!==(n=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==n?n:0}get length(){return this.end-this.offset}get end(){var e,n;return null!==(n=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==n?n:0}get range(){const e=this.firstNonHiddenNode,n=this.lastNonHiddenNode;if(e&&n){if(void 0===this._rangeCache){const{range:r}=e,{range:s}=n;this._rangeCache={start:r.start,end:s.end.line<r.start.line?r.start:s.end}}return this._rangeCache}return{start:Le.create(0,0),end:Le.create(0,0)}}get firstNonHiddenNode(){for(const e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){const n=this.content[e];if(!n.hidden)return n}return this.content[this.content.length-1]}}class et extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,et.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,n,...r){return this.addParents(r),super.splice(e,n,...r)}addParents(e){for(const n of e)n.container=this.parent}}class un extends dr{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}const fr=Symbol("Datatype");function cn(i){return i.$type===fr}const Dr=i=>i.endsWith("\u200b")?i:i+"\u200b";class Fr{constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;const r="production"===e.LanguageMetaData.mode;this.wrapper=new Ms(this.lexer.definition,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,n){this.wrapper.wrapOr(e,n)}optional(e,n){this.wrapper.wrapOption(e,n)}many(e,n){this.wrapper.wrapMany(e,n)}atLeastOne(e,n){this.wrapper.wrapAtLeastOne(e,n)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class zn extends Fr{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new cr,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,n){const r=this.computeRuleType(e),s=this.wrapper.DEFINE_RULE(Dr(e.name),this.startImplementation(r,n).bind(this));return this.allRules.set(e.name,s),e.entry&&(this.mainRule=s),s}computeRuleType(e){if(!e.fragment)return(0,$.Xq)(e)?fr:(0,$.PV)(e)??e.name}parse(e,n={}){this.nodeBuilder.buildRootNode(e);const r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;const s=n.rule?this.allRules.get(n.rule):this.mainRule;if(!s)throw new Error(n.rule?`No rule found with name '${n.rule}'`:"No main rule available.");const l=s.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:l,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,n){return r=>{const s=!this.isRecording()&&void 0!==e;if(s){const c={$type:e};this.stack.push(c),e===fr&&(c.value="")}let l;try{l=n(r)}catch{l=void 0}return void 0===l&&s&&(l=this.construct()),l}}extractHiddenTokens(e){const n=this.lexerResult.hidden;if(!n.length)return[];const r=e.startOffset;for(let s=0;s<n.length;s++)if(n[s].startOffset>r)return n.splice(0,s);return n.splice(0,n.length)}consume(e,n,r){const s=this.wrapper.wrapConsume(e,n);if(!this.isRecording()&&this.isValidToken(s)){const l=this.extractHiddenTokens(s);this.nodeBuilder.addHiddenNodes(l);const c=this.nodeBuilder.buildLeafNode(s,r),{assignment:m,isCrossRef:E}=this.getAssignment(r),w=this.current;if(m){const j=(0,S.wb)(r)?s.image:this.converter.convert(s.image,c);this.assign(m.operator,m.feature,j,c,E)}else if(cn(w)){let j=s.image;(0,S.wb)(r)||(j=this.converter.convert(j,c).toString()),w.value+=j}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,n,r,s,l){let c;!this.isRecording()&&!r&&(c=this.nodeBuilder.buildCompositeNode(s));const m=this.wrapper.wrapSubrule(e,n,l);!this.isRecording()&&c&&c.length>0&&this.performSubruleAssignment(m,s,c)}performSubruleAssignment(e,n,r){const{assignment:s,isCrossRef:l}=this.getAssignment(n);if(s)this.assign(s.operator,s.feature,e,r,l);else if(!s){const c=this.current;if(cn(c))c.value+=e.toString();else if("object"==typeof e&&e){const E=this.assignWithoutOverride(e,c);this.stack.pop(),this.stack.push(E)}}}action(e,n){if(!this.isRecording()){let r=this.current;n.feature&&n.operator?(r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(n).content.push(r.$cstNode),this.stack.push({$type:e}),this.assign(n.operator,n.feature,r,r.$cstNode,!1)):r.$type=e}}construct(){if(this.isRecording())return;const e=this.current;return(0,Ge.SD)(e),this.nodeBuilder.construct(e),this.stack.pop(),cn(e)?this.converter.convert(e.value,e.$cstNode):((0,Ge.OP)(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){const n=(0,Ge.XG)(e,S.wh);this.assignmentMap.set(e,{assignment:n,isCrossRef:!!n&&(0,S._c)(n.terminal)})}return this.assignmentMap.get(e)}assign(e,n,r,s,l){const c=this.current;let m;switch(m=l&&"string"==typeof r?this.linker.buildReference(c,n,s,r):r,e){case"=":c[n]=m;break;case"?=":c[n]=!0;break;case"+=":Array.isArray(c[n])||(c[n]=[]),c[n].push(m)}}assignWithoutOverride(e,n){for(const[s,l]of Object.entries(n)){const c=e[s];void 0===c?e[s]=l:Array.isArray(c)&&Array.isArray(l)&&(l.push(...c),e[s]=l)}const r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}}class Li{buildMismatchTokenMessage(e){return b.my.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return b.my.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return b.my.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return b.my.buildEarlyExitMessage(e)}}class ws extends Li{buildMismatchTokenMessage({expected:e,actual:n}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${n.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class Pi extends Fr{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();const n=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=n.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,n){const r=this.wrapper.DEFINE_RULE(Dr(e.name),this.startImplementation(n).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return n=>{const r=this.keepStackSize();try{e(n)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,n,r){this.wrapper.wrapConsume(e,n),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,n,r,s,l){this.before(s),this.wrapper.wrapSubrule(e,n,l),this.after(s)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){const n=this.elementStack.lastIndexOf(e);n>=0&&this.elementStack.splice(n)}}get currIdx(){return this.wrapper.currIdx}}const wi={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new ws};class Ms extends b.jr{constructor(e,n){const r=n&&"maxLookahead"in n;super(e,Object.assign(Object.assign(Object.assign({},wi),{lookaheadStrategy:r?new b.T6({maxLookahead:n.maxLookahead}):new Ln({logging:n.skipValidations?()=>{}:void 0})}),n))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,n){return this.RULE(e,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,n){return this.consume(e,n)}wrapSubrule(e,n,r){return this.subrule(e,n,{ARGS:[r]})}wrapOr(e,n){this.or(e,n)}wrapOption(e,n){this.option(e,n)}wrapMany(e,n){this.many(e,n)}wrapAtLeastOne(e,n){this.atLeastOne(e,n)}}var dn=p(8586),st=p(4193);function bs(i,e,n){return function Mi(i,e){const n=(0,$.YV)(e,!1),r=(0,st.Td)(e.rules).filter(S.s7).filter(s=>n.has(s));for(const s of r){const l=Object.assign(Object.assign({},i),{consume:1,optional:1,subrule:1,many:1,or:1});i.parser.rule(s,fn(l,s.definition))}}({parser:e,tokens:n,ruleNames:new Map},i),e}function fn(i,e,n=!1){let r;if((0,S.wb)(e))r=function Us(i,e){const n=i.consume++,r=i.tokens[e.value];if(!r)throw new Error("Could not find token for keyword: "+e.value);return()=>i.parser.consume(n,r,e)}(i,e);else if((0,S.ve)(e))r=function Ds(i,e){const n=(0,$.Uz)(e);return()=>i.parser.action(n,e)}(i,e);else if((0,S.wh)(e))r=fn(i,e.terminal);else if((0,S._c)(e))r=Ur(i,e);else if((0,S.$g)(e))r=function Je(i,e){const n=e.rule.ref;if((0,S.s7)(n)){const r=i.subrule++,s=n.fragment,l=e.arguments.length>0?function Xn(i,e){const n=e.map(r=>it(r.value));return r=>{const s={};for(let l=0;l<n.length;l++)s[i.parameters[l].name]=(0,n[l])(r);return s}}(n,e.arguments):()=>({});return c=>i.parser.subrule(r,Br(i,n),s,e,l(c))}if((0,S.rE)(n)){const r=i.consume++,s=mr(i,n.name);return()=>i.parser.consume(r,s,e)}if(!n)throw new dn.W(e.$cstNode,`Undefined rule: ${e.rule.$refText}`);(0,dn.d)(n)}(i,e);else if((0,S.jp)(e))r=function kn(i,e){if(1===e.elements.length)return fn(i,e.elements[0]);{const n=[];for(const s of e.elements){const l={ALT:fn(i,s,!0)},c=hr(s);c&&(l.GATE=it(c)),n.push(l)}const r=i.or++;return s=>i.parser.alternatives(r,n.map(l=>{const c={ALT:()=>l.ALT(s)},m=l.GATE;return m&&(c.GATE=()=>m(s)),c}))}}(i,e);else if((0,S.cY)(e))r=function ga(i,e){if(1===e.elements.length)return fn(i,e.elements[0]);const n=[];for(const m of e.elements){const E={ALT:fn(i,m,!0)},w=hr(m);w&&(E.GATE=it(w)),n.push(E)}const r=i.or++,s=(m,E)=>`uGroup_${m}_${E.getRuleStack().join("-")}`,c=Gr(i,hr(e),m=>i.parser.alternatives(r,n.map((E,w)=>{const j={ALT:()=>!0},ne=i.parser;j.ALT=()=>{if(E.ALT(m),!ne.isRecording()){const J=s(r,ne);ne.unorderedGroups.get(J)||ne.unorderedGroups.set(J,[]);const be=ne.unorderedGroups.get(J);typeof be?.[w]>"u"&&(be[w]=!0)}};const se=E.GATE;return j.GATE=se?()=>se(m):()=>{const J=ne.unorderedGroups.get(s(r,ne));return!J?.[w]},j})),"*");return m=>{c(m),i.parser.isRecording()||i.parser.unorderedGroups.delete(s(r,i.parser))}}(i,e);else if((0,S.IZ)(e))r=function Fs(i,e){const n=e.elements.map(r=>fn(i,r));return r=>n.forEach(s=>s(r))}(i,e);else{if(!(0,S.FO)(e))throw new dn.W(e.$cstNode,`Unexpected element type: ${e.$type}`);{const s=i.consume++;r=()=>i.parser.consume(s,b.LT,e)}}return Gr(i,n?void 0:hr(e),r,e.cardinality)}function it(i){if((0,S.RP)(i)){const e=it(i.left),n=it(i.right);return r=>e(r)||n(r)}if((0,S.Tu)(i)){const e=it(i.left),n=it(i.right);return r=>e(r)&&n(r)}if((0,S.Ct)(i)){const e=it(i.value);return n=>!e(n)}if((0,S.TF)(i)){const e=i.parameter.ref.name;return n=>void 0!==n&&!0===n[e]}if((0,S.Cz)(i)){const e=!!i.true;return()=>e}(0,dn.d)(i)}function hr(i){if((0,S.IZ)(i))return i.guardCondition}function Ur(i,e,n=e.terminal){if(n){if((0,S.$g)(n)&&(0,S.s7)(n.rule.ref)){const r=n.rule.ref,s=i.subrule++;return l=>i.parser.subrule(s,Br(i,r),!1,e,l)}if((0,S.$g)(n)&&(0,S.rE)(n.rule.ref)){const r=i.consume++,s=mr(i,n.rule.ref.name);return()=>i.parser.consume(r,s,e)}if((0,S.wb)(n)){const r=i.consume++,s=mr(i,n.value);return()=>i.parser.consume(r,s,e)}throw new Error("Could not build cross reference parser")}{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);const r=(0,$.U5)(e.type.ref),s=r?.terminal;if(!s)throw new Error("Could not find name assignment for type: "+(0,$.Uz)(e.type.ref));return Ur(i,e,s)}}function Gr(i,e,n,r){const s=e&&it(e);if(!r){if(s){const l=i.or++;return c=>i.parser.alternatives(l,[{ALT:()=>n(c),GATE:()=>s(c)},{ALT:(0,b.mT)(),GATE:()=>!s(c)}])}return n}if("*"===r){const l=i.many++;return c=>i.parser.many(l,{DEF:()=>n(c),GATE:s?()=>s(c):void 0})}if("+"===r){const l=i.many++;if(s){const c=i.or++;return m=>i.parser.alternatives(c,[{ALT:()=>i.parser.atLeastOne(l,{DEF:()=>n(m)}),GATE:()=>s(m)},{ALT:(0,b.mT)(),GATE:()=>!s(m)}])}return c=>i.parser.atLeastOne(l,{DEF:()=>n(c)})}if("?"===r){const l=i.optional++;return c=>i.parser.optional(l,{DEF:()=>n(c),GATE:s?()=>s(c):void 0})}(0,dn.d)(r)}function Br(i,e){const n=function Gs(i,e){if((0,S.s7)(e))return e.name;if(i.ruleNames.has(e))return i.ruleNames.get(e);{let n=e,r=n.$container,s=e.$type;for(;!(0,S.s7)(r);)((0,S.IZ)(r)||(0,S.jp)(r)||(0,S.cY)(r))&&(s=r.elements.indexOf(n).toString()+":"+s),n=r,r=r.$container;return s=r.name+":"+s,i.ruleNames.set(e,s),s}}(i,e),r=i.parser.getRule(n);if(!r)throw new Error(`Rule "${n}" not found."`);return r}function mr(i,e){const n=i.tokens[e];if(!n)throw new Error(`Token "${e}" not found."`);return n}var bi=p(3460),rn=p(6535),$e=p(9204),He=p(3302),Ue=p(7449);let Gt=0;const pr=Symbol("OperationCancelled");function gr(i){return i===pr}function vt(i){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,$e.A)(function*(i){if(i===He.XO.None)return;const e=performance.now();if(e-Gt>=10&&(Gt=e,yield function Di(){return new Promise(i=>{typeof setImmediate>"u"?setTimeout(i,0):setImmediate(i)})}(),Gt=performance.now()),i.isCancellationRequested)throw pr}),Kr.apply(this,arguments)}class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=r=>(e(r),this),this.reject=r=>(n(r),this)})}}class Yn{constructor(e,n,r,s){this._uri=e,this._languageId=n,this._version=r,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(const r of e)if(Yn.isIncremental(r)){const s=zs(r.range),l=this.offsetAt(s.start),c=this.offsetAt(s.end);this._content=this._content.substring(0,l)+r.text+this._content.substring(c,this._content.length);const m=Math.max(s.start.line,0),E=Math.max(s.end.line,0);let w=this._lineOffsets;const j=Vs(r.text,!1,l);if(E-m===j.length)for(let se=0,J=j.length;se<J;se++)w[se+m+1]=j[se];else j.length<1e4?w.splice(m+1,E-m,...j):this._lineOffsets=w=w.slice(0,m+1).concat(j,w.slice(E+1));const ne=r.text.length-(c-l);if(0!==ne)for(let se=m+1+j.length,J=w.length;se<J;se++)w[se]=w[se]+ne}else{if(!Yn.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=n}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Vs(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);const n=this.getLineOffsets();let r=0,s=n.length;if(0===s)return{line:0,character:e};for(;r<s;){const c=Math.floor((r+s)/2);n[c]>e?s=c:r=c+1}const l=r-1;return{line:l,character:(e=this.ensureBeforeEOL(e,n[l]))-n[l]}}offsetAt(e){const n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;const r=n[e.line];if(e.character<=0)return r;const l=Math.min(r+e.character,e.line+1<n.length?n[e.line+1]:this._content.length);return this.ensureBeforeEOL(l,r)}ensureBeforeEOL(e,n){for(;e>n&&Hs(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)}static isFull(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength}}var jr;function Vr(i,e){if(i.length<=1)return i;const n=i.length/2|0,r=i.slice(0,n),s=i.slice(n);Vr(r,e),Vr(s,e);let l=0,c=0,m=0;for(;l<r.length&&c<s.length;)e(r[l],s[c])<=0?i[m++]=r[l++]:i[m++]=s[c++];for(;l<r.length;)i[m++]=r[l++];for(;c<s.length;)i[m++]=s[c++];return i}function Vs(i,e,n=0){const r=e?[n]:[];for(let s=0;s<i.length;s++){const l=i.charCodeAt(s);Hs(l)&&(13===l&&s+1<i.length&&10===i.charCodeAt(s+1)&&s++,r.push(n+s+1))}return r}function Hs(i){return 13===i||10===i}function zs(i){const e=i.start,n=i.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:i}function Ui(i){const e=zs(i.range);return e!==i.range?{newText:i.newText,range:e}:i}!function(i){i.create=function e(s,l,c,m){return new Yn(s,l,c,m)},i.update=function n(s,l,c){if(s instanceof Yn)return s.update(l,c),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")},i.applyEdits=function r(s,l){const c=s.getText(),m=Vr(l.map(Ui),(j,ne)=>{const se=j.range.start.line-ne.range.start.line;return 0===se?j.range.start.character-ne.range.start.character:se});let E=0;const w=[];for(const j of m){const ne=s.offsetAt(j.range.start);if(ne<E)throw new Error("Overlapping edit");ne>E&&w.push(c.substring(E,ne)),j.newText.length&&w.push(j.newText),E=s.offsetAt(j.range.end)}return w.push(c.substr(E)),w.join("")}}(jr||(jr={}));var mt=p(2510),Xe=function(i){return i[i.Changed=0]="Changed",i[i.Parsed=1]="Parsed",i[i.IndexedContent=2]="IndexedContent",i[i.ComputedScopes=3]="ComputedScopes",i[i.Linked=4]="Linked",i[i.IndexedReferences=5]="IndexedReferences",i[i.Validated=6]="Validated",i}(Xe||{});class Gi{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}fromUri(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){const l=yield n.fileSystemProvider.readFile(r);return n.createAsync(r,l,s)}).apply(this,arguments)}fromTextDocument(e,n,r){return n=n??mt.r.parse(e.uri),He.XO.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromString(e,n,r){return He.XO.is(r)?this.createAsync(n,e,r):this.create(n,e,r)}fromModel(e,n){return this.create(n,{$model:e})}create(e,n,r){if("string"==typeof n){const s=this.parse(e,n,r);return this.createLangiumDocument(s,e,void 0,n)}if("$model"in n)return this.createLangiumDocument({value:n.$model,parserErrors:[],lexerErrors:[]},e);{const s=this.parse(e,n.getText(),r);return this.createLangiumDocument(s,e,n)}}createAsync(e,n,r){var s=this;return(0,$e.A)(function*(){if("string"==typeof n){const l=yield s.parseAsync(e,n,r);return s.createLangiumDocument(l,e,void 0,n)}{const l=yield s.parseAsync(e,n.getText(),r);return s.createLangiumDocument(l,e,n)}})()}createLangiumDocument(e,n,r,s){let l;if(r)l={parseResult:e,uri:n,state:Xe.Parsed,references:[],textDocument:r};else{const c=this.createTextDocumentGetter(n,s);l={parseResult:e,uri:n,state:Xe.Parsed,references:[],get textDocument(){return c()}}}return e.value.$document=l,l}update(e,n){var r=this;return(0,$e.A)(function*(){var s,l;const c=null===(s=e.parseResult.value.$cstNode)||void 0===s?void 0:s.root.fullText,m=null===(l=r.textDocuments)||void 0===l?void 0:l.get(e.uri.toString()),E=m?m.getText():yield r.fileSystemProvider.readFile(e.uri);if(m)Object.defineProperty(e,"textDocument",{value:m});else{const w=r.createTextDocumentGetter(e.uri,E);Object.defineProperty(e,"textDocument",{get:w})}return c!==E&&(e.parseResult=yield r.parseAsync(e.uri,E,n),e.parseResult.value.$document=e),e.state=Xe.Parsed,e})()}parse(e,n,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(n,r)}parseAsync(e,n,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(n,r)}createTextDocumentGetter(e,n){const r=this.serviceRegistry;let s;return()=>s??(s=jr.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,n??""))}}class yr{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return(0,st.Td)(this.documentMap.values())}addDocument(e){const n=e.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,e)}getDocument(e){const n=e.toString();return this.documentMap.get(n)}getOrCreateDocument(e,n){var r=this;return(0,$e.A)(function*(){let s=r.getDocument(e);return s||(s=yield r.langiumDocumentFactory.fromUri(e,n),r.addDocument(s),s)})()}createDocument(e,n,r){if(r)return this.langiumDocumentFactory.fromString(n,e,r).then(s=>(this.addDocument(s),s));{const s=this.langiumDocumentFactory.fromString(n,e);return this.addDocument(s),s}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=Xe.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){const n=e.toString(),r=this.documentMap.get(n);return r&&(r.state=Xe.Changed,this.documentMap.delete(n)),r}}const Hr=Symbol("ref_resolving");class Xs{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}link(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){for(const l of(0,Ge.jm)(r.parseResult.value))yield vt(s),(0,Ge.DM)(l).forEach(c=>n.doLink(c,r))}).apply(this,arguments)}doLink(e,n){var r;const s=e.reference;if(void 0===s._ref){s._ref=Hr;try{const l=this.getCandidate(e);if((0,Ue.Zl)(l))s._ref=l;else if(s._nodeDescription=l,this.langiumDocuments().hasDocument(l.documentUri)){const c=this.loadAstNode(l);s._ref=c??this.createLinkingError(e,l)}else s._ref=void 0}catch(l){console.error(`An error occurred while resolving reference to '${s.$refText}':`,l);const c=null!==(r=l.message)&&void 0!==r?r:String(l);s._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${s.$refText}': ${c}`})}n.references.push(s)}}unlink(e){for(const n of e.references)delete n._ref,delete n._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,n,r,s){const l=this,c={$refNode:r,$refText:s,get ref(){var m;if((0,Ue.ng)(this._ref))return this._ref;if((0,Ue.Nr)(this._nodeDescription)){const E=l.loadAstNode(this._nodeDescription);this._ref=E??l.createLinkingError({reference:c,container:e,property:n},this._nodeDescription)}else if(void 0===this._ref){this._ref=Hr;const E=(0,Ge.cQ)(e).$document,w=l.getLinkedNode({reference:c,container:e,property:n});if(w.error&&E&&E.state<Xe.ComputedScopes)return this._ref=void 0;this._ref=null!==(m=w.node)&&void 0!==m?m:w.error,this._nodeDescription=w.descr,E?.references.push(this)}else if(this._ref===Hr)throw new Error(`Cyclic reference resolution detected: ${l.astNodeLocator.getAstNodePath(e)}/${n} (symbol '${s}')`);return(0,Ue.ng)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,Ue.Zl)(this._ref)?this._ref:void 0}};return c}getLinkedNode(e){var n;try{const r=this.getCandidate(e);if((0,Ue.Zl)(r))return{error:r};const s=this.loadAstNode(r);return s?{node:s,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);const s=null!==(n=r.message)&&void 0!==n?n:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${s}`})}}}loadAstNode(e){if(e.node)return e.node;const n=this.langiumDocuments().getDocument(e.documentUri);return n?this.astNodeLocator.getAstNode(n.parseResult.value,e.path):void 0}createLinkingError(e,n){const r=(0,Ge.cQ)(e.container).$document;r&&r.state<Xe.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);const s=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${s} named '${e.reference.$refText}'.`,targetDescription:n})}}class Ys{getName(e){if(function Bi(i){return"string"==typeof i.name}(e))return e.name}getNameNode(e){return(0,$.qO)(e.$cstNode,"name")}}var Bt;!function(i){i.basename=mt.A.basename,i.dirname=mt.A.dirname,i.extname=mt.A.extname,i.joinPath=mt.A.joinPath,i.resolvePath=mt.A.resolvePath,i.equals=function e(s,l){return s?.toString()===l?.toString()},i.relative=function n(s,l){const m="string"==typeof l?l:l.path,E=("string"==typeof s?s:s.path).split("/").filter(J=>J.length>0),w=m.split("/").filter(J=>J.length>0);let j=0;for(;j<E.length&&E[j]===w[j];j++);return"../".repeat(E.length-j)+w.slice(j).join("/")},i.normalize=function r(s){return mt.r.parse(s.toString()).toString()}}(Bt||(Bt={}));class Qs{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){const n=(0,$.Rp)(e),r=e.astNode;if(n&&r){const s=r[n.feature];if((0,Ue.A_)(s))return s.ref;if(Array.isArray(s))for(const l of s)if((0,Ue.A_)(l)&&l.$refNode&&l.$refNode.offset<=e.offset&&l.$refNode.end>=e.end)return l.ref}if(r){const s=this.nameProvider.getNameNode(r);if(s&&(s===e||(0,C.pO)(e,s)))return r}}}findDeclarationNode(e){const n=this.findDeclaration(e);if(n?.$cstNode)return this.nameProvider.getNameNode(n)??n.$cstNode}findReferences(e,n){const r=[];if(n.includeDeclaration){const l=this.getReferenceToSelf(e);l&&r.push(l)}let s=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return n.documentUri&&(s=s.filter(l=>Bt.equals(l.sourceUri,n.documentUri))),r.push(...s),(0,st.Td)(r)}getReferenceToSelf(e){const n=this.nameProvider.getNameNode(e);if(n){const r=(0,Ge.YE)(e),s=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:s,targetUri:r.uri,targetPath:s,segment:(0,C.SX)(n),local:!0}}}}class Ar{constructor(e){if(this.map=new Map,e)for(const[n,r]of e)this.add(n,r)}get size(){return st.iD.sum((0,st.Td)(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,n){if(void 0===n)return this.map.delete(e);{const r=this.map.get(e);if(r){const s=r.indexOf(n);if(s>=0)return 1===r.length?this.map.delete(e):r.splice(s,1),!0}return!1}}get(e){var n;return null!==(n=this.map.get(e))&&void 0!==n?n:[]}has(e,n){if(void 0===n)return this.map.has(e);{const r=this.map.get(e);return!!r&&r.indexOf(n)>=0}}add(e,n){return this.map.has(e)?this.map.get(e).push(n):this.map.set(e,[n]),this}addAll(e,n){return this.map.has(e)?this.map.get(e).push(...n):this.map.set(e,Array.from(n)),this}forEach(e){this.map.forEach((n,r)=>n.forEach(s=>e(s,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return(0,st.Td)(this.map.entries()).flatMap(([e,n])=>n.map(r=>[e,r]))}keys(){return(0,st.Td)(this.map.keys())}values(){return(0,st.Td)(this.map.values()).flat()}entriesGroupedByKey(){return(0,st.Td)(this.map.entries())}}class Ye{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(const[n,r]of e)this.set(n,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,n){return this.map.set(e,n),this.inverse.set(n,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){const n=this.map.get(e);return void 0!==n&&(this.map.delete(e),this.inverse.delete(n),!0)}}class zr{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}computeExports(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){return n.computeExportsForNode(r.parseResult.value,r,void 0,s)}).apply(this,arguments)}computeExportsForNode(e,n){var r=this;return(0,$e.A)(function*(s,l,c=Ge.VN,m=He.XO.None){const E=[];r.exportNode(s,E,l);for(const w of c(s))yield vt(m),r.exportNode(w,E,l);return E}).apply(this,arguments)}exportNode(e,n,r){const s=this.nameProvider.getName(e);s&&n.push(this.descriptions.createDescription(e,s,r))}computeLocalScopes(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){const l=r.parseResult.value,c=new Ar;for(const m of(0,Ge.Uo)(l))yield vt(s),n.processNode(m,r,c);return c}).apply(this,arguments)}processNode(e,n,r){const s=e.$container;if(s){const l=this.nameProvider.getName(e);l&&r.add(s,this.descriptions.createDescription(e,l,n))}}}class Zs{constructor(e,n,r){var s;this.elements=e,this.outerScope=n,this.caseInsensitive=null!==(s=r?.caseInsensitive)&&void 0!==s&&s}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){return this.elements.find(this.caseInsensitive?r=>r.name.toLowerCase()===e.toLowerCase():r=>r.name===e)||(this.outerScope?this.outerScope.getElement(e):void 0)}}class Ki{constructor(e,n,r){var s;this.elements=new Map,this.caseInsensitive=null!==(s=r?.caseInsensitive)&&void 0!==s&&s;for(const l of e){const c=this.caseInsensitive?l.name.toLowerCase():l.name;this.elements.set(c,l)}this.outerScope=n}getElement(e){const n=this.caseInsensitive?e.toLowerCase():e;return this.elements.get(n)||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=(0,st.Td)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class Js{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class Wi extends Js{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,n){this.throwIfDisposed(),this.cache.set(e,n)}get(e,n){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(n){const r=n();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class qs extends Js{constructor(e){super(),this.cache=new Map,this.converter=e??(n=>n)}has(e,n){return this.throwIfDisposed(),this.cacheForContext(e).has(n)}set(e,n,r){this.throwIfDisposed(),this.cacheForContext(e).set(n,r)}get(e,n,r){this.throwIfDisposed();const s=this.cacheForContext(e);if(s.has(n))return s.get(n);if(r){const l=r();return s.set(n,l),l}}delete(e,n){return this.throwIfDisposed(),this.cacheForContext(e).delete(n)}clear(e){if(this.throwIfDisposed(),e){const n=this.converter(e);this.cache.delete(n)}else this.cache.clear()}cacheForContext(e){const n=this.converter(e);let r=this.cache.get(n);return r||(r=new Map,this.cache.set(n,r)),r}}class ei extends Wi{constructor(e,n){super(),n?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(n,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((r,s)=>{s.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}class Xr{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new ei(e.shared)}getScope(e){const n=[],r=this.reflection.getReferenceType(e),s=(0,Ge.YE)(e.container).precomputedScopes;if(s){let c=e.container;do{const m=s.get(c);m.length>0&&n.push((0,st.Td)(m).filter(E=>this.reflection.isSubtype(E.type,r))),c=c.$container}while(c)}let l=this.getGlobalScope(r,e);for(let c=n.length-1;c>=0;c--)l=this.createScope(n[c],l);return l}createScope(e,n,r){return new Zs((0,st.Td)(e),n,r)}createScopeForNodes(e,n,r){const s=(0,st.Td)(e).map(l=>{const c=this.nameProvider.getName(l);if(c)return this.descriptions.createDescription(l,c)}).nonNullable();return new Zs(s,n,r)}getGlobalScope(e,n){return this.globalScopeCache.get(e,()=>new Ki(this.indexManager.allElements(e)))}}function Yr(i){return"object"==typeof i&&!!i&&("$ref"in i||"$error"in i)}class Tr{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,n){const r=n??{},s=n?.replacer,l=(m,E)=>this.replacer(m,E,r),c=s?(m,E)=>s(m,E,l):l;try{return this.currentDocument=(0,Ge.YE)(e),JSON.stringify(e,c,n?.space)}finally{this.currentDocument=void 0}}deserialize(e,n){const r=n??{},s=JSON.parse(e);return this.linkNode(s,s,r),s}replacer(e,n,{refText:r,sourceText:s,textRegions:l,comments:c,uriConverter:m}){var E,w,j,ne;if(!this.ignoreProperties.has(e)){if((0,Ue.A_)(n)){const se=n.ref,J=r?n.$refText:void 0;if(se){const be=(0,Ge.YE)(se);let je="";return this.currentDocument&&this.currentDocument!==be&&(je=m?m(be.uri,n):be.uri.toString()),{$ref:`${je}#${this.astNodeLocator.getAstNodePath(se)}`,$refText:J}}return{$error:null!==(w=null===(E=n.error)||void 0===E?void 0:E.message)&&void 0!==w?w:"Could not resolve reference",$refText:J}}if((0,Ue.ng)(n)){let se;if(l&&(se=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},n)),(!e||n.$document)&&se?.$textRegion&&(se.$textRegion.documentURI=null===(j=this.currentDocument)||void 0===j?void 0:j.uri.toString())),s&&!e&&(se??(se=Object.assign({},n)),se.$sourceText=null===(ne=n.$cstNode)||void 0===ne?void 0:ne.text),c){se??(se=Object.assign({},n));const J=this.commentProvider.getComment(n);J&&(se.$comment=J.replace(/\r/g,""))}return se??n}return n}}addAstNodeRegionWithAssignmentsTo(e){const n=r=>({offset:r.offset,end:r.end,length:r.length,range:r.range});if(e.$cstNode){const s=(e.$textRegion=n(e.$cstNode)).assignments={};return Object.keys(e).filter(l=>!l.startsWith("$")).forEach(l=>{const c=(0,$.Bd)(e.$cstNode,l).map(n);0!==c.length&&(s[l]=c)}),e}}linkNode(e,n,r,s,l,c){for(const[E,w]of Object.entries(e))if(Array.isArray(w))for(let j=0;j<w.length;j++){const ne=w[j];Yr(ne)?w[j]=this.reviveReference(e,E,n,ne,r):(0,Ue.ng)(ne)&&this.linkNode(ne,n,r,e,E,j)}else Yr(w)?e[E]=this.reviveReference(e,E,n,w,r):(0,Ue.ng)(w)&&this.linkNode(w,n,r,e,E);const m=e;m.$container=s,m.$containerProperty=l,m.$containerIndex=c}reviveReference(e,n,r,s,l){let c=s.$refText,m=s.$error;if(s.$ref){const E=this.getRefNode(r,s.$ref,l.uriConverter);if((0,Ue.ng)(E))return c||(c=this.nameProvider.getName(E)),{$refText:c??"",ref:E};m=E}if(m){const E={$refText:c??""};return E.error={container:e,property:n,message:m,reference:E},E}}getRefNode(e,n,r){try{const s=n.indexOf("#");if(0===s)return this.astNodeLocator.getAstNode(e,n.substring(1))||"Could not resolve path: "+n;if(s<0){const E=r?r(n):mt.r.parse(n),w=this.langiumDocuments.getDocument(E);return w?w.parseResult.value:"Could not find document for URI: "+n}const l=r?r(n.substring(0,s)):mt.r.parse(n.substring(0,s)),c=this.langiumDocuments.getDocument(l);return c?s===n.length-1?c.parseResult.value:this.astNodeLocator.getAstNode(c.parseResult.value,n.substring(s+1))||"Could not resolve URI: "+n:"Could not find document for URI: "+n}catch(s){return String(s)}}}class vr{get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){const n=e.LanguageMetaData;for(const r of n.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${n.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(n.languageId,e),this.singleton=1===this.languageIdMap.size?e:void 0}getServices(e){var n,r;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const s=null===(r=null===(n=this.textDocuments)||void 0===n?void 0:n.get(e))||void 0===r?void 0:r.languageId;if(void 0!==s){const m=this.languageIdMap.get(s);if(m)return m}const l=Bt.extname(e),c=this.fileExtensionMap.get(l);if(!c)throw s?new Error(`The service registry contains no services for the extension '${l}' for language '${s}'.`):new Error(`The service registry contains no services for the extension '${l}'.`);return c}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}}function hn(i){return{code:i}}var Qr=function(i){return i.all=["fast","slow","built-in"],i}(Qr||{});class ti{constructor(e){this.entries=new Ar,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,n=this,r="fast"){if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(const[s,l]of Object.entries(e)){const c=l;if(Array.isArray(c))for(const m of c){const E={check:this.wrapValidationException(m,n),category:r};this.addEntry(s,E)}else if("function"==typeof c){const m={check:this.wrapValidationException(c,n),category:r};this.addEntry(s,m)}else(0,dn.d)(c)}}wrapValidationException(e,n){var r=this;return function(){var s=(0,$e.A)(function*(l,c,m){yield r.handleException(()=>e.call(n,l,c,m),"An error occurred during validation",c,l)});return function(l,c,m){return s.apply(this,arguments)}}()}handleException(e,n,r,s){return(0,$e.A)(function*(){try{yield e()}catch(l){if(gr(l))throw l;console.error(`${n}:`,l),l instanceof Error&&l.stack&&console.error(l.stack);const c=l instanceof Error?l.message:String(l);r("error",`${n}: ${c}`,{node:s})}})()}addEntry(e,n){if("AstNode"!==e)for(const r of this.reflection.getAllSubTypes(e))this.entries.add(r,n);else this.entries.add("AstNode",n)}getChecks(e,n){let r=(0,st.Td)(this.entries.get(e)).concat(this.entries.get("AstNode"));return n&&(r=r.filter(s=>n.includes(s.category))),r.map(s=>s.check)}registerBeforeDocument(e,n=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",n))}registerAfterDocument(e,n=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",n))}wrapPreparationException(e,n,r){var s=this;return function(){var l=(0,$e.A)(function*(c,m,E,w){yield s.handleException(()=>e.call(r,c,m,E,w),n,m,c)});return function(c,m,E,w){return l.apply(this,arguments)}}()}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}}class Hi{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}validateDocument(e){var n=this;return(0,$e.A)(function*(r,s={},l=He.XO.None){const c=r.parseResult,m=[];if(yield vt(l),(!s.categories||s.categories.includes("built-in"))&&(n.processLexingErrors(c,m,s),s.stopAfterLexingErrors&&m.some(E=>{var w;return(null===(w=E.data)||void 0===w?void 0:w.code)===wt.LexingError})||(n.processParsingErrors(c,m,s),s.stopAfterParsingErrors&&m.some(E=>{var w;return(null===(w=E.data)||void 0===w?void 0:w.code)===wt.ParsingError}))||(n.processLinkingErrors(r,m,s),s.stopAfterLinkingErrors&&m.some(E=>{var w;return(null===(w=E.data)||void 0===w?void 0:w.code)===wt.LinkingError}))))return m;try{m.push(...yield n.validateAst(c.value,s,l))}catch(E){if(gr(E))throw E;console.error("An error occurred during validation:",E)}return yield vt(l),m}).apply(this,arguments)}processLexingErrors(e,n,r){var s,l,c;const m=[...e.lexerErrors,...null!==(l=null===(s=e.lexerReport)||void 0===s?void 0:s.diagnostics)&&void 0!==l?l:[]];for(const E of m){const w=null!==(c=E.severity)&&void 0!==c?c:"error",j={severity:Zr(w),range:{start:{line:E.line-1,character:E.column-1},end:{line:E.line-1,character:E.column+E.length-1}},message:E.message,data:Xi(w),source:this.getSource()};n.push(j)}}processParsingErrors(e,n,r){for(const s of e.parserErrors){let l;if(isNaN(s.token.startOffset)){if("previousToken"in s){const c=s.previousToken;if(isNaN(c.startOffset)){const m={line:0,character:0};l={start:m,end:m}}else{const m={line:c.endLine-1,character:c.endColumn};l={start:m,end:m}}}}else l=(0,C.wf)(s.token);if(l){const c={severity:Zr("error"),range:l,message:s.message,data:hn(wt.ParsingError),source:this.getSource()};n.push(c)}}}processLinkingErrors(e,n,r){for(const s of e.references){const l=s.error;l&&n.push(this.toDiagnostic("error",l.message,{node:l.container,property:l.property,index:l.index,data:{code:wt.LinkingError,containerType:l.container.$type,property:l.property,refText:l.reference.$refText}}))}}validateAst(e,n){var r=this;return(0,$e.A)(function*(s,l,c=He.XO.None){const m=[],E=(w,j,ne)=>{m.push(r.toDiagnostic(w,j,ne))};return yield r.validateAstBefore(s,l,E,c),yield r.validateAstNodes(s,l,E,c),yield r.validateAstAfter(s,l,E,c),m}).apply(this,arguments)}validateAstBefore(e,n,r){var s=this;return(0,$e.A)(function*(l,c,m,E=He.XO.None){var w;const j=s.validationRegistry.checksBefore;for(const ne of j)yield vt(E),yield ne(l,m,null!==(w=c.categories)&&void 0!==w?w:[],E)}).apply(this,arguments)}validateAstNodes(e,n,r){var s=this;return(0,$e.A)(function*(l,c,m,E=He.XO.None){yield Promise.all((0,Ge.jm)(l).map(function(){var w=(0,$e.A)(function*(j){yield vt(E);const ne=s.validationRegistry.getChecks(j.$type,c.categories);for(const se of ne)yield se(j,m,E)});return function(j){return w.apply(this,arguments)}}()))}).apply(this,arguments)}validateAstAfter(e,n,r){var s=this;return(0,$e.A)(function*(l,c,m,E=He.XO.None){var w;const j=s.validationRegistry.checksAfter;for(const ne of j)yield vt(E),yield ne(l,m,null!==(w=c.categories)&&void 0!==w?w:[],E)}).apply(this,arguments)}toDiagnostic(e,n,r){return{message:n,range:zi(r),severity:Zr(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function zi(i){if(i.range)return i.range;let e;return"string"==typeof i.property?e=(0,$.qO)(i.node.$cstNode,i.property,i.index):"string"==typeof i.keyword&&(e=(0,$.SS)(i.node.$cstNode,i.keyword,i.index)),e??(e=i.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}function Zr(i){switch(i){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+i)}}function Xi(i){switch(i){case"error":return hn(wt.LexingError);case"warning":return hn(wt.LexingWarning);case"info":return hn(wt.LexingInfo);case"hint":return hn(wt.LexingHint);default:throw new Error("Invalid diagnostic severity: "+i)}}var wt=function(i){return i.LexingError="lexing-error",i.LexingWarning="lexing-warning",i.LexingInfo="lexing-info",i.LexingHint="lexing-hint",i.ParsingError="parsing-error",i.LinkingError="linking-error",i}(wt||{});class Yi{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,n,r){const s=r??(0,Ge.YE)(e);n??(n=this.nameProvider.getName(e));const l=this.astNodeLocator.getAstNodePath(e);if(!n)throw new Error(`Node at path ${l} has no name.`);let c;const m=()=>{var E;return c??(c=(0,C.SX)(null!==(E=this.nameProvider.getNameNode(e))&&void 0!==E?E:e.$cstNode))};return{node:e,name:n,get nameSegment(){return m()},selectionSegment:(0,C.SX)(e.$cstNode),type:e.$type,documentUri:s.uri,path:l}}}class Qi{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}createDescriptions(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){const l=[],c=r.parseResult.value;for(const m of(0,Ge.jm)(c))yield vt(s),(0,Ge.DM)(m).filter(E=>!(0,Ue.Zl)(E)).forEach(E=>{const w=n.createDescription(E);w&&l.push(w)});return l}).apply(this,arguments)}createDescription(e){const n=e.reference.$nodeDescription,r=e.reference.$refNode;if(!n||!r)return;const s=(0,Ge.YE)(e.container).uri;return{sourceUri:s,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:n.documentUri,targetPath:n.path,segment:(0,C.SX)(r),local:Bt.equals(n.documentUri,s)}}}class Zi{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){const n=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return n+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:n}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==n?e+this.indexSeparator+n:e}getAstNode(e,n){return n.split(this.segmentSeparator).reduce((s,l)=>{if(!s||0===l.length)return s;const c=l.indexOf(this.indexSeparator);if(c>0){const m=l.substring(0,c),E=parseInt(l.substring(c+1)),w=s[m];return w?.[E]}return s[l]},e)}}var mn,ni=p(2240);class Rr{constructor(e){this._ready=new Wr,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new ni.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var n,r;this.workspaceConfig=null!==(r=null===(n=e.capabilities.workspace)||void 0===n?void 0:n.configuration)&&void 0!==r&&r}initialized(e){var n=this;return(0,$e.A)(function*(){if(n.workspaceConfig&&(e.register&&e.register({section:n.serviceRegistry.all.map(s=>n.toSectionName(s.LanguageMetaData.languageId))}),e.fetchConfiguration)){const r=n.serviceRegistry.all.map(l=>({section:n.toSectionName(l.LanguageMetaData.languageId)})),s=yield e.fetchConfiguration(r);r.forEach((l,c)=>{n.updateSectionConfiguration(l.section,s[c])})}n._ready.resolve()})()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(n=>{const r=e.settings[n];this.updateSectionConfiguration(n,r),this.onConfigurationSectionUpdateEmitter.fire({section:n,configuration:r})})}updateSectionConfiguration(e,n){this.settings[e]=n}getConfiguration(e,n){var r=this;return(0,$e.A)(function*(){yield r.ready;const s=r.toSectionName(e);if(r.settings[s])return r.settings[s][n]})()}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}}!function(i){i.create=function e(n){return{dispose:(r=(0,$e.A)(function*(){return yield n()}),function(){return r.apply(this,arguments)})};var r}}(mn||(mn={}));class Ji{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Ar,this.documentPhaseListeners=new Ar,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Xe.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}build(e){var n=this;return(0,$e.A)(function*(r,s={},l=He.XO.None){var c,m;for(const E of r){const w=E.uri.toString();if(E.state===Xe.Validated){if("boolean"==typeof s.validation&&s.validation)E.state=Xe.IndexedReferences,E.diagnostics=void 0,n.buildState.delete(w);else if("object"==typeof s.validation){const j=n.buildState.get(w),ne=null===(c=j?.result)||void 0===c?void 0:c.validationChecks;if(ne){const J=(null!==(m=s.validation.categories)&&void 0!==m?m:Qr.all).filter(be=>!ne.includes(be));J.length>0&&(n.buildState.set(w,{completed:!1,options:{validation:Object.assign(Object.assign({},s.validation),{categories:J})},result:j.result}),E.state=Xe.IndexedReferences)}}}else n.buildState.delete(w)}n.currentState=Xe.Changed,yield n.emitUpdate(r.map(E=>E.uri),[]),yield n.buildDocuments(r,s,l)}).apply(this,arguments)}update(e,n){var r=this;return(0,$e.A)(function*(s,l,c=He.XO.None){r.currentState=Xe.Changed;for(const w of l)r.langiumDocuments.deleteDocument(w),r.buildState.delete(w.toString()),r.indexManager.remove(w);for(const w of s){if(!r.langiumDocuments.invalidateDocument(w)){const ne=r.langiumDocumentFactory.fromModel({$type:"INVALID"},w);ne.state=Xe.Changed,r.langiumDocuments.addDocument(ne)}r.buildState.delete(w.toString())}const m=(0,st.Td)(s).concat(l).map(w=>w.toString()).toSet();r.langiumDocuments.all.filter(w=>!m.has(w.uri.toString())&&r.shouldRelink(w,m)).forEach(w=>{r.serviceRegistry.getServices(w.uri).references.Linker.unlink(w),w.state=Math.min(w.state,Xe.ComputedScopes),w.diagnostics=void 0}),yield r.emitUpdate(s,l),yield vt(c);const E=r.sortDocuments(r.langiumDocuments.all.filter(w=>{var j;return w.state<Xe.Linked||!(null!==(j=r.buildState.get(w.uri.toString()))&&void 0!==j&&j.completed)}).toArray());yield r.buildDocuments(E,r.updateBuildOptions,c)}).apply(this,arguments)}emitUpdate(e,n){var r=this;return(0,$e.A)(function*(){yield Promise.all(r.updateListeners.map(s=>s(e,n)))})()}sortDocuments(e){let n=0,r=e.length-1;for(;n<r;){for(;n<e.length&&this.hasTextDocument(e[n]);)n++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;n<r&&([e[n],e[r]]=[e[r],e[n]])}return e}hasTextDocument(e){var n;return!(null===(n=this.textDocuments)||void 0===n||!n.get(e.uri))}shouldRelink(e,n){return!!e.references.some(r=>void 0!==r.error)||this.indexManager.isAffected(e,n)}onUpdate(e){return this.updateListeners.push(e),mn.create(()=>{const n=this.updateListeners.indexOf(e);n>=0&&this.updateListeners.splice(n,1)})}buildDocuments(e,n,r){var s=this;return(0,$e.A)(function*(){s.prepareBuild(e,n),yield s.runCancelable(e,Xe.Parsed,r,c=>s.langiumDocumentFactory.update(c,r)),yield s.runCancelable(e,Xe.IndexedContent,r,c=>s.indexManager.updateContent(c,r)),yield s.runCancelable(e,Xe.ComputedScopes,r,function(){var c=(0,$e.A)(function*(m){const E=s.serviceRegistry.getServices(m.uri).references.ScopeComputation;m.precomputedScopes=yield E.computeLocalScopes(m,r)});return function(m){return c.apply(this,arguments)}}()),yield s.runCancelable(e,Xe.Linked,r,c=>s.serviceRegistry.getServices(c.uri).references.Linker.link(c,r)),yield s.runCancelable(e,Xe.IndexedReferences,r,c=>s.indexManager.updateReferences(c,r));const l=e.filter(c=>s.shouldValidate(c));yield s.runCancelable(l,Xe.Validated,r,c=>s.validate(c,r));for(const c of e){const m=s.buildState.get(c.uri.toString());m&&(m.completed=!0)}})()}prepareBuild(e,n){for(const r of e){const s=r.uri.toString(),l=this.buildState.get(s);(!l||l.completed)&&this.buildState.set(s,{completed:!1,options:n,result:l?.result})}}runCancelable(e,n,r,s){var l=this;return(0,$e.A)(function*(){const c=e.filter(E=>E.state<n);for(const E of c)yield vt(r),yield s(E),E.state=n,yield l.notifyDocumentPhase(E,n,r);const m=e.filter(E=>E.state===n);yield l.notifyBuildPhase(m,n,r),l.currentState=n})()}onBuildPhase(e,n){return this.buildPhaseListeners.add(e,n),mn.create(()=>{this.buildPhaseListeners.delete(e,n)})}onDocumentPhase(e,n){return this.documentPhaseListeners.add(e,n),mn.create(()=>{this.documentPhaseListeners.delete(e,n)})}waitUntil(e,n,r){let s;if(n&&"path"in n?s=n:r=n,r??(r=He.XO.None),s){const l=this.langiumDocuments.getDocument(s);if(l&&l.state>e)return Promise.resolve(s)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(pr):new Promise((l,c)=>{const m=this.onBuildPhase(e,()=>{if(m.dispose(),E.dispose(),s){const w=this.langiumDocuments.getDocument(s);l(w?.uri)}else l(void 0)}),E=r.onCancellationRequested(()=>{m.dispose(),E.dispose(),c(pr)})})}notifyDocumentPhase(e,n,r){var s=this;return(0,$e.A)(function*(){const c=s.documentPhaseListeners.get(n).slice();for(const m of c)try{yield m(e,r)}catch(E){if(!gr(E))throw E}})()}notifyBuildPhase(e,n,r){var s=this;return(0,$e.A)(function*(){if(0===e.length)return;const c=s.buildPhaseListeners.get(n).slice();for(const m of c)yield vt(r),yield m(e,r)})()}shouldValidate(e){return!!this.getBuildOptions(e).validation}validate(e,n){var r=this;return(0,$e.A)(function*(){var s,l;const c=r.serviceRegistry.getServices(e.uri).validation.DocumentValidator,m=r.getBuildOptions(e).validation,E="object"==typeof m?m:void 0,w=yield c.validateDocument(e,E,n);e.diagnostics?e.diagnostics.push(...w):e.diagnostics=w;const j=r.buildState.get(e.uri.toString());if(j){null!==(s=j.result)&&void 0!==s||(j.result={});const ne=null!==(l=E?.categories)&&void 0!==l?l:Qr.all;j.result.validationChecks?j.result.validationChecks.push(...ne):j.result.validationChecks=[...ne]}})()}getBuildOptions(e){var n,r;return null!==(r=null===(n=this.buildState.get(e.uri.toString()))||void 0===n?void 0:n.options)&&void 0!==r?r:{}}}class qi{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new qs,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,n){const r=(0,Ge.YE)(e).uri,s=[];return this.referenceIndex.forEach(l=>{l.forEach(c=>{Bt.equals(c.targetUri,r)&&c.targetPath===n&&s.push(c)})}),(0,st.Td)(s)}allElements(e,n){let r=(0,st.Td)(this.symbolIndex.keys());return n&&(r=r.filter(s=>!n||n.has(s))),r.map(s=>this.getFileDescriptions(s,e)).flat()}getFileDescriptions(e,n){var r;return n?this.symbolByTypeIndex.get(e,n,()=>{var l;return(null!==(l=this.symbolIndex.get(e))&&void 0!==l?l:[]).filter(m=>this.astReflection.isSubtype(m.type,n))}):null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]}remove(e){const n=e.toString();this.symbolIndex.delete(n),this.symbolByTypeIndex.clear(n),this.referenceIndex.delete(n)}updateContent(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){const c=yield n.serviceRegistry.getServices(r.uri).references.ScopeComputation.computeExports(r,s),m=r.uri.toString();n.symbolIndex.set(m,c),n.symbolByTypeIndex.clear(m)}).apply(this,arguments)}updateReferences(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){const c=yield n.serviceRegistry.getServices(r.uri).workspace.ReferenceDescriptionProvider.createDescriptions(r,s);n.referenceIndex.set(r.uri.toString(),c)}).apply(this,arguments)}isAffected(e,n){const r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some(s=>!s.local&&n.has(s.targetUri.toString()))}}class ea{constructor(e){this.initialBuildOptions={},this._ready=new Wr,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var n;this.folders=null!==(n=e.workspaceFolders)&&void 0!==n?n:void 0}initialized(e){return this.mutex.write(n=>{var r;return this.initializeWorkspace(null!==(r=this.folders)&&void 0!==r?r:[],n)})}initializeWorkspace(e){var n=this;return(0,$e.A)(function*(r,s=He.XO.None){const l=yield n.performStartup(r);yield vt(s),yield n.documentBuilder.build(l,n.initialBuildOptions,s)}).apply(this,arguments)}performStartup(e){var n=this;return(0,$e.A)(function*(){const r=n.serviceRegistry.all.flatMap(c=>c.LanguageMetaData.fileExtensions),s=[],l=c=>{s.push(c),n.langiumDocuments.hasDocument(c.uri)||n.langiumDocuments.addDocument(c)};return yield n.loadAdditionalDocuments(e,l),yield Promise.all(e.map(c=>[c,n.getRootFolder(c)]).map(function(){var c=(0,$e.A)(function*(m){return n.traverseFolder(...m,r,l)});return function(m){return c.apply(this,arguments)}}())),n._ready.resolve(),s})()}loadAdditionalDocuments(e,n){return Promise.resolve()}getRootFolder(e){return mt.r.parse(e.uri)}traverseFolder(e,n,r,s){var l=this;return(0,$e.A)(function*(){const c=yield l.fileSystemProvider.readDirectory(n);yield Promise.all(c.map(function(){var m=(0,$e.A)(function*(E){if(l.includeEntry(e,E,r))if(E.isDirectory)yield l.traverseFolder(e,E.uri,r,s);else if(E.isFile){const w=yield l.langiumDocuments.getOrCreateDocument(E.uri);s(w)}});return function(E){return m.apply(this,arguments)}}()))})()}includeEntry(e,n,r){const s=Bt.basename(n.uri);if(s.startsWith("."))return!1;if(n.isDirectory)return"node_modules"!==s&&"out"!==s;if(n.isFile){const l=Bt.extname(n.uri);return r.includes(l)}return!1}}class ta{buildUnexpectedCharactersMessage(e,n,r,s,l){return b.PW.buildUnexpectedCharactersMessage(e,n,r,s,l)}buildUnableToPopLexerModeMessage(e){return b.PW.buildUnableToPopLexerModeMessage(e)}}const na={mode:"full"};class ra{constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;const n=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);const r=si(n)?Object.values(n):n;this.chevrotainLexer=new b.JG(r,{positionTracking:"full",skipValidations:"production"===e.LanguageMetaData.mode,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,n=na){var r,s,l;const c=this.chevrotainLexer.tokenize(e);return{tokens:c.tokens,errors:c.errors,hidden:null!==(r=c.groups.hidden)&&void 0!==r?r:[],report:null===(l=(s=this.tokenBuilder).flushLexingReport)||void 0===l?void 0:l.call(s,e)}}toTokenTypeDictionary(e){if(si(e))return e;const n=ri(e)?Object.values(e.modes).flat():e,r={};return n.forEach(s=>r[s.name]=s),r}}function ri(i){return i&&"modes"in i&&"defaultMode"in i}function si(i){return!function sa(i){return Array.isArray(i)&&(0===i.length||"name"in i[0])}(i)&&!ri(i)}function Jr(i){let e="";return e="string"==typeof i?i:i.text,e.split(B.TH)}const qr=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,ai=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function Er(i,e,n,r){const s=[];if(0===i.length){const l=Le.create(n,r),c=Le.create(n,r+e.length);s.push({type:"text",content:e,range:te.create(l,c)})}else{let l=0;for(const m of i){const E=m.index,w=e.substring(l,E);w.length>0&&s.push({type:"text",content:e.substring(l,E),range:te.create(Le.create(n,l+r),Le.create(n,E+r))});let j=w.length+1;const ne=m[1];if(s.push({type:"inline-tag",content:ne,range:te.create(Le.create(n,l+j+r),Le.create(n,l+j+ne.length+r))}),j+=ne.length,4===m.length){j+=m[2].length;const se=m[3];s.push({type:"text",content:se,range:te.create(Le.create(n,l+j+r),Le.create(n,l+j+se.length+r))})}else s.push({type:"text",content:"",range:te.create(Le.create(n,l+j+r),Le.create(n,l+j+r))});l=E+m[0].length}const c=e.substring(l);c.length>0&&s.push({type:"text",content:c,range:te.create(Le.create(n,l+r),Le.create(n,l+r+c.length))})}return s}const _r=/\S/,li=/\s*$/;function es(i,e){const n=i.substring(e).match(_r);return n?e+n.index:i.length}function aa(i){const e=i.match(li);if(e&&"number"==typeof e.index)return e.index}function ts(i,e){const n=i.tokens[i.index];return"tag"===n.type?di(i,!1):"text"===n.type||"inline-tag"===n.type?ci(i):(function ui(i,e){if(e){const n=new $r("",i.range);"inlines"in e?e.inlines.push(n):e.content.inlines.push(n)}}(n,e),void i.index++)}function ci(i){let e=i.tokens[i.index];const n=e;let r=e;const s=[];for(;e&&"break"!==e.type&&"tag"!==e.type;)s.push(la(i)),r=e,e=i.tokens[i.index];return new Qn(s,te.create(n.range.start,r.range.end))}function la(i){return"inline-tag"===i.tokens[i.index].type?di(i,!0):fi(i)}function di(i,e){const n=i.tokens[i.index++],r=n.content.substring(1),s=i.tokens[i.index];if("text"===s?.type){if(e){const l=fi(i);return new Cr(r,new Qn([l],l.range),e,te.create(n.range.start,l.range.end))}{const l=ci(i);return new Cr(r,l,e,te.create(n.range.start,l.range.end))}}{const l=n.range;return new Cr(r,new Qn([],l),e,l)}}function fi(i){const e=i.tokens[i.index++];return new $r(e.content,e.range)}function Kt(i){if(!i)return Kt({start:"/**",end:"*/",line:"*"});const{start:e,end:n,line:r}=i;return{start:hi(e,!0),end:hi(n,!1),line:hi(r,!0)}}function hi(i,e){if("string"==typeof i||"object"==typeof i){const n="string"==typeof i?(0,B.Nt)(i):i.source;return e?new RegExp(`^\\s*${n}`):new RegExp(`\\s*${n}\\s*$`)}return i}class mi{constructor(e,n){this.elements=e,this.range=n}getTag(e){return this.getAllTags().find(n=>n.name===e)}getTags(e){return this.getAllTags().filter(n=>n.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(const n of this.elements)if(0===e.length)e=n.toString();else{const r=n.toString();e+=Zn(e)+r}return e.trim()}toMarkdown(e){let n="";for(const r of this.elements)if(0===n.length)n=r.toMarkdown(e);else{const s=r.toMarkdown(e);n+=Zn(n)+s}return n.trim()}}class Cr{constructor(e,n,r,s){this.name=e,this.content=n,this.inline=r,this.range=s}toString(){let e=`@${this.name}`;const n=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${n}`:this.content.inlines.length>1&&(e=`${e}\n${n}`),this.inline?`{${e}}`:e}toMarkdown(e){var n,r;return null!==(r=null===(n=e?.renderTag)||void 0===n?void 0:n.call(e,this))&&void 0!==r?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){const n=this.content.toMarkdown(e);if(this.inline){const l=function pi(i,e,n){var r,s;if("linkplain"===i||"linkcode"===i||"link"===i){const l=e.indexOf(" ");let c=e;if(l>0){const E=es(e,l);c=e.substring(E),e=e.substring(0,l)}return("linkcode"===i||"link"===i&&"code"===n.link)&&(c=`\`${c}\``),null!==(s=null===(r=n.renderLink)||void 0===r?void 0:r.call(n,e,c))&&void 0!==s?s:function ns(i,e){try{return mt.r.parse(i,!0),`[${e}](${i})`}catch{return i}}(e,c)}}(this.name,n,e??{});if("string"==typeof l)return l}let r="";"italic"===e?.tag||void 0===e?.tag?r="*":"bold"===e?.tag?r="**":"bold-italic"===e?.tag&&(r="***");let s=`${r}@${this.name}${r}`;return 1===this.content.inlines.length?s=`${s} \u2014 ${n}`:this.content.inlines.length>1&&(s=`${s}\n${n}`),this.inline?`{${s}}`:s}}class Qn{constructor(e,n){this.inlines=e,this.range=n}toString(){let e="";for(let n=0;n<this.inlines.length;n++){const r=this.inlines[n],s=this.inlines[n+1];e+=r.toString(),s&&s.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){let n="";for(let r=0;r<this.inlines.length;r++){const s=this.inlines[r],l=this.inlines[r+1];n+=s.toMarkdown(e),l&&l.range.start.line>s.range.start.line&&(n+="\n")}return n}}class $r{constructor(e,n){this.text=e,this.range=n}toString(){return this.text}toMarkdown(){return this.text}}function Zn(i){return i.endsWith("\n")?"\n":"\n\n"}class rs{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){const n=this.commentProvider.getComment(e);if(n&&function ii(i,e){const n=Kt(e),r=Jr(i);if(0===r.length)return!1;const s=r[0],l=r[r.length-1],c=n.start,m=n.end;return!!c?.exec(s)&&!!m?.exec(l)}(n))return function ia(i,e,n){let r,s;"string"==typeof i?(s=e,r=n):(s=i.range.start,r=e),s||(s=Le.create(0,0));const m=function oi(i){var e,n,r;const s=[];let l=i.position.line,c=i.position.character;for(let m=0;m<i.lines.length;m++){const w=m===i.lines.length-1;let j=i.lines[m],ne=0;if(0===m&&i.options.start){const J=null===(e=i.options.start)||void 0===e?void 0:e.exec(j);J&&(ne=J.index+J[0].length)}else{const J=null===(n=i.options.line)||void 0===n?void 0:n.exec(j);J&&(ne=J.index+J[0].length)}if(w){const J=null===(r=i.options.end)||void 0===r?void 0:r.exec(j);J&&(j=j.substring(0,J.index))}if(j=j.substring(0,aa(j)),es(j,ne)>=j.length){if(s.length>0){const J=Le.create(l,c);s.push({type:"break",content:"",range:te.create(J,J)})}}else{qr.lastIndex=ne;const J=qr.exec(j);if(J){const be=J[0],je=J[1],tt=Le.create(l,c+ne),pt=Le.create(l,c+ne+be.length);s.push({type:"tag",content:je,range:te.create(tt,pt)}),ne+=be.length,ne=es(j,ne)}if(ne<j.length){const be=j.substring(ne),je=Array.from(be.matchAll(ai));s.push(...Er(je,be,l,c+ne))}}l++,c=0}return s.length>0&&"break"===s[s.length-1].type?s.slice(0,-1):s}({lines:Jr(i),position:s,options:Kt(r)});return function oa(i){var e,n,r,s;const l=Le.create(i.position.line,i.position.character);if(0===i.tokens.length)return new mi([],te.create(l,l));const c=[];for(;i.index<i.tokens.length;){const w=ts(i,c[c.length-1]);w&&c.push(w)}const m=null!==(n=null===(e=c[0])||void 0===e?void 0:e.range.start)&&void 0!==n?n:l,E=null!==(s=null===(r=c[c.length-1])||void 0===r?void 0:r.range.end)&&void 0!==s?s:l;return new mi(c,te.create(m,E))}({index:0,tokens:m,position:s})}(n).toMarkdown({renderLink:(s,l)=>this.documentationLinkRenderer(e,s,l),renderTag:s=>this.documentationTagRenderer(e,s)})}documentationLinkRenderer(e,n,r){var s;const l=null!==(s=this.findNameInPrecomputedScopes(e,n))&&void 0!==s?s:this.findNameInGlobalScope(e,n);if(l&&l.nameSegment)return`[${r}](${l.documentUri.with({fragment:`L${l.nameSegment.range.start.line+1},${l.nameSegment.range.start.character+1}`}).toString()})`}documentationTagRenderer(e,n){}findNameInPrecomputedScopes(e,n){const s=(0,Ge.YE)(e).precomputedScopes;if(!s)return;let l=e;do{const m=s.get(l).find(E=>E.name===n);if(m)return m;l=l.$container}while(l)}findNameInGlobalScope(e,n){return this.indexManager.allElements().find(s=>s.name===n)}}class Aa{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var n;return function Vi(i){return"string"==typeof i.$comment}(e)?e.$comment:null===(n=(0,C.v)(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===n?void 0:n.text}}class gi{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,n){return Promise.resolve(this.syncParser.parse(e))}}class Ir{constructor(){this.previousTokenSource=new He.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();const n=function Fi(){return Gt=performance.now(),new He.Qi}();return this.previousTokenSource=n,this.enqueue(this.writeQueue,e,n.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,n,r=He.XO.None){const s=new Wr;return e.push({action:n,deferred:s,cancellationToken:r}),this.performNextOperation(),s.promise}performNextOperation(){var e=this;return(0,$e.A)(function*(){if(!e.done)return;const n=[];if(e.writeQueue.length>0)n.push(e.writeQueue.shift());else{if(!(e.readQueue.length>0))return;n.push(...e.readQueue.splice(0,e.readQueue.length))}e.done=!1,yield Promise.all(n.map(function(){var r=(0,$e.A)(function*({action:s,deferred:l,cancellationToken:c}){try{const m=yield Promise.resolve().then(()=>s(c));l.resolve(m)}catch(m){gr(m)?l.resolve(void 0):l.reject(m)}});return function(s){return r.apply(this,arguments)}}())),e.done=!0,e.performNextOperation()})()}cancelWrite(){this.previousTokenSource.cancel()}}class ua{constructor(e){this.grammarElementIdMap=new Ye,this.tokenTypeIdMap=new Ye,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(n=>Object.assign(Object.assign({},n),{message:n.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){const n=new Map,r=new Map;for(const s of(0,Ge.jm)(e))n.set(s,{});if(e.$cstNode)for(const s of(0,C.NS)(e.$cstNode))r.set(s,{});return{astNodes:n,cstNodes:r}}dehydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,n));for(const[s,l]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(l)){const c=[];r[s]=c;for(const m of l)(0,Ue.ng)(m)?c.push(this.dehydrateAstNode(m,n)):(0,Ue.A_)(m)?c.push(this.dehydrateReference(m,n)):c.push(m)}else(0,Ue.ng)(l)?r[s]=this.dehydrateAstNode(l,n):(0,Ue.A_)(l)?r[s]=this.dehydrateReference(l,n):void 0!==l&&(r[s]=l);return r}dehydrateReference(e,n){const r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=n.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,n){const r=n.cstNodes.get(e);return(0,Ue.br)(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=n.astNodes.get(e.astNode),(0,Ue.mD)(e)?r.content=e.content.map(s=>this.dehydrateCstNode(s,n)):(0,Ue.FC)(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){const n=e.value,r=this.createHydrationContext(n);return"$cstNode"in n&&this.hydrateCstNode(n.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(n,r)}}createHydrationContext(e){const n=new Map,r=new Map;for(const l of(0,Ge.jm)(e))n.set(l,{});let s;if(e.$cstNode)for(const l of(0,C.NS)(e.$cstNode)){let c;"fullText"in l?(c=new un(l.fullText),s=c):"content"in l?c=new dr:"tokenType"in l&&(c=this.hydrateCstLeafNode(l)),c&&(r.set(l,c),c.root=s)}return{astNodes:n,cstNodes:r}}hydrateAstNode(e,n){const r=n.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=n.cstNodes.get(e.$cstNode));for(const[s,l]of Object.entries(e))if(!s.startsWith("$"))if(Array.isArray(l)){const c=[];r[s]=c;for(const m of l)(0,Ue.ng)(m)?c.push(this.setParent(this.hydrateAstNode(m,n),r)):(0,Ue.A_)(m)?c.push(this.hydrateReference(m,r,s,n)):c.push(m)}else(0,Ue.ng)(l)?r[s]=this.setParent(this.hydrateAstNode(l,n),r):(0,Ue.A_)(l)?r[s]=this.hydrateReference(l,r,s,n):void 0!==l&&(r[s]=l);return r}setParent(e,n){return e.$container=n,e}hydrateReference(e,n,r,s){return this.linker.buildReference(n,r,s.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,n,r=0){const s=n.cstNodes.get(e);if("number"==typeof e.grammarSource&&(s.grammarSource=this.getGrammarElement(e.grammarSource)),s.astNode=n.astNodes.get(e.astNode),(0,Ue.mD)(s))for(const l of e.content){const c=this.hydrateCstNode(l,n,r++);s.content.push(c)}return s}hydrateCstLeafNode(e){const n=this.getTokenType(e.tokenType);return new br(e.offset,e.length,{start:{line:e.startLine,character:e.startColumn},end:{line:e.endLine,character:e.endColumn}},n,e.hidden)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(const n of(0,Ge.jm)(this.grammar))(0,S.r1)(n)&&this.grammarElementIdMap.set(n,e++)}}function yi(i){return{documentation:{CommentProvider:e=>new Aa(e),DocumentationProvider:e=>new rs(e)},parser:{AsyncParser:e=>new gi(e),GrammarConfig:e=>function M(i){const e=[],n=i.Grammar;for(const r of n.rules)(0,S.rE)(r)&&(0,$.eb)(r)&&(0,B.lU)((0,$.S)(r))&&e.push(r.name);return{multilineCommentRules:e,nameRegexp:C.El}}(e),LangiumParser:e=>function Ks(i){const e=function Ws(i){const n=i.parser.Lexer;return bs(i.Grammar,new zn(i),n.definition)}(i);return e.finalize(),e}(e),CompletionParser:e=>function Bs(i){const e=i.Grammar,n=i.parser.Lexer,r=new Pi(i);return bs(e,r,n.definition),r.finalize(),r}(e),ValueConverter:()=>new rn.d,TokenBuilder:()=>new bi.Q,Lexer:e=>new ra(e),ParserErrorMessageProvider:()=>new ws,LexerErrorMessageProvider:()=>new ta},workspace:{AstNodeLocator:()=>new Zi,AstNodeDescriptionProvider:e=>new Yi(e),ReferenceDescriptionProvider:e=>new Qi(e)},references:{Linker:e=>new Xs(e),NameProvider:()=>new Ys,ScopeProvider:e=>new Xr(e),ScopeComputation:e=>new zr(e),References:e=>new Qs(e)},serializer:{Hydrator:e=>new ua(e),JsonSerializer:e=>new Tr(e)},validation:{DocumentValidator:e=>new Hi(e),ValidationRegistry:e=>new ti(e)},shared:()=>i.shared}}function Ai(i){return{ServiceRegistry:e=>new vr(e),workspace:{LangiumDocuments:e=>new yr(e),LangiumDocumentFactory:e=>new Gi(e),DocumentBuilder:e=>new Ji(e),IndexManager:e=>new qi(e),WorkspaceManager:e=>new ea(e),FileSystemProvider:e=>i.fileSystemProvider(e),WorkspaceLock:()=>new Ir,ConfigurationProvider:e=>new Rr(e)}}}},6535:(ke,Q,p)=>{p.d(Q,{d:()=>B});var S,C=p(2917),$=p(3528);class B{convert(b,W){let H=W.grammarSource;if((0,C._c)(H)&&(H=(0,$.g4)(H)),(0,C.$g)(H)){const R=H.rule.ref;if(!R)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(R,b,W)}return b}runConverter(b,W,H){var R;switch(b.name.toUpperCase()){case"INT":return S.convertInt(W);case"STRING":return S.convertString(W);case"ID":return S.convertID(W)}switch(null===(R=(0,$.P3)(b))||void 0===R?void 0:R.toLowerCase()){case"number":return S.convertNumber(W);case"boolean":return S.convertBoolean(W);case"bigint":return S.convertBigint(W);case"date":return S.convertDate(W);default:return W}}}!function(M){function W(I){switch(I){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return I}}M.convertString=function b(I){let O="";for(let g=1;g<I.length-1;g++){const _=I.charAt(g);O+="\\"===_?W(I.charAt(++g)):_}return O},M.convertID=function H(I){return"^"===I.charAt(0)?I.substring(1):I},M.convertInt=function R(I){return parseInt(I)},M.convertBigint=function A(I){return BigInt(I)},M.convertDate=function v(I){return new Date(I)},M.convertNumber=function h(I){return Number(I)},M.convertBoolean=function y(I){return"true"===I.toLowerCase()}}(S||(S={}))},6911:(ke,Q,p)=>{p.d(Q,{mR:()=>te,dg:()=>Yt,jE:()=>An,Tm:()=>Le,eZ:()=>zt,e5:()=>Vt,sr:()=>_t,AM:()=>Fn,KX:()=>Ht,YP:()=>Un,eV:()=>Xt,K2:()=>N});var C=p(5027),$=p(7449),B=p(5772),S=p(1326),M=p(2917),b=p(7423),W=p(2510);const H={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},R={AstReflection:()=>new M.QX};function v(me){var Ce;const dt=function A(){const me=(0,S.WQ)((0,B.u)(b.D),R),Ce=(0,S.WQ)((0,B.t)({shared:me}),H);return me.ServiceRegistry.register(Ce),Ce}(),ze=dt.serializer.JsonSerializer.deserialize(me);return dt.shared.workspace.LangiumDocumentFactory.fromModel(ze,W.r.parse(`memory://${null!==(Ce=ze.name)&&void 0!==Ce?Ce:"grammar"}.langium`)),ze}var I,O,g,_,L,h=p(6535),y=p(3460),F=Object.defineProperty,N=(me,Ce)=>F(me,"name",{value:Ce,configurable:!0}),Z="Statement",oe="Architecture";N(function he(me){return ht.isInstance(me,oe)},"isArchitecture");var K="Axis",re="Branch";N(function fe(me){return ht.isInstance(me,re)},"isBranch");var ye="Checkout",Se="CherryPicking",ve="ClassDefStatement",Ke="Commit";N(function ee(me){return ht.isInstance(me,Ke)},"isCommit");var Y="Curve",le="Edge",ae="Entry",Te="GitGraph";N(function Re(me){return ht.isInstance(me,Te)},"isGitGraph");var ce="Group",Ze="Info";N(function Ne(me){return ht.isInstance(me,Ze)},"isInfo");var Pe="Item",ot="Junction",nt="Merge";N(function Fe(me){return ht.isInstance(me,nt)},"isMerge");var Qe="Option",k="Packet";N(function G(me){return ht.isInstance(me,k)},"isPacket");var z="PacketBlock";N(function pe(me){return ht.isInstance(me,z)},"isPacketBlock");var ue="Pie";N(function Ee(me){return ht.isInstance(me,ue)},"isPie");var _e="PieSection";N(function Me(me){return ht.isInstance(me,_e)},"isPieSection");var Rt="Radar",jt="Service",lt="Treemap";N(function On(me){return ht.isInstance(me,lt)},"isTreemap");var Ot,Lt,We,Et,bt,qe,At,yt="TreemapRow",qt="Direction",St="Leaf",Ve="Section",Nt=(class extends $.kD{getAllTypes(){return[oe,K,re,ye,Se,ve,Ke,Y,qt,le,ae,Te,ce,Ze,Pe,ot,St,nt,Qe,k,z,ue,_e,Rt,Ve,jt,Z,lt,yt]}computeIsSubtype(me,Ce){switch(me){case re:case ye:case Se:case Ke:case nt:return this.isSubtype(Z,Ce);case qt:return this.isSubtype(Te,Ce);case St:case Ve:return this.isSubtype(Pe,Ce);default:return!1}}getReferenceType(me){const Ce=`${me.container.$type}:${me.property}`;if("Entry:axis"===Ce)return K;throw new Error(`${Ce} is not a valid reference id.`)}getTypeMetaData(me){switch(me){case oe:return{name:oe,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case K:return{name:K,properties:[{name:"label"},{name:"name"}]};case re:return{name:re,properties:[{name:"name"},{name:"order"}]};case ye:return{name:ye,properties:[{name:"branch"}]};case Se:return{name:Se,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case ve:return{name:ve,properties:[{name:"className"},{name:"styleText"}]};case Ke:return{name:Ke,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case Y:return{name:Y,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case le:return{name:le,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case ae:return{name:ae,properties:[{name:"axis"},{name:"value"}]};case Te:return{name:Te,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case ce:return{name:ce,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case Ze:return{name:Ze,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case Pe:return{name:Pe,properties:[{name:"classSelector"},{name:"name"}]};case ot:return{name:ot,properties:[{name:"id"},{name:"in"}]};case nt:return{name:nt,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case Qe:return{name:Qe,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case k:return{name:k,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case z:return{name:z,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case ue:return{name:ue,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case _e:return{name:_e,properties:[{name:"label"},{name:"value"}]};case Rt:return{name:Rt,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case jt:return{name:jt,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case lt:return{name:lt,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case yt:return{name:yt,properties:[{name:"indent"},{name:"item"}]};case qt:return{name:qt,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case St:return{name:St,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case Ve:return{name:Ve,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:me,properties:[]}}}static#e=I=()=>((0,C.A)(this,"MermaidAstReflection"),N(this,"MermaidAstReflection"),this)},I()),ht=new Nt,an=N(()=>Ot??(Ot=v('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Ln=N(()=>Lt??(Lt=v('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PacketGrammar"),Pn=N(()=>We??(We=v('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"PieGrammar"),wn=N(()=>Et??(Et=v('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Mn=N(()=>bt??(bt=v('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}')),"GitGraphGrammar"),bn=N(()=>qe??(qe=v('{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|\'([^\'\\\\\\\\]|\\\\\\\\.)*\'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}')),"RadarGrammar"),Dn=N(()=>At??(At=v('{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}')),"TreemapGrammar"),ut={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},en={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Dt={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},yn={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Ft={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},tn={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},rt={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},_t={AstReflection:N(()=>new Nt,"AstReflection")},Vt={Grammar:N(()=>an(),"Grammar"),LanguageMetaData:N(()=>ut,"LanguageMetaData"),parser:{}},Fn={Grammar:N(()=>Ln(),"Grammar"),LanguageMetaData:N(()=>en,"LanguageMetaData"),parser:{}},Ht={Grammar:N(()=>Pn(),"Grammar"),LanguageMetaData:N(()=>Dt,"LanguageMetaData"),parser:{}},An={Grammar:N(()=>wn(),"Grammar"),LanguageMetaData:N(()=>yn,"LanguageMetaData"),parser:{}},zt={Grammar:N(()=>Mn(),"Grammar"),LanguageMetaData:N(()=>Ft,"LanguageMetaData"),parser:{}},Un={Grammar:N(()=>bn(),"Grammar"),LanguageMetaData:N(()=>tn,"LanguageMetaData"),parser:{}},Xt={Grammar:N(()=>Dn(),"Grammar"),LanguageMetaData:N(()=>rt,"LanguageMetaData"),parser:{}},Ct={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},Yt=(class extends h.d{runConverter(me,Ce,dt){let ze=this.runCommonConverter(me,Ce,dt);return void 0===ze&&(ze=this.runCustomConverter(me,Ce,dt)),void 0===ze?super.runConverter(me,Ce,dt):ze}runCommonConverter(me,Ce,dt){const ze=Ct[me.name];if(void 0===ze)return;const $t=ze.exec(Ce);if(null!==$t){if(void 0!==$t[1])return $t[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==$t[2])return $t[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}static#e=O=()=>((0,C.A)(this,"AbstractMermaidValueConverter"),N(this,"AbstractMermaidValueConverter"),this)},O()),Le=(class extends Yt{runCustomConverter(me,Ce,dt){}static#e=g=()=>((0,C.A)(this,"CommonValueConverter"),N(this,"CommonValueConverter"),this)},g()),te=(class extends y.Q{constructor(me){super(),this.keywords=new Set(me)}buildKeywordTokens(me,Ce,dt){const ze=super.buildKeywordTokens(me,Ce,dt);return ze.forEach($t=>{this.keywords.has($t.name)&&void 0!==$t.PATTERN&&($t.PATTERN=new RegExp($t.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),ze}static#e=_=()=>((0,C.A)(this,"AbstractMermaidTokenBuilder"),N(this,"AbstractMermaidTokenBuilder"),this)},_());(class extends te{static#e=L=()=>((0,C.A)(this,"CommonTokenBuilder"),N(this,"CommonTokenBuilder"),this)}),L()},7006:(ke,Q,p)=>{p.d(Q,{A:()=>W});var $=Object.prototype.hasOwnProperty;const S=function B(H,R){return null!=H&&$.call(H,R)};var M=p(4924);const W=function b(H,R){return null!=H&&(0,M.A)(H,R,S)}},7423:(ke,Q,p)=>{p.d(Q,{D:()=>B});var C=p(9204);class ${readFile(){throw new Error("No file system is available.")}readDirectory(){return(0,C.A)(function*(){return[]})()}}const B={fileSystemProvider:()=>new $}},7449:(ke,Q,p)=>{function C(R){return"object"==typeof R&&null!==R&&"string"==typeof R.$type}function $(R){return"object"==typeof R&&null!==R&&"string"==typeof R.$refText}function B(R){return"object"==typeof R&&null!==R&&"string"==typeof R.name&&"string"==typeof R.type&&"string"==typeof R.path}function S(R){return"object"==typeof R&&null!==R&&C(R.container)&&$(R.reference)&&"string"==typeof R.message}p.d(Q,{A_:()=>$,FC:()=>W,Nr:()=>B,Zl:()=>S,br:()=>H,kD:()=>M,mD:()=>b,ng:()=>C});class M{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(A,v){return C(A)&&this.isSubtype(A.$type,v)}isSubtype(A,v){if(A===v)return!0;let h=this.subtypes[A];h||(h=this.subtypes[A]={});const y=h[v];if(void 0!==y)return y;{const I=this.computeIsSubtype(A,v);return h[v]=I,I}}getAllSubTypes(A){const v=this.allSubtypes[A];if(v)return v;{const h=this.getAllTypes(),y=[];for(const I of h)this.isSubtype(I,A)&&y.push(I);return this.allSubtypes[A]=y,y}}}function b(R){return"object"==typeof R&&null!==R&&Array.isArray(R.content)}function W(R){return"object"==typeof R&&null!==R&&"object"==typeof R.tokenType}function H(R){return b(R)&&"string"==typeof R.fullText}},7554:(ke,Q,p)=>{p.d(Q,{A:()=>S});var C=p(462),$=p(8200);const S=function B(M,b){var W=-1,H=(0,$.A)(M)?Array(M.length):[];return(0,C.A)(M,function(R,A,v){H[++W]=b(R,A,v)}),H}},8586:(ke,Q,p)=>{p.d(Q,{W:()=>C,d:()=>$});class C extends Error{constructor(S,M){super(S?`${M} at ${S.range.start.line}:${S.range.start.character}`:M)}}function $(B){throw new Error("Error! The input value was not handled.")}},8693:(ke,Q,p)=>{p.d(Q,{ak:()=>_e,mT:()=>Da,LT:()=>rn,jr:()=>Fa,T6:()=>gi,JG:()=>it,wL:()=>Fe,c$:()=>G,Y2:()=>ue,$P:()=>z,Cy:()=>pe,Pp:()=>Ee,BK:()=>Me,PW:()=>Ds,my:()=>Ue,jk:()=>Zs,Sk:()=>kn,G:()=>He});var C=p(9412),$=p(7440),B=p(3551),S=p(5644),M=p(7006),b=p(9115);function W(o){function t(){}t.prototype=o;const a=new t;function u(){return typeof a.bar}return u(),u(),o}const R=function H(o,t,a){var u=-1,d=o.length;t<0&&(t=-t>d?0:d+t),(a=a>d?d:a)<0&&(a+=d),d=t>a?0:a-t>>>0,t>>>=0;for(var f=Array(d);++u<d;)f[u]=o[u+t];return f};var A=p(3531);const h=function v(o,t,a){var u=null==o?0:o.length;return u?(t=a||void 0===t?1:(0,A.A)(t),R(o,t<0?0:t,u)):[]};var y=p(8745),I=p(6545),O=p(1893),g=p(5377),_=p(8200),L=p(9641),F=p(9892),Z=Object.prototype.hasOwnProperty;const he=(0,g.A)(function(o,t){if((0,L.A)(t)||(0,_.A)(t))(0,O.A)(t,(0,F.A)(t),o);else for(var a in t)Z.call(t,a)&&(0,I.A)(o,a,t[a])});var K=p(7786),re=p(6177),fe=p(4995),ye=p(3147);const ve=function Se(o,t){if(null==o)return{};var a=(0,K.A)((0,ye.A)(o),function(u){return[u]});return t=(0,re.A)(t),(0,fe.A)(o,a,function(u,d){return t(u,d[0])})};var Ke=p(8207),ee=p(5528);var Te=p(5583),Re=p(4695),ce=Re.A&&Re.A.isRegExp;const Ne=ce?(0,Te.A)(ce):function le(o){return(0,ee.A)(o)&&"[object RegExp]"==(0,Ke.A)(o)};function Pe(o){return function ot(o){return(0,y.A)(o.LABEL)&&""!==o.LABEL}(o)?o.LABEL:o.name}class nt{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),(0,C.A)(this.definition,a=>{a.accept(t)})}}class Fe extends nt{constructor(t){super([]),this.idx=1,he(this,ve(t,a=>void 0!==a))}set definition(t){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class Qe extends nt{constructor(t){super(t.definition),this.orgText="",he(this,ve(t,a=>void 0!==a))}}class k extends nt{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,he(this,ve(t,a=>void 0!==a))}}class G extends nt{constructor(t){super(t.definition),this.idx=1,he(this,ve(t,a=>void 0!==a))}}class z extends nt{constructor(t){super(t.definition),this.idx=1,he(this,ve(t,a=>void 0!==a))}}class pe extends nt{constructor(t){super(t.definition),this.idx=1,he(this,ve(t,a=>void 0!==a))}}class ue extends nt{constructor(t){super(t.definition),this.idx=1,he(this,ve(t,a=>void 0!==a))}}class Ee extends nt{constructor(t){super(t.definition),this.idx=1,he(this,ve(t,a=>void 0!==a))}}class _e extends nt{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,he(this,ve(t,a=>void 0!==a))}}class Me{constructor(t){this.idx=1,he(this,ve(t,a=>void 0!==a))}accept(t){t.visit(this)}}function jt(o){function t(a){return(0,S.A)(a,jt)}if(o instanceof Fe){const a={type:"NonTerminal",name:o.nonTerminalName,idx:o.idx};return(0,y.A)(o.label)&&(a.label=o.label),a}if(o instanceof k)return{type:"Alternative",definition:t(o.definition)};if(o instanceof G)return{type:"Option",idx:o.idx,definition:t(o.definition)};if(o instanceof z)return{type:"RepetitionMandatory",idx:o.idx,definition:t(o.definition)};if(o instanceof pe)return{type:"RepetitionMandatoryWithSeparator",idx:o.idx,separator:jt(new Me({terminalType:o.separator})),definition:t(o.definition)};if(o instanceof Ee)return{type:"RepetitionWithSeparator",idx:o.idx,separator:jt(new Me({terminalType:o.separator})),definition:t(o.definition)};if(o instanceof ue)return{type:"Repetition",idx:o.idx,definition:t(o.definition)};if(o instanceof _e)return{type:"Alternation",idx:o.idx,definition:t(o.definition)};if(o instanceof Me){const a={type:"Terminal",name:o.terminalType.name,label:Pe(o.terminalType),idx:o.idx};(0,y.A)(o.label)&&(a.terminalLabel=o.label);const u=o.terminalType.PATTERN;return o.terminalType.PATTERN&&(a.pattern=Ne(u)?u.source:u),a}if(o instanceof Qe)return{type:"Rule",name:o.name,orgText:o.orgText,definition:t(o.definition)};throw Error("non exhaustive match")}class lt{visit(t){const a=t;switch(a.constructor){case Fe:return this.visitNonTerminal(a);case k:return this.visitAlternative(a);case G:return this.visitOption(a);case z:return this.visitRepetitionMandatory(a);case pe:return this.visitRepetitionMandatoryWithSeparator(a);case Ee:return this.visitRepetitionWithSeparator(a);case ue:return this.visitRepetition(a);case _e:return this.visitAlternation(a);case Me:return this.visitTerminal(a);case Qe:return this.visitRule(a);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}var On=p(658),yt=p(462);const St=function qt(o,t){var a;return(0,yt.A)(o,function(u,d,f){return!(a=t(u,d,f))}),!!a};var Ve=p(9247),Nt=p(1642);const Ot=function ht(o,t,a){var u=(0,Ve.A)(o)?On.A:St;return a&&(0,Nt.A)(o,t,a)&&(t=void 0),u(o,(0,re.A)(t,3))};var an=p(7559),Lt=Math.max;const We=function Ln(o,t,a,u){o=(0,_.A)(o)?o:(0,$.A)(o),a=a&&!u?(0,A.A)(a):0;var d=o.length;return a<0&&(a=Lt(d+a,0)),(0,y.A)(o)?a<=d&&o.indexOf(t,a)>-1:!!d&&(0,an.A)(o,t,a)>-1},Et=function Pn(o,t){for(var a=-1,u=null==o?0:o.length;++a<u;)if(!t(o[a],a,o))return!1;return!0},bt=function wn(o,t){var a=!0;return(0,yt.A)(o,function(u,d,f){return a=!!t(u,d,f)}),a},qe=function Mn(o,t,a){var u=(0,Ve.A)(o)?Et:bt;return a&&(0,Nt.A)(o,t,a)&&(t=void 0),u(o,(0,re.A)(t,3))};function At(o,t=[]){return o instanceof G||o instanceof ue||o instanceof Ee||(o instanceof _e?Ot(o.definition,u=>At(u,t)):!(o instanceof Fe&&We(t,o))&&o instanceof nt&&(o instanceof Fe&&t.push(o),qe(o.definition,u=>At(u,t))))}function ut(o){if(o instanceof Fe)return"SUBRULE";if(o instanceof G)return"OPTION";if(o instanceof _e)return"OR";if(o instanceof z)return"AT_LEAST_ONE";if(o instanceof pe)return"AT_LEAST_ONE_SEP";if(o instanceof Ee)return"MANY_SEP";if(o instanceof ue)return"MANY";if(o instanceof Me)return"CONSUME";throw Error("non exhaustive match")}class en{walk(t,a=[]){(0,C.A)(t.definition,(u,d)=>{const f=h(t.definition,d+1);if(u instanceof Fe)this.walkProdRef(u,f,a);else if(u instanceof Me)this.walkTerminal(u,f,a);else if(u instanceof k)this.walkFlat(u,f,a);else if(u instanceof G)this.walkOption(u,f,a);else if(u instanceof z)this.walkAtLeastOne(u,f,a);else if(u instanceof pe)this.walkAtLeastOneSep(u,f,a);else if(u instanceof Ee)this.walkManySep(u,f,a);else if(u instanceof ue)this.walkMany(u,f,a);else{if(!(u instanceof _e))throw Error("non exhaustive match");this.walkOr(u,f,a)}})}walkTerminal(t,a,u){}walkProdRef(t,a,u){}walkFlat(t,a,u){const d=a.concat(u);this.walk(t,d)}walkOption(t,a,u){const d=a.concat(u);this.walk(t,d)}walkAtLeastOne(t,a,u){const d=[new G({definition:t.definition})].concat(a,u);this.walk(t,d)}walkAtLeastOneSep(t,a,u){const d=Dt(t,a,u);this.walk(t,d)}walkMany(t,a,u){const d=[new G({definition:t.definition})].concat(a,u);this.walk(t,d)}walkManySep(t,a,u){const d=Dt(t,a,u);this.walk(t,d)}walkOr(t,a,u){const d=a.concat(u);(0,C.A)(t.definition,f=>{const T=new k({definition:[f]});this.walk(T,d)})}}function Dt(o,t,a){return[new G({definition:[new Me({terminalType:o.separator})].concat(o.definition)})].concat(t,a)}var yn=p(8983);const tn=function Ft(o){return o&&o.length?(0,yn.A)(o):[]};var rt=p(300);function _t(o){if(o instanceof Fe)return _t(o.referencedRule);if(o instanceof Me)return function Ht(o){return[o.terminalType]}(o);if(function bn(o){return o instanceof k||o instanceof G||o instanceof ue||o instanceof z||o instanceof pe||o instanceof Ee||o instanceof Me||o instanceof Qe}(o))return function Vt(o){let t=[];const a=o.definition;let f,u=0,d=a.length>u,T=!0;for(;d&&T;)f=a[u],T=At(f),t=t.concat(_t(f)),u+=1,d=a.length>u;return tn(t)}(o);if(function Dn(o){return o instanceof _e}(o))return function Fn(o){const t=(0,S.A)(o.definition,a=>_t(a));return tn((0,rt.A)(t))}(o);throw Error("non exhaustive match")}class zt extends en{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,a,u){}walkProdRef(t,a,u){const d=function Xt(o,t){return o.name+t+"_~IN~_"}(t.referencedRule,t.idx)+this.topProd.name,f=a.concat(u),x=_t(new k({definition:f}));this.follows[d]=x}}var ct=p(3130),Ut=p(2909),Ct=p(2138),Yt=p(4948),Le=p(1708);const dt=function Ce(o,t){return((0,Ve.A)(o)?Yt.A:Le.A)(o,function V(o){if("function"!=typeof o)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!o.call(this);case 1:return!o.call(this,t[0]);case 2:return!o.call(this,t[0],t[1]);case 3:return!o.call(this,t[0],t[1],t[2])}return!o.apply(this,t)}}((0,re.A)(t,3)))};var ze=p(8104),$t=Math.max;const qn=function ds(o,t,a){var u=null==o?0:o.length;if(!u)return-1;var d=null==a?0:(0,A.A)(a);return d<0&&(d=$t(u+d,0)),(0,an.A)(o,t,d)};var Tt=p(3360),It=p(3362),fs=p(4902),er=p(3307),Tn=p(9267),Qt=p(4989);var tr=p(2383),Gn=p(6124),Rn=p(2031);const En=(0,Gn.A)(function(o,t){return(0,Rn.A)(o)?function ft(o,t,a,u){var d=-1,f=er.A,T=!0,x=o.length,P=[],U=t.length;if(!x)return P;a&&(t=(0,K.A)(t,(0,Te.A)(a))),u?(f=Tn.A,T=!1):t.length>=200&&(f=Qt.A,T=!1,t=new fs.A(t));e:for(;++d<x;){var X=o[d],q=null==a?X:a(X);if(X=u||0!==X?X:0,T&&q==q){for(var de=U;de--;)if(t[de]===q)continue e;P.push(X)}else f(t,q,u)||P.push(X)}return P}(o,(0,tr.A)(t,1,Rn.A,!0)):[]}),_n=function nr(o){for(var t=-1,a=null==o?0:o.length,u=0,d=[];++t<a;){var f=o[t];f&&(d[u++]=f)}return d},kt=function ma(o){return o&&o.length?o[0]:void 0};var on=p(2724);function Cn(o){console&&console.error&&console.error(`Error: ${o}`)}function Sr(o){console&&console.warn&&console.warn(`Warning: ${o}`)}let $n={};const Kn=new Ut.H;function rr(o){const t=o.toString();if($n.hasOwnProperty(t))return $n[t];{const a=Kn.pattern(t);return $n[t]=a,a}}const hs="Complement Sets are not supported for first char optimization",Wn='Unable to use "first char" lexer optimizations:\n';function Ii(o,t=!1){try{const a=rr(o);return sr(a.value,{},a.flags.ignoreCase)}catch(a){if(a.message===hs)t&&Sr(`${Wn}\tUnable to optimize: < ${o.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let u="";t&&(u="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Cn(`${Wn}\n\tFailed parsing: < ${o.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+u)}}return[]}function sr(o,t,a){switch(o.type){case"Disjunction":for(let d=0;d<o.value.length;d++)sr(o.value[d],t,a);break;case"Alternative":const u=o.value;for(let d=0;d<u.length;d++){const f=u[d];switch(f.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const T=f;switch(T.type){case"Character":jn(T.value,t,a);break;case"Set":if(!0===T.complement)throw Error(hs);(0,C.A)(T.value,P=>{if("number"==typeof P)jn(P,t,a);else{const U=P;if(!0===a)for(let X=U.from;X<=U.to;X++)jn(X,t,a);else{for(let X=U.from;X<=U.to&&X<D;X++)jn(X,t,a);if(U.to>=D){const q=U.to,de=Zt(U.from>=D?U.from:D),ge=Zt(q);for(let we=de;we<=ge;we++)t[we]=we}}}});break;case"Group":sr(T.value,t,a);break;default:throw Error("Non Exhaustive Match")}const x=void 0!==T.quantifier&&0===T.quantifier.atLeast;if("Group"===T.type&&!1===ir(T)||"Group"!==T.type&&!1===x)break}break;default:throw Error("non exhaustive match!")}return(0,$.A)(t)}function jn(o,t,a){const u=Zt(o);t[u]=u,!0===a&&function ms(o,t){const a=String.fromCharCode(o),u=a.toUpperCase();if(u!==a){const d=Zt(u.charCodeAt(0));t[d]=d}else{const d=a.toLowerCase();if(d!==a){const f=Zt(d.charCodeAt(0));t[f]=f}}}(o,t)}function Vn(o,t){return(0,on.A)(o.value,a=>{if("number"==typeof a)return We(t,a);{const u=a;return void 0!==(0,on.A)(t,d=>u.from<=d&&d<=u.to)}})}function ir(o){const t=o.quantifier;return!(!t||0!==t.atLeast)||!!o.value&&((0,Ve.A)(o.value)?qe(o.value,ir):ir(o.value))}class ps extends Ut.z{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}super.visitChildren(t)}}visitCharacter(t){We(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?void 0===Vn(t,this.targetCharCodes)&&(this.found=!0):void 0!==Vn(t,this.targetCharCodes)&&(this.found=!0)}}function ar(o,t){if(t instanceof RegExp){const a=rr(t),u=new ps(o);return u.visit(a),u.found}return void 0!==(0,on.A)(t,a=>We(o,a.charCodeAt(0)))}const ln="PATTERN",In="defaultMode",or="modes";let lr="boolean"==typeof new RegExp("(?:)").sticky;const Ts=/[^\\][$]/,Es=/[^\\[][\^]|^\^/;function ur(o){return new RegExp(`^(?:${o.source})`,o.ignoreCase?"i":"")}function Lr(o){return new RegExp(`${o.source}`,o.ignoreCase?"iy":"y")}function Os(o){const t=o.PATTERN;if(Ne(t))return!1;if((0,ze.A)(t))return!0;if((0,M.A)(t,"exec"))return!0;if((0,y.A)(t))return!1;throw Error("non exhaustive match")}function Ls(o){return!(!(0,y.A)(o)||1!==o.length)&&o.charCodeAt(0)}const Ps={test:function(o){const t=o.length;for(let a=this.lastIndex;a<t;a++){const u=o.charCodeAt(a);if(10===u)return this.lastIndex=a+1,!0;if(13===u)return this.lastIndex=10===o.charCodeAt(a+1)?a+2:a+1,!0}return!1},lastIndex:0};function Pr(o,t){if((0,M.A)(o,"LINE_BREAKS"))return!1;if(Ne(o.PATTERN)){try{ar(t,o.PATTERN)}catch(a){return{issue:Je.IDENTIFY_TERMINATOR,errMsg:a.message}}return!1}if((0,y.A)(o.PATTERN))return!1;if(Os(o))return{issue:Je.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function pa(o,t){if(t.issue===Je.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${o.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Je.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${o.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function wr(o){return(0,S.A)(o,a=>(0,y.A)(a)?a.charCodeAt(0):a)}function Mr(o,t,a){void 0===o[t]?o[t]=[a]:o[t].push(a)}const D=256;let cr=[];function Zt(o){return o<D?o:cr[o]}var dr=p(5618),et=p(896),un=p(524);function fr(o){const t=(new Date).getTime(),a=o();return{time:(new Date).getTime()-t,value:a}}function cn(o,t){const a=o.tokenTypeIdx;return a===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[a]}function Hn(o,t){return o.tokenTypeIdx===t.tokenTypeIdx}let Dr=1;const Fr={};function zn(o){const t=function Li(o){let t=(0,b.A)(o),a=o,u=!0;for(;u;){a=_n((0,rt.A)((0,S.A)(a,f=>f.CATEGORIES)));const d=En(a,t);t=t.concat(d),(0,B.A)(d)?u=!1:a=d}return t}(o);(function ws(o){(0,C.A)(o,t=>{dn(t)||(Fr[Dr]=t,t.tokenTypeIdx=Dr++),st(t)&&!(0,Ve.A)(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),st(t)||(t.CATEGORIES=[]),function bs(o){return(0,M.A)(o,"categoryMatches")}(t)||(t.categoryMatches=[]),function Mi(o){return(0,M.A)(o,"categoryMatchesMap")}(t)||(t.categoryMatchesMap={})})})(t),function wi(o){(0,C.A)(o,t=>{Ms([],t)})}(t),function Pi(o){(0,C.A)(o,t=>{t.categoryMatches=[],(0,C.A)(t.categoryMatchesMap,(a,u)=>{t.categoryMatches.push(Fr[u].tokenTypeIdx)})})}(t),(0,C.A)(t,a=>{a.isParent=a.categoryMatches.length>0})}function Ms(o,t){(0,C.A)(o,a=>{t.categoryMatchesMap[a.tokenTypeIdx]=!0}),(0,C.A)(t.CATEGORIES,a=>{const u=o.concat(t);We(u,a)||Ms(u,a)})}function dn(o){return(0,M.A)(o,"tokenTypeIdx")}function st(o){return(0,M.A)(o,"CATEGORIES")}function fn(o){return(0,M.A)(o,"tokenTypeIdx")}const Ds={buildUnableToPopLexerModeMessage:o=>`Unable to pop Lexer Mode after encountering Token ->${o.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(o,t,a,u,d)=>`unexpected character: ->${o.charAt(t)}<- at offset: ${t}, skipped ${a} characters.`};var Je=function(o){return o[o.MISSING_PATTERN=0]="MISSING_PATTERN",o[o.INVALID_PATTERN=1]="INVALID_PATTERN",o[o.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",o[o.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",o[o.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",o[o.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",o[o.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",o[o.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",o[o.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",o[o.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",o[o.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",o[o.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",o[o.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",o[o.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",o[o.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",o[o.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",o[o.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",o[o.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE",o}(Je||{});const Xn={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Ds,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Xn);let it=(()=>{class o{constructor(a,u=Xn){if(this.lexerDefinition=a,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(f,T)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;const x=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${x}--\x3e <${f}>`);const{time:P,value:U}=fr(T),X=P>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&X(`${x}<-- <${f}> time: ${P}ms`),this.traceInitIndent--,U}return T()},"boolean"==typeof u)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=he({},Xn,u);const d=this.config.traceInitPerf;!0===d?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof d&&(this.traceInitMaxIdent=d,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let f,T=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Xn.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Ps;else if(this.config.lineTerminatorCharacters===Xn.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(u.safeMode&&u.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,Ve.A)(a)?f={modes:{defaultMode:(0,b.A)(a)},defaultMode:In}:(T=!1,f=(0,b.A)(a))}),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function xs(o){const u=[];return(0,M.A)(o,In)||u.push({message:"A MultiMode Lexer cannot be initialized without a <"+In+"> property in its definition\n",type:Je.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,M.A)(o,or)||u.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Je.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,M.A)(o,or)&&(0,M.A)(o,In)&&!(0,M.A)(o.modes,o.defaultMode)&&u.push({message:`A MultiMode Lexer cannot be initialized with a ${In}: <${o.defaultMode}>which does not exist\n`,type:Je.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,M.A)(o,or)&&(0,C.A)(o.modes,(d,f)=>{(0,C.A)(d,(T,x)=>{if((0,ct.A)(T))u.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${f}> at index: <${x}>\n`,type:Je.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,M.A)(T,"LONGER_ALT")){const P=(0,Ve.A)(T.LONGER_ALT)?T.LONGER_ALT:[T.LONGER_ALT];(0,C.A)(P,U=>{!(0,ct.A)(U)&&!We(d,U)&&u.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${U.name}> on token <${T.name}> outside of mode <${f}>\n`,type:Je.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),u}(f))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function Ss(o,t,a){const u=[];let d=!1;const f=_n((0,rt.A)((0,$.A)(o.modes))),T=dt(f,P=>P[ln]===it.NA),x=wr(a);return t&&(0,C.A)(T,P=>{const U=Pr(P,x);if(!1!==U){const q={message:pa(P,U),type:U.issue,tokenType:P};u.push(q)}else(0,M.A)(P,"LINE_BREAKS")?!0===P.LINE_BREAKS&&(d=!0):ar(x,P.PATTERN)&&(d=!0)}),t&&!d&&u.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Je.NO_LINE_BREAKS_FLAGS}),u}(f,this.trackStartLines,this.config.lineTerminatorCharacters))})),f.modes=f.modes?f.modes:{},(0,C.A)(f.modes,(P,U)=>{f.modes[U]=dt(P,X=>(0,ct.A)(X))});const x=(0,F.A)(f.modes);if((0,C.A)(f.modes,(P,U)=>{this.TRACE_INIT(`Mode: <${U}> processing`,()=>{if(this.modes.push(U),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function Si(o,t){let a=[];const u=function ys(o){const t=(0,It.A)(o,d=>!(0,M.A)(d,ln)),a=(0,S.A)(t,d=>({message:"Token Type: ->"+d.name+"<- missing static 'PATTERN' property",type:Je.MISSING_PATTERN,tokenTypes:[d]}));return{errors:a,valid:En(o,t)}}(o);a=a.concat(u.errors);const d=function As(o){const t=(0,It.A)(o,d=>{const f=d[ln];return!(Ne(f)||(0,ze.A)(f)||(0,M.A)(f,"exec")||(0,y.A)(f))}),a=(0,S.A)(t,d=>({message:"Token Type: ->"+d.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Je.INVALID_PATTERN,tokenTypes:[d]}));return{errors:a,valid:En(o,t)}}(u.valid),f=d.valid;return a=a.concat(d.errors),a=a.concat(function Nr(o){let t=[];const a=(0,It.A)(o,u=>Ne(u[ln]));return t=t.concat(function vs(o){class t extends Ut.z{constructor(){super(...arguments),this.found=!1}visitEndAnchor(f){this.found=!0}}const a=(0,It.A)(o,d=>{const f=d.PATTERN;try{const T=rr(f),x=new t;return x.visit(T),x.found}catch{return Ts.test(f.source)}});return(0,S.A)(a,d=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+d.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Je.EOI_ANCHOR_FOUND,tokenTypes:[d]}))}(a)),t=t.concat(function Ni(o){class t extends Ut.z{constructor(){super(...arguments),this.found=!1}visitStartAnchor(f){this.found=!0}}const a=(0,It.A)(o,d=>{const f=d.PATTERN;try{const T=rr(f),x=new t;return x.visit(T),x.found}catch{return Es.test(f.source)}});return(0,S.A)(a,d=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+d.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Je.SOI_ANCHOR_FOUND,tokenTypes:[d]}))}(a)),t=t.concat(function Oi(o){const t=(0,It.A)(o,u=>{const d=u[ln];return d instanceof RegExp&&(d.multiline||d.global)});return(0,S.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Je.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[u]}))}(a)),t=t.concat(function _s(o){const t=[];let a=(0,S.A)(o,f=>(0,Tt.A)(o,(T,x)=>(f.PATTERN.source===x.PATTERN.source&&!We(t,x)&&x.PATTERN!==it.NA&&(t.push(x),T.push(x)),T),[]));a=_n(a);const u=(0,It.A)(a,f=>f.length>1);return(0,S.A)(u,f=>{const T=(0,S.A)(f,P=>P.name);return{message:`The same RegExp pattern ->${kt(f).PATTERN}<-has been used in all of the following Token Types: ${T.join(", ")} <-`,type:Je.DUPLICATE_PATTERNS_FOUND,tokenTypes:f}})}(a)),t=t.concat(function Rs(o){const t=(0,It.A)(o,u=>u.PATTERN.test(""));return(0,S.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'PATTERN' must not match an empty string",type:Je.EMPTY_MATCH_PATTERN,tokenTypes:[u]}))}(a)),t}(f)),a=a.concat(function Cs(o){const t=(0,It.A)(o,u=>{if(!(0,M.A)(u,"GROUP"))return!1;const d=u.GROUP;return d!==it.SKIPPED&&d!==it.NA&&!(0,y.A)(d)});return(0,S.A)(t,u=>({message:"Token Type: ->"+u.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Je.INVALID_GROUP_TYPE_FOUND,tokenTypes:[u]}))}(f)),a=a.concat(function $s(o,t){const a=(0,It.A)(o,d=>void 0!==d.PUSH_MODE&&!We(t,d.PUSH_MODE));return(0,S.A)(a,d=>({message:`Token Type: ->${d.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${d.PUSH_MODE}<-which does not exist`,type:Je.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[d]}))}(f,t)),a=a.concat(function Is(o){const t=[],a=(0,Tt.A)(o,(u,d,f)=>{const T=d.PATTERN;return T===it.NA||((0,y.A)(T)?u.push({str:T,idx:f,tokenType:d}):Ne(T)&&function Or(o){return void 0===(0,on.A)([".","\\","[","]","|","^","$","(",")","?","*","+","{"],a=>-1!==o.source.indexOf(a))}(T)&&u.push({str:T.source,idx:f,tokenType:d})),u},[]);return(0,C.A)(o,(u,d)=>{(0,C.A)(a,({str:f,idx:T,tokenType:x})=>{d<T&&function ks(o,t){if(Ne(t)){const a=t.exec(o);return null!==a&&0===a.index}if((0,ze.A)(t))return t(o,0,[],{});if((0,M.A)(t,"exec"))return t.exec(o,0,[],{});if("string"==typeof t)return t===o;throw Error("non exhaustive match")}(f,u.PATTERN)&&t.push({message:`Token: ->${x.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${u.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`,type:Je.UNREACHABLE_PATTERN,tokenTypes:[u,x]})})}),t}(f)),a}(P,x))}),(0,B.A)(this.lexerDefinitionErrors)){let X;zn(P),this.TRACE_INIT("analyzeTokenTypes",()=>{X=function gs(o,t){const a=(t=(0,Ct.A)(t,{useSticky:lr,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(Ae,ie)=>ie()})).tracer;let u;a("initCharCodeToOptimizedIndexMap",()=>{!function br(){if((0,B.A)(cr)){cr=new Array(65536);for(let o=0;o<65536;o++)cr[o]=o>255?255+~~(o/255):o}}()}),a("Reject Lexer.NA",()=>{u=dt(o,Ae=>Ae[ln]===it.NA)});let f,T,x,P,U,X,q,de,ge,we,Oe,d=!1;a("Transform Patterns",()=>{d=!1,f=(0,S.A)(u,Ae=>{const ie=Ae[ln];if(Ne(ie)){const xe=ie.source;return 1!==xe.length||"^"===xe||"$"===xe||"."===xe||ie.ignoreCase?2!==xe.length||"\\"!==xe[0]||We(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],xe[1])?t.useSticky?Lr(ie):ur(ie):xe[1]:xe}if((0,ze.A)(ie))return d=!0,{exec:ie};if("object"==typeof ie)return d=!0,ie;if("string"==typeof ie){if(1===ie.length)return ie;{const xe=ie.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),at=new RegExp(xe);return t.useSticky?Lr(at):ur(at)}}throw Error("non exhaustive match")})}),a("misc mapping",()=>{T=(0,S.A)(u,Ae=>Ae.tokenTypeIdx),x=(0,S.A)(u,Ae=>{const ie=Ae.GROUP;if(ie!==it.SKIPPED){if((0,y.A)(ie))return ie;if((0,ct.A)(ie))return!1;throw Error("non exhaustive match")}}),P=(0,S.A)(u,Ae=>{const ie=Ae.LONGER_ALT;if(ie)return(0,Ve.A)(ie)?(0,S.A)(ie,at=>qn(u,at)):[qn(u,ie)]}),U=(0,S.A)(u,Ae=>Ae.PUSH_MODE),X=(0,S.A)(u,Ae=>(0,M.A)(Ae,"POP_MODE"))}),a("Line Terminator Handling",()=>{const Ae=wr(t.lineTerminatorCharacters);q=(0,S.A)(u,ie=>!1),"onlyOffset"!==t.positionTracking&&(q=(0,S.A)(u,ie=>(0,M.A)(ie,"LINE_BREAKS")?!!ie.LINE_BREAKS:!1===Pr(ie,Ae)&&ar(Ae,ie.PATTERN)))}),a("Misc Mapping #2",()=>{de=(0,S.A)(u,Os),ge=(0,S.A)(f,Ls),we=(0,Tt.A)(u,(Ae,ie)=>{const xe=ie.GROUP;return(0,y.A)(xe)&&xe!==it.SKIPPED&&(Ae[xe]=[]),Ae},{}),Oe=(0,S.A)(f,(Ae,ie)=>({pattern:f[ie],longerAlt:P[ie],canLineTerminator:q[ie],isCustom:de[ie],short:ge[ie],group:x[ie],push:U[ie],pop:X[ie],tokenTypeIdx:T[ie],tokenType:u[ie]}))});let De=!0,Ie=[];return t.safeMode||a("First Char Optimization",()=>{Ie=(0,Tt.A)(u,(Ae,ie,xe)=>{if("string"==typeof ie.PATTERN){const Be=Zt(ie.PATTERN.charCodeAt(0));Mr(Ae,Be,Oe[xe])}else if((0,Ve.A)(ie.START_CHARS_HINT)){let at;(0,C.A)(ie.START_CHARS_HINT,Be=>{const as=Zt("string"==typeof Be?Be.charCodeAt(0):Be);at!==as&&(at=as,Mr(Ae,as,Oe[xe]))})}else if(Ne(ie.PATTERN))if(ie.PATTERN.unicode)De=!1,t.ensureOptimizations&&Cn(`${Wn}\tUnable to analyze < ${ie.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const at=Ii(ie.PATTERN,t.ensureOptimizations);(0,B.A)(at)&&(De=!1),(0,C.A)(at,Be=>{Mr(Ae,Be,Oe[xe])})}else t.ensureOptimizations&&Cn(`${Wn}\tTokenType: <${ie.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),De=!1;return Ae},[])}),{emptyGroups:we,patternIdxToConfig:Oe,charCodeToPatternIdxToConfig:Ie,hasCustom:d,canBeOptimized:De}}(P,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:u.positionTracking,ensureOptimizations:u.ensureOptimizations,safeMode:u.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[U]=X.patternIdxToConfig,this.charCodeToPatternIdxToConfig[U]=X.charCodeToPatternIdxToConfig,this.emptyGroups=he({},this.emptyGroups,X.emptyGroups),this.hasCustom=X.hasCustom||this.hasCustom,this.canModeBeOptimized[U]=X.canBeOptimized}})}),this.defaultMode=f.defaultMode,!(0,B.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const U=(0,S.A)(this.lexerDefinitionErrors,X=>X.message).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+U)}(0,C.A)(this.lexerDefinitionWarning,P=>{Sr(P.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(lr?(this.chopInput=dr.A,this.match=this.matchWithTest):(this.updateLastIndex=et.A,this.match=this.matchWithExec),T&&(this.handleModes=et.A),!1===this.trackStartLines&&(this.computeNewColumn=dr.A),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=et.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const P=(0,Tt.A)(this.canModeBeOptimized,(U,X,q)=>(!1===X&&U.push(q),U),[]);if(u.ensureOptimizations&&!(0,B.A)(P))throw Error(`Lexer Modes: < ${P.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{!function $i(){$n={}}()}),this.TRACE_INIT("toFastProperties",()=>{W(this)})})}tokenize(a,u=this.defaultMode){if(!(0,B.A)(this.lexerDefinitionErrors)){const f=(0,S.A)(this.lexerDefinitionErrors,T=>T.message).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+f)}return this.tokenizeInternal(a,u)}tokenizeInternal(a,u){let d,f,T,x,P,U,X,q,de,ge,we,Oe,De,Ae,ie;const xe=a,at=xe.length;let Be=0,is=0;const as=this.hasCustom?0:Math.floor(a.length/10),kr=new Array(as),da=[];let os=this.trackStartLines?1:void 0,xn=this.trackStartLines?1:void 0;const ls=function Ns(o){const t={},a=(0,F.A)(o);return(0,C.A)(a,u=>{if(!(0,Ve.A)(o[u]))throw Error("non exhaustive match");t[u]=[]}),t}(this.emptyGroups),Ba=this.trackStartLines,fa=this.config.lineTerminatorsPattern;let _i=0,Sn=[],us=[];const Ci=[],Ia=[];let cs;function ka(){return Sn}function xa(gt){const Wt=Zt(gt),xr=us[Wt];return void 0===xr?Ia:xr}Object.freeze(Ia);const Ka=gt=>{if(1===Ci.length&&void 0===gt.tokenType.PUSH_MODE){const Wt=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(gt);da.push({offset:gt.startOffset,line:gt.startLine,column:gt.startColumn,length:gt.image.length,message:Wt})}else{Ci.pop();const Wt=(0,un.A)(Ci);Sn=this.patternIdxToConfig[Wt],us=this.charCodeToPatternIdxToConfig[Wt],_i=Sn.length,cs=us&&this.canModeBeOptimized[Wt]&&!1===this.config.safeMode?xa:ka}};function Sa(gt){Ci.push(gt),us=this.charCodeToPatternIdxToConfig[gt],Sn=this.patternIdxToConfig[gt],_i=Sn.length,_i=Sn.length,cs=us&&this.canModeBeOptimized[gt]&&!1===this.config.safeMode?xa:ka}let Jt;Sa.call(this,u);const Na=this.config.recoveryEnabled;for(;Be<at;){U=null;const gt=xe.charCodeAt(Be),Wt=cs(gt),xr=Wt.length;for(d=0;d<xr;d++){Jt=Wt[d];const Mt=Jt.pattern;X=null;const pn=Jt.short;if(!1!==pn?gt===pn&&(U=Mt):!0===Jt.isCustom?(ie=Mt.exec(xe,Be,kr,ls),null!==ie?(U=ie[0],void 0!==ie.payload&&(X=ie.payload)):U=null):(this.updateLastIndex(Mt,Be),U=this.match(Mt,a,Be)),null!==U){if(P=Jt.longerAlt,void 0!==P){const Nn=P.length;for(T=0;T<Nn;T++){const gn=Sn[P[T]],Jn=gn.pattern;if(q=null,!0===gn.isCustom?(ie=Jn.exec(xe,Be,kr,ls),null!==ie?(x=ie[0],void 0!==ie.payload&&(q=ie.payload)):x=null):(this.updateLastIndex(Jn,Be),x=this.match(Jn,a,Be)),x&&x.length>U.length){U=x,X=q,Jt=gn;break}}}break}}if(null!==U){if(de=U.length,ge=Jt.group,void 0!==ge&&(we=Jt.tokenTypeIdx,Oe=this.createTokenInstance(U,Be,we,Jt.tokenType,os,xn,de),this.handlePayload(Oe,X),!1===ge?is=this.addToken(kr,is,Oe):ls[ge].push(Oe)),a=this.chopInput(a,de),Be+=de,xn=this.computeNewColumn(xn,de),!0===Ba&&!0===Jt.canLineTerminator){let pn,Nn,Mt=0;fa.lastIndex=0;do{pn=fa.test(U),!0===pn&&(Nn=fa.lastIndex-1,Mt++)}while(!0===pn);0!==Mt&&(os+=Mt,xn=de-Nn,this.updateTokenEndLineColumnLocation(Oe,ge,Nn,Mt,os,xn,de))}this.handleModes(Jt,Ka,Sa,Oe)}else{const Mt=Be,pn=os,Nn=xn;let gn=!1===Na;for(;!1===gn&&Be<at;)for(a=this.chopInput(a,1),Be++,f=0;f<_i;f++){const Jn=Sn[f],ha=Jn.pattern,Oa=Jn.short;if(!1!==Oa?xe.charCodeAt(Be)===Oa&&(gn=!0):!0===Jn.isCustom?gn=null!==ha.exec(xe,Be,kr,ls):(this.updateLastIndex(ha,Be),gn=null!==ha.exec(a)),!0===gn)break}if(De=Be-Mt,xn=this.computeNewColumn(xn,De),Ae=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(xe,Mt,De,pn,Nn),da.push({offset:Mt,line:pn,column:Nn,length:De,message:Ae}),!1===Na)break}}return this.hasCustom||(kr.length=is),{tokens:kr,groups:ls,errors:da}}handleModes(a,u,d,f){if(!0===a.pop){const T=a.push;u(f),void 0!==T&&d.call(this,T)}else void 0!==a.push&&d.call(this,a.push)}chopInput(a,u){return a.substring(u)}updateLastIndex(a,u){a.lastIndex=u}updateTokenEndLineColumnLocation(a,u,d,f,T,x,P){let U,X;void 0!==u&&(U=d===P-1,X=U?-1:0,1===f&&!0===U||(a.endLine=T+X,a.endColumn=x-1-X))}computeNewColumn(a,u){return a+u}createOffsetOnlyToken(a,u,d,f){return{image:a,startOffset:u,tokenTypeIdx:d,tokenType:f}}createStartOnlyToken(a,u,d,f,T,x){return{image:a,startOffset:u,startLine:T,startColumn:x,tokenTypeIdx:d,tokenType:f}}createFullToken(a,u,d,f,T,x,P){return{image:a,startOffset:u,endOffset:u+P-1,startLine:T,endLine:T,startColumn:x,endColumn:x+P-1,tokenTypeIdx:d,tokenType:f}}addTokenUsingPush(a,u,d){return a.push(d),u}addTokenUsingMemberAccess(a,u,d){return a[u]=d,++u}handlePayloadNoCustom(a,u){}handlePayloadWithCustom(a,u){null!==u&&(a.payload=u)}matchWithTest(a,u,d){return!0===a.test(u)?u.substring(d,a.lastIndex):null}matchWithExec(a,u){const d=a.exec(u);return null!==d?d[0]:null}}return o.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",o.NA=/NOT_APPLICABLE/,o})();function kn(o){return Fs(o)?o.LABEL:o.name}function Fs(o){return(0,y.A)(o.LABEL)&&""!==o.LABEL}const Ur="categories",Br="push_mode",Gs="pop_mode",mr="longer_alt",Bs="line_breaks",Ks="start_chars_hint";function Ws(o){return function bi(o){const t=o.pattern,a={};if(a.name=o.name,(0,ct.A)(t)||(a.PATTERN=t),(0,M.A)(o,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,M.A)(o,Ur)&&(a.CATEGORIES=o[Ur]),zn([a]),(0,M.A)(o,"label")&&(a.LABEL=o.label),(0,M.A)(o,"group")&&(a.GROUP=o.group),(0,M.A)(o,Gs)&&(a.POP_MODE=o[Gs]),(0,M.A)(o,Br)&&(a.PUSH_MODE=o[Br]),(0,M.A)(o,mr)&&(a.LONGER_ALT=o[mr]),(0,M.A)(o,Bs)&&(a.LINE_BREAKS=o[Bs]),(0,M.A)(o,Ks)&&(a.START_CHARS_HINT=o[Ks]),a}(o)}const rn=Ws({name:"EOF",pattern:it.NA});function $e(o,t,a,u,d,f,T,x){return{image:t,startOffset:a,endOffset:u,startLine:d,endLine:f,startColumn:T,endColumn:x,tokenTypeIdx:o.tokenTypeIdx,tokenType:o}}function He(o,t){return cn(o,t)}zn([rn]);const Ue={buildMismatchTokenMessage:({expected:o,actual:t})=>`Expecting ${Fs(o)?`--\x3e ${kn(o)} <--`:`token of type --\x3e ${o.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:o})=>"Redundant input, expecting EOF but found: "+o.image,buildNoViableAltMessage({expectedPathsPerAlt:o,actual:t,customUserDescription:u}){const f="Expecting: ",x="\nbut found: '"+kt(t).image+"'";if(u)return f+u+x;{const P=(0,Tt.A)(o,(de,ge)=>de.concat(ge),[]),U=(0,S.A)(P,de=>`[${(0,S.A)(de,ge=>kn(ge)).join(", ")}]`);return f+`one of these possible Token sequences:\n${(0,S.A)(U,(de,ge)=>`  ${ge+1}. ${de}`).join("\n")}`+x}},buildEarlyExitMessage({expectedIterationPaths:o,actual:t,customUserDescription:a}){const d="Expecting: ",T="\nbut found: '"+kt(t).image+"'";return a?d+a+T:d+`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${(0,S.A)(o,U=>`[${(0,S.A)(U,X=>kn(X)).join(",")}]`).join(" ,")}>`+T}};Object.freeze(Ue);const Di={buildRuleNotFoundError:(o,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+o.name+"<-"},Gt={buildDuplicateFoundError(o,t){const u=o.name,d=kt(t),f=d.idx,T=ut(d),x=function a(X){return X instanceof Me?X.terminalType.name:X instanceof Fe?X.nonTerminalName:""}(d);let U=`->${T}${f>0?f:""}<- ${x?`with argument: ->${x}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${u}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return U=U.replace(/[ \t]+/g," "),U=U.replace(/\s\s+/g,"\n"),U},buildNamespaceConflictError:o=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${o.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(o){const t=(0,S.A)(o.prefixPath,d=>kn(d)).join(", "),a=0===o.alternation.idx?"":o.alternation.idx;return`Ambiguous alternatives: <${o.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${a}> inside <${o.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(o){const t=(0,S.A)(o.prefixPath,d=>kn(d)).join(", "),a=0===o.alternation.idx?"":o.alternation.idx;let u=`Ambiguous Alternatives Detected: <${o.ambiguityIndices.join(" ,")}> in <OR${a}> inside <${o.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return u+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",u},buildEmptyRepetitionError(o){let t=ut(o.repetition);return 0!==o.repetition.idx&&(t+=o.repetition.idx),`The repetition <${t}> within Rule <${o.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:o=>"deprecated",buildEmptyAlternationError:o=>`Ambiguous empty alternative: <${o.emptyChoiceIdx+1}> in <OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:o=>`An Alternation cannot have more than 256 alternatives:\n<OR${o.alternation.idx}> inside <${o.topLevelRule.name}> Rule.\n has ${o.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(o){const t=o.topLevelRule.name;return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${t} --\x3e ${(0,S.A)(o.leftRecursionPath,f=>f.name).concat([t]).join(" --\x3e ")}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:o=>"deprecated",buildDuplicateRuleNameError(o){let t;return t=o.topLevelRule instanceof Qe?o.topLevelRule.name:o.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${o.grammarName}<-`}};class Fi extends lt{constructor(t,a){super(),this.nameToTopRule=t,this.errMsgProvider=a,this.errors=[]}resolveRefs(){(0,C.A)((0,$.A)(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){const a=this.nameToTopRule[t.nonTerminalName];if(a)t.referencedRule=a;else{const u=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:u,type:xt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}var Pt=p(785),pr=p(1878);const vt=function gr(o,t,a,u){for(var d=-1,f=null==o?0:o.length;++d<f;){var T=o[d];t(u,T,a(T),o)}return u},Wr=function Kr(o,t,a,u){return(0,yt.A)(o,function(d,f,T){t(u,d,a(d),T)}),u};var Vs=Object.prototype.hasOwnProperty;const zs=function Yn(o,t){return function(a,u){var d=(0,Ve.A)(a)?vt:Wr,f=t?t():{};return d(a,o,(0,re.A)(u,2),f)}}(function(o,t,a){Vs.call(o,a)?o[a].push(t):(0,pr.A)(o,a,[t])}),mt=function Ui(o,t,a){var u=null==o?0:o.length;return u?(t=a||void 0===t?1:(0,A.A)(t),R(o,0,(t=u-t)<0?0:t)):[]};class Xe extends en{constructor(t,a){super(),this.topProd=t,this.path=a,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,b.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,b.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,a=[]){this.found||super.walk(t,a)}walkProdRef(t,a,u){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const d=a.concat(u);this.updateExpectedNext(),this.walk(t.referencedRule,d)}}updateExpectedNext(){(0,B.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class Gi extends Xe{constructor(t,a){super(t,a),this.path=a,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,a,u){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const d=a.concat(u),f=new k({definition:d});this.possibleTokTypes=_t(f),this.found=!0}}}class yr extends en{constructor(t,a){super(),this.topRule=t,this.occurrence=a,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class Hr extends yr{walkMany(t,a,u){if(t.idx===this.occurrence){const d=kt(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Me&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkMany(t,a,u)}}class Xs extends yr{walkManySep(t,a,u){if(t.idx===this.occurrence){const d=kt(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Me&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkManySep(t,a,u)}}class Bi extends yr{walkAtLeastOne(t,a,u){if(t.idx===this.occurrence){const d=kt(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Me&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkAtLeastOne(t,a,u)}}class Ys extends yr{walkAtLeastOneSep(t,a,u){if(t.idx===this.occurrence){const d=kt(a.concat(u));this.result.isEndOfRule=void 0===d,d instanceof Me&&(this.result.token=d.terminalType,this.result.occurrence=d.idx)}else super.walkAtLeastOneSep(t,a,u)}}function Bt(o,t,a=[]){a=(0,b.A)(a);let u=[],d=0;function T(x){const P=Bt(function f(x){return x.concat(h(o,d+1))}(x),t,a);return u.concat(P)}for(;a.length<t&&d<o.length;){const x=o[d];if(x instanceof k)return T(x.definition);if(x instanceof Fe)return T(x.definition);if(x instanceof G)u=T(x.definition);else{if(x instanceof z)return T(x.definition.concat([new ue({definition:x.definition})]));if(x instanceof pe)return T([new k({definition:x.definition}),new ue({definition:[new Me({terminalType:x.separator})].concat(x.definition)})]);if(x instanceof Ee){const P=x.definition.concat([new ue({definition:[new Me({terminalType:x.separator})].concat(x.definition)})]);u=T(P)}else if(x instanceof ue){const P=x.definition.concat([new ue({definition:x.definition})]);u=T(P)}else{if(x instanceof _e)return(0,C.A)(x.definition,P=>{!1===(0,B.A)(P.definition)&&(u=T(P.definition))}),u;if(!(x instanceof Me))throw Error("non exhaustive match");a.push(x.terminalType)}}d++}return u.push({partialPath:a,suffixDef:h(o,d)}),u}function Qs(o,t,a,u){const d="EXIT_NONE_TERMINAL",f=[d],T="EXIT_ALTERNATIVE";let x=!1;const P=t.length,U=P-u-1,X=[],q=[];for(q.push({idx:-1,def:o,ruleStack:[],occurrenceStack:[]});!(0,B.A)(q);){const de=q.pop();if(de===T){x&&(0,un.A)(q).idx<=U&&q.pop();continue}const ge=de.def,we=de.idx,Oe=de.ruleStack,De=de.occurrenceStack;if((0,B.A)(ge))continue;const Ie=ge[0];if(Ie===d){const Ae={idx:we,def:h(ge),ruleStack:mt(Oe),occurrenceStack:mt(De)};q.push(Ae)}else if(Ie instanceof Me)if(we<P-1){const Ae=we+1;if(a(t[Ae],Ie.terminalType)){const xe={idx:Ae,def:h(ge),ruleStack:Oe,occurrenceStack:De};q.push(xe)}}else{if(we!==P-1)throw Error("non exhaustive match");X.push({nextTokenType:Ie.terminalType,nextTokenOccurrence:Ie.idx,ruleStack:Oe,occurrenceStack:De}),x=!0}else if(Ie instanceof Fe){const Ae=(0,b.A)(Oe);Ae.push(Ie.nonTerminalName);const ie=(0,b.A)(De);ie.push(Ie.idx);const xe={idx:we,def:Ie.definition.concat(f,h(ge)),ruleStack:Ae,occurrenceStack:ie};q.push(xe)}else if(Ie instanceof G){const Ae={idx:we,def:h(ge),ruleStack:Oe,occurrenceStack:De};q.push(Ae),q.push(T);const ie={idx:we,def:Ie.definition.concat(h(ge)),ruleStack:Oe,occurrenceStack:De};q.push(ie)}else if(Ie instanceof z){const Ae=new ue({definition:Ie.definition,idx:Ie.idx}),ie=Ie.definition.concat([Ae],h(ge));q.push({idx:we,def:ie,ruleStack:Oe,occurrenceStack:De})}else if(Ie instanceof pe){const Ae=new Me({terminalType:Ie.separator}),ie=new ue({definition:[Ae].concat(Ie.definition),idx:Ie.idx}),xe=Ie.definition.concat([ie],h(ge));q.push({idx:we,def:xe,ruleStack:Oe,occurrenceStack:De})}else if(Ie instanceof Ee){const Ae={idx:we,def:h(ge),ruleStack:Oe,occurrenceStack:De};q.push(Ae),q.push(T);const ie=new Me({terminalType:Ie.separator}),xe=new ue({definition:[ie].concat(Ie.definition),idx:Ie.idx}),at=Ie.definition.concat([xe],h(ge));q.push({idx:we,def:at,ruleStack:Oe,occurrenceStack:De})}else if(Ie instanceof ue){const Ae={idx:we,def:h(ge),ruleStack:Oe,occurrenceStack:De};q.push(Ae),q.push(T);const ie=new ue({definition:Ie.definition,idx:Ie.idx}),xe=Ie.definition.concat([ie],h(ge));q.push({idx:we,def:xe,ruleStack:Oe,occurrenceStack:De})}else if(Ie instanceof _e)for(let Ae=Ie.definition.length-1;Ae>=0;Ae--){const xe={idx:we,def:Ie.definition[Ae].definition.concat(h(ge)),ruleStack:Oe,occurrenceStack:De};q.push(xe),q.push(T)}else if(Ie instanceof k)q.push({idx:we,def:Ie.definition.concat(h(ge)),ruleStack:Oe,occurrenceStack:De});else{if(!(Ie instanceof Qe))throw Error("non exhaustive match");q.push(Ar(Ie,we,Oe,De))}}return X}function Ar(o,t,a,u){const d=(0,b.A)(a);d.push(o.name);const f=(0,b.A)(u);return f.push(1),{idx:t,def:o.definition,ruleStack:d,occurrenceStack:f}}var Ye=function(o){return o[o.OPTION=0]="OPTION",o[o.REPETITION=1]="REPETITION",o[o.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",o[o.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",o[o.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",o[o.ALTERNATION=5]="ALTERNATION",o}(Ye||{});function zr(o){if(o instanceof G||"Option"===o)return Ye.OPTION;if(o instanceof ue||"Repetition"===o)return Ye.REPETITION;if(o instanceof z||"RepetitionMandatory"===o)return Ye.REPETITION_MANDATORY;if(o instanceof pe||"RepetitionMandatoryWithSeparator"===o)return Ye.REPETITION_MANDATORY_WITH_SEPARATOR;if(o instanceof Ee||"RepetitionWithSeparator"===o)return Ye.REPETITION_WITH_SEPARATOR;if(o instanceof _e||"Alternation"===o)return Ye.ALTERNATION;throw Error("non exhaustive match")}function Zs(o){const{occurrence:t,rule:a,prodType:u,maxLookahead:d}=o,f=zr(u);return f===Ye.ALTERNATION?Tr(t,a,d):vr(t,a,f,d)}function Js(o,t,a,u){const d=o.length,f=qe(o,T=>qe(T,x=>1===x.length));if(t)return function(T){const x=(0,S.A)(T,P=>P.GATE);for(let P=0;P<d;P++){const U=o[P],X=U.length,q=x[P];if(void 0===q||!1!==q.call(this))e:for(let de=0;de<X;de++){const ge=U[de],we=ge.length;for(let Oe=0;Oe<we;Oe++){const De=this.LA(Oe+1);if(!1===a(De,ge[Oe]))continue e}return P}}};if(f&&!u){const T=(0,S.A)(o,P=>(0,rt.A)(P)),x=(0,Tt.A)(T,(P,U,X)=>((0,C.A)(U,q=>{(0,M.A)(P,q.tokenTypeIdx)||(P[q.tokenTypeIdx]=X),(0,C.A)(q.categoryMatches,de=>{(0,M.A)(P,de)||(P[de]=X)})}),P),{});return function(){const P=this.LA(1);return x[P.tokenTypeIdx]}}return function(){for(let T=0;T<d;T++){const x=o[T],P=x.length;e:for(let U=0;U<P;U++){const X=x[U],q=X.length;for(let de=0;de<q;de++){const ge=this.LA(de+1);if(!1===a(ge,X[de]))continue e}return T}}}}function Wi(o,t,a){const u=qe(o,f=>1===f.length),d=o.length;if(u&&!a){const f=(0,rt.A)(o);if(1===f.length&&(0,B.A)(f[0].categoryMatches)){const x=f[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===x}}{const T=(0,Tt.A)(f,(x,P,U)=>(x[P.tokenTypeIdx]=!0,(0,C.A)(P.categoryMatches,X=>{x[X]=!0}),x),[]);return function(){const x=this.LA(1);return!0===T[x.tokenTypeIdx]}}}return function(){e:for(let f=0;f<d;f++){const T=o[f],x=T.length;for(let P=0;P<x;P++){const U=this.LA(P+1);if(!1===t(U,T[P]))continue e}return!0}return!1}}class qs extends en{constructor(t,a,u){super(),this.topProd=t,this.targetOccurrence=a,this.targetProdType=u}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,a,u,d){return t.idx===this.targetOccurrence&&this.targetProdType===a&&(this.restDef=u.concat(d),!0)}walkOption(t,a,u){this.checkIsTarget(t,Ye.OPTION,a,u)||super.walkOption(t,a,u)}walkAtLeastOne(t,a,u){this.checkIsTarget(t,Ye.REPETITION_MANDATORY,a,u)||super.walkOption(t,a,u)}walkAtLeastOneSep(t,a,u){this.checkIsTarget(t,Ye.REPETITION_MANDATORY_WITH_SEPARATOR,a,u)||super.walkOption(t,a,u)}walkMany(t,a,u){this.checkIsTarget(t,Ye.REPETITION,a,u)||super.walkOption(t,a,u)}walkManySep(t,a,u){this.checkIsTarget(t,Ye.REPETITION_WITH_SEPARATOR,a,u)||super.walkOption(t,a,u)}}class ji extends lt{constructor(t,a,u){super(),this.targetOccurrence=t,this.targetProdType=a,this.targetRef=u,this.result=[]}checkIsTarget(t,a){t.idx===this.targetOccurrence&&this.targetProdType===a&&(void 0===this.targetRef||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,Ye.OPTION)}visitRepetition(t){this.checkIsTarget(t,Ye.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,Ye.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,Ye.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,Ye.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,Ye.ALTERNATION)}}function ei(o){const t=new Array(o);for(let a=0;a<o;a++)t[a]=[];return t}function Xr(o){let t=[""];for(let a=0;a<o.length;a++){const u=o[a],d=[];for(let f=0;f<t.length;f++){const T=t[f];d.push(T+"_"+u.tokenTypeIdx);for(let x=0;x<u.categoryMatches.length;x++)d.push(T+"_"+u.categoryMatches[x])}t=d}return t}function Vi(o,t,a){for(let u=0;u<o.length;u++){if(u===a)continue;const d=o[u];for(let f=0;f<t.length;f++)if(!0===d[t[f]])return!1}return!0}function Yr(o,t){const a=(0,S.A)(o,T=>Bt([T],1)),u=ei(a.length),d=(0,S.A)(a,T=>{const x={};return(0,C.A)(T,P=>{const U=Xr(P.partialPath);(0,C.A)(U,X=>{x[X]=!0})}),x});let f=a;for(let T=1;T<=t;T++){const x=f;f=ei(x.length);for(let P=0;P<x.length;P++){const U=x[P];for(let X=0;X<U.length;X++){const q=U[X].partialPath,de=U[X].suffixDef,ge=Xr(q);if(Vi(d,ge,P)||(0,B.A)(de)||q.length===t){const Oe=u[P];if(!1===hn(Oe,q)){Oe.push(q);for(let De=0;De<ge.length;De++)d[P][ge[De]]=!0}}else{const Oe=Bt(de,T+1,q);f[P]=f[P].concat(Oe),(0,C.A)(Oe,De=>{const Ie=Xr(De.partialPath);(0,C.A)(Ie,Ae=>{d[P][Ae]=!0})})}}}}return u}function Tr(o,t,a,u){const d=new ji(o,Ye.ALTERNATION,u);return t.accept(d),Yr(d.result,a)}function vr(o,t,a,u){const d=new ji(o,a);t.accept(d);const f=d.result,x=new qs(t,o,a).startWalking();return Yr([new k({definition:f}),new k({definition:x})],u)}function hn(o,t){e:for(let a=0;a<o.length;a++){const u=o[a];if(u.length===t.length){for(let d=0;d<u.length;d++){const f=t[d],T=u[d];if(0==(f===T||void 0!==T.categoryMatchesMap[f.tokenTypeIdx]))continue e}return!0}}return!1}function ti(o){return qe(o,t=>qe(t,a=>qe(a,u=>(0,B.A)(u.categoryMatches))))}function Xi(o){return`${ut(o)}_#_${o.idx}_#_${wt(o)}`}function wt(o){return o instanceof Me?o.terminalType.name:o instanceof Fe?o.nonTerminalName:""}class Yi extends lt{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function ni(o,t,a,u=[]){const d=[],f=Rr(t.definition);if((0,B.A)(f))return[];{const T=o.name;We(f,o)&&d.push({message:a.buildLeftRecursionError({topLevelRule:o,leftRecursionPath:u}),type:xt.LEFT_RECURSION,ruleName:T});const P=En(f,u.concat([o])),U=(0,Pt.A)(P,X=>{const q=(0,b.A)(u);return q.push(X),ni(o,X,a,q)});return d.concat(U)}}function Rr(o){let t=[];if((0,B.A)(o))return t;const a=kt(o);if(a instanceof Fe)t.push(a.referencedRule);else if(a instanceof k||a instanceof G||a instanceof z||a instanceof pe||a instanceof Ee||a instanceof ue)t=t.concat(Rr(a.definition));else if(a instanceof _e)t=(0,rt.A)((0,S.A)(a.definition,f=>Rr(f.definition)));else if(!(a instanceof Me))throw Error("non exhaustive match");if(At(a)&&o.length>1){const f=h(o);return t.concat(Rr(f))}return t}class mn extends lt{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}class ea extends lt{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}const ii="MismatchedTokenException",Jr="NoViableAltException",qr="EarlyExitException",ai="NotAllInputParsedException",oi=[ii,Jr,qr,ai];function Er(o){return We(oi,o.name)}Object.freeze(oi);class _r extends Error{constructor(t,a){super(t),this.token=a,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class li extends _r{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=ii}}class es extends _r{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=Jr}}class aa extends _r{constructor(t,a){super(t,a),this.name=ai}}class oa extends _r{constructor(t,a,u){super(t,a),this.previousToken=u,this.name=qr}}const ts={},ui="InRuleRecoveryException";class ci extends Error{constructor(t){super(t),this.name=ui}}function di(o,t,a,u,d,f,T){const x=this.getKeyForAutomaticLookahead(u,d);let P=this.firstAfterRepMap[x];if(void 0===P){const de=this.getCurrRuleFullName();P=new f(this.getGAstProductions()[de],d).startWalking(),this.firstAfterRepMap[x]=P}let U=P.token,X=P.occurrence;1===this.RULE_STACK.length&&P.isEndOfRule&&void 0===U&&(U=rn,X=1),void 0!==U&&void 0!==X&&this.shouldInRepetitionRecoveryBeTried(U,X,T)&&this.tryInRepetitionRecovery(o,t,a,U)}function rs(o,t,a){return a|t|o}class gi{constructor(t){var a;this.maxLookahead=null!==(a=t?.maxLookahead)&&void 0!==a?a:sn.maxLookahead}validate(t){const a=this.validateNoLeftRecursion(t.rules);if((0,B.A)(a)){const u=this.validateEmptyOrAlternatives(t.rules),d=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),f=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...a,...u,...d,...f]}return a}validateNoLeftRecursion(t){return(0,Pt.A)(t,a=>ni(a,a,Gt))}validateEmptyOrAlternatives(t){return(0,Pt.A)(t,a=>function Ji(o,t){const a=new mn;return o.accept(a),(0,Pt.A)(a.alternations,f=>{const T=mt(f.definition);return(0,Pt.A)(T,(x,P)=>{const U=Qs([x],[],cn,1);return(0,B.A)(U)?[{message:t.buildEmptyAlternationError({topLevelRule:o,alternation:f,emptyChoiceIdx:P}),type:xt.NONE_LAST_EMPTY_ALT,ruleName:o.name,occurrence:f.idx,alternative:P+1}]:[]})})}(a,Gt))}validateAmbiguousAlternationAlternatives(t,a){return(0,Pt.A)(t,u=>function qi(o,t,a){const u=new mn;o.accept(u);let d=u.alternations;return d=dt(d,T=>!0===T.ignoreAmbiguities),(0,Pt.A)(d,T=>{const U=Tr(T.idx,o,T.maxLookahead||t,T),X=function ra(o,t,a,u){const d=[],f=(0,Tt.A)(o,(x,P,U)=>(!0===t.definition[U].ignoreAmbiguities||(0,C.A)(P,X=>{const q=[U];(0,C.A)(o,(de,ge)=>{U!==ge&&hn(de,X)&&!0!==t.definition[ge].ignoreAmbiguities&&q.push(ge)}),q.length>1&&!hn(d,X)&&(d.push(X),x.push({alts:q,path:X}))}),x),[]);return(0,S.A)(f,x=>{const P=(0,S.A)(x.alts,X=>X+1);return{message:u.buildAlternationAmbiguityError({topLevelRule:a,alternation:t,ambiguityIndices:P,prefixPath:x.path}),type:xt.AMBIGUOUS_ALTS,ruleName:a.name,occurrence:t.idx,alternatives:x.alts}})}(U,T,o,a),q=function sa(o,t,a,u){const d=(0,Tt.A)(o,(T,x,P)=>{const U=(0,S.A)(x,X=>({idx:P,path:X}));return T.concat(U)},[]);return _n((0,Pt.A)(d,T=>{if(!0===t.definition[T.idx].ignoreAmbiguities)return[];const P=T.idx,U=T.path,X=(0,It.A)(d,de=>!0!==t.definition[de.idx].ignoreAmbiguities&&de.idx<P&&function Qr(o,t){return o.length<t.length&&qe(o,(a,u)=>{const d=t[u];return a===d||d.categoryMatchesMap[a.tokenTypeIdx]})}(de.path,U));return(0,S.A)(X,de=>{const ge=[de.idx+1,P+1],we=0===t.idx?"":t.idx;return{message:u.buildAlternationPrefixAmbiguityError({topLevelRule:a,alternation:t,ambiguityIndices:ge,prefixPath:de.path}),type:xt.AMBIGUOUS_PREFIX_ALTS,ruleName:a.name,occurrence:we,alternatives:ge}})}))}(U,T,o,a);return X.concat(q)})}(u,a,Gt))}validateSomeNonEmptyLookaheadPath(t,a){return function na(o,t,a){const u=[];return(0,C.A)(o,d=>{const f=new ea;d.accept(f),(0,C.A)(f.allProductions,x=>{const P=zr(x),de=vr(x.idx,d,P,x.maxLookahead||t)[0];if((0,B.A)((0,rt.A)(de))){const ge=a.buildEmptyRepetitionError({topLevelRule:d,repetition:x});u.push({message:ge,type:xt.NO_NON_EMPTY_LOOKAHEAD,ruleName:d.name})}})}),u}(t,a,Gt)}buildLookaheadForAlternation(t){return function Ki(o,t,a,u,d,f){const T=Tr(o,t,a);return f(T,u,ti(T)?Hn:cn,d)}(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Js)}buildLookaheadForOptional(t){return function ya(o,t,a,u,d,f){const T=vr(o,t,d,a),x=ti(T)?Hn:cn;return f(T[0],x,u)}(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,zr(t.prodType),Wi)}}const Ir=new class va extends lt{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}};function yi(o,t){!0===isNaN(o.startOffset)?(o.startOffset=t.startOffset,o.endOffset=t.endOffset):o.endOffset<t.endOffset&&(o.endOffset=t.endOffset)}function Ai(o,t){!0===isNaN(o.startOffset)?(o.startOffset=t.startOffset,o.startColumn=t.startColumn,o.startLine=t.startLine,o.endOffset=t.endOffset,o.endColumn=t.endColumn,o.endLine=t.endLine):o.endOffset<t.endOffset&&(o.endOffset=t.endOffset,o.endColumn=t.endColumn,o.endLine=t.endLine)}function r(o,t){Object.defineProperty(o,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function s(o,t){const a=(0,F.A)(o),u=a.length;for(let d=0;d<u;d++){const T=o[a[d]],x=T.length;for(let P=0;P<x;P++){const U=T[P];void 0===U.tokenTypeIdx&&this[U.name](U.children,t)}}}var m=function(o){return o[o.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",o[o.MISSING_METHOD=1]="MISSING_METHOD",o}(m||{}),J=p(3151);const pt={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(pt);const Ea=Math.pow(2,8)-1,_a=Ws({name:"RECORDING_PHASE_TOKEN",pattern:it.NA});zn([_a]);const Ca=$e(_a,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Ca);const La={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function ss(o,t,a,u=!1){Ti(a);const d=(0,un.A)(this.recordingProdStack),f=(0,ze.A)(t)?t:t.DEF,T=new o({definition:[],idx:a});return u&&(T.separator=t.SEP),(0,M.A)(t,"MAX_LOOKAHEAD")&&(T.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(T),f.call(this),d.definition.push(T),this.recordingProdStack.pop(),pt}function wa(o,t){Ti(t);const a=(0,un.A)(this.recordingProdStack),u=!1===(0,Ve.A)(o),d=!1===u?o:o.DEF,f=new _e({definition:[],idx:t,ignoreAmbiguities:u&&!0===o.IGNORE_AMBIGUITIES});(0,M.A)(o,"MAX_LOOKAHEAD")&&(f.maxLookahead=o.MAX_LOOKAHEAD);const T=Ot(d,x=>(0,ze.A)(x.GATE));return f.hasPredicates=T,a.definition.push(f),(0,C.A)(d,x=>{const P=new k({definition:[]});f.definition.push(P),(0,M.A)(x,"IGNORE_AMBIGUITIES")?P.ignoreAmbiguities=x.IGNORE_AMBIGUITIES:(0,M.A)(x,"GATE")&&(P.ignoreAmbiguities=!0),this.recordingProdStack.push(P),x.ALT.call(this),this.recordingProdStack.pop()}),pt}function $a(o){return 0===o?"":`${o}`}function Ti(o){if(o<0||o>Ea){const t=new Error(`Invalid DSL Method idx value: <${o}>\n\tIdx value must be a none negative value smaller than ${Ea+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}const vi=$e(rn,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(vi);const sn=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Ue,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Ri=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var xt=function(o){return o[o.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",o[o.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",o[o.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",o[o.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",o[o.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",o[o.LEFT_RECURSION=5]="LEFT_RECURSION",o[o.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",o[o.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",o[o.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",o[o.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",o[o.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",o[o.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",o[o.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",o[o.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION",o}(xt||{});function Da(o=void 0){return function(){return o}}let ca=(()=>{class o{static performSelfAnalysis(a){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let a;this.selfAnalysisDone=!0;const u=this.className;this.TRACE_INIT("toFastProps",()=>{W(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),(0,C.A)(this.definedRulesNames,f=>{const x=this[f].originalGrammarAction;let P;this.TRACE_INIT(`${f} Rule`,()=>{P=this.topLevelRuleRecord(f,x)}),this.gastProductionsCache[f]=P})}finally{this.disableRecording()}});let d=[];if(this.TRACE_INIT("Grammar Resolving",()=>{d=function si(o){const t=(0,Ct.A)(o,{errMsgProvider:Di}),a={};return(0,C.A)(o.rules,u=>{a[u.name]=u}),function js(o,t){const a=new Fi(o,t);return a.resolveRefs(),a.errors}(a,t.errMsgProvider)}({rules:(0,$.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(d)}),this.TRACE_INIT("Grammar Validations",()=>{if((0,B.A)(d)&&!1===this.skipValidations){const f=function ia(o){return function zi(o,t,a,u){const d=(0,Pt.A)(o,P=>function Zr(o,t){const a=new Yi;o.accept(a);const d=zs(a.allProductions,Xi),f=ve(d,x=>x.length>1);return(0,S.A)((0,$.A)(f),x=>{const P=kt(x),U=t.buildDuplicateFoundError(o,x),X=ut(P),q={message:U,type:xt.DUPLICATE_PRODUCTIONS,ruleName:o.name,dslName:X,occurrence:P.idx},de=wt(P);return de&&(q.parameter=de),q})}(P,a)),f=function ri(o,t,a){const u=[],d=(0,S.A)(t,f=>f.name);return(0,C.A)(o,f=>{const T=f.name;if(We(d,T)){const x=a.buildNamespaceConflictError(f);u.push({message:x,type:xt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:T})}}),u}(o,t,a),T=(0,Pt.A)(o,P=>function ta(o,t){const a=new mn;return o.accept(a),(0,Pt.A)(a.alternations,f=>f.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:o,alternation:f}),type:xt.TOO_MANY_ALTS,ruleName:o.name,occurrence:f.idx}]:[])}(P,a)),x=(0,Pt.A)(o,P=>function Qi(o,t,a,u){const d=[];if((0,Tt.A)(t,(T,x)=>x.name===o.name?T+1:T,0)>1){const T=u.buildDuplicateRuleNameError({topLevelRule:o,grammarName:a});d.push({message:T,type:xt.DUPLICATE_RULE_NAME,ruleName:o.name})}return d}(P,o,u,a));return d.concat(f,T,x)}((o=(0,Ct.A)(o,{errMsgProvider:Gt})).rules,o.tokenTypes,o.errMsgProvider,o.grammarName)}({rules:(0,$.A)(this.gastProductionsCache),tokenTypes:(0,$.A)(this.tokensMap),errMsgProvider:Gt,grammarName:u}),T=function Hi(o){const t=o.lookaheadStrategy.validate({rules:o.rules,tokenTypes:o.tokenTypes,grammarName:o.grammarName});return(0,S.A)(t,a=>Object.assign({type:xt.CUSTOM_LOOKAHEAD_VALIDATION},a))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,$.A)(this.gastProductionsCache),tokenTypes:(0,$.A)(this.tokensMap),grammarName:u});this.definitionErrors=this.definitionErrors.concat(f,T)}}),(0,B.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const f=function Un(o){const t={};return(0,C.A)(o,a=>{const u=new zt(a).startWalking();he(t,u)}),t}((0,$.A)(this.gastProductionsCache));this.resyncFollows=f}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var f,T;null===(T=(f=this.lookaheadStrategy).initialize)||void 0===T||T.call(f,{rules:(0,$.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,$.A)(this.gastProductionsCache))})),!o.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,B.A)(this.definitionErrors))throw a=(0,S.A)(this.definitionErrors,f=>f.message),new Error(`Parser Definition Errors detected:\n ${a.join("\n-------------------------------\n")}`)})}constructor(a,u){this.definitionErrors=[],this.selfAnalysisDone=!1;const d=this;if(d.initErrorHandler(u),d.initLexerAdapter(),d.initLooksAhead(u),d.initRecognizerEngine(a,u),d.initRecoverable(u),d.initTreeBuilder(u),d.initContentAssist(),d.initGastRecorder(u),d.initPerformanceTracer(u),(0,M.A)(u,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,M.A)(u,"skipValidations")?u.skipValidations:sn.skipValidations}}return o.DEFER_DEFINITION_ERRORS_HANDLING=!1,o})();!function ba(o,t){t.forEach(a=>{const u=a.prototype;Object.getOwnPropertyNames(u).forEach(d=>{if("constructor"===d)return;const f=Object.getOwnPropertyDescriptor(u,d);f&&(f.get||f.set)?Object.defineProperty(o.prototype,d,f):o.prototype[d]=a.prototype[d]})})}(ca,[class la{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,M.A)(t,"recoveryEnabled")?t.recoveryEnabled:sn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=di)}getTokenToInsert(t){const a=$e(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return a.isInsertedInRecovery=!0,a}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,a,u,d){const f=this.findReSyncTokenType(),T=this.exportLexerState(),x=[];let P=!1;const U=this.LA(1);let X=this.LA(1);const q=()=>{const de=this.LA(0),ge=this.errorMessageProvider.buildMismatchTokenMessage({expected:d,actual:U,previous:de,ruleName:this.getCurrRuleFullName()}),we=new li(ge,U,this.LA(0));we.resyncedTokens=mt(x),this.SAVE_ERROR(we)};for(;!P;){if(this.tokenMatcher(X,d))return void q();if(u.call(this))return q(),void t.apply(this,a);this.tokenMatcher(X,f)?P=!0:(X=this.SKIP_TOKEN(),this.addToResyncTokens(X,x))}this.importLexerState(T)}shouldInRepetitionRecoveryBeTried(t,a,u){return!(!1===u||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,a)))}getFollowsForInRuleRecovery(t,a){const u=this.getCurrentGrammarPath(t,a);return this.getNextPossibleTokenTypes(u)}tryInRuleRecovery(t,a){if(this.canRecoverWithSingleTokenInsertion(t,a))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){const u=this.SKIP_TOKEN();return this.consumeToken(),u}throw new ci("sad sad panda")}canPerformInRuleRecovery(t,a){return this.canRecoverWithSingleTokenInsertion(t,a)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,a){if(!this.canTokenTypeBeInsertedInRecovery(t)||(0,B.A)(a))return!1;const u=this.LA(1);return void 0!==(0,on.A)(a,f=>this.tokenMatcher(u,f))}canRecoverWithSingleTokenDeletion(t){return!!this.canTokenTypeBeDeletedInRecovery(t)&&this.tokenMatcher(this.LA(2),t)}isInCurrentRuleReSyncSet(t){const a=this.getCurrFollowKey(),u=this.getFollowSetFromFollowKey(a);return We(u,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let a=this.LA(1),u=2;for(;;){const d=(0,on.A)(t,f=>He(a,f));if(void 0!==d)return d;a=this.LA(u),u++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return ts;const t=this.getLastExplicitRuleShortName(),a=this.getLastExplicitRuleOccurrenceIndex(),u=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:a,inRule:this.shortRuleNameToFullName(u)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,a=this.RULE_OCCURRENCE_STACK;return(0,S.A)(t,(u,d)=>0===d?ts:{ruleName:this.shortRuleNameToFullName(u),idxInCallingRule:a[d],inRule:this.shortRuleNameToFullName(t[d-1])})}flattenFollowSet(){const t=(0,S.A)(this.buildFullFollowKeyStack(),a=>this.getFollowSetFromFollowKey(a));return(0,rt.A)(t)}getFollowSetFromFollowKey(t){return t===ts?[rn]:this.resyncFollows[t.ruleName+t.idxInCallingRule+"_~IN~_"+t.inRule]}addToResyncTokens(t,a){return this.tokenMatcher(t,rn)||a.push(t),a}reSyncTo(t){const a=[];let u=this.LA(1);for(;!1===this.tokenMatcher(u,t);)u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a);return mt(a)}attemptInRepetitionRecovery(t,a,u,d,f,T,x){}getCurrentGrammarPath(t,a){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,b.A)(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:a}}getHumanReadableRuleStack(){return(0,S.A)(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}},class Ta{initLooksAhead(t){this.dynamicTokensEnabled=(0,M.A)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:sn.dynamicTokensEnabled,this.maxLookahead=(0,M.A)(t,"maxLookahead")?t.maxLookahead:sn.maxLookahead,this.lookaheadStrategy=(0,M.A)(t,"lookaheadStrategy")?t.lookaheadStrategy:new gi({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){(0,C.A)(t,a=>{this.TRACE_INIT(`${a.name} Rule Lookahead`,()=>{const{alternation:u,repetition:d,option:f,repetitionMandatory:T,repetitionMandatoryWithSeparator:x,repetitionWithSeparator:P}=function ua(o){Ir.reset(),o.accept(Ir);const t=Ir.dslMethods;return Ir.reset(),t}(a);(0,C.A)(u,U=>{const X=0===U.idx?"":U.idx;this.TRACE_INIT(`${ut(U)}${X}`,()=>{const q=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:U.idx,rule:a,maxLookahead:U.maxLookahead||this.maxLookahead,hasPredicates:U.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),de=rs(this.fullRuleNameToShort[a.name],256,U.idx);this.setLaFuncCache(de,q)})}),(0,C.A)(d,U=>{this.computeLookaheadFunc(a,U.idx,768,"Repetition",U.maxLookahead,ut(U))}),(0,C.A)(f,U=>{this.computeLookaheadFunc(a,U.idx,512,"Option",U.maxLookahead,ut(U))}),(0,C.A)(T,U=>{this.computeLookaheadFunc(a,U.idx,1024,"RepetitionMandatory",U.maxLookahead,ut(U))}),(0,C.A)(x,U=>{this.computeLookaheadFunc(a,U.idx,1536,"RepetitionMandatoryWithSeparator",U.maxLookahead,ut(U))}),(0,C.A)(P,U=>{this.computeLookaheadFunc(a,U.idx,1280,"RepetitionWithSeparator",U.maxLookahead,ut(U))})})})}computeLookaheadFunc(t,a,u,d,f,T){this.TRACE_INIT(`${T}${0===a?"":a}`,()=>{const x=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:a,rule:t,maxLookahead:f||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:d}),P=rs(this.fullRuleNameToShort[t.name],u,a);this.setLaFuncCache(P,x)})}getKeyForAutomaticLookahead(t,a){return rs(this.getLastExplicitRuleShortName(),t,a)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,a){this.lookAheadFuncsCache.set(t,a)}},class j{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,M.A)(t,"nodeLocationTracking")?t.nodeLocationTracking:sn.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ai,this.setNodeLocationFromNode=Ai,this.cstPostRule=et.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=et.A,this.setNodeLocationFromNode=et.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=yi,this.setNodeLocationFromNode=yi,this.cstPostRule=et.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=et.A,this.setNodeLocationFromNode=et.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=et.A,this.setNodeLocationFromNode=et.A,this.cstPostRule=et.A,this.setInitialNodeLocation=et.A}else this.cstInvocationStateUpdate=et.A,this.cstFinallyStateUpdate=et.A,this.cstPostTerminal=et.A,this.cstPostNonTerminal=et.A,this.cstPostRule=et.A}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const a=this.LA(1);t.location={startOffset:a.startOffset,startLine:a.startLine,startColumn:a.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const a={name:t,children:Object.create(null)};this.setInitialNodeLocation(a),this.CST_STACK.push(a)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const a=this.LA(0),u=t.location;u.startOffset<=a.startOffset?(u.endOffset=a.endOffset,u.endLine=a.endLine,u.endColumn=a.endColumn):(u.startOffset=NaN,u.startLine=NaN,u.startColumn=NaN)}cstPostRuleOnlyOffset(t){const a=this.LA(0),u=t.location;u.startOffset<=a.startOffset?u.endOffset=a.endOffset:u.startOffset=NaN}cstPostTerminal(t,a){const u=this.CST_STACK[this.CST_STACK.length-1];(function i(o,t,a){void 0===o.children[a]?o.children[a]=[t]:o.children[a].push(t)})(u,a,t),this.setNodeLocationFromToken(u.location,a)}cstPostNonTerminal(t,a){const u=this.CST_STACK[this.CST_STACK.length-1];(function e(o,t,a){void 0===o.children[t]?o.children[t]=[a]:o.children[t].push(a)})(u,a,t),this.setNodeLocationFromNode(u.location,t.location)}getBaseCstVisitorConstructor(){if((0,ct.A)(this.baseCstVisitorConstructor)){const t=function l(o,t){const a=function(){};r(a,o+"BaseSemantics");const u={visit:function(d,f){if((0,Ve.A)(d)&&(d=d[0]),!(0,ct.A)(d))return this[d.name](d.children,f)},validateVisitor:function(){const d=function E(o,t){return function w(o,t){const a=(0,It.A)(t,d=>!1===(0,ze.A)(o[d])),u=(0,S.A)(a,d=>({msg:`Missing visitor method: <${d}> on ${o.constructor.name} CST Visitor.`,type:m.MISSING_METHOD,methodName:d}));return _n(u)}(o,t)}(this,t);if(!(0,B.A)(d)){const f=(0,S.A)(d,T=>T.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${f.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return(a.prototype=u).constructor=a,a._RULE_NAMES=t,a}(this.className,(0,F.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,ct.A)(this.baseCstVisitorWithDefaultsConstructor)){const t=function c(o,t,a){const u=function(){};r(u,o+"BaseSemanticsWithDefaults");const d=Object.create(a.prototype);return(0,C.A)(t,f=>{d[f]=s}),(u.prototype=d).constructor=u,u}(this.className,(0,F.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}},class ne{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):vi}LA(t){const a=this.currIdx+t;return a<0||this.tokVectorLength<=a?vi:this.tokVector[a]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class be{initRecognizerEngine(t,a){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Hn,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,M.A)(a,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,Ve.A)(t)){if((0,B.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,Ve.A)(t))this.tokensMap=(0,Tt.A)(t,(f,T)=>(f[T.name]=T,f),{});else if((0,M.A)(t,"modes")&&qe((0,rt.A)((0,$.A)(t.modes)),fn)){const f=(0,rt.A)((0,$.A)(t.modes)),T=tn(f);this.tokensMap=(0,Tt.A)(T,(x,P)=>(x[P.name]=P,x),{})}else{if(!(0,J.A)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,b.A)(t)}this.tokensMap.EOF=rn;const u=(0,M.A)(t,"modes")?(0,rt.A)((0,$.A)(t.modes)):(0,$.A)(t),d=qe(u,f=>(0,B.A)(f.categoryMatches));this.tokenMatcher=d?Hn:cn,zn((0,$.A)(this.tokensMap))}defineRule(t,a,u){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const d=(0,M.A)(u,"resyncEnabled")?u.resyncEnabled:Ri.resyncEnabled,f=(0,M.A)(u,"recoveryValueFunc")?u.recoveryValueFunc:Ri.recoveryValueFunc,T=this.ruleShortNameIdx<<12;let x;return this.ruleShortNameIdx++,this.shortRuleNameToFull[T]=t,this.fullRuleNameToShort[t]=T,x=!0===this.outputCst?function(...X){try{this.ruleInvocationStateUpdate(T,t,this.subruleIdx),a.apply(this,X);const q=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(q),q}catch(q){return this.invokeRuleCatch(q,d,f)}finally{this.ruleFinallyStateUpdate()}}:function(...X){try{return this.ruleInvocationStateUpdate(T,t,this.subruleIdx),a.apply(this,X)}catch(q){return this.invokeRuleCatch(q,d,f)}finally{this.ruleFinallyStateUpdate()}},Object.assign(x,{ruleName:t,originalGrammarAction:a})}invokeRuleCatch(t,a,u){const d=1===this.RULE_STACK.length,f=a&&!this.isBackTracking()&&this.recoveryEnabled;if(Er(t)){const T=t;if(f){const x=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(x)){if(T.resyncedTokens=this.reSyncTo(x),this.outputCst){const P=this.CST_STACK[this.CST_STACK.length-1];return P.recoveredNode=!0,P}return u(t)}if(this.outputCst){const P=this.CST_STACK[this.CST_STACK.length-1];P.recoveredNode=!0,T.partialCstResult=P}throw T}if(d)return this.moveToTerminatedState(),u(t);throw T}throw t}optionInternal(t,a){const u=this.getKeyForAutomaticLookahead(512,a);return this.optionInternalLogic(t,a,u)}optionInternalLogic(t,a,u){let f,d=this.getLaFuncFromCache(u);if("function"!=typeof t){f=t.DEF;const T=t.GATE;if(void 0!==T){const x=d;d=()=>T.call(this)&&x.call(this)}}else f=t;if(!0===d.call(this))return f.call(this)}atLeastOneInternal(t,a){const u=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,a,u)}atLeastOneInternalLogic(t,a,u){let f,d=this.getLaFuncFromCache(u);if("function"!=typeof a){f=a.DEF;const T=a.GATE;if(void 0!==T){const x=d;d=()=>T.call(this)&&x.call(this)}}else f=a;if(!0!==d.call(this))throw this.raiseEarlyExitException(t,Ye.REPETITION_MANDATORY,a.ERR_MSG);{let T=this.doSingleRepetition(f);for(;!0===d.call(this)&&!0===T;)T=this.doSingleRepetition(f)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,a],d,1024,t,Bi)}atLeastOneSepFirstInternal(t,a){const u=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,a,u)}atLeastOneSepFirstInternalLogic(t,a,u){const d=a.DEF,f=a.SEP;if(!0!==this.getLaFuncFromCache(u).call(this))throw this.raiseEarlyExitException(t,Ye.REPETITION_MANDATORY_WITH_SEPARATOR,a.ERR_MSG);{d.call(this);const x=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,x,d,Ys],x,1536,t,Ys)}}manyInternal(t,a){const u=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,a,u)}manyInternalLogic(t,a,u){let f,d=this.getLaFuncFromCache(u);if("function"!=typeof a){f=a.DEF;const x=a.GATE;if(void 0!==x){const P=d;d=()=>x.call(this)&&P.call(this)}}else f=a;let T=!0;for(;!0===d.call(this)&&!0===T;)T=this.doSingleRepetition(f);this.attemptInRepetitionRecovery(this.manyInternal,[t,a],d,768,t,Hr,T)}manySepFirstInternal(t,a){const u=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,a,u)}manySepFirstInternalLogic(t,a,u){const d=a.DEF,f=a.SEP;if(!0===this.getLaFuncFromCache(u).call(this)){d.call(this);const x=()=>this.tokenMatcher(this.LA(1),f);for(;!0===this.tokenMatcher(this.LA(1),f);)this.CONSUME(f),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,f,x,d,Xs],x,1280,t,Xs)}}repetitionSepSecondInternal(t,a,u,d,f){for(;u();)this.CONSUME(a),d.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,u,d,f],u,1536,t,f)}doSingleRepetition(t){const a=this.getLexerPosition();return t.call(this),this.getLexerPosition()>a}orInternal(t,a){const u=this.getKeyForAutomaticLookahead(256,a),d=(0,Ve.A)(t)?t:t.DEF,T=this.getLaFuncFromCache(u).call(this,d);if(void 0!==T)return d[T].ALT.call(this);this.raiseNoAltException(a,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),a=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new aa(a,t))}}subruleInternal(t,a,u){let d;try{const f=void 0!==u?u.ARGS:void 0;return this.subruleIdx=a,d=t.apply(this,f),this.cstPostNonTerminal(d,void 0!==u&&void 0!==u.LABEL?u.LABEL:t.ruleName),d}catch(f){throw this.subruleInternalError(f,u,t.ruleName)}}subruleInternalError(t,a,u){throw Er(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==a&&void 0!==a.LABEL?a.LABEL:u),delete t.partialCstResult),t}consumeInternal(t,a,u){let d;try{const f=this.LA(1);!0===this.tokenMatcher(f,t)?(this.consumeToken(),d=f):this.consumeInternalError(t,f,u)}catch(f){d=this.consumeInternalRecovery(t,a,f)}return this.cstPostTerminal(void 0!==u&&void 0!==u.LABEL?u.LABEL:t.name,d),d}consumeInternalError(t,a,u){let d;const f=this.LA(0);throw d=void 0!==u&&u.ERR_MSG?u.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:a,previous:f,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new li(d,a,f))}consumeInternalRecovery(t,a,u){if(!this.recoveryEnabled||"MismatchedTokenException"!==u.name||this.isBackTracking())throw u;{const d=this.getFollowsForInRuleRecovery(t,a);try{return this.tryInRuleRecovery(t,d)}catch(f){throw f.name===ui?u:f}}}saveRecogState(){const t=this.errors,a=(0,b.A)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:a,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,a,u){this.RULE_OCCURRENCE_STACK.push(u),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(a)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),rn)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class se{ACTION(t){return t.call(this)}consume(t,a,u){return this.consumeInternal(a,t,u)}subrule(t,a,u){return this.subruleInternal(a,t,u)}option(t,a){return this.optionInternal(a,t)}or(t,a){return this.orInternal(a,t)}many(t,a){return this.manyInternal(t,a)}atLeastOne(t,a){return this.atLeastOneInternal(t,a)}CONSUME(t,a){return this.consumeInternal(t,0,a)}CONSUME1(t,a){return this.consumeInternal(t,1,a)}CONSUME2(t,a){return this.consumeInternal(t,2,a)}CONSUME3(t,a){return this.consumeInternal(t,3,a)}CONSUME4(t,a){return this.consumeInternal(t,4,a)}CONSUME5(t,a){return this.consumeInternal(t,5,a)}CONSUME6(t,a){return this.consumeInternal(t,6,a)}CONSUME7(t,a){return this.consumeInternal(t,7,a)}CONSUME8(t,a){return this.consumeInternal(t,8,a)}CONSUME9(t,a){return this.consumeInternal(t,9,a)}SUBRULE(t,a){return this.subruleInternal(t,0,a)}SUBRULE1(t,a){return this.subruleInternal(t,1,a)}SUBRULE2(t,a){return this.subruleInternal(t,2,a)}SUBRULE3(t,a){return this.subruleInternal(t,3,a)}SUBRULE4(t,a){return this.subruleInternal(t,4,a)}SUBRULE5(t,a){return this.subruleInternal(t,5,a)}SUBRULE6(t,a){return this.subruleInternal(t,6,a)}SUBRULE7(t,a){return this.subruleInternal(t,7,a)}SUBRULE8(t,a){return this.subruleInternal(t,8,a)}SUBRULE9(t,a){return this.subruleInternal(t,9,a)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,a,u=Ri){if(We(this.definedRulesNames,t)){const T={message:Gt.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:xt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(T)}this.definedRulesNames.push(t);const d=this.defineRule(t,a,u);return this[t]=d,d}OVERRIDE_RULE(t,a,u=Ri){const d=function Zi(o,t,a){const u=[];let d;return We(t,o)||(d=`Invalid rule override, rule: ->${o}<- cannot be overridden in the grammar: ->${a}<-as it is not defined in any of the super grammars `,u.push({message:d,type:xt.INVALID_RULE_OVERRIDE,ruleName:o})),u}(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(d);const f=this.defineRule(t,a,u);return this[t]=f,f}BACKTRACK(t,a){return function(){this.isBackTrackingStack.push(1);const u=this.saveRecogState();try{return t.apply(this,a),!0}catch(d){if(Er(d))return!1;throw d}finally{this.reloadRecogState(u),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return function Rt(o){return(0,S.A)(o,jt)}((0,$.A)(this.gastProductionsCache))}},class je{initErrorHandler(t){this._errors=[],this.errorMessageProvider=(0,M.A)(t,"errorMessageProvider")?t.errorMessageProvider:sn.errorMessageProvider}SAVE_ERROR(t){if(Er(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,b.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,b.A)(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,a,u){const d=this.getCurrRuleFullName(),x=vr(t,this.getGAstProductions()[d],a,this.maxLookahead)[0],P=[];for(let X=1;X<=this.maxLookahead;X++)P.push(this.LA(X));const U=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:x,actual:P,previous:this.LA(0),customUserDescription:u,ruleName:d});throw this.SAVE_ERROR(new oa(U,this.LA(1),this.LA(0)))}raiseNoAltException(t,a){const u=this.getCurrRuleFullName(),f=Tr(t,this.getGAstProductions()[u],this.maxLookahead),T=[];for(let U=1;U<=this.maxLookahead;U++)T.push(this.LA(U));const x=this.LA(0),P=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:f,actual:T,previous:x,customUserDescription:a,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new es(P,this.LA(1),x))}},class tt{initContentAssist(){}computeContentAssist(t,a){const u=this.gastProductionsCache[t];if((0,ct.A)(u))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Qs([u],a,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const a=kt(t.ruleStack),d=this.getGAstProductions()[a];return new Gi(d,t).startWalking()}},class Pa{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){const a=t>0?t:"";this[`CONSUME${a}`]=function(u,d){return this.consumeInternalRecord(u,t,d)},this[`SUBRULE${a}`]=function(u,d){return this.subruleInternalRecord(u,t,d)},this[`OPTION${a}`]=function(u){return this.optionInternalRecord(u,t)},this[`OR${a}`]=function(u){return this.orInternalRecord(u,t)},this[`MANY${a}`]=function(u){this.manyInternalRecord(t,u)},this[`MANY_SEP${a}`]=function(u){this.manySepFirstInternalRecord(t,u)},this[`AT_LEAST_ONE${a}`]=function(u){this.atLeastOneInternalRecord(t,u)},this[`AT_LEAST_ONE_SEP${a}`]=function(u){this.atLeastOneSepFirstInternalRecord(t,u)}}this.consume=function(t,a,u){return this.consumeInternalRecord(a,t,u)},this.subrule=function(t,a,u){return this.subruleInternalRecord(a,t,u)},this.option=function(t,a){return this.optionInternalRecord(a,t)},this.or=function(t,a){return this.orInternalRecord(a,t)},this.many=function(t,a){this.manyInternalRecord(t,a)},this.atLeastOne=function(t,a){this.atLeastOneInternalRecord(t,a)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const t=this;for(let a=0;a<10;a++){const u=a>0?a:"";delete t[`CONSUME${u}`],delete t[`SUBRULE${u}`],delete t[`OPTION${u}`],delete t[`OR${u}`],delete t[`MANY${u}`],delete t[`MANY_SEP${u}`],delete t[`AT_LEAST_ONE${u}`],delete t[`AT_LEAST_ONE_SEP${u}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,a){return()=>!0}LA_RECORD(t){return vi}topLevelRuleRecord(t,a){try{const u=new Qe({definition:[],name:t});return u.name=t,this.recordingProdStack.push(u),a.call(this),this.recordingProdStack.pop(),u}catch(u){if(!0!==u.KNOWN_RECORDER_ERROR)try{u.message=u.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw u}throw u}}optionInternalRecord(t,a){return ss.call(this,G,t,a)}atLeastOneInternalRecord(t,a){ss.call(this,z,a,t)}atLeastOneSepFirstInternalRecord(t,a){ss.call(this,pe,a,t,!0)}manyInternalRecord(t,a){ss.call(this,ue,a,t)}manySepFirstInternalRecord(t,a){ss.call(this,Ee,a,t,!0)}orInternalRecord(t,a){return wa.call(this,t,a)}subruleInternalRecord(t,a,u){if(Ti(a),!t||!1===(0,M.A)(t,"ruleName")){const x=new Error(`<SUBRULE${$a(a)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw x.KNOWN_RECORDER_ERROR=!0,x}const d=(0,un.A)(this.recordingProdStack),T=new Fe({idx:a,nonTerminalName:t.ruleName,label:u?.LABEL,referencedRule:void 0});return d.definition.push(T),this.outputCst?La:pt}consumeInternalRecord(t,a,u){if(Ti(a),!dn(t)){const T=new Error(`<CONSUME${$a(a)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw T.KNOWN_RECORDER_ERROR=!0,T}const d=(0,un.A)(this.recordingProdStack),f=new Me({idx:a,terminalType:t,label:u?.LABEL});return d.definition.push(f),Ca}},class Ma{initPerformanceTracer(t){if((0,M.A)(t,"traceInitPerf")){const a=t.traceInitPerf,u="number"==typeof a;this.traceInitMaxIdent=u?a:1/0,this.traceInitPerf=u?a>0:a}else this.traceInitMaxIdent=0,this.traceInitPerf=sn.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,a){if(!0===this.traceInitPerf){this.traceInitIndent++;const u=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${u}--\x3e <${t}>`);const{time:d,value:f}=fr(a),T=d>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&T(`${u}<-- <${t}> time: ${d}ms`),this.traceInitIndent--,f}return a()}}]);class Fa extends ca{constructor(t,a=sn){const u=(0,b.A)(a);u.outputCst=!1,super(t,u)}}},9115:(ke,Q,p)=>{p.d(Q,{A:()=>S});var C=p(5973);const S=function B(M){return(0,C.A)(M,4)}},9815:(ke,Q,p)=>{p.d(Q,{S:()=>v,i:()=>A});var b,W,C=p(5027),$=p(6911),B=p(5772),S=p(1326),M=p(7423),H=(class extends $.mR{constructor(){super(["architecture"])}static#e=b=()=>((0,C.A)(this,"ArchitectureTokenBuilder"),(0,$.K2)(this,"ArchitectureTokenBuilder"),this)},b()),R=(class extends $.dg{runCustomConverter(h,y,I){return"ARCH_ICON"===h.name?y.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===h.name?y.replace(/["()]/g,""):"ARCH_TITLE"===h.name?y.replace(/[[\]]/g,"").trim():void 0}static#e=W=()=>((0,C.A)(this,"ArchitectureValueConverter"),(0,$.K2)(this,"ArchitectureValueConverter"),this)},W()),A={parser:{TokenBuilder:(0,$.K2)(()=>new H,"TokenBuilder"),ValueConverter:(0,$.K2)(()=>new R,"ValueConverter")}};function v(h=M.D){const y=(0,S.WQ)((0,B.u)(h),$.sr),I=(0,S.WQ)((0,B.t)({shared:y}),$.jE,A);return y.ServiceRegistry.register(I),{shared:y,Architecture:I}}(0,$.K2)(v,"createArchitectureServices")}}]);
//# sourceMappingURL=233.858684192517d298.js.map