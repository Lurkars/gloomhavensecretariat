<div class="event-card-container" #container>
    <div class="card vertical reverse event" [ngClass]="{'flipped': selected != -1, 'disabled': disabled}"
        [style.fontSize]="container.offsetWidth * 0.072 + 'px'">
        <div class="card-back" [ngClass]="event ? event.type : ''">
            <ng-container *ngIf="!!event">
                <div class="text">
                    <p class="placeholder" [ghs-label]="event.narrative"></p>
                </div>
                <div class="options">
                    <ng-container *ngFor="let option of event.options; let i = index;">
                        <div *ngIf="option.narrative" class="option" (click)="selectOption(i)">
                            <span class="title" [ghs-label]="'game.events.option'"
                                [ghs-label-args]="['game.events.option.' + (i+1)]"></span>
                            <span class="choice" [ghs-label]="option.narrative"></span>
                        </div>
                    </ng-container>
                </div>
                <div class="card-id">
                    <span *ngIf="+event.cardId < 10">0</span>{{+event.cardId}}
                </div>
            </ng-container>
        </div>
        <div class="card-front" [ngClass]="event ? event.type : ''">
            <ng-container *ngIf="!!event">
                <div class="options">
                    <div class="option" *ngFor="let option of event.options; let i = index;"
                        [ngClass]="{'selected' : selected == i}" (click)="selected != i && selectOption(i)">
                        <div class="outcome" *ngFor="let outcome of option.outcomes;  let outcomeIndex = index;">
                            <span *ngIf="outcome.condition" class="condition"><span
                                    [ghs-label]="outcome.condition"></span>:&nbsp;</span>
                            <span *ngIf="outcome.narrative" class="text" [ghs-label]="outcome.narrative"></span>

                            <div class="effects">
                                <span *ngFor="let effect of outcome.effects;" class="effect"
                                    [ghs-label]="effect"></span>
                            </div>

                            <div class="card-action">
                                <img *ngIf="outcome.returnToDeck" class="ghs-svg"
                                    src="./assets/images/eventcards/return.svg">
                                <img *ngIf="outcome.removeFromDeck" class="ghs-svg"
                                    src="./assets/images/eventcards/remove.svg">
                            </div>
                        </div>

                        <div class="card-action">
                            <img *ngIf="option.returnToDeck" class="ghs-svg"
                                src="./assets/images/eventcards/return.svg">
                            <img *ngIf="option.removeFromDeck" class="ghs-svg"
                                src="./assets/images/eventcards/remove.svg">
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</div>